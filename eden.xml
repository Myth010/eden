<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE MudletPackage>
<MudletPackage version="1.0">
    <TriggerPackage>
        <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
            <name>Eden</name>
            <script></script>
            <triggerType>0</triggerType>
            <conditonLineDelta>0</conditonLineDelta>
            <mStayOpen>0</mStayOpen>
            <mCommand></mCommand>
            <packageName></packageName>
            <mFgColor>#ff0000</mFgColor>
            <mBgColor>#ffff00</mBgColor>
            <mSoundFile></mSoundFile>
            <colorTriggerFgColor>#000000</colorTriggerFgColor>
            <colorTriggerBgColor>#000000</colorTriggerBgColor>
            <regexCodeList/>
            <regexCodePropertyList/>
            <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                <name>Balances</name>
                <script></script>
                <triggerType>0</triggerType>
                <conditonLineDelta>0</conditonLineDelta>
                <mStayOpen>0</mStayOpen>
                <mCommand></mCommand>
                <packageName></packageName>
                <mFgColor>#ff0000</mFgColor>
                <mBgColor>#ffff00</mBgColor>
                <mSoundFile></mSoundFile>
                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                <regexCodeList/>
                <regexCodePropertyList/>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>deleteLines</name>
                    <script>deleteLine()</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>Your mind feels rejuvenated.</string>
                        <string>The elixir heals your body.</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>3</integer>
                        <integer>3</integer>
                    </regexCodePropertyList>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>clot-</name>
                    <script>dr.clot.bal = false
dr.clot.time = os.time()
if target == me then
	trax.process_toxin(&quot;&quot;,&quot;&quot;)
end

</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>You exert superior mental control and will your wounds to clot before your eyes.</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>3</integer>
                    </regexCodePropertyList>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>clot+</name>
                    <script>dr.clot.bal = true
dr.clot.time = 0</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>You are again able to clot your wounds properly.</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>3</integer>
                    </regexCodePropertyList>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>focus-</name>
                    <script>dr.focus.bal = false
dr.focus.time = os.time()

set(me,&quot;focus&quot;,false)
set(me,&quot;focus_time&quot;,os.time())

if target == me then
	trax.process_toxin(&quot;&quot;,&quot;&quot;)
end</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>You focus your mind intently on curing your mental maladies.</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>3</integer>
                    </regexCodePropertyList>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>focus+</name>
                    <script>dr.focus.bal = true
dr.focus.time = 0

set(me,&quot;focus&quot;,true)
set(me,&quot;focus_time&quot;,0)</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>Your mind is able to focus once again.</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>3</integer>
                    </regexCodePropertyList>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>herb-</name>
                    <script>local short = &quot;&quot;

if matches[2] == &quot;maidenhair leaf&quot; then short = &quot;maidenhair&quot; end
if matches[2] == &quot;mandrake root&quot; then short = &quot;mandrake&quot; end
if matches[2] == &quot;piece of kelp&quot; then short = &quot;kelp&quot; end
if matches[2] == &quot;galingale flower&quot; then short = &quot;galingale&quot; end
if matches[2] == &quot;nightshade root&quot; then short = &quot;nightshade&quot; end
if matches[2] == &quot;wormwood root&quot; then short = &quot;wormwood&quot; end
if matches[2] == &quot;orphine seed&quot; then short = &quot;orphine&quot; end
if matches[2] == &quot;quince fruit&quot; then short = &quot;quince&quot; end
if matches[2] == &quot;primrose stalk&quot; then short = &quot;primrose&quot; end
if matches[2] == &quot;juniper berry&quot; then short = &quot;juniper&quot; end
if matches[2] == &quot;hyssop stem&quot; then short = &quot;hyssop&quot; end
if matches[2] == &quot;violet root&quot; then short = &quot;violet&quot; end

if short ~= &quot;&quot; then
	dr.herb.bal = false
	dr.herb.time = os.time()

	set(me,&quot;herb&quot;,false)
	set(me,&quot;herb_time&quot;,os.time())

	if target == me then
		trax.process_toxin(&quot;&quot;,&quot;&quot;)
	end
end

if matches[2] == &quot;toadstool&quot; then short = &quot;toadstool&quot; end
if matches[2] == &quot;linseed&quot; then short = &quot;linseed&quot; end
if matches[2] == &quot;plump blueberry&quot; then short = &quot;blueberry&quot; end
sub(&quot;Ate &lt;blue_violet&gt;&quot;..short..&quot;&lt;dim_grey&gt;.&quot;)</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>^You quickly eat (?:an|a|some) (.*)\.</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>1</integer>
                    </regexCodePropertyList>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>herb+</name>
                    <script>dr.herb.bal = true
dr.herb.time = 0

set(me,&quot;herb&quot;,true)
set(me,&quot;herb_time&quot;,0)</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>You may eat another herb or plant.</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>3</integer>
                    </regexCodePropertyList>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>purge-</name>
                    <script>dr.purge.bal = false
dr.purge.time = os.time()

set(me,&quot;purge&quot;,false)
set(me,&quot;purge_time&quot;,os.time())

if target == me then
	trax.process_toxin(&quot;&quot;,&quot;&quot;)
end</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>You concentrate on purging your body of foreign toxins.</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>3</integer>
                    </regexCodePropertyList>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>purge+</name>
                    <script>dr.purge.bal = true
dr.purge.time = 0

set(me,&quot;purge&quot;,true)
set(me,&quot;purge_time&quot;,0)</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>You have regained the ability to purge your body.</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>3</integer>
                    </regexCodePropertyList>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>salve-</name>
                    <script>dr.salve.bal = false
dr.salve.time = os.time()

if target == me then
	trax.process_toxin(&quot;&quot;,&quot;&quot;)
end</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>^You quickly rub some (\w+) salve on your (skin|arms|legs)\.$</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>1</integer>
                    </regexCodePropertyList>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>salve+</name>
                    <script>dr.salve.bal = true
dr.salve.time = 0</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>You may apply another salve.</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>3</integer>
                    </regexCodePropertyList>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>sip-</name>
                    <script>if matches[2] == &quot;health&quot; or matches[2] == &quot;mana&quot; then
	dr.sip.bal = false
	dr.sip.time = os.time()
end

sub(&quot;You sip &lt;grey&gt;&quot;..matches[2]..&quot;&lt;stop&gt;.&quot;)</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>^You take a drink of an elixir of (\w+) from .*</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>1</integer>
                    </regexCodePropertyList>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>sip+</name>
                    <script>dr.sip.bal = true
dr.sip.time = 0
if dr.sip.timer and not dr.sip.timer == &quot;&quot; then killTimer(dr.sip.timer) end</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>You may drink another healing elixir.</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>3</integer>
                    </regexCodePropertyList>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>smoke-</name>
                    <script>dr.smoke.bal = false
dr.smoke.time = os.time()

set(me,&quot;smoke&quot;,false)
set(me,&quot;smoke_time&quot;,os.time())

if short == &quot;laurel&quot; then set(me,&quot;smoke_delay&quot;,2) end
if short == &quot;linseed&quot; then set(me,&quot;smoke_delay&quot;,4) end
if short == &quot;lovage&quot; then set(me,&quot;smoke_delay&quot;,1) end

if target == me then
	trax.process_toxin(&quot;&quot;,&quot;&quot;)
end

if short == &quot;laurel&quot; then short = &quot;&lt;coral&gt;laurel&lt;grey&gt;&quot; end
if short == &quot;linseed&quot; then short = &quot;&lt;gold&gt;linseed&lt;grey&gt;&quot; end
if short == &quot;lovage&quot; then short = &quot;&lt;dark_turquoise&gt;lovage&lt;grey&gt;&quot; end
sub(&quot;Smoked &quot;..short..&quot;.&quot;)</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>^You take a long drag off your pipe, filling your lungs with (\w+) smoke\.$</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>1</integer>
                    </regexCodePropertyList>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>smoke+</name>
                    <script>dr.smoke.bal = true
dr.smoke.time = 0

set(me,&quot;smoke&quot;,true)
set(me,&quot;smoke_time&quot;,0)</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>You have recovered your breath and can smoke once more.</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>3</integer>
                    </regexCodePropertyList>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>toadstool-</name>
                    <script>dr.toadstool.bal = false
dr.toadstool.time = os.time()</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>You quickly eat a toadstool.</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>3</integer>
                    </regexCodePropertyList>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>toadstool+</name>
                    <script>dr.toadstool.bal = true
dr.toadstool.time = 0</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>You may eat another toadstool.</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>3</integer>
                    </regexCodePropertyList>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>tree-</name>
                    <script>dr.tree.bal = false
dr.tree.time = os.time()

set(me,&quot;tree&quot;,false)
set(me,&quot;tree_time&quot;,os.time())

if target == me then
	trax.process_toxin(&quot;&quot;,&quot;&quot;)
end</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>You touch the tree of life tattoo.</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>3</integer>
                    </regexCodePropertyList>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>tree+</name>
                    <script>dr.tree.bal = true
dr.tree.time = 0

set(me,&quot;tree&quot;,true)
set(me,&quot;tree_time&quot;,0)</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>Your tree tattoo can be used again.</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>3</integer>
                    </regexCodePropertyList>
                </Trigger>
            </TriggerGroup>
            <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                <name>Trax</name>
                <script></script>
                <triggerType>0</triggerType>
                <conditonLineDelta>0</conditonLineDelta>
                <mStayOpen>0</mStayOpen>
                <mCommand></mCommand>
                <packageName></packageName>
                <mFgColor>#ff0000</mFgColor>
                <mBgColor>#ffff00</mBgColor>
                <mSoundFile></mSoundFile>
                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                <regexCodeList/>
                <regexCodePropertyList/>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>bleed-</name>
                    <script>bleed = 0</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>You do not bleed my friend.</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>3</integer>
                    </regexCodePropertyList>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>prompt</name>
                    <script>if trax.pending ~= &quot;&quot; then 
	trax.cure(trax.pending_name,trax.pending) 
end
trax.pending = &quot;&quot;
trax.pending_name = &quot;&quot;</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>return isPrompt()</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>4</integer>
                    </regexCodePropertyList>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>herb</name>
                    <script>trax.process_toxin(&quot;&quot;,&quot;&quot;)

local short = &quot;&quot;
if matches[3] == &quot;maidenhair leaf&quot; then short = &quot;maidenhair&quot; end
if matches[3] == &quot;mandrake root&quot; then short = &quot;mandrake&quot; end
if matches[3] == &quot;piece of kelp&quot; then short = &quot;kelp&quot; end
if matches[3] == &quot;galingale flower&quot; then short = &quot;galingale&quot; end
if matches[3] == &quot;nightshade root&quot; then short = &quot;nightshade&quot; end
if matches[3] == &quot;wormwood root&quot; then short = &quot;wormwood&quot; end
if matches[3] == &quot;orphine seed&quot; then short = &quot;orphine&quot; end
if matches[3] == &quot;quince fruit&quot; then short = &quot;quince&quot; end
if matches[3] == &quot;primrose stalk&quot; then short = &quot;primrose&quot; end
if matches[3] == &quot;juniper berry&quot; then short = &quot;juniper&quot; end
if matches[3] == &quot;hyssop stem&quot; then short = &quot;hyssop&quot; end
if matches[3] == &quot;violet root&quot; then short = &quot;violet&quot; end
if matches[3] == &quot;toadstool&quot; then short = &quot;toadstool&quot; end
if matches[4] == &quot;linseed&quot; then short = &quot;linseed&quot; end

if short ~= &quot;&quot; then
	sub(matches[2]..&quot; ate &lt;blue_violet&gt;&quot;..short..&quot;.&quot;)
else
	sub(matches[2]..&quot; ate &lt;blue_violet&gt;&quot;..matches[3]..&quot;.&quot;)
end

set(matches[2],&quot;herb&quot;,false)
set(matches[2],&quot;herb_time&quot;,os.time())

if trax.pending ~= &quot;&quot; then 
	trax.cure(trax.pending_name,trax.pending) 
end

if has(matches[2],&quot;shadowplant_state&quot;) == 2 and has(matches[2],&quot;shadowplant&quot;) == short then
	mecho(&quot;Shadowplant &lt;orange_red&gt;&quot;..short..&quot;!&quot;)
	set( target, &quot;shadowplant&quot;, &quot;&quot; )
	set( target, &quot;shadowplant_state&quot;, 0 )
	if shadowplant_timer then killTimer(shadowplant_timer) end
	if shadowplant_timer2 then killTimer(shadowplant_timer2) end
else
	trax.pending = short
	trax.pending_name = matches[2]
end

local p = has(matches[2],&quot;anorexia&quot;)
if config and config.trax == 2 then
	if p &gt; 0.35 then 
		p = true 
	else 
		p = false 
	end
end
	
if p then 
	trax.take(matches[2],&quot;anorexia&quot;) 
end</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>^(\w+) quickly eats (?:a|an|some) (.*)\.$</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>1</integer>
                    </regexCodePropertyList>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>smoke</name>
                    <script>trax.process_toxin(&quot;&quot;,&quot;&quot;)

local short = &quot;&quot;

if matches[3] == &quot;thick, musty smoke&quot; then short = &quot;laurel&quot; end
if matches[3] == &quot;thick, white haze&quot; then short = &quot;linseed&quot; end
if matches[3] == &quot;light, bluish mist&quot; then short = &quot;lovage&quot; end

set(matches[2],&quot;smoke&quot;,false)
set(matches[2],&quot;smoke_time&quot;,os.time())
if short == &quot;laurel&quot; then set(matches[2],&quot;smoke_delay&quot;,2) end
if short == &quot;linseed&quot; then set(matches[2],&quot;smoke_delay&quot;,4) end
if short == &quot;lovage&quot; then set(matches[2],&quot;smoke_delay&quot;,1) end

if trax.pending ~= &quot;&quot; then 
	trax.cure(trax.pending_name,trax.pending) 
end
trax.pending = short
trax.pending_name = matches[2]

local p = has(matches[2],&quot;asthma&quot;)
if config and config.trax == 2 then
	if p &gt; 0.35 then 
		p = true 
	else 
		p = false 
	end
end
	
if p then 
	trax.take(matches[2],&quot;asthma&quot;) 
end

if short == &quot;laurel&quot; then short = &quot;&lt;coral&gt;laurel&lt;grey&gt;&quot; end
if short == &quot;linseed&quot; then short = &quot;&lt;gold&gt;linseed&lt;grey&gt;&quot; end
if short == &quot;lovage&quot; then short = &quot;&lt;dark_turquoise&gt;lovage&lt;grey&gt;&quot; end
sub(matches[2]..&quot; smoked &quot;..short..&quot;.&quot;)</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>^(\w+) takes a long drag off (?:his|her)* pipe, exhaling a (.+)\.$</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>1</integer>
                    </regexCodePropertyList>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>tree</name>
                    <script>trax.process_toxin(&quot;&quot;,&quot;&quot;)

set(matches[2],&quot;tree&quot;,false)
set(matches[2],&quot;tree_time&quot;,os.time())

if trax.pending ~= &quot;&quot; then 
	trax.cure(trax.pending_name,trax.pending) 
end
trax.pending = &quot;tree&quot;
trax.pending_name = matches[2]

local p = has(matches[2],&quot;numbness&quot;)
if config and config.trax == 2 then
	if p &gt; 0.35 then 
		p = true 
	else 
		p = false 
	end
end
	
if p then 
	trax.take(matches[2],&quot;numbness&quot;) 
end

p = has(matches[2],&quot;paralysis&quot;)
if config and config.trax == 2 then
	if p &gt; 0.35 then 
		p = true 
	else 
		p = false 
	end
end
	
if p then 
	trax.take(matches[2],&quot;paralysis&quot;) 
end</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>^(\w+) touches a tree of life tattoo\.$</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>1</integer>
                    </regexCodePropertyList>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>purge</name>
                    <script>trax.process_toxin(&quot;&quot;,&quot;&quot;)

set(matches[2],&quot;purge&quot;,false)
set(matches[2],&quot;purge_time&quot;,os.time())

if trax.pending ~= &quot;&quot; then 
	trax.cure(trax.pending_name,trax.pending) 
end
trax.pending = &quot;purge&quot;
trax.pending_name = matches[2]

local p = has(matches[2],&quot;hemotoxin&quot;)
if config and config.trax == 2 then
	if p &gt; 0.35 then 
		p = true 
	else 
		p = false 
	end
end
	
if p then 
	trax.take(matches[2],&quot;hemotoxin&quot;) 
end</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>^(\w+) concentrates on purging toxins from (?:his|her) body\.$</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>1</integer>
                    </regexCodePropertyList>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>focus</name>
                    <script>trax.process_toxin(&quot;&quot;,&quot;&quot;)

set(matches[2],&quot;focus&quot;,false)
set(matches[2],&quot;focus_time&quot;,os.time())

if trax.pending ~= &quot;&quot; then 
	trax.cure(trax.pending_name,trax.pending) 
end
trax.pending = &quot;focus&quot;
trax.pending_name = matches[2]

local p = has(matches[2],&quot;impatience&quot;)
if config and config.trax == 2 then
	if p &gt; 0.35 then 
		p = true 
	else 
		p = false 
	end
end
	
if p then 
	trax.take(matches[2],&quot;impatience&quot;) 
end</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>^A look of extreme focus crosses the face of (\w+)\.$</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>1</integer>
                    </regexCodePropertyList>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>class healing - bard</name>
                    <script>trax.process_toxin(&quot;&quot;,&quot;&quot;)

if trax.pending ~= &quot;&quot; then 
	trax.cure(trax.pending_name,trax.pending) 
end
trax.pending = &quot;all&quot;
trax.pending_name = matches[2]
sub(&quot;&lt;navajo_white&gt;Class Healing :[&quot;..matches[2]..&quot;] (Therapeutics)&quot;)</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>^The musical healing energy of the Song of Therapeutics draws an affliction from (\w+)'s body\.$</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>1</integer>
                    </regexCodePropertyList>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>class healing - bliss</name>
                    <script>trax.process_toxin(&quot;&quot;,&quot;&quot;)

if trax.pending ~= &quot;&quot; then 
	trax.cure(trax.pending_name,trax.pending) 
end
trax.pending = &quot;all&quot;
trax.pending_name = matches[2]
sub(&quot;&lt;navajo_white&gt;Class Healing :[&quot;..matches[2]..&quot;] (Bliss)&quot;)</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>^(\w+) looks healthier and cleansed\.</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>1</integer>
                    </regexCodePropertyList>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>class healing - defiler</name>
                    <script>trax.process_toxin(&quot;&quot;,&quot;&quot;)

if trax.pending ~= &quot;&quot; then 
	trax.cure(trax.pending_name,trax.pending) 
end
trax.pending = &quot;all&quot;
trax.pending_name = matches[2]
sub(&quot;&lt;navajo_white&gt;Class Healing :[&quot;..matches[2]..&quot;] (Antibodies)&quot;)</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>^Shadows whirl around (\w+), curing (?:his|her) maladies\.$</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>1</integer>
                    </regexCodePropertyList>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>class healing - diabolist</name>
                    <script>trax.process_toxin(&quot;&quot;,&quot;&quot;)

if trax.pending ~= &quot;&quot; then 
	trax.cure(trax.pending_name,trax.pending) 
end
trax.pending = &quot;all&quot;
trax.pending_name = matches[2]
sub(&quot;&lt;navajo_white&gt;Class Healing :[&quot;..matches[2]..&quot;] (Syphon)&quot;)</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>^(\w+)'s Ouroboros envelops (?:him|her) in a red glow\.$</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>1</integer>
                    </regexCodePropertyList>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>class healing - druid</name>
                    <script>trax.process_toxin(&quot;&quot;,&quot;&quot;)

if trax.pending ~= &quot;&quot; then 
	trax.cure(trax.pending_name,trax.pending) 
end
trax.pending = &quot;all&quot;
trax.pending_name = matches[2]
sub(&quot;&lt;navajo_white&gt;Class Healing :[&quot;..matches[2]..&quot;] (Might)&quot;)</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>^(\w+) lets out a mighty roar.</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>1</integer>
                    </regexCodePropertyList>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>class healing - kanai push</name>
                    <script>trax.process_toxin(&quot;&quot;,&quot;&quot;)

if trax.pending ~= &quot;&quot; then 
	trax.cure(trax.pending_name,trax.pending) 
end
trax.pending = &quot;all&quot;
trax.pending_name = matches[2]
sub(&quot;&lt;navajo_white&gt;Class Healing :[&quot;..matches[2]..&quot;] (Kanai Push)&quot;)</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>^(\w+) focuses on curing (?:his|her) maladies, inflicting them upon you\.</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>1</integer>
                    </regexCodePropertyList>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>class healing - mage</name>
                    <script>trax.process_toxin(&quot;&quot;,&quot;&quot;)

if trax.pending ~= &quot;&quot; then 
	trax.cure(trax.pending_name,trax.pending) 
end
trax.pending = &quot;all&quot;
trax.pending_name = matches[2]
sub(&quot;&lt;navajo_white&gt;Class Healing :[&quot;..matches[2]..&quot;] (Spray)&quot;)</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>^(\w+) calls upon the purifying waters to ease up (?:his|her) maladies\.</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>1</integer>
                    </regexCodePropertyList>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>class healing - priest/templar (rite of healing)</name>
                    <script>trax.process_toxin(&quot;&quot;,&quot;&quot;)

if trax.pending ~= &quot;&quot; then 
	trax.cure(trax.pending_name,trax.pending) 
end
trax.pending = &quot;all&quot;
trax.pending_name = matches[2]
sub(&quot;&lt;navajo_white&gt;Class Healing :[&quot;..matches[2]..&quot;] (Rite of Healing)&quot;)</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>^A soothing light envelops (\w+) momentarily\.$</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>1</integer>
                    </regexCodePropertyList>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>class healing - summoner</name>
                    <script>trax.process_toxin(&quot;&quot;,&quot;&quot;)

if trax.pending ~= &quot;&quot; then 
	trax.cure(trax.pending_name,trax.pending) 
end
trax.pending = &quot;all&quot;
trax.pending_name = matches[2]
sub(&quot;&lt;navajo_white&gt;Class Healing :[&quot;..matches[2]..&quot;] (Cadmus)&quot;)</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>^(\w+) focuses on (?:his|her) link with Cadmus, the cursed shaman\.$</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>1</integer>
                    </regexCodePropertyList>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>class healing - seraph care </name>
                    <script>trax.process_toxin(&quot;&quot;,&quot;&quot;)

if trax.pending ~= &quot;&quot; then 
	trax.cure(trax.pending_name,trax.pending) 
end
trax.pending = &quot;all&quot;
trax.pending_name = matches[2]
sub(&quot;&lt;navajo_white&gt;Class Healing :[&quot;..matches[2]..&quot;] (Seraph Care)&quot;)</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>^The spiritual power of a seraph touches (\w+) momentarily.</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>1</integer>
                    </regexCodePropertyList>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>rage+</name>
                    <script>if trax.pending ~= &quot;&quot; then 
	trax.cure(trax.pending_name,trax.pending) 
end
trax.pending = &quot;galingale&quot;
trax.pending_name = matches[2]</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>^(\w+)'s eyes flash with rage\.</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>1</integer>
                    </regexCodePropertyList>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>restore+</name>
                    <script>cecho(&quot;\nRESTORE RESTORE RESTORE&quot;)
cecho(&quot;\nRESTORE RESTORE RESTORE&quot;)
cecho(&quot;\nRESTORE RESTORE RESTORE&quot;)</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>^(\w+) crackles with blue energy that wreathes itself about (?:his|her) limbs.</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>1</integer>
                    </regexCodePropertyList>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>salve - head</name>
                    <script>if trax.pending ~= &quot;&quot; then 
	trax.cure(trax.pending_name,trax.pending) 
end
trax.pending = &quot;head&quot;
trax.pending_name = matches[2]</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>^(\w+) rubs some salve on (?:his|her) head\.$</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>1</integer>
                    </regexCodePropertyList>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>salve - arms</name>
                    <script>if trax.pending ~= &quot;&quot; then 
	trax.cure(trax.pending_name,trax.pending) 
end
trax.pending = &quot;arms&quot;
trax.pending_name = matches[2]</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>^(\w+) rubs some salve on (?:his|her) arms\.$</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>1</integer>
                    </regexCodePropertyList>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>salve - skin</name>
                    <script>if trax.pending ~= &quot;&quot; then 
	trax.cure(trax.pending_name,trax.pending) 
end
trax.pending = &quot;skin&quot;
trax.pending_name = matches[2]</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>^(\w+) rubs some salve on (?:his|her) skin\.$</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>1</integer>
                    </regexCodePropertyList>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>salve - legs</name>
                    <script>if trax.pending ~= &quot;&quot; then 
	trax.cure(trax.pending_name,trax.pending) 
end
trax.pending = &quot;legs&quot;
trax.pending_name = matches[2]</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>^(\w+) rubs some salve on (?:his|her) legs\.$</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>1</integer>
                    </regexCodePropertyList>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="yes" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>sleep+</name>
                    <script>trax.give(matches[2],&quot;prone&quot;)
sub(matches[2]..&quot; asleep.&quot;)</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#f625ff</mFgColor>
                    <mBgColor>#000000</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>^(\w+)'s eyes close suddenly as (?:he|she) falls asleep\.</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>1</integer>
                    </regexCodePropertyList>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>sip</name>
                    <script>sub(matches[2]..&quot; sipped.&quot;)</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>^(\w+) empties out .* into (?:his|her) mouth\.</string>
                        <string>^(\w+) takes a drink from .*\.</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>1</integer>
                        <integer>1</integer>
                    </regexCodePropertyList>
                </Trigger>
                <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>3rd Party</name>
                    <script></script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList/>
                    <regexCodePropertyList/>
                    <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>Galingale</name>
                        <script></script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList/>
                        <regexCodePropertyList/>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>justice+</name>
                            <script>trax.give(matches[2],&quot;justice&quot;)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>^Justice is dealt out and (\w+)'s attack rebounds onto (?:him|her)\.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>peace-</name>
                            <script>trax.take(matches[2],&quot;peace&quot;)
if has(matches[2],&quot;peace_time&quot;) == 0 then
	set(matches[2],&quot;peace_time&quot;,os.time())
end</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>^(\w+) glares angrily, driving off the pacifying attempt\.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                    </TriggerGroup>
                    <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>Laurel</name>
                        <script></script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList/>
                        <regexCodePropertyList/>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>madness+</name>
                            <script>trax.give(matches[3],&quot;madness&quot;)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>^(\w+) passes (?:his|her) hand in front of (\w+)\. (\w+) trembles and (?:his|her) eyes widen in terror\.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>madness+</name>
                            <script>trax.give(matches[2],&quot;madness&quot;)
sub(matches[2]..&quot; &lt;green&gt;madness tick.&quot;)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>^(\w+) trembles and eyes widen in terror\. (?:He|She) looks around (?:himself|herself) as if searching for something that isn't there\.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>epilepsy</name>
                            <script>trax.give(matches[2],&quot;epilepsy&quot;)
sub(matches[2]..&quot; &lt;green&gt;epilepsy.&quot;)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>^(\w+) twitches imperceptibly\.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                    </TriggerGroup>
                    <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>Mandrake</name>
                        <script></script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList/>
                        <regexCodePropertyList/>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>deadening+</name>
                            <script>trax.give(matches[2],&quot;deadening&quot;)
sub(matches[2]..&quot; &lt;green&gt;deadening.&quot;)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>^(\w+) makes an oddly stuttered sound\.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                    </TriggerGroup>
                    <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>Nightshade</name>
                        <script></script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList/>
                        <regexCodePropertyList/>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>sunallergy+</name>
                            <script>trax.give(matches[2],&quot;sunallergy&quot;)
sub(matches[2]..&quot; &lt;green&gt;sunallergy tick.&quot;)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>^(\w+) screams in agony, skin steaming in the sunlight\.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>recurring freezing+</name>
                            <script>trax.give(matches[2],&quot;recurring freezing&quot;)
sub(matches[2]..&quot; &lt;light_sky_blue&gt;recurring freezing &lt;green&gt;tick.&quot;)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>^(\w+)'s legs buck and (?:his|her) knees clap together as (?:his|her) body suffers the effects of crushing cold\.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                    </TriggerGroup>
                    <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>Orphine</name>
                        <script></script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList/>
                        <regexCodePropertyList/>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>masochism+</name>
                            <script>trax.give(matches[2],&quot;masochism&quot;)
sub(matches[2]..&quot; &lt;green&gt;masochism tick.&quot;)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>^(\w+) smiles as (?:he|she) rams (?:his|her) fist into (?:his|her) jaw\.</string>
                                <string>^(\w+) uses (?:his|her) (?:right|left) foot to stomp on (?:his|her) (?:right|left) as hard as possible\.</string>
                                <string>^With the heel of (?:his|her) palm, (\w+) smacks (?:himself|herself) upside the head\.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>1</integer>
                                <integer>1</integer>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                    </TriggerGroup>
                    <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>Wormwood</name>
                        <script></script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList/>
                        <regexCodePropertyList/>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>hallucinations+</name>
                            <script>trax.give(matches[2],&quot;hallucinations&quot;)
sub(matches[2]..&quot; &lt;green&gt;hallucinations tick.&quot;)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>^(\w+) leaps up in what is apparently an attempt at a graceful swan dive. She flies into the air and smacks headfirst into the ground\.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>hallucinations+</name>
                            <script>trax.give(matches[2],&quot;hallucinations&quot;)
sub(matches[2]..&quot; &lt;green&gt;hallucinations.&quot;)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>^(\w+) squints strangely at you\.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>shred+</name>
                            <script>trax.give(matches[3],&quot;addiction&quot;)
sub(matches[3]..&quot; &lt;green&gt;addiction [defiler 3rd party].&quot;)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>^At (\w+)'s command, .*treant.* shreds (\w+)'s skin with its branches, thorns cutting painfully into (?:his|her) flesh\.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                    </TriggerGroup>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>paralysis &lt;- numbness</name>
                        <script>trax.give(matches[2],&quot;paralysis&quot;)
trax.take(matches[2],&quot;numbness&quot;)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>^(\w+)'s muscles lock up in paralysis\.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>fitness</name>
                        <script>trax.take(matches[2],&quot;asthma&quot;)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>^(\w+) inhales deeply, then slowly exhales\.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>Kelp</name>
                        <script></script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList/>
                        <regexCodePropertyList/>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>clumsiness+</name>
                            <script>trax.give(matches[2],&quot;clumsiness&quot;)
sub(matches[2]..&quot; &lt;green&gt;clumsiness [miss].&quot;)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>^(\w+) lurches forward, but misses you with .*\.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>clumsiness+ [other]</name>
                            <script>trax.give(matches[2],&quot;clumsiness&quot;)
sub(matches[2]..&quot; &lt;green&gt;clumsiness [miss]&lt;stop&gt; &quot;..matches[3]..&quot;.&quot;)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>^(\w+) lunges forward and misses (\w+) with .*\.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                    </TriggerGroup>
                    <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>Mending</name>
                        <script></script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList/>
                        <regexCodePropertyList/>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>gravehands cripple</name>
                            <script>trax.give(matches[2],&quot;crippled &quot;..matches[3])</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>^Rotting arms claw at (\w+) from the ground, shrivelling (?:his|her) (.*) beneath (?:him|her)\.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                    </TriggerGroup>
                </TriggerGroup>
                <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>Limbs</name>
                    <script></script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList/>
                    <regexCodePropertyList/>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>1/3</name>
                        <script>sub(&quot;&lt;green&gt;[ &lt;gold&gt;&quot;..string.upper(matches[3])..&quot; 33% &lt;green&gt;]&quot; )</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>^(\w+)'s (.*) trembles slightly under the blow\.$</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>2/3</name>
                        <script>local str = &quot;&quot;
local short = matches[3]
short = short:gsub(&quot; &quot;, &quot;_&quot;)
sub(&quot;&lt;green&gt;[ &lt;gold&gt;&quot;..string.upper(matches[3])..&quot; 66% &lt;green&gt;] &lt;cyan&gt;0&lt;gold&gt; hits to break!&quot; )</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>^You notice several bruises forming on (\w+)'s (.*)\.$</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>target nothing</name>
                        <script>limb.target = &quot;nothing&quot;</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>You will now aim your attacks wherever you see openings.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>target limb</name>
                        <script>limb.target = matches[2]</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>^You will now target the (.*) of your opponent\.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>parry nothing</name>
                        <script>limb.parry = &quot;nothing&quot;</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>You cease your attempts at parrying.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>parry limb</name>
                        <script>limb.parry = matches[2]</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>^You will now attempt to parry attacks to your (.*)\.$</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>[me]</name>
                        <script></script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList/>
                        <regexCodePropertyList/>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>1/3</name>
                            <script>sub(&quot;&lt;gold&gt;[-[ &lt;chartreuse&gt;&quot;..string.title(matches[2])..&quot; 33% &lt;gold&gt;]-]&quot; )</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>^Your (.*) trembles slightly under the blow\.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>2/3</name>
                            <script>sub(&quot;&lt;gold&gt;[-[ &lt;chartreuse&gt;&quot;..string.title(matches[2])..&quot; 66% &lt;gold&gt;]-]&quot; )</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>^Painful bruises are forming on your (.*)\.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="yes" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>damaged</name>
                            <script></script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#eb43ff</mFgColor>
                            <mBgColor>#000000</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>^Your .* is greatly damaged from the beating\.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>successful parry</name>
                            <script>sub(&quot;&lt;red&gt;&quot;..matches[1])</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#000000</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>With a wry grin you parry the attack with a deft maneuver.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>3</integer>
                            </regexCodePropertyList>
                        </Trigger>
                    </TriggerGroup>
                </TriggerGroup>
                <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>[me]</name>
                    <script></script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList/>
                    <regexCodePropertyList/>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>juniper, deaf+</name>
                        <script>trax.take(&quot;undeaf&quot;)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>Silence engulfs you as your hearing fades.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>hyssop, blind+</name>
                        <script>trax.take(&quot;unblind&quot;)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>Your sight fades and you can see no more.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>generic+</name>
                        <script>if dba[matches[2]] then
	trax.give(me,matches[2])
end

sub( &quot;&lt;SlateGrey&gt;aff+ &lt;orange_red&gt;&quot;..matches[2]..&quot;&lt;SlateGrey&gt;.&quot; )</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>^You are afflicted with (.*)\.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>generic-</name>
                        <script>trax.take(me,matches[2])

sub( &quot;&lt;SaddleBrown&gt;aff- &lt;SlateGrey&gt;&quot;..matches[2]..&quot;&lt;SaddleBrown&gt;.&quot; )</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>^You have cured (.*)\.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>hidden aff+</name>
                        <script>local str = &quot;&quot;

str = str..&quot;smoke amnesia&quot;..sp
str = str..&quot;eat blueberry&quot;..sp

msend(str)
-- expandAlias(&quot;a1 mandrake&quot;)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>You are afflicted with an unknown affliction.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                        </regexCodePropertyList>
                    </Trigger>
                </TriggerGroup>
            </TriggerGroup>
            <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                <name>Essential</name>
                <script></script>
                <triggerType>0</triggerType>
                <conditonLineDelta>0</conditonLineDelta>
                <mStayOpen>0</mStayOpen>
                <mCommand></mCommand>
                <packageName></packageName>
                <mFgColor>#ff0000</mFgColor>
                <mBgColor>#ffff00</mBgColor>
                <mSoundFile></mSoundFile>
                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                <regexCodeList/>
                <regexCodePropertyList/>
                <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>Autocuring</name>
                    <script></script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList/>
                    <regexCodePropertyList/>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>autocuring+</name>
                        <script>ac.on = true</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>Autocuring activated.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>autocuring-</name>
                        <script>ac.on = false</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>Autocuring disabled.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>ac rebounding+</name>
                        <script>ac.rebounding = true</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>Automatic rebounding handling activated.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>ac rebounding-</name>
                        <script>ac.rebounding = false</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>Automatic rebounding handling disabled.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>ac mana</name>
                        <script>ac.p = &quot;mana&quot;</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>Autocuring will now prioritise mana over health.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>ac health</name>
                        <script>ac.p = &quot;health&quot;</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>Autocuring will now prioritise health over mana.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>reboot autocuring</name>
                        <script>if not ac.on then
	-- we don't rely on Expand Alias because: it may make the wrong assumption
	pause = false
	send(&quot;autocuring on&quot;)
	expandAlias(ac.prio)
end</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>Ahh, I am truly sorry, but I do not see anyone by that name here.</string>
                            <string>You detect nothing here by that name.</string>
                            <string>Nothing can be seen here by that name.</string>
                            <string>I do not recognize anything called that here</string>
                            <string>It would be folly to start a beheading on one so free to move about.</string>
                            <string>You cease the whirling of your weapon over your head.</string>
                            <string>You do not see that individual here.</string>
                            <string>You cease spurring your mount for a sunder.</string>
                            <string>You cease your submersion attempt.</string>
                            <string>^Seeing no likely target, you cease swinging (.*) about your head.</string>
                            <string>You don't see any such player in an adjacent location.</string>
                            <string>You cease your attempt to summon Marduk.</string>
                            <string>That Death card is not attuned to that player.</string>
                            <string>You cease your timewarp attempt.</string>
                            <string>You cease your attempts to control the monolith.</string>
                            <string>You end your concentration on carving out the heart of your hated foe.</string>
                            <string>You must be wielding a daegger to do that.</string>
                            <string>^You give your Ouroboros the order to bring an end to the life of (\w+), and though it tries, the stink of failure hangs heavy over its head\.$</string>
                            <string>Your concentration is ruined and the vision of Moradeim, Moon of Change leaves you.</string>
                            <string>Too many prying eyes prevent you from taking your hostage.</string>
                            <string>The Moon of Change suddenly appears in your vision, and you feel yourself being drawn towards the Lunar Plane.</string>
                            <string>You gaze around you, desire filling your eyes.</string>
                            <string>You stop focusing on the power of Moradeim.</string>
                            <string>Your target has left.</string>
                            <string>The crackling of energy reaches its peak, and as it subsides, you find yourself standing next to </string>
                            <string>Your attempted summoning of Marduk fails.</string>
                            <string>The ominous silence lifts as your concentration is broken.</string>
                            <string>A feeling of missed opportunity pervades you as you cease your attempts at beheading.</string>
                            <string>Your prismatic barrier dissolves into nothing.</string>
                            <string>You have successfully gained control of the monolith.</string>
                            <string>Your head breaks through water with a loud splash as you scramble from the ledge of the spring, gasping for air as you realize that you are within Underworld Caanae.</string>
                            <string>^You break through the ground and realize you are now standing .*, free from the soul-draining Underworld\.</string>
                            <string>You stop digging.</string>
                            <string>You have second thoughts and climb out of the spring, deciding not to drown yourself.</string>
                            <string>You are not in a graveyard where you can do that.</string>
                            <string>You aren't able to unleash the power of Marduk again so soon.</string>
                            <string>You can only do that in the Underworld.</string>
                            <string>The Moon of Life suddenly appears in your vision, and you feel yourself being drawn towards the Lunar Plane.</string>
                            <string>Your concentration is ruined and the vision of Aryana, Moon of Life leaves you.</string>
                            <string>You cease your attempt to annihilate your victim's mind.</string>
                            <string>You stop focusing on the Mark of Marduk.</string>
                            <string>You are unable to complete your transformation to the form of the black wind.</string>
                            <string>You strum your fingers impatiently.</string>
                            <string>You end your concentration on carving out the heart of your hated foe.</string>
                            <string>Now fully focused on the power source, you find yourself drawn irresistibly into the distance.</string>
                            <string>^You concentrate and are once again (.*)\.</string>
                            <string>Your target has moved out of the range of your sunder.</string>
                            <string>You can only travel to Caanae from a power node.</string>
                            <string>You stop capturing the node.</string>
                            <string>This node is already held by your circle.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                            <integer>3</integer>
                            <integer>3</integer>
                            <integer>0</integer>
                            <integer>3</integer>
                            <integer>3</integer>
                            <integer>3</integer>
                            <integer>3</integer>
                            <integer>3</integer>
                            <integer>1</integer>
                            <integer>3</integer>
                            <integer>3</integer>
                            <integer>3</integer>
                            <integer>3</integer>
                            <integer>3</integer>
                            <integer>3</integer>
                            <integer>3</integer>
                            <integer>1</integer>
                            <integer>3</integer>
                            <integer>3</integer>
                            <integer>3</integer>
                            <integer>3</integer>
                            <integer>3</integer>
                            <integer>3</integer>
                            <integer>0</integer>
                            <integer>3</integer>
                            <integer>3</integer>
                            <integer>3</integer>
                            <integer>3</integer>
                            <integer>3</integer>
                            <integer>3</integer>
                            <integer>1</integer>
                            <integer>3</integer>
                            <integer>3</integer>
                            <integer>3</integer>
                            <integer>3</integer>
                            <integer>3</integer>
                            <integer>3</integer>
                            <integer>3</integer>
                            <integer>3</integer>
                            <integer>3</integer>
                            <integer>3</integer>
                            <integer>3</integer>
                            <integer>3</integer>
                            <integer>3</integer>
                            <integer>1</integer>
                            <integer>3</integer>
                            <integer>3</integer>
                            <integer>3</integer>
                            <integer>3</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>reboot autocuring 2</name>
                        <script>if not ac.on then
	-- we don't rely on Expand Alias because: it may make the wrong assumption
	pause = false
	send(&quot;autocuring on&quot;)
	expandAlias(ac.prio)
end</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>You have successfully captured the node.</string>
                            <string>There is no obelisk node here to capture.</string>
                            <string>You cannot move while being choked by an animated root.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                            <integer>3</integer>
                            <integer>3</integer>
                        </regexCodePropertyList>
                    </Trigger>
                </TriggerGroup>
                <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>Autocuring Priorities</name>
                    <script></script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList/>
                    <regexCodePropertyList/>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="yes" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>sunallergy++</name>
                        <script>send(&quot;autocuring priority sunallergy 1&quot;)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff98f2</mFgColor>
                        <mBgColor>#000000</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>The sun has rendered you too weak to move a muscle.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="yes" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>sunallergy+</name>
                        <script>send(&quot;autocuring priority sunallergy 2&quot;)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#81c3ff</mFgColor>
                        <mBgColor>#000000</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>The fierce sun ripples across your skin like the fury of a firestorm.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                        </regexCodePropertyList>
                    </Trigger>
                </TriggerGroup>
                <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>Combat</name>
                    <script></script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList/>
                    <regexCodePropertyList/>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>anti-tumble</name>
                        <script>send(&quot;stop&quot;)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>^You feel irresistibly compelled to \&quot;tumble (.*)\&quot;</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>beckoned</name>
                        <script>report(&quot;I am beckoned out. #&quot;..gmcp.Room.Info.num)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>An irresistible call draws you into an adjacent room.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>brazier+</name>
                        <script>local str = &quot;&quot;

str = matches[2]..&quot; braziered to me, #&quot;..gmcp.Room.Info.num..&quot; (&quot;..gmcp.Room.Info.name..&quot;)&quot;..sp
str = str..str

report(str)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>^You wave your hand over the brazier tattoo and summon (\w+) to you\.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>braziered-</name>
                        <script>local str = &quot;&quot;

str = str..matches[2]..&quot; braziered away from me - #&quot;..gmcp.Room.Info.num..&quot; (&quot;..gmcp.Room.Info.name..&quot;)&quot;..sp
str = str..matches[2]..&quot; braziered away from me - #&quot;..gmcp.Room.Info.num..&quot; (&quot;..gmcp.Room.Info.name..&quot;)&quot;

report(str)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>^(\w+) is violently ripped from your location by a distant summoning\.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>clumsiness [me]</name>
                        <script>if matches[2] == &quot;yourself&quot; then matches[2] = me end

-- toxins
trax.pending_toxin_name = &quot;&quot;
trax.pending_toxin = &quot;&quot;

-- limbs
trax.pending_limb_name = &quot;&quot;
trax.pending_limb = &quot;&quot;

sub(&quot;&lt;red&gt;Missed &lt;stop&gt;&quot;..matches[2]..&quot;.&quot;)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>^You lunge towards (\w+) with .*, but miss\.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>combusted</name>
                        <script>report(matches[2]..&quot; combusted.&quot;)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>^You shield your eyes as (\w+) explodes in a ball of flame, leaving no trace of (?:his|her) remains\.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>curseward+</name>
                        <script>set(matches[2],&quot;curseward&quot;,true)
sub(matches[2]..&quot; has curseward.&quot;)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>^A shimmering curseward appears around (\w+)\.$</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>defend+</name>
                        <script>sub(matches[2]..&quot; defended &quot;..matches[3]..&quot;.&quot;)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>^(\w+) moves to the side of (?:his|her) ally, (\w+), ready to defend (?:him|her) against all foes\.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>dirt-trap</name>
                        <script>report(matches[2]..&quot; dirt trapped!&quot;)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>^(\w+) falls into the open pit, the loose earth falling in around (?:him|her)\.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>flooded room</name>
                        <script>if gm.room ~= gmcp.Room.Info.num then
	report(&quot;Flooded room.&quot;)
end</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>This area is unnaturally flooded with water.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>0</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>landsense</name>
                        <script>report(matches[2]..&quot; logged in.&quot;)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>^(\w+) has entered the realms\.$</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>mind travel+</name>
                        <script>if dbp.gcirc(me) ~= dbp.gcirc(matches[2]) then
	report(string.upper(matches[2])..&quot; mind travelled to me. Prepare to be BBT'd in the FACE. #&quot;..gmcp.Room.Info.num)
end</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>^(\w+) drifts into view, carried by some unseen force\.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>parry+</name>
                        <script>-- toxins
trax.pending_toxin_name = &quot;&quot;
trax.pending_toxin = &quot;&quot;

-- limbs
trax.pending_limb_name = &quot;&quot;
trax.pending_limb = &quot;&quot;

sub(&quot;&lt;red&gt;&quot;..matches[1])</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#000000</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>^(\w+) parries the attack with a deft maneuver\.$</string>
                            <string>^(\w+) parries the attack and deftly fires a thornroot at you, which quickly burrows into your flesh\.$</string>
                            <string>^(\w+) parries your attack with a deft movement of (.*), following through to hit you with a quick jab of the blunt end\.$</string>
                            <string>^(\w+) parries the blow with (?:his|her) shield\.$</string>
                            <string>^(\w+) steps into the attack, grabs your arm\.$</string>
                            <string>^(\w+) steps into the attack, grabs your arm, and throws you violently to the ground\.$</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>1</integer>
                            <integer>1</integer>
                            <integer>1</integer>
                            <integer>1</integer>
                            <integer>1</integer>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>physical-</name>
                        <script>for aff,val in pairs(dba) do
	if has(aff) and dba[aff].p_purge then
		trax.take(aff)
	end
end</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>You find your body already clear of harmful substance.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>prismatic+</name>
                        <script>set(matches[2],&quot;prismatic&quot;,true)
cecho(&quot;\n&lt;medium_spring_green&gt;Prismatic &lt;red&gt;UP&lt;medium_spring_green&gt; for &quot;..matches[2]..&quot;.&quot;)
cecho(&quot;\n&lt;medium_spring_green&gt;Prismatic &lt;red&gt;UP&lt;medium_spring_green&gt; for &quot;..matches[2]..&quot;.&quot;)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>^(\w+) strums a few notes on .*, and a prismatic barrier forms around (?:her|him)\.$</string>
                            <string>^(\w+) spins .+ into a quick blur, catching the light and settling it around \w+ in a protective barrier\.$</string>
                            <string>^(\w+) slowly draws a circle around (?:her|him)self, and a shimmering prismatic barrier slowly forms, creating a sturdy barrier around (?:her|him)\.$</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>1</integer>
                            <integer>1</integer>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>prismatic-</name>
                        <script>set(matches[2],&quot;prismatic&quot;,false)
cecho(&quot;\n&lt;medium_spring_green&gt;Prismatic down for &quot;..matches[2]..&quot;.&quot;)
cecho(&quot;\n&lt;medium_spring_green&gt;Prismatic down for &quot;..matches[2]..&quot;.&quot;)
</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>^(\w+)'s prismatic barrier dissolves into nothing\.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>rebounding+</name>
                        <script>set(matches[2],&quot;rebounding&quot;,true)
_rebounding(matches[2])</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>^You suddenly perceive the vague outline of an aura of rebounding around (\w+)\.$</string>
                            <string>^The attack rebounds off (\w+)'s rebounding aura\!$</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>1</integer>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>rebounding-</name>
                        <script>set(matches[3],&quot;rebounding&quot;,false)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>^(\w+) razes (\w+)'s aura of rebounding with .*\.</string>
                            <string>^You whip (.*) through the air in front of (\w+), to no effect\.</string>
                            <string>^(\w+) drives .* through (\w+)'s aura of rebounding, destroying it\.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>1</integer>
                            <integer>1</integer>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>rebounding-</name>
                        <script>set(matches[2],&quot;rebounding&quot;,false)

sub(matches[2]..&quot; rebounding down.&quot;)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>^(\w+)'s aura of weapons rebounding disappears\.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>rebounding- [me]</name>
                        <script>set(me,&quot;rebounding&quot;,false)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>Your aura of weapons rebounding disappears.</string>
                            <string>^You whip .* through the air in front of yourself, to no effect\.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>rebounding, hit</name>
                        <script>set(target,&quot;rebounding&quot;,true)
-- toxins
trax.pending_toxin_name = &quot;&quot;
trax.pending_toxin = &quot;&quot;

-- limbs
trax.pending_limb_name = &quot;&quot;
trax.pending_limb = &quot;&quot;</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>The attack rebounds back onto you!</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>rebounding sub</name>
                        <script>sub(matches[2]..&quot; &lt;medium_spring_green&gt;rebounding up&lt;stop&gt;.&quot;)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>^You suddenly perceive the vague outline of an aura of rebounding around (\w+)\.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>raksha+</name>
                        <script>report(matches[2]..&quot; twisted their raksha band.&quot;)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>^(\w+) twists (?:his|her) ring and fades from view\.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>raze+</name>
                        <script>set(matches[3],&quot;shield&quot;,false)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>^(\w+) razes (\w+)'s translucent shield with .*\.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>raze-</name>
                        <script>if matches[3] == &quot;you&quot; then matches[3] = me end
set(matches[3],&quot;rebounding&quot;,false)
set(matches[3],&quot;shield&quot;,false)

sub(matches[2]..&quot; failed raze &quot;..matches[3]..&quot;.&quot;)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>^(\w+) whips .* through the air in front of (\w+), to no effect\.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>redemption+</name>
                        <script>local str = &quot;&quot;

str = str..&quot;Redemption - &quot;..matches[2]..sp
str = str..&quot;Redemption - &quot;..matches[2]..sp

report(str)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>^The last vestiges of strength having ebbed from (\w+)'s body, (?:he|she) sinks to the floor with a sigh\. Suddenly, your surroundings are enveloped in a blinding white light, forcing you to cower with your hands over your eyes\. When you tentatively open them once more, you are astonished to find (\w+) alive once more\.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>resurrections</name>
                        <script>if dbp.gcirc(matches[2]) ~= dbp.gcirc(me) then
	report(matches[2]..&quot; RESURRECTED.&quot;)
end</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>^(\w+) rises with new life, (?:his|her) wounds miraculously closing up before your eyes\.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>shield+</name>
                        <script>set(matches[2],&quot;shield&quot;,true)



</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>^A numbing energy runs up your limbs as your attack rebounds off of (\w+)'s shield\.$</string>
                            <string>^A shimmering translucent shield forms around (\w+)\.</string>
                            <string>^(\w+) wraps (?:his|her) bone wings about (?:his|her) body, forming a translucent shield\.$</string>
                            <string>^(\w+) grasps (?:his|her) shield solidly in front of (?:him|her) as (?:he|she) mumbles a quick prayer\. A faint glow begins to emanate from the shield, surrounding (?:him|her) with a slightly translucent barrier\.</string>
                            <string>^(\w+) wraps (?:his|her) wings about (?:his|her) body, forming a translucent shield\.</string>
                            <string>^(\w+) grips (?:his|her) shield tightly as a murky haze slowly rises from it, forming a protective translucent barrier around (?:him|her)\.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>1</integer>
                            <integer>1</integer>
                            <integer>1</integer>
                            <integer>1</integer>
                            <integer>1</integer>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>shield-</name>
                        <script>set(matches[2],&quot;shield&quot;,false)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>^The shimmering translucent shield around (\w+) fades away\.$</string>
                            <string>^A massive, ethereal hammer rises out of \w+'s tattoo and smashes (\w+)'s translucent shield\.$</string>
                            <string>^(\w+)'s protective shield melts away\.$</string>
                            <string>^You touch your tattoo and a massive, ethereal hammer rises up and shatters the translucent shield surrounding (\w+)\.</string>
                            <string>^You raze (\w+)'s translucent shield with (.*)\.$</string>
                            <string>^With an enraged fury, \w+ smashes (?:his|her) mace against a translucent shield surrounding (\w+), shattering it\.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>1</integer>
                            <integer>1</integer>
                            <integer>1</integer>
                            <integer>1</integer>
                            <integer>1</integer>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>shield-</name>
                        <script>set(target,&quot;shield&quot;,false)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>You touch your tattoo and summon the hammer but find nothing to strike.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>shrug-</name>
                        <script>-- toxins, circumstantially true
trax.pending_toxin_name = &quot;&quot;
trax.pending_toxin = &quot;&quot;</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>^(\w+) shrugs off the effects of the toxin\.$</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>starburst+</name>
                        <script>local str = matches[2]..&quot; using starburst&quot;..sp
str = str..str
report(str)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>^A starburst tattoo flares and bathes (\w+) in a nimbus of white light\.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>trackpet+</name>
                        <script>report(&quot;Track pet incoming. Prepare to be boarded. #&quot;..gmcp.Room.Info.num)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>You notice a mounted rider approaching from the distance.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>trueassess</name>
                        <script>if share then
	matches[3] = tonumber( matches[3] )
	matches[4] = tonumber( matches[4] )
	matches[5] = tonumber( matches[5] )
	matches[6] = tonumber( matches[6] )
	local str = &quot;&quot;
	if matches[5]/matches[6] &lt; 0.5 then str = str..&quot;Cath &quot;..matches[2]..sp end
	str = str..matches[2]..&quot; at &quot;..matches[3]..&quot;h &quot;..math.floor(matches[3]/matches[4]*100)..&quot;% health, &quot;..math.floor(matches[5]/matches[6]*100)..&quot;% mana&quot;

	e.name = matches[2]
	e.hp = matches[3]
	e.mhp = matches[4]
	e.mp = matches[5]
	e.mxmp = matches[6]
	e.time = os.time()

	report(str)
end
</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>^(\w+)'s condition stands at (\d+)/(\d+) health and (\d+)/(\d+) mana.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>tumble+</name>
                        <script>	report(&quot;Tumble initiated [&quot;..string.upper(matches[3])..&quot;] - &quot;..matches[2])</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>^(\w+) begins tumbling towards the (\w+)\.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>tumble-</name>
                        <script>msend(&quot;stop tumble&quot;)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>^You feel irresistibly compelled to \&quot;tumble (.*)\&quot;</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>vitality+</name>
                        <script>cecho(&quot; &lt;red&gt;&lt;-- &lt;green&gt;[Vitality]&quot;)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>^(\w+) swoons for a moment then rises again, flushed but strong\.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>web me</name>
                        <script>report(matches[2]..&quot; using web tattoo, keep up torch.&quot;)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>^Sticky strands of webbing spray out from (\w+)'s web tattoo and cover you, rendering you helpless\.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>Wields</name>
                        <script></script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList/>
                        <regexCodePropertyList/>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>quickdraw+</name>
                            <script>_G[matches[3]] = matches[2]
_G[matches[5]] = matches[4]
sub(&quot;You quickdraw &quot;..matches[2]..&quot;, &quot;..matches[4]..&quot;.&quot;)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>^You secure your previously wielded items and instantly draw (.*) into your (right|left) hand, with (.*) flowing into your (right|left) hand\.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>wielded-</name>
                            <script>expandAlias(&quot;qd&quot;)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>You have no swords, polearms, or battleaxes in your hands!</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>3</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>wielded+</name>
                            <script>_G[matches[3]] = matches[2]</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>^You are already wielding (.*) in your (\w+) hand\.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>wielded+</name>
                            <script>_G[matches[3]] = matches[2]</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>^You are wielding (.*) in your (right|left) hand\.</string>
                                <string>^You begin to wield (.*) in your (right|left) hand\.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>1</integer>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>wielded+</name>
                            <script>_G[matches[3]] = matches[2]
_G[matches[5]] = matches[4]</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>^You are wielding (.*) in your (left) hand and (.*) in your (right) hand\.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>wielded-</name>
                            <script>_G[matches[3]] = &quot;&quot;</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>^You cease wielding (.*) in your (left|right) hand\.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>unwield-</name>
                            <script>if left == matches[2] then
	left = &quot;&quot;
elseif right == matches[2] then
	right = &quot;&quot;
end</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>^You cease to wield (.*)\.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>quickdraw+</name>
                            <script>left,right = &quot;&quot;,&quot;&quot;
_G[matches[3]] = matches[2]
sub(&quot;You quickdraw &quot;..matches[2]..&quot;.&quot;)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>^You secure your previously wielded item and instantly draw (.*) into your (left|right) hand\.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                    </TriggerGroup>
                </TriggerGroup>
                <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>Communications</name>
                    <script></script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList/>
                    <regexCodePropertyList/>
                    <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>channels</name>
                        <script></script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList/>
                        <regexCodePropertyList/>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>channels</name>
                            <script>sub(matches)
</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ffb918</mFgColor>
                            <mBgColor>#000000</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>^\((.*)\)\: (\w+) says*, &quot;(.*)$</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>tellIn</name>
                            <script>table.insert(matches,2,&quot;tellin&quot;)
sub(matches)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>^.*, (\w+) tells you, &quot;(.*)$</string>
                                <string>^(\w+) tells you, &quot;(.*)$</string>
                                <string>^.*, (\w+) tells you, in .*, &quot;(.*)$</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>1</integer>
                                <integer>1</integer>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>tellOut</name>
                            <script>table.insert(matches,2,&quot;tellout&quot;)
sub(matches)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>^You tell (.*), &quot;(.*)$</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>says</name>
                            <script>table.insert(matches,2,&quot;says&quot;)
sub(matches)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>^(.*) says to you, &quot;(.*)$</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                    </TriggerGroup>
                    <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>vw</name>
                        <script></script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList/>
                        <regexCodePropertyList/>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>Ring</name>
                            <script>vw:append(&quot;Org&quot;)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff9d63</mFgColor>
                            <mBgColor>#000000</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>(Ring):</string>
                                <string>(Bellatores):</string>
                                <string>(Pkmn):</string>
                                <string>(Null):</string>
                                <string>(Dpk):</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>2</integer>
                                <integer>2</integer>
                                <integer>2</integer>
                                <integer>2</integer>
                                <integer>2</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="yes" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>Tells</name>
                            <script>vw:append(&quot;Tells&quot;)
playSoundFile(chime_path)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#e0d124</mFgColor>
                            <mBgColor>#000000</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>^(\w+) tells you, &quot;(.*)&quot;</string>
                                <string>^(\w+) tells you, in .*, &quot;(.*)&quot;</string>
                                <string>^.*, (\w+) tells you, &quot;(.*)$</string>
                                <string>^.*, (\w+) tells you, in .*, &quot;(.*)$</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>1</integer>
                                <integer>1</integer>
                                <integer>1</integer>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="yes" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>Tell out</name>
                            <script>vw:append(&quot;Tells&quot;)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ffff2d</mFgColor>
                            <mBgColor>#000000</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>^You tell .*, &quot;(.*)&quot;</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>Shouts</name>
                            <script>vw:append(&quot;Tells&quot;)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>^The light of .* shines brightly down upon (\w+) as (?:his|her) voice booms across the world, &quot;.*&quot;</string>
                                <string>^A chill sets in the air as the voice of (\w+) is carried upon a frigid breeze, &quot;.*&quot;</string>
                                <string>^The leaves of the world bristle and shift as (\w+)'s voice is carried on a gentle breeze, &quot;.*&quot;</string>
                                <string>^A chill runs down your spine, as the deathly voice of (\w+) whispers into your ear, &quot;.*&quot;</string>
                                <string>^(.*) shouts, &quot;(.*)&quot;$</string>
                                <string>^You see (.*) shout, &quot;(.*)&quot;$</string>
                                <string>^The light of Aryana shimmers down upon (.*) as (?:his|her) voice thunders across the world, &quot;(.*)&quot;$</string>
                                <string>^The very mountains tremble as (\w+)'s voice reverberates across the land, &quot;(.*)&quot;$</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>1</integer>
                                <integer>1</integer>
                                <integer>1</integer>
                                <integer>1</integer>
                                <integer>1</integer>
                                <integer>1</integer>
                                <integer>1</integer>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="yes" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>Guild Novices</name>
                            <script>vw:append(&quot;Guild&quot;)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#63d13a</mFgColor>
                            <mBgColor>#000000</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>(Coruscates):</string>
                                <string>(Jundi):</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>2</integer>
                                <integer>2</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>Guild</name>
                            <script>vw:append(&quot;Guild&quot;)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#73b58e</mFgColor>
                            <mBgColor>#000000</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>(Noctusari):</string>
                                <string>(Wardancers):</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>2</integer>
                                <integer>2</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>Org</name>
                            <script>vw:append(&quot;Org&quot;)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>(Stavenn):</string>
                                <string>(Khandava):</string>
                                <string>(Antioch):</string>
                                <string>(Ithaqua):</string>
                                <string>(Celidon):</string>
                                <string>(Kinsarmar):</string>
                                <string>(Market):</string>
                                <string>(Newbie):</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>2</integer>
                                <integer>2</integer>
                                <integer>2</integer>
                                <integer>2</integer>
                                <integer>2</integer>
                                <integer>2</integer>
                                <integer>2</integer>
                                <integer>2</integer>
                            </regexCodePropertyList>
                        </Trigger>
                    </TriggerGroup>
                </TriggerGroup>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>login</name>
                    <script>start()</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>Password correct. Welcome to Imperian.</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>3</integer>
                    </regexCodePropertyList>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>prompt</name>
                    <script>-- dr.heal()
dr.clotter()

-- toxins
if class == &quot;Predator&quot; then

elseif class == &quot;Diabolist&quot; then

else
	trax.process_toxin(&quot;&quot;,&quot;&quot;)
end
-- limbs
trax.process_limb(&quot;&quot;,&quot;&quot;)

trax.cure(trax.pending_name,trax.pending)

-- display Idle
if idle and idle.on then
	local time = os.time()

	time = idle.fire - time + idle.timer


end</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>return isPrompt()</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>4</integer>
                    </regexCodePropertyList>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>+balance</name>
                    <script>local str = &quot;&lt;medium_blue&gt;[] &lt;medium_blue&gt;Balance&lt;medium_blue&gt; [] &quot; -- royal_blue
str = str..str..str
sub(str)</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>You have recovered balance.</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>3</integer>
                    </regexCodePropertyList>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>+equilibrium</name>
                    <script>local str = &quot;&lt;medium_slate_blue&gt;[] &lt;medium_slate_blue&gt;Equilibrium&lt;medium_slate_blue&gt; [] &quot;
str = str..str..str
sub(str)
--send(&quot;shadowbind silver with hazeward|i hazeward&quot;)</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>You have regained your mental equilibrium.</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>3</integer>
                    </regexCodePropertyList>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>balance failure</name>
                    <script>sub(&quot;&lt;dark_orchid&gt;Balance failure.&quot;)</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>You must regain balance first.</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>3</integer>
                    </regexCodePropertyList>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>coliseum out</name>
                    <script>dbp.clear(me)</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>You see a bright light shine on you as all your afflictions are cured.</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>0</integer>
                    </regexCodePropertyList>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>damage</name>
                    <script>local color = &quot;&lt;red&gt;&quot;
if cdamage[matches[3]] then
	color = &quot;&lt;&quot;..cdamage[matches[3]]..&quot;&gt;&quot;
elseif me == &quot;Iniar&quot; and matches[3] ~= &quot;&quot; then
	send(&quot;msg &quot;..me..&quot; &quot;..matches[3])
end
local pct = string.format(&quot;%.1f&quot;, 100*matches[2]/mhp)
local rst = string.format(&quot;%.1f&quot;, 100*(1-tonumber(matches[2])/tonumber(matches[4])))

matches[2] = &quot;-&quot;..matches[2]
matches[2] = string.lpad(matches[2],4,&quot; &quot;) 

pct = string.lpad(pct,4,&quot; &quot;)
rst = string.lpad(rst,4,&quot; &quot;)

matches[4] = string.lpad(matches[4],3,&quot; &quot;)

sub(color..matches[2]..&quot; [&quot;..pct..&quot;%], &quot;..matches[4]..&quot; &lt;dim_grey&gt;(&quot;..rst..&quot;%)&quot;)</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>^Damage Taken\: (\d+) (.*) \(raw damage\: (\d+)\)$</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>1</integer>
                    </regexCodePropertyList>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>diagnose</name>
                    <script>dbp.clear(me)
diagnose = me</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>You are:</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>3</integer>
                    </regexCodePropertyList>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>diagnose other</name>
                    <script>dbp.clear(matches[2])
diagnose = matches[2]</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>^(\w+) is:</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>1</integer>
                    </regexCodePropertyList>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>eqbal+</name>
                    <script>eqbal = matches[2]
eqbal_time = os.time()</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>^(.*) added to your EQBAL queue\.</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>1</integer>
                    </regexCodePropertyList>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>equilibrium failure</name>
                    <script>sub(&quot;&lt;chocolate&gt;Equilibrium failure.&quot;)</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>You must regain your equilibrium first.</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>3</integer>
                    </regexCodePropertyList>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>heal</name>
                    <script>local pct = string.format(&quot;%.1f&quot;, 100*matches[2]/mhp)
sub(&quot;&lt;&quot;..heal..&quot;&gt;+&quot;..matches[2]..&quot; (&quot;..pct..&quot;%)&quot;)</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>^Health Gain\: (\d+)$</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>1</integer>
                    </regexCodePropertyList>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>kill</name>
                    <script>if matches[2] == &quot;yourself&quot; then matches[2] = me end
dbp.clear(matches[2])
dbp.clear_(matches[2])
expandAlias(&quot;ac on&quot;)
report(&quot;Killed &quot;..matches[2]..&quot;.&quot;)</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>^You have slain (\w+)\.$</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>1</integer>
                    </regexCodePropertyList>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>kill [other]</name>
                    <script>dbp.clear(matches[3])
dbp.clear_(matches[3])

if dbp.gcirc(me) == dbp.gcirc(matches[2]) and dbp.gcirc(me) ~= dbp.gcirc(matches[3]) then
	report(matches[2]..&quot; killed &quot;..matches[3]..&quot;. +1 to &quot;..matches[2])
end</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>^(\w+) has slain (\w+)\.$</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>1</integer>
                    </regexCodePropertyList>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>kills, custom [other]</name>
                    <script>dbp.clear(matches[2])
dbp.clear_(matches[2])</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>^\w+'s elemental fury has obliterated (\w+)'s mortal husk\.</string>
                        <string>^(\w+) has been ground to dust beneath the heel of \w+\.</string>
                        <string>^(\w+) has succumbed to the charms of \w+\.</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>1</integer>
                        <integer>1</integer>
                        <integer>1</integer>
                    </regexCodePropertyList>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>kill outOfRoom [other]</name>
                    <script>dbp.clear(matches[2])
dbp.clear_(matches[2])</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>^(\w+) has been choked to death by (\w+)\.</string>
                        <string>^(\w+) has been hacked to death by (\w+)\.</string>
                        <string>^(\w+) has been crushed to death by (\w+)\.</string>
                        <string>^(\w+) has been slain by misadventure\.</string>
                        <string>^(\w+) has been bludgeoned to death by (\w+)\.</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>1</integer>
                        <integer>1</integer>
                        <integer>1</integer>
                        <integer>1</integer>
                        <integer>1</integer>
                    </regexCodePropertyList>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>killed</name>
                    <script>dbp.clear(me)
dbp.clear_(me)
report(&quot;Died to &quot;..matches[2]..&quot;.&quot;)
playSoundFile(death_path)</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>^You have been slain by (.*)\.$</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>1</integer>
                    </regexCodePropertyList>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>bled to death</name>
                    <script>report(matches[2]..&quot; bled to death.&quot;)</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>^(\w+) turns pallid and drops to the ground\.</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>1</integer>
                    </regexCodePropertyList>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>pathing</name>
                    <script>if string.gmatch(matches[1],&quot;Path: &quot;) then path = {} end
local path_string = string.gsub(matches[1],&quot;Path: &quot;,&quot;&quot;)
for step in string.gmatch(path_string,&quot;[^,%s]+&quot;) do
	table.insert(path,step)
end
</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>^Path: (.*)$</string>
                        <string>^((n|ne|nw|s|se|sw|e|w|u|d|in|out)(,)?( )?)+$</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>1</integer>
                        <integer>1</integer>
                    </regexCodePropertyList>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>pathing done</name>
                    <script>path = {}</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>You have reached your destination.</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>3</integer>
                    </regexCodePropertyList>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>profession switch</name>
                    <script>start()</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>^You have switched from the (.*) profession to the (.*) profession\.</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>1</integer>
                    </regexCodePropertyList>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>rift-</name>
                    <script>local str, num = matches[2], tonumber(matches[3])
rift[str] = num
deleteLine()</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>^You take \d+ (.*), bringing the total to (\d+)\.$</string>
                        <string>^You remove \d+ (.*), bringing the total in the Rift to (\d+)\.$</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>1</integer>
                        <integer>1</integer>
                    </regexCodePropertyList>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>rift+</name>
                    <script>local str, num = matches[2], tonumber(matches[3])
rift[str] = num</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>^You store \d+ (.*), bringing the total to (\d+), which is the maximum for that type of object\.</string>
                        <string>^You store \d+ (.*), bringing the total to (\d+)\.$</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>1</integer>
                        <integer>1</integer>
                    </regexCodePropertyList>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>rift 0</name>
                    <script>send(&quot;msg &quot;..me..&quot; [Eden]: Restock &quot;..matches[2]..&quot;.&quot;)</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>^You take (.*), bringing the total to 0\.</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>1</integer>
                    </regexCodePropertyList>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>timeout</name>
                    <script>send(&quot;p snake&quot;)</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>You will TIMEOUT in 1 minute unless you do something.</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>3</integer>
                    </regexCodePropertyList>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>vialbelt tap</name>
                    <script>sub(&quot;Refilled &lt;medium_sea_green&gt;&quot;..matches[3]..&quot;&lt;grey&gt;.&quot;)</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>^Finding (.*) empty of (.*), you quickly roll the mouth of the vial across one of the many spouts on (.*). In only an instant, the pressurized liquid sprays into the vial and it is once again full\.</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>1</integer>
                    </regexCodePropertyList>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="yes" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>vialbelt-</name>
                    <script>send(&quot;msg &quot;..me..&quot; [Eden]: Restock &quot;..matches[2]..&quot;.&quot;)</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#000000</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>^A .* gurgles softly, indicating that it has dispensed its last dose of (.*)\.</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>1</integer>
                    </regexCodePropertyList>
                </Trigger>
                <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>Defences</name>
                    <script></script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList/>
                    <regexCodePropertyList/>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>landsense-</name>
                        <script>df_.landsense = false</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>You have lost the landsense defence.</string>
                            <string>Your landsense has faded.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                            <integer>3</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>landsense+</name>
                        <script>df_.landsense = true</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>You have tuned your landsense to notice all mortals.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                        </regexCodePropertyList>
                    </Trigger>
                </TriggerGroup>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>weblink</name>
                    <script>selectString(matches[1], 1)
setUnderline(true) 
setLink([[openUrl(&quot;]]..matches[1]..[[&quot;)]], &quot;Click to open in browser&quot;)
resetFormat()</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>([h|H]ttps?|ftp|file)://[-a-zA-Z0-9+&amp;@#/%?=~_|!:,.;]*[-a-zA-Z0-9+&amp;@#/%=~_|]</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>1</integer>
                    </regexCodePropertyList>
                </Trigger>
                <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>Raid</name>
                    <script></script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList/>
                    <regexCodePropertyList/>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="yes" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>cannon balls</name>
                        <script></script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#000000</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>He has (.*) cannon balls\.</string>
                            <string>He has (.*) nets\.</string>
                            <string>He has (.*) bolts\.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>1</integer>
                            <integer>1</integer>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="yes" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>monolith</name>
                        <script></script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#169669</mFgColor>
                        <mBgColor>#000000</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>A sigil in the shape of a small, rectangular monolith is on the ground.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                </TriggerGroup>
            </TriggerGroup>
            <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                <name>Miscellaneous</name>
                <script></script>
                <triggerType>0</triggerType>
                <conditonLineDelta>0</conditonLineDelta>
                <mStayOpen>0</mStayOpen>
                <mCommand></mCommand>
                <packageName></packageName>
                <mFgColor>#ff0000</mFgColor>
                <mBgColor>#ffff00</mBgColor>
                <mSoundFile></mSoundFile>
                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                <regexCodeList/>
                <regexCodePropertyList/>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>time+</name>
                    <script></script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>It is deep night in Imperian, before midnight.</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>0</integer>
                    </regexCodePropertyList>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>moons+</name>
                    <script></script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>Three moons orbit the heavens. You notice that Moradeim is nearest.</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>0</integer>
                    </regexCodePropertyList>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>damage dealt</name>
                    <script>matches[2] = &quot;-&quot;..matches[2]
matches[2] = string.lpad(matches[2],4,&quot; &quot;)

matches[3] = string.lpad(matches[3],5,&quot; &quot;)

sub(&quot;&lt;violet_red&gt;&quot;..matches[2]..&quot; (&quot;..matches[3]..&quot;)&quot;)</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>^Damage dealt\: (\d+) Remaining\: (.*)$</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>1</integer>
                    </regexCodePropertyList>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="yes" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>in trees</name>
                    <script></script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#000000</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>^In the trees above .*\.$</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>1</integer>
                    </regexCodePropertyList>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>tattoo 1/5</name>
                    <script></script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>You pour the dry ink in a mixing bowl and mix it with the activating solution.</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>3</integer>
                    </regexCodePropertyList>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>tattoo 2/5</name>
                    <script></script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>You dip the needle into the ink, and siphon a bit into its inner well, careful not to get any in your mouth.</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>3</integer>
                    </regexCodePropertyList>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>tattoo 3/5</name>
                    <script></script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>Taking a needle in hand, you begin to apply the ink to (\w+)'s (.*) by rapidly piercing theskin.</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>1</integer>
                    </regexCodePropertyList>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>tattoo 4/5</name>
                    <script></script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>With great focus, you carefully map the outline of a (\w+) tattoo.</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>1</integer>
                    </regexCodePropertyList>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>tattoo 5/5</name>
                    <script></script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>After adding some coloured ink to the bowl, you reink the needle, fill in the final details, and then admire the completed tattoo.</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>3</integer>
                    </regexCodePropertyList>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>tattoo-</name>
                    <script>send(&quot;message &quot;..me..&quot; [Tattoo]: &quot;..matches[2]..&quot; faded.&quot;)</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>^The colour fades from your (.*) tattoo, rendering it useless\.</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>1</integer>
                    </regexCodePropertyList>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>mana lost</name>
                    <script>if config and config.gag then
if tonumber(matches[2]) &lt; 20 then
	deleteLine()
end
end</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>^Mana Lost: (\d+)</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>1</integer>
                    </regexCodePropertyList>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>monoliths</name>
                    <script>local tablen = {
	[&quot;Before a crooked tree&quot;] = &quot;21851, Kalaya Woods&quot;,
	[&quot;Amongst rugged terrain&quot;] = &quot;19337, Areish Mountains&quot;,
	[&quot;Tangle of brush and scree&quot;] = &quot;660, Gongen Mountains&quot;,
	[&quot;A clearing in the Renfrewshire Swamp&quot;] = &quot;9952, Renfrewshire Swamp&quot;,
	[&quot;A barren rock glade&quot;] = &quot;17361, the Ik'taru Expanse&quot;,
	[&quot;An underground cliff&quot;] = &quot;14738, the Chorsha Underground&quot;,
	[&quot;A fern grove&quot;] = &quot;24067, the Aoash Forest&quot;,
	[&quot;Where the trail ends&quot;] = &quot;22783, Demon's Pass&quot;,
	[&quot;Beneath a large tree&quot;] = &quot;11477, the Iaat Valley&quot;,
}
local str = &quot;[Monolith]: &quot;..matches[2]..&quot; (&quot;..tablen[matches[3]]..&quot;)&quot;

sub(str)</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>^(\w+) is attempting to control the monolith at (.*)!</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>1</integer>
                    </regexCodePropertyList>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>portal+</name>
                    <script>report(matches[2]..&quot; has arrived.&quot;)</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>^(\w+) emerges into the room from a fiery portal\.</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>1</integer>
                    </regexCodePropertyList>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>shardfall</name>
                    <script>report(&quot;[Shardfall]: &quot;..matches[2], channel)
sub(&quot;Shardfall &lt;gold&gt;&quot;..matches[2]..&quot;.&quot;)
playSoundFile(sf_path)</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>^A sudden eruption from a distant volcano lights up the firmament and you notice a larger number of shards flying towards (.*)\.$</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>1</integer>
                    </regexCodePropertyList>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>shardfall, count</name>
                    <script>report( multimatches[1][2]..&quot; + &quot;..multimatches[2][2])</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>2</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>You detect (\d+) blue shard(s)* in the area.</string>
                        <string>You detect (\d+) red shard(s)* in the area.</string>
                        <string>Equilibrium Taken: </string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>1</integer>
                        <integer>1</integer>
                        <integer>0</integer>
                    </regexCodePropertyList>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="yes" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>shards, blue</name>
                    <script></script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#79a3ff</mFgColor>
                    <mBgColor>#000000</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>There are \d+ partially buried blue shards here\.</string>
                        <string>A blue shard is protruding from the ground here, glowing faintly.</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>1</integer>
                        <integer>0</integer>
                    </regexCodePropertyList>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="yes" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>shards, red</name>
                    <script></script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#c10202</mFgColor>
                    <mBgColor>#010100</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>A red shard is protruding from the ground here, illuminating the ground with an eerie glow.</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>0</integer>
                    </regexCodePropertyList>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>vote+</name>
                    <script>expandAlias(&quot;vote&quot;)</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>Time to vote (\w+)</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>1</integer>
                    </regexCodePropertyList>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>quickdraws</name>
                    <script>sub( matches[2]..&quot; quickdraws &lt;light_sea_green&gt;&quot;..matches[3]..&quot;&lt;grey&gt; and &lt;light_sea_green&gt;&quot;..matches[4]..&quot;&lt;grey&gt;.&quot; )</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>^(\w+) secures (?:his|her) previously wielded items and instantly draws (.*) into (?:his|her) (?:left|right) hand, with (.*) flowing into the (?:right|left)\.$</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>1</integer>
                    </regexCodePropertyList>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>quickdraw single</name>
                    <script>sub( matches[2]..&quot; quickdraws &lt;light_sea_green&gt;&quot;..matches[3]..&quot;&lt;grey&gt;.&quot; )</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>^(\w+) secures (?:his|her) previously wielded item and instantly draws (.*) into (?:his|her) (left|right) hand\.</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>1</integer>
                    </regexCodePropertyList>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>mass-</name>
                    <script>sub(matches[2]..&quot; mass down.&quot;)</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>^A great weight seems to have been lifted from (\w+)\.</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>1</integer>
                    </regexCodePropertyList>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>loyal ordered</name>
                    <script>sub(matches[2]..&quot;'s &lt;blue_violet&gt;&quot;..matches[3]..&quot;&lt;stop&gt; on &quot;..matches[4]..&quot;.&quot;)</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>^(\w+) barks at (.*), ordering it to attack (.*)\.$</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>1</integer>
                    </regexCodePropertyList>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>arena queue</name>
                    <script>msend(&quot;join queue&quot;)</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>The event will begin in 5 minutes!</string>
                        <string>The arena event is cancelled, due to lack of participation.</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>3</integer>
                        <integer>3</integer>
                    </regexCodePropertyList>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>charon</name>
                    <script>send(&quot;renounce grace&quot;)</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>Charon begins concentrating on a distant point, straining to link your soul with the world of the living.</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>1</integer>
                    </regexCodePropertyList>
                </Trigger>
                <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>Bash</name>
                    <script></script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList/>
                    <regexCodePropertyList/>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>slain</name>
                        <script>if bash.on then send(&quot;queue eqbal ql&quot;) end</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>The final blow is too much, </string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>0</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>not here</name>
                        <script>--  bash.on then send(&quot;queue eqbal ql&quot;) end
if bash.on then
	send(&quot;queue eqbal ql&quot;)
end</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>You detect nothing here by that name.</string>
                            <string>I do not recognize anything called that here.</string>
                            <string>You do not see that individual here.</string>
                            <string>Ahh, I am truly sorry, but I do not see anyone by that name here.</string>
                            <string>Nothing can be seen here by that name.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>0</integer>
                            <integer>0</integer>
                            <integer>0</integer>
                            <integer>0</integer>
                            <integer>0</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="yes" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>item drop+</name>
                        <script></script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff7a46</mFgColor>
                        <mBgColor>#000000</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>^You take (.*) from the corpse as you pick it up\.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>pathing+</name>
                        <script>if bash.on then
	bash.moving = true
	bash.lockm = true
	bash.lockm_timer = os.time()
end</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>You start speedwalking.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>0</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>pathing done</name>
                        <script>send(&quot;queue eqbal ql&quot;)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>You are already there.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>0</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>pathing stop</name>
                        <script>bash.moving = false
bash.lockm = false
bash.lockm_timer = 0
</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>You stop speedwalking.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>0</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>pathing end</name>
                        <script>bash.moving = false
bash.lockm = false
bash.lockm_timer = 0

if table.is_empty(gmcp.Room.Players) then
	bash.here = true
else
	bash.here = false
end</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>You have reached your destination.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>0</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>pathing timer</name>
                        <script>if bash.on then
	bash.lockm = true
	bash.lockm_timer = os.time()
end</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>You cannot find a new path so soon.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>0</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>hidden aff</name>
                        <script>if bash.on then
	bash.diag = true
end</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>You are afflicted with an unknown affliction.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>0</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>prompt</name>
                        <script>local complete, total = #bash.t, #bash[bash.area]
local here = bash.here

if here then here = &quot;Ok&quot; else here = &quot;Not Ok&quot; end

cecho( complete..&quot;[&quot;..total..&quot;] &quot;..here )</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>return isPrompt()</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>4</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>shard harvesting</name>
                        <script>bash.shard = true
bash.shard_t = os.time()</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>You start unearthing a partially buried blue shard, careful not to break its delicate structure. A swirling aura of raw Diachaim slowly forms around you.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>shard done</name>
                        <script>bash.shard = false
bash.shard_t = 0
if bash.on then
	send(&quot;ql&quot;)
end</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>Your concentration ruined, you stop unearthing the shard.</string>
                            <string>You finish unearthing a partially buried blue shard. Satisfied, you pick it up and the shard glows dimly upon your touch.</string>
                            <string>There is no shard here.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                            <integer>3</integer>
                            <integer>3</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>undeath</name>
                        <script>if bash.on and gmcp.Char.Name.name == matches[2] then
	send(&quot;request passage to caanae&quot;)
end</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>^Charon, the Guardian of Souls says\, \&quot;All right, (.*), where do you want to go\?\&quot;</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>shield-</name>
                        <script>bash.shield_have = false</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>You have no shield.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>0</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>shield+</name>
                        <script>bash.shield_have = true</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>You pay Reverie, the Artisan for your new shield tattoo.</string>
                            <string>You touch the tattoo and a shimmering translucent shield forms around you.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>0</integer>
                            <integer>0</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>Andverj, Hollows</name>
                        <script>if bash.on then

for j=1,2 do
	local str = &quot;&quot;
	for i=1,50 do
		str = str..&quot;give bug to andverj&quot;..bash.sp
	end
	send(str)
end

end</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>Andverj the gnollish stands here, his coat pulled tightly about his lumpy, rotund body.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>0</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>Tolgar, Riksha</name>
                        <script>for j=1,4 do
	local str = &quot;&quot;
	for i=1,50 do
		str = str..&quot;give horde to tolgar&quot;..bash.sp
	end
	send(str)
end</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>Tolgar, a mangy Lycaean says, &quot;Is that an orc? Give that to me and I will pay you.&quot;</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>Crankle, Mavitt</name>
                        <script>if bash.on then

for j=1,2 do
	local str = &quot;&quot;
	for i=1,50 do
		str = str..&quot;give rimpin to crankle&quot;..bash.sp
	end
	send(str)
end
send(&quot;give mahusala to crankle&quot;)

end</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>An old coot named Crankle is here, surrounded by a Jaguar aura.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>0</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>Zarenvin, Al'drym</name>
                        <script>if bash.on then

for j=1,4 do
	local str = &quot;&quot;
	for i=1,50 do
		str = str..&quot;give corpse to Zarenvin&quot;..bash.sp
	end
	send(str)
end

end</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>Zarenvin, a crippled elf is here, leaning heavily upon a gnarled cane.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>0</integer>
                        </regexCodePropertyList>
                    </Trigger>
                </TriggerGroup>
                <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>Bosses</name>
                    <script></script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList/>
                    <regexCodePropertyList/>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>Iaos</name>
                        <script>local str = &quot;&quot;
str = str..&quot;Iaos! You are the stars of my life! Love me!&quot;..sp
str = str..&quot;Iaos! You are the stars of my life! Love me!&quot;..sp
str = str..&quot;I'm lusted by Iaos, that bitch. Unstun me @ #&quot;..gmcp.Room.Info.num..&quot; a.s.a.p. thanks.&quot;..sp

report(str)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>Iaos the Temptress sidles gracefully up to you, and leaning forward delicately, places a lustful kiss on your cheek. The spot of the kiss burns painfully and you begin to feel an unreasonable lust for Iaos the Temptress.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>0</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>Iaos - switch</name>
                        <script>local str = &quot;&quot;
str = str..&quot;-&gt; CHANGE TARGET NOW: -&gt;&gt; &quot;..me..&quot; &lt;&lt;- a.s.a.p. kthnx bai.&quot;..sp
str = str..&quot;-&gt; CHANGE TARGET NOW: -&gt;&gt; &quot;..me..&quot; &lt;&lt;- a.s.a.p. kthnx bai.&quot;..sp

report(str)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>You dive in front of (\w+)'s attack targeted at Iaos the Temptress, protecting her from the assault.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>Iaos - switch</name>
                        <script>local str = &quot;&quot;
str = str..matches[2]..&quot; controlled by Iaos, that lustful man/woman, switching target to: &quot;..matches[2]..&quot;!&quot;..sp
str = str..matches[2]..&quot; controlled by Iaos, that lustful man/woman, switching target to: &quot;..matches[2]..&quot;!&quot;..sp
report(str)
expandAlias(&quot;t &quot;..matches[2])</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>Iaos the Temptress sidles gracefully up to (\w+), and leaning forward delicately, places a lustful kiss on (his|her) cheek. (\w+) places one hand on the spot of the kiss and looks at Iaos the Temptress, lust shining in (his|her) eyes.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>Kalika - saved</name>
                        <script>report(&quot;I've rescued &quot;..matches[2]..&quot; from the Land of Oz.&quot;)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>^Tugging with all your might, you pull (\w+) from the clutches of the glass tornado\.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="yes" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>Kalika - saved</name>
                        <script></script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#c6ff38</mFgColor>
                        <mBgColor>#000000</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>^Tugging with all (?:his|her) might, (\w+) pulls (\w+) from the clutches of the glass tornado\.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>Kalika - interrupted</name>
                        <script>report(&quot;DISTRACTED - PULL &quot;..string.upper(matches[2])..&quot; from the Land of Oz.&quot;)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>^You are distracted and release your hold on (\w+)\.</string>
                            <string>^(\w+) i(?:s|d) distracted and releases (?:his|her) (h)*old on (\w+)\.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>1</integer>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>Yagduth - dive</name>
                        <script>report(&quot;Yagduth Instakill - Autocuring off and dive.&quot;)
expandAlias(&quot;ac off&quot;)
send(&quot;dismount &quot;..sp..&quot; dive &quot;..sp)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>Captain Yagduth begins deftly spinning his </string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>2</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>Yagduth</name>
                        <script>expandAlias(&quot;ac on&quot;)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>Captain Yagduth ceases spinning his vicious weapon above his head.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>0</integer>
                        </regexCodePropertyList>
                    </Trigger>
                </TriggerGroup>
                <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>Crits</name>
                    <script></script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList/>
                    <regexCodePropertyList/>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>Damage dealt</name>
                        <script>crits.atks = crits.atks + 1</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>^Damage dealt: \d+</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>crits.x2</name>
                        <script>crits.x2 = crits.x2 + 1
crits.count = crits.count + 1
crits.level = 2
selectString(line, 1)
fg(&quot;hot_pink&quot;)
deleteLine()</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>39</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>^You have scored a staggering blow!$</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>crits.x4</name>
                        <script>crits.x4 = crits.x4 + 1
crits.count = crits.count + 1
crits.level = 4
selectString(line, 1)
fg(&quot;hot_pink&quot;)
deleteLine()</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>39</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>^You have scored a hit on the vitals of your enemy!$</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>crits.x8</name>
                        <script>crits.x8 = crits.x8 + 1
crits.count = crits.count + 1
crits.level = 8
selectString(line, 1)
fg(&quot;hot_pink&quot;)
deleteLine()</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>39</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>^You have scored a surprisingly effective hit!$</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>crits.x16</name>
                        <script>crits.x16 = crits.x16 + 1
crits.count = crits.count + 1
crits.level = 16
selectString(line, 1)
fg(&quot;hot_pink&quot;)
deleteLine()</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>39</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>^You have scored a shockingly powerful blow!$</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>crits.x32</name>
                        <script>crits.x32 = crits.x32 + 1
crits.count = crits.count + 1
crits.level = 32
selectString(line, 1)
fg(&quot;hot_pink&quot;)
deleteLine()</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>39</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>^You have scored an awe inspiring hit to your target!!!$</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>damage</name>
                        <script>if crits.on then
	crits.dmg = crits.dmg + tonumber(matches[2])
	crits.pd = tonumber(matches[2])
	if tonumber(matches[3]) == 0 then crits.vhp_allow = true end

	if crits.level then
		local stump = crits.level
		stump = &quot;x&quot;..stump..&quot;_dmg&quot;
		crits[stump] = crits[stump] + tonumber(matches[2])
	else
		crits.x1 = crits.x1 + 1
		crits.x1_dmg = crits.x1_dmg + tonumber(matches[2])
	end
	crits.level = false
	if crits.p1 == 0 then
		crits.p1 = matches[3]
	else
		crits.p2 = matches[3]
	end
end</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>^Damage dealt\: (\d+) Remaining\: (.*)\%</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>prompt</name>
                        <script>if crits.on then
	-- calculate only if you are a multi-hitter
	if crits.p2 ~= 0 and crits.vhp_allow then
		local hp = 0
		crits.p1 = tonumber(crits.p1)
		crits.p2 = tonumber(crits.p2)
		
		if crits.p1 == 0 and crits.p2 == 0 then
			hp = crits.pd
		elseif crits.p1 == 0 then -- do nothing
		else
			local diff = crits.p1 - crits.p2
			hp = 100 * crits.pd / diff

			crits.vhp = crits.vhp + hp
			crits.vhp_c = crits.vhp_c + 1
			crits.vhp_allow = false
		end
	end
	crits.p1 = 0 
	crits.p2 = 0
	crits.pd = 0
	crits.level = false
end</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>return isPrompt()</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>4</integer>
                        </regexCodePropertyList>
                    </Trigger>
                </TriggerGroup>
                <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>Deaths</name>
                    <script></script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList/>
                    <regexCodePropertyList/>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>Deaths</name>
                        <script></script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>^(\w+) has been crushed to death by (.*)\.$</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                </TriggerGroup>
                <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>Merc System Parser</name>
                    <script></script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList/>
                    <regexCodePropertyList/>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>merc attack 1</name>
                        <script>if merc.collect then
	merc.do_hold()
	local tablen = {}
	for i=2,#matches do
		table.insert( tablen, matches[i] )
	end 
	table.insert( merc.hold, tablen )
end

</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>1</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>^Round (\d+)\: (.*) leaps forward, stabbing .* into (.*)'s flesh\.</string>
                            <string>^Round (\d+)\: (.*) quickly nocks an arrow and fires it at (.*)\.</string>
                            <string>^Round (\d+)\: (.*) lightly nicks (.*) with .*\.</string>
                            <string>^Round (\d+)\: (.*) shoots a volley of arrows high in the air, watching as they arc high in the air and plunge down at (.*)\.</string>
                            <string>^Round (\d+)\: Stealthily, (.*) sneaks up to (.*) and slashes (?:him|her) with .*\.</string>
                            <string>^Round (\d+)\: (.*) casts a green glob of stinking acid at (.*)'s face\.</string>
                            <string>^Round (\d+)\: (.*) sweeps .* in a wide arc, striking (.*) and (.*)\.</string>
                            <string>^Round (\d+)\: (.*) lashes out with a heavy fist, squarely striking (.*) across the jaw\.</string>
                            <string>^Round (\d+)\: (.*) sweeps .* in a wide arc, striking (.*)\.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>1</integer>
                            <integer>1</integer>
                            <integer>1</integer>
                            <integer>1</integer>
                            <integer>1</integer>
                            <integer>1</integer>
                            <integer>1</integer>
                            <integer>1</integer>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>merc attack 2</name>
                        <script>if merc.collect then
	local player,dmg,remain,hp = matches[2],tonumber(matches[3]),tonumber(matches[4]),tonumber(matches[5])
	local p = dmg/hp * 100
	local p_remain = remain/hp * 100

	table.insert( merc.hold, {player,p,p_remain,hp,dmg,remain} )
end
</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>^   (.*) takes (\d+) damage! \((\d+)\/(\d+)\)</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>merc killed</name>
                        <script>if merc.collect then
	local player = matches[2]
	local tablen = {&quot;kill&quot;, player}
	table.insert( merc.hold, tablen )
end</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>^(.*) has been knocked out of the match\.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>merc match over</name>
                        <script>merc.do_hold()
merc.display = true</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>Match over\! (.*) is the winner\!</string>
                            <string>Match times out! Nobody wins.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>1</integer>
                            <integer>3</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>prompt</name>
                        <script>if merc.display then
	merc.display = false
	merc.output()
end</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>return isPrompt()</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>4</integer>
                        </regexCodePropertyList>
                    </Trigger>
                </TriggerGroup>
                <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>Movement</name>
                    <script></script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList/>
                    <regexCodePropertyList/>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>Entered</name>
                        <script>sub(matches[2]..&quot; &lt;green&gt;entered&lt;grey&gt; from &lt;gold&gt;&quot;..matches[3]..&quot;&lt;grey&gt;.&quot;)


</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>^A tingling sensation spreads over your flesh preceding the entrance of (\w+), riding .*, from the (\w+)\.$</string>
                            <string>^An eerie chill fills the air as (\w+), .*, moves in from the (\w+)\.$</string>
                            <string>^Heat washes over you as (\w+), riding .*, enters from the (\w+), flames licking at (?:his|her) feet\.$</string>
                            <string>^(\w+) arrives from the (\w+)\.$</string>
                            <string>^(\w+), riding .*, arrives from the (\w+)\.$</string>
                            <string>^(\w+) enters from the (\w+), a soft glow suffusing (?:his|her) form\.$</string>
                            <string>^(\w+) strolls in from the (\w+), a scattering of leaves trailing behind\.$</string>
                            <string>^An eerie chill fills the air as (\w+) moves in from the (\w+)\.$</string>
                            <string>^Pebbles scatter across the ground as (\w+), riding .*, stomps in from the (\w+)\.$</string>
                            <string>^A tingling sensation spreads over your flesh preceding the entrance of (\w+) from the (\w+)\.$</string>
                            <string>^The shifting form of (\w+),(?: riding .*,)* Aspect of Moradeim enters from the (\w+)\.$</string>
                            <string>^The wind whips around you as (\w+)(?:, riding .*,)* enters from the (\w+)\.$</string>
                            <string>^The room noticeably brightens as (\w+) enters from the (\w+), (?:his|her) footsteps leaving a momentarily glowing outline\.$</string>
                            <string>^The peaceful form of (\w+), riding .*, Aspect of Aryana enters from the (\w+)\.$</string>
                            <string>^(\w+), riding .*, plods carefully across the trenches from the (\w+)\.$</string>
                            <string>^(\w+) plods carefully across the trenches from the (\w+)\.$</string>
                            <string>^The room noticeably brightens as (\w+), riding .*, enters from the (\w+), (?:his|her) footsteps leaving a momentarily glowing outline\.$</string>
                            <string>^(\w+), riding .*, strolls in from the (\w+), a scattering of leaves trailing behind\.$</string>
                            <string>^A giant atlas bursts into view in front of you, and out of a swirling mass in the center of one of the pages tumbles (\w+), who reaches out and plucks the rapidly disappearing (atlas) from the air\.</string>
                            <string>^Your senses flare as a luminous green image drifts in from the (.*), its appearance sharpening to reveal (\w+)\.</string>
                            <string>^Your senses flare as a luminous green image drifts in from the (.*), its appearance sharpening to reveal (\w+), riding .*\.</string>
                            <string>^With a flash of amethyst, (\w+) enters from the (.*), the splendor of the Five Towers echoing with every step\.</string>
                            <string>^Your field of vision distorts slightly, as the image of (\w+) approaches from the (.*), taking on a reddish haze\.</string>
                            <string>^Your field of vision distorts slightly, as the image of (\w+), riding .* approaches from the (\w+), taking on a reddish haze\.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>1</integer>
                            <integer>1</integer>
                            <integer>1</integer>
                            <integer>1</integer>
                            <integer>1</integer>
                            <integer>1</integer>
                            <integer>1</integer>
                            <integer>1</integer>
                            <integer>1</integer>
                            <integer>1</integer>
                            <integer>1</integer>
                            <integer>1</integer>
                            <integer>1</integer>
                            <integer>1</integer>
                            <integer>1</integer>
                            <integer>1</integer>
                            <integer>1</integer>
                            <integer>1</integer>
                            <integer>1</integer>
                            <integer>1</integer>
                            <integer>1</integer>
                            <integer>1</integer>
                            <integer>1</integer>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>Exited</name>
                        <script>sub(matches[2]..&quot; &lt;red&gt;exited&lt;grey&gt; to &lt;gold&gt;&quot;..matches[3]..&quot;&lt;grey&gt;.&quot;)
local t = {
	north = &quot;N&quot;,
	south = &quot;S&quot;,
	east = &quot;E&quot;,
	west = &quot;W&quot;,
	northeast = &quot;NE&quot;,
	southeast = &quot;SE&quot;,
	northwest = &quot;NW&quot;,
	southwest = &quot;SW&quot;,
	[&quot;in&quot;] = &quot;IN&quot;,
	[&quot;out&quot;] = &quot;O&quot;,
}
if t[matches[3]] then matches[3] = t[matches[3]] end
if matches[2] == target then
	report(matches[2]..&quot; left &quot;..string.upper(matches[3]))
end
</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>^You feel the added electricity leave your body as (\w+), riding .*, leaves to the (\w+)\.$</string>
                            <string>^The room visibly dims as (\w+), riding .*, leaves to the (\w+), (?:his|her) footsteps leaving a momentarily glowing outline\.</string>
                            <string>^You feel the heat subside as (\w+), riding .*, heads out towards the (\w+), flames trailing behind (?:him|her)\.$</string>
                            <string>^(\w+) leaves to the (\w+)\.$</string>
                            <string>^(\w+), riding .*, leaves to the (\w+)\.$</string>
                            <string>^The soft glow suffusing (\w+) dims as (?:he|she) leaves to the (\w+)\.$</string>
                            <string>^(\w+), riding .*, Aspect of Aryana leaves to the (\w+), a feeling of peace leaving with (?:him|her)\.$</string>
                            <string>^(\w+) moves fluidly to the (\w+), water trailing behind\.$</string>
                            <string>^(\w+), riding .*, moves fluidly to the (\w+), water trailing behind\.$</string>
                            <string>^A few wayward leaves remain in the wake of (\w+) as (?:he|she) strolls out towards the (\w+)\.$</string>
                            <string>^The room begins to feel noticeably warmer as (\w+) leaves to the (\w+)\.$</string>
                            <string>^As (\w+), riding .*, stomps out towards the (\w+) several pebbles scatter across the ground\.$</string>
                            <string>^(\w+), Aspect of Moradeim leaves to the (\w+), a feeling of confusion leaving with (?:him|her)\.$</string>
                            <string>^You feel the added electricity leave your body as (\w+) leaves to the (\w+)\.$</string>
                            <string>^(\w+), riding .*, Aspect of Moradeim leaves to the (\w+), a feeling of confusion leaving with (?:him|her)\.$</string>
                            <string>^The wind begins to die down as (\w+), riding .*, heads off toward the (\w+)\.$</string>
                            <string>^The room visibly dims as (\w+) leaves to the (\w+), (?:his|her) footsteps leaving a momentarily glowing outline\.$</string>
                            <string>^(\w+), riding .*, plods carefully across the trenches to the (\w+)\.$</string>
                            <string>^(\w+) plods carefully across the trenches to the (\w+)\.$</string>
                            <string>^A few wayward leaves remain in the wake of (\w+), riding .*, as (?:he|she) strolls out towards the (\w+)\.$</string>
                            <string>^The room begins to feel noticeably warmer as (\w+), riding .*, leaves to the (\w+)\.$</string>
                            <string>^(\w+), Aspect of Aryana leaves to the (\w+), a feeling of peace leaving with (?:him|her)\.</string>
                            <string>^Screaming, (\w+) rushes away to the (.*)\.</string>
                            <string>^The image of (\w+) blurs, fading to a green nebula as (?:he|she) vanishes to the (.*)\.</string>
                            <string>^(\w+) fades to a faint outline of crimson before vanishing entirely to the (.*)\.</string>
                            <string>^The image of (\w+), riding .*, blurs, fading to a green nebula as (?:he|she) vanishes to the (.*)\.</string>
                            <string>^The wind begins to die down as (\w+) heads off toward the (.*)\.</string>
                            <string>^(\w+), riding .*, fades to a faint outline of crimson before vanishing entirely to the (\w+)\.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>1</integer>
                            <integer>1</integer>
                            <integer>1</integer>
                            <integer>1</integer>
                            <integer>1</integer>
                            <integer>1</integer>
                            <integer>1</integer>
                            <integer>1</integer>
                            <integer>1</integer>
                            <integer>1</integer>
                            <integer>1</integer>
                            <integer>1</integer>
                            <integer>1</integer>
                            <integer>1</integer>
                            <integer>1</integer>
                            <integer>1</integer>
                            <integer>1</integer>
                            <integer>1</integer>
                            <integer>1</integer>
                            <integer>1</integer>
                            <integer>1</integer>
                            <integer>1</integer>
                            <integer>1</integer>
                            <integer>1</integer>
                            <integer>1</integer>
                            <integer>1</integer>
                            <integer>1</integer>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>Entered with Followers</name>
                        <script>sub(matches[2]..&quot;,&quot;..matches[4]..&quot; &lt;green&gt;entered&lt;grey&gt; from &lt;gold&gt;&quot;..matches[3]..&quot;&lt;grey&gt;.&quot;)


</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>^(\w+) enters from the (\w+) following (\w+)\.$</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>Exited with Followers</name>
                        <script>sub(matches[2]..&quot;,&quot;..matches[4]..&quot; &lt;red&gt;exited&lt;grey&gt; from &lt;gold&gt;&quot;..matches[3]..&quot;&lt;grey&gt;.&quot;)


</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>^(\w+) leaves to the (\w+) following (\w+)\.$</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>Escape</name>
                        <script>sub(matches[2]..&quot; &lt;red&gt;escaped&lt;grey&gt;.&quot;)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>^(\w+) suddenly disappears in a flurry of red wind\.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>Escape interruptable</name>
                        <script>cecho(&quot;\n&quot;..matches[2]..&quot; &lt;red&gt;escaping&lt;grey&gt;, &lt;cyan&gt;interrupt them&lt;grey&gt;!&quot;)

</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>^(\w+) lifts (?:his|her) head upwards, growing very still as (?:he|she) gazes upon some unseen spot\.</string>
                            <string>^A black wind descends upon your surroundings, immediately forming itself around the body of (\w+)\. The vapour whips around (?:his|her) form and (?:his|her) body begins to dissipate\.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>1</integer>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                </TriggerGroup>
                <TriggerGroup isActive="no" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>Quests</name>
                    <script></script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList/>
                    <regexCodePropertyList/>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>slaves</name>
                        <script>if #path &lt;= 0 then quests.slaves.next(gmcp.Room.Info.num) end</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>The slave looks at you with hatred in his eyes, edging himself away.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>no slaves</name>
                        <script>if quests.slaves.on then
	quests.slaves.next(gmcp.Room.Info.num)
end</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>You have reached your destination.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>nigometh</name>
                        <script>send(&quot;nod nigometh&quot;)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>Nigometh tilts his head towards you slowly, giving you an appraising look.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>0</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>amulet+</name>
                        <script>send(&quot;g amulet&quot;)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>Marshy nesting grounds.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>0</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>amulet receiver</name>
                        <script>send(&quot;give amulet to hanael&quot;)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>An eerie crystalline grotto.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>0</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>pathing+</name>
                        <script>quest.moving = true
quest.lockm = true
quest.lockm_timer = os.time()</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>You start speedwalking.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>0</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>pathing done</name>
                        <script>send(&quot;queue eqbal ql&quot;)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>You are already there.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>0</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>pathing stop</name>
                        <script>quest.moving = false
quest.lockm = false
quest.lockm_timer = 0
</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>You stop speedwalking.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>0</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>pathing end</name>
                        <script>quest.moving = false
quest.lockm = false
quest.lockm_timer = 0

if table.is_empty(gmcp.Room.Players) then
	quest.here = true
else
	quest.here = false
end</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>You have reached your destination.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>0</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>pathing timer</name>
                        <script>quest.lockm = true
quest.lockm_timer = os.time()</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>You cannot find a new path so soon.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>0</integer>
                        </regexCodePropertyList>
                    </Trigger>
                </TriggerGroup>
                <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>who group no imap</name>
                    <script></script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName>who group no imap</packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList/>
                    <regexCodePropertyList/>
                    <TriggerGroup isActive="no" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>who_grouping</name>
                        <script></script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList/>
                        <regexCodePropertyList/>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>who lines</name>
                            <script>-- Is the room already in the list? If not, add it and initialize room attributes
if not who_list[matches[4]] then 
   who_list[matches[4]] = {}
   who_list[matches[4]].names = {}
   who_list[matches[4]].roomname = matches[4]
end

-- Now that we know the room exists, add the name
table.insert(who_list[matches[4]].names,matches[2])

selectCaptureGroup(3)
replace(&quot;&quot;)
mmp.roomEcho(matches[4])

if not player(matches[2]) then
	dbp.make(matches[2],true)
else
	if dbp.gcirc(matches[2]) == &quot;A&quot; then who_A = who_A + 1 end
	if dbp.gcirc(matches[2]) == &quot;M&quot; then who_M = who_M + 1 end
	if dbp.gcirc(matches[2]) == &quot;D&quot; then who_D = who_D + 1 end
end</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>39</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>^\s+(\w+) - (.*) - (.*)$</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>end of who</name>
                            <script>expandAlias(&quot;groups&quot;)
disableTrigger(&quot;who_grouping&quot;)

cecho(&quot;\nAM: &quot;..string.lpad(tostring(who_A),4,&quot; &quot;)..&quot;  M: &quot;..string.lpad(tostring(who_M),4,&quot; &quot;)..&quot;  D: &quot;..string.lpad(tostring(who_D),4,&quot; &quot;))
</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>39</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>^There are \d+ players on this plane.*\.$</string>
                                <string>^There are \d+ players in this world.*\.$</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>1</integer>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                    </TriggerGroup>
                </TriggerGroup>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>quest</name>
                    <script>send(&quot;g claymore&quot;)</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>A mighty bejeweled claymore sword is here, glittering in the light.</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>0</integer>
                    </regexCodePropertyList>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>quest-</name>
                    <script>-- send(&quot;give claymore to boy&quot;)</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>A teary-eyed young boy stands sobbing here.</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>0</integer>
                    </regexCodePropertyList>
                </Trigger>
                <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>Arrows</name>
                    <script></script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList/>
                    <regexCodePropertyList/>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>Wooden</name>
                        <script>if matches[2] then
	table.remove( arrows.queue, 1 )
	arrows.next()
end</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>You gather together the commodities to fashion your wooden arrows.</string>
                            <string>You carefully craft the arrow shafts.</string>
                            <string>You attach the fletching to the shaft.</string>
                            <string>Slowly you craft the arrowhead.</string>
                            <string>^A sense of satisfaction comes as you attach the arrowheads to your arrows, finishing your (wooden) arrows\.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                            <integer>3</integer>
                            <integer>3</integer>
                            <integer>3</integer>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>Razor</name>
                        <script>if matches[2] then
	table.remove( arrows.queue, 1 )
	arrows.next()
end</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>You gather together the commodities to fashion some razor arrows.</string>
                            <string>You slowly straighten the wooden shafts.</string>
                            <string>You carefully attach bright blue fletching to the end of the wooden shafts.</string>
                            <string>You sharpen the arrowheads into bladed points.</string>
                            <string>^A sly grin crosses your face as you attach the bladed arrowheads to the shafts, finishing the (razor) arrows\.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                            <integer>3</integer>
                            <integer>3</integer>
                            <integer>3</integer>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>Spiral</name>
                        <script>if matches[2] then
	table.remove( arrows.queue, 1 )
	arrows.next()
end</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>You slowly gather together the commodities needed to fashion some spiral arrows.</string>
                            <string>You carve intricate notches into the shafts of the arrows.</string>
                            <string>You slowly connect the pale green fletching to the twisted arrow shaft.</string>
                            <string>You fashion some strangely shaped arrowheads.</string>
                            <string>^A sense of satisfaction overcomes you as you attach the arrowheads to the twisted shafts, finishing some (spiral) arrows\.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                            <integer>3</integer>
                            <integer>3</integer>
                            <integer>3</integer>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>Barbed</name>
                        <script>if matches[2] then
	table.remove( arrows.queue, 1 )
	arrows.next()
end</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>You gather some commodities needed to fashion a group of barbed arrows.</string>
                            <string>You carve many straight arrow shafts.</string>
                            <string>You bind black fletching to the shafts.</string>
                            <string>You craft some arrowheads with wicked barbs.</string>
                            <string>^You snigger evilly as you attach the wicked arrowheads to the straight shafts, completing the (barbed) arrows\.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                            <integer>3</integer>
                            <integer>3</integer>
                            <integer>3</integer>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>Pitched</name>
                        <script>if matches[2] then
	table.remove( arrows.queue, 1 )
	arrows.next()
end</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>You quickly gathers together the commodities needed to fashion many pitched arrows.</string>
                            <string>You straighten the wood into delicate shafts.</string>
                            <string>You bond bright red fletching to the delicate shafts.</string>
                            <string>You coat the arrowheads in some flammable compounds.</string>
                            <string>^You plug your nose as you connect the sticky arrowheads to the delicate shafts, finishing the (pitched) arrows\.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                            <integer>3</integer>
                            <integer>3</integer>
                            <integer>3</integer>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>Broad</name>
                        <script>if matches[2] then
	table.remove( arrows.queue, 1 )
	arrows.next()
end</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>You get together the commodities needed to make some broad arrows.</string>
                            <string>You create many very short wooden shafts.</string>
                            <string>You join wide white fletching to the shortened shafts.</string>
                            <string>You craft some blunt steel arrowheads.</string>
                            <string>^Grinning, you attach the blunt arrowhead to the short shaft, completing the (broad) arrows\.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                            <integer>3</integer>
                            <integer>3</integer>
                            <integer>3</integer>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>Net</name>
                        <script>if matches[2] then
	table.remove( arrows.queue, 1 )
	arrows.next()
end</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>You gently lay out the commodities needed to create some net arrows.</string>
                            <string>You carve a thick arrow shaft.</string>
                            <string>You connect large feathered fletching to the thick arrow shaft.</string>
                            <string>You attach a fist sized bundle of fibers to the end of the shaft.</string>
                            <string>^Exhaling deeply, you bind the bundle of fibers to the thick arrow shaft, finishing some (net) arrows\.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                            <integer>3</integer>
                            <integer>3</integer>
                            <integer>3</integer>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                </TriggerGroup>
                <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>Smithing</name>
                    <script></script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList/>
                    <regexCodePropertyList/>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>prompt</name>
                        <script>if smithing.on then
	cecho(&quot; &lt;green&gt;Smithing&lt;grey&gt;&quot;)
end</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>return isPrompt()</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>4</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>wrong location</name>
                        <script>if smithing.on then
	cecho(&quot;\n&lt;red&gt;Wrong Location! &lt;grey&gt;Moving to Forge!&quot;)
	if dbp.gcirc(me) then
		local location =	smithing.defaults[dbp.gcirc(me)]
		local address = smithing.locations[location]
		send(&quot;path find &quot;..address)
		send(&quot;path go&quot;)
	else
		send(&quot;path find &quot;..smithing.default.loc)
		send(&quot;path go&quot;)
	end
end</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>There is no forge here for you to add any ores to.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>correct location</name>
                        <script>if smithing.on then
	send(&quot;fire forge&quot;)
end</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>You have reached your destination.</string>
                            <string>You are already there.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                            <integer>3</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>mounted</name>
                        <script>if smithing.on then
	send(&quot;dismount&quot;)
end</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>You cannot smith while mounted.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>dismount</name>
                        <script>if smithing.on then
	smithing.iterate()
end</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>^You step down off of .*\.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>coal-</name>
                        <script>if smithing.on then
	send(&quot;put coal in forge&quot;)
end</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>There is no coal in the forge.</string>
                            <string>The forge is dark and cold.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                            <integer>3</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>coal+</name>
                        <script>if smithing.on then
	send(&quot;fire forge&quot;)
end</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>You put a piece of coal into a sturdy iron forge.</string>
                            <string>You put the coal in the forge, and it is consumed by the raging inferno.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                            <integer>3</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>forge+</name>
                        <script>smithing.forge_fired = true
if smithing.on then
	smithing.next()
end</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>You light the forge, and work the bellows until the fire within is burning brightly.</string>
                            <string>The forge is already fired and burning strongly.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                            <integer>3</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>forge-</name>
                        <script>smithing.forge_fired = false
if smithing.on then
	send(&quot;fire forge&quot;)
end</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>The fires in the forge start to flicker and then burn out.</string>
                            <string>You must fire up the forge before you can make that.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                            <integer>3</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>material-</name>
                        <script></script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>The forge does not have enough materials for you to smith that.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>material+</name>
                        <script>if smithing.on then
	table.remove( smithing.item, 1 )
	smithing.iterate()
end</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>^You place an ingot of (.*) on the forge, allowing the intense heat to slowly permeate the material as you pound it out flat and set it to one side of the forge's surface\.</string>
                            <string>You place the ingots of (.*) on the forge, allowing the intense heat to slowly permeate the material as you pound it out flat and set it to one side of the forge's surface\.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>1</integer>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>forging+</name>
                        <script>if smithing.on then
	table.remove( smithing.item, 1 )
	smithing.iterate()
end</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>^You lay the commodities out before you on the forge, and stoke the fire in the forge. With a resolved air about you, you begin the long process in constructing a quality piece of workmanship\.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>forging-</name>
                        <script></script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>^Sweat flies from your brow as you smith (.*)\.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>max+</name>
                        <script>if smithing.on then
	table.remove( smithing.item, 1 )
	smithing.iterate()
end</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>^Your eye for detail tells you that (.*) cannot be refined any further, and has reached the maximum level of perfection that may be achieved with it\.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>get</name>
                        <script>if smithing.on then
	-- smithing.iterate()
end</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>^You take .* from a sturdy iron forge\.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>stowed</name>
                        <script>if smithing.on then
	table.remove( smithing.queue, 1 )
	smithing.next()
end</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>^You put .* into .*\.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>Smithing Yo</name>
                        <script></script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>There is already something being worked on in the forge.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>0</integer>
                        </regexCodePropertyList>
                    </Trigger>
                </TriggerGroup>
                <Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>landsense-</name>
                    <script>send(&quot;landsense all&quot;)</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>Your landsense has faded.</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>0</integer>
                    </regexCodePropertyList>
                </Trigger>
                <Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>toxins</name>
                    <script>send(&quot;queue eqbal preserve toxin trioxin in 114442|elixlist flask&quot;)</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>You carefully prepare a dose of trioxin and pour it into a quicksilver flask.</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>0</integer>
                    </regexCodePropertyList>
                </Trigger>
                <Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>preserve+</name>
                    <script>expandAlias(&quot;queue eqbal preserve toxin &quot;..matches[2]..&quot; in &quot;..toxit.vbelt)</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>^You carefully prepare a dose of (.*) and pour it into .*vialbelt.*\.</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>1</integer>
                    </regexCodePropertyList>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>preserve-</name>
                    <script>if next(toxit.clist) ~= nil then
	-- next grab the top of working list
	toxit.current = toxit.clist[1]
	table.remove(toxit.clist,1)
	send(&quot;queue eqbal preserve toxin &quot;..toxit.current..&quot; in &quot;..toxit.vbelt)
else
	toxit.current = &quot;&quot;
	toxit.clist = {}
	toxit.vbelt = &quot;&quot;
end</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>^.*vialbelt.* already has as much as it can hold of that toxin!</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>1</integer>
                    </regexCodePropertyList>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>portal out</name>
                    <script>cecho(&quot;\n&lt;red&gt;PORTAL WAND OUT: &lt;cyan&gt;&quot;..matches[2]..&quot;&lt;grey&gt;, drop a &lt;red&gt;Hazeward&lt;grey&gt; to kill their joy now!&quot;)
cecho(&quot;\n&lt;red&gt;PORTAL WAND OUT: &lt;cyan&gt;&quot;..matches[2]..&quot;&lt;grey&gt;, drop a &lt;red&gt;Hazeward&lt;grey&gt; to kill their joy now!&quot;)
cecho(&quot;\n&lt;red&gt;PORTAL WAND OUT: &lt;cyan&gt;&quot;..matches[2]..&quot;&lt;grey&gt;, drop a &lt;red&gt;Hazeward&lt;grey&gt; to kill their joy now!&quot;)</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>^(\w+) draws a circle in the air with (?:his|her) wand, and a fiery outline appears\.</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>1</integer>
                    </regexCodePropertyList>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>shardfall, count</name>
                    <script>report( multimatches[1][2]..&quot; in area&quot;)</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>1</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>You detect (\d+) blue shard(s)* in the area.</string>
                        <string>Equilibrium Taken: </string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>1</integer>
                        <integer>0</integer>
                    </regexCodePropertyList>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>chameleon- [me]</name>
                    <script>deleteLine()</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>You caress your chameleon tattoo and assume a new identity.</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>3</integer>
                    </regexCodePropertyList>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>mass+ [me]</name>
                    <script>sub(&quot;Mass up.&quot;)</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>Your body grows extremely dense and heavy as the mass salve infuses your skin.</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>3</integer>
                    </regexCodePropertyList>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>mass- [me]</name>
                    <script>sub(&quot;Mass down.&quot;)</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>You feel your density return to normal.</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>3</integer>
                    </regexCodePropertyList>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>deleteLines</name>
                    <script>deleteLine()</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>Adrenaline flows in your veins and your wounds hurt less.</string>
                        <string>You feel your health and mana replenished.</string>
                        <string>^A lash of black energy whips out from your armour, striking (\w+)\.</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>3</integer>
                        <integer>3</integer>
                        <integer>1</integer>
                    </regexCodePropertyList>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>wipe+</name>
                    <script>sub(matches[2]..&quot; wiped &lt;blue_violet&gt;&quot;..matches[3]..&quot;&lt;stop&gt;.&quot;)</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>^(\w+) carefully wipes all the toxins off of (.*)\.</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>1</integer>
                    </regexCodePropertyList>
                </Trigger>
                <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>emgr</name>
                    <script></script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList/>
                    <regexCodePropertyList/>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>enemy+</name>
                        <script>table.insert(emgr.e,matches[2])</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>^(\w+) is now one of your enemies\.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>enemy-</name>
                        <script>table.remove(emgr.e, table.index_of(emgr.e, matches[2]))</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>^You declare that (\w+) will no longer be one of your enemies\.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>enemy all-</name>
                        <script>emgr.e = {}</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>In a moment of forgiveness, you declare that you have no enemies.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="yes" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>cannot enemy</name>
                        <script>local str = &quot;&quot;

str = str..&quot;unally &quot;..matches[2]..sp
str = str..&quot;enemy &quot;..matches[2]..sp

msend(str)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#44f2ff</mFgColor>
                        <mBgColor>#000000</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>^(\w+) is currently an ally. You must unally him before you can make him an enemy.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="yes" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>lust cannot enemy</name>
                        <script></script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#000000</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>^You find \w+ far too irresistable to declare an enemy\.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>ally+</name>
                        <script>table.insert(emgr.a,matches[2])</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>^(\w+) is now one of your allies\.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>ally-</name>
                        <script>table.remove(emgr.a, table.index_of(emgr.a, matches[2]))</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>You declare that (\w+) will no longer be one of your allies\.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>ally all-</name>
                        <script>emgr.a = {}</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>With an indignant grunt, you remove everyone from your list of allies.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>0</integer>
                        </regexCodePropertyList>
                    </Trigger>
                </TriggerGroup>
            </TriggerGroup>
            <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                <name>Classes</name>
                <script></script>
                <triggerType>0</triggerType>
                <conditonLineDelta>0</conditonLineDelta>
                <mStayOpen>0</mStayOpen>
                <mCommand></mCommand>
                <packageName></packageName>
                <mFgColor>#ff0000</mFgColor>
                <mBgColor>#ffff00</mBgColor>
                <mSoundFile></mSoundFile>
                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                <regexCodeList/>
                <regexCodePropertyList/>
                <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>antimagick</name>
                    <script></script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList/>
                    <regexCodePropertyList/>
                    <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>Predator</name>
                        <script></script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList/>
                        <regexCodePropertyList/>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>prompt</name>
                            <script>predator.n_limb = &quot;&quot;
predator.n_name = &quot;&quot;
predator.prompt(string.len(line))</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>return isPrompt()</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>4</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>Defences</name>
                            <script></script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList/>
                            <regexCodePropertyList/>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>hide+</name>
                                <script>predator.defences.hide = true</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You conceal yourself using all the guile you possess.</string>
                                    <string>You are already hidden.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>regen+</name>
                                <script>predator.defences.regen = true</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You begin to concentrate on regeneration of your wounds.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>regen-</name>
                                <script>predator.defences.regen = false</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You call a halt to the regenerative process.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>pacing+</name>
                                <script>predator.defences.pacing = true</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You begin to pace yourself and prepare for sudden bursts of exertion.</string>
                                    <string>You are already pacing.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>pacing-</name>
                                <script>predator.defences.pacing = false</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You are no longer pacing yourself.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>mask+</name>
                                <script>predator.defences.mask = true</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>^You pull .*mask.* across your face, securing it near the hinge of your jaw.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>mask-</name>
                                <script>predator.defences.mask = false</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You reach up and release the clasp holding your mask in place, and reveal your face.</string>
                                    <string>You must first secure your mask.</string>
                                    <string>Your aggressive action causes your mask to fall away.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                    <integer>3</integer>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>windwalk+</name>
                                <script>predator.defences.windwalk = true</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You begin balancing with more weight on the balls of your feet, making your steps almost inaudible.</string>
                                    <string>You are already windwalking.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>constitution+</name>
                                <script>predator.defences.constitution = true</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You clench the muscles in your stomach, determined to assert your superior constitution.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>windwalk-</name>
                                <script>predator.defences.windwalk = false</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You cease walking with silence.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>nightsight+</name>
                                <script>predator.defences.nightsight = true</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>Your vision sharpens with light as you gain night sight.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>avert+</name>
                                <script>predator.defences.aversion = true</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You avert your gaze from directly glancing above the top of your mask, instead looking down at the ground in front of you.</string>
                                    <string>You are already averting your gaze.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>avert-</name>
                                <script>predator.defences.aversion = false</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You begin looking straight over the top of your mask again.</string>
                                    <string>Your aggressive action causes your mask to fall away.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>dodging+</name>
                                <script>predator.defences.dodging = true</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You will now attempt to divert your enemy's attacks to another target.</string>
                                    <string>You are already attempting to divert your opponent's attacks.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>dodging-</name>
                                <script>predator.defences.dodging = true</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You are already attempting to divert your opponent's attacks.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>obfuscate+</name>
                                <script>predator.defences.obfuscate = true</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>Retrieving a pinch of powder, you hold in your palm gently, blow it in the air around you, and watch as it settles on your shoulders and head.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>obfuscate-</name>
                                <script>predator.defences.obfuscate = false</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You stop obfuscating your chemical makeup.</string>
                                    <string>Your aggressive action causes your mask to fall away.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                        </TriggerGroup>
                        <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>Darts</name>
                            <script></script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList/>
                            <regexCodePropertyList/>
                            <Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>done</name>
                                <script>send(&quot;ins all | fashion darts&quot;)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You secure a sharp, weighted steel head on each of the darts for aerodynamic balance, and gather the finished product.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>dart begin</name>
                                <script>predator.shift = {}
enableTrigger(&quot;dart collect&quot;)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>1</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>^Dart Type[ ]+Quantity$</string>
                                    <string>---------------------------</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>1</integer>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>dart collect</name>
                                <script>predator.shift[matches[2]] = tonumber(matches[3])</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>^(\w+)[ ]+(\d+)$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>dart end</name>
                                <script>predator.rearm(predator.shift)
predator.shift = {}
disableTrigger(&quot;dart collect&quot;)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>1</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>^You are currently using (.*) darts\.</string>
                                    <string>^Your backup are (.*) darts\.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>1</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                        </TriggerGroup>
                        <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>Twinshot</name>
                            <script></script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList/>
                            <regexCodePropertyList/>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>twinshot capture</name>
                                <script>trax.pending_toxin_name = matches[2]
trax.pending_toxin = matches[3]
predator.tshot_one = matches[3]
predator.tshot_two = matches[4]</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>^Twinshot (\w+) (\w+) (\w+) added to your EQBAL queue.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>twinshot start</name>
                                <script>predator.tshot_true = true</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>^You dextrously flick your wrist forward, two swift darts flying towards (\w+)\.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>twinshot strike</name>
                                <script>if predator.tshot_one ~= &quot;&quot; then
	predator.tshot_one = &quot;&quot;
	trax.process_toxin(matches[2],predator.tshot_two)
else
	predator.tshot_two = &quot;&quot;
	trax.process_toxin(&quot;&quot;,&quot;&quot;)
end</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>^Your dart strikes (\w+), digging into (?:his|her) flesh\.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>twinshot failed</name>
                                <script>predator.tshot_one = &quot;&quot;
predator.tshot_two = &quot;&quot;</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>^The dart bounces off (\w+)'s shield and falls to the ground\.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                        </TriggerGroup>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>stance-</name>
                            <script>predator.stance = &quot;none&quot;</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>You quickly flow out of your stance.</string>
                                <string>You are not in a stance as it is.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>3</integer>
                                <integer>3</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>stance+</name>
                            <script>predator.stance = matches[2]
local n = &quot;&quot;
if predator.c[matches[2]] then n = &quot;&lt;&quot;..predator.c[matches[2]]..&quot;&gt;&quot; else n = &quot;&lt;grey&gt;&quot; end
sub(&quot;[ &quot;..n..matches[2]..&quot;&lt;grey&gt;&quot;..&quot; ]&quot;)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>^You quickly flow into the (.*) stance\.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>pre-toxin</name>
                            <script>trax.process_toxin(target,matches[2])</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>^You rub some (.*) on .*sitara.*\.$</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>strike+</name>
                            <script>if matches[3] == &quot;chin&quot; then matches[3] = &quot;head&quot; end
trax.process_limb(matches[2],matches[3])

predator.n_limb = matches[3]
predator.n_name = matches[2]

trax.pending_toxin_name = matches[2]
sub(&quot;You strike &quot;..matches[2]..&quot;'s &lt;medium_turquoise&gt;&quot;..matches[3]..&quot;&lt;grey&gt;.&quot;)

</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>^You step in quickly with a slash across (\w+)'s (torso)\.</string>
                                <string>^Taking a step back, you lunge forward with a hooking cut across (\w+)'s (.*)\.</string>
                                <string>^You drive forth with the tip of your knife, piercing (\w+)'s (.*)\.</string>
                                <string>^With a pivot and kick, you spin into the air, drawing blood from (\w+)'s (.*) with two separate cuts before touching the ground\.</string>
                                <string>^You launch upwards into a swift backflip, catching (\w+) under the (chin) with a brutal kick\.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>1</integer>
                                <integer>1</integer>
                                <integer>1</integer>
                                <integer>1</integer>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>feint+</name>
                            <script></script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>^You feint to (\w+)'s (.*), and (?:he|she) drops (?:his|her) guard\.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>lovers</name>
                            <script>trax.give(matches[2],&quot;lovers&quot;)
sub(matches[2]..&quot; &lt;green&gt;lovers [predator].&quot;)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>^You grin inwardly as (\w+) looks at you with complete adoration\.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>refresh body cooldown</name>
                            <script></script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>You are unable to refresh your body again so soon.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>3</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>refresh body-</name>
                            <script></script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>You take a deep breath, forcing your wounds to heal rapidly as you exhale.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>3</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>refresh body+</name>
                            <script></script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>323[100] 340[91] eb db 0 77.33 0 You are again able to focus on refreshing your body.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>3</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>shrug+</name>
                            <script></script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>^You prepare to shrug off the effects of (.*)\.$</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>shrug cooldown+</name>
                            <script></script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>You are again able to focus on shrugging a toxin.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>3</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>shrug cooldown-</name>
                            <script></script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>You aren't yet able to focus on shrugging a different toxin.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>3</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>shrug-</name>
                            <script></script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>You shrug off the effects of the toxin.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>3</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>sitara-</name>
                            <script>send(&quot;queue eqbal wield sitara&quot;)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>You are not wielding a sitara.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>3</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>prone+</name>
                            <script>trax.give(matches[2],&quot;prone&quot;)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>^You step forward, hooking your leg around (\w+)'s calf while simultaneously driving your elbow into (?:his|her) chest and knocking (?:his|her) to the ground\.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="yes" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>absorption peak</name>
                            <script></script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#a2ff12</mFgColor>
                            <mBgColor>#000000</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>A pitched hum emanates from your sitara, and you feel that it has reached its peak absorption of magickal energies.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>3</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>raze-</name>
                            <script>set(matches[2],&quot;rebounding&quot;,false)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>^You raze (\w+)'s aura of rebounding with .*sitara.*\.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>shield-</name>
                            <script>set(matches[2],&quot;shield&quot;,false)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>^You raze (\w+)'s translucent shield with .*sitara.*\.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>not prone</name>
                            <script></script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>^Your target must be incapacitated in order to slit (?:his|her) throat.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>gouge+</name>
                            <script>trax.give(matches[2],&quot;disloyalty&quot;)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>^With a quick maneuver, you drag the edge of your knife across (\w+)'s face, scarring (?:his|her) face\.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>mutilate</name>
                            <script>if predator.n_limb ~= &quot;&quot; and predator.n_name ~= &quot;&quot; then
	local short = predator.n_limb
	trax.give(predator.n_name,&quot;crippled &quot;..short)
	trax.give(predator.n_name,&quot;damaged &quot;..short)
end</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>Your sitara carves through meat and tendon, leaving your foe's limb mutilated.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>3</integer>
                            </regexCodePropertyList>
                        </Trigger>
                    </TriggerGroup>
                    <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>Ranger</name>
                        <script></script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList/>
                        <regexCodePropertyList/>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>lockup+</name>
                            <script>if matches[2] == &quot;yourself&quot; then matches[2] = me end
cecho(&quot;\n&lt;red&gt;LOCKUP = LUP&quot;)
set(matches[2],&quot;lockup&quot;,true)
set(matches[2],&quot;lockup_time&quot;,os.time())</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>^You slam the blunt end of .*glaive.* into (\w+)'s knees\.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>pierce</name>
                            <script>
set(matches[2],&quot;rebounding&quot;,false)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>^You jab .*glaive.* towards (\w+), piercing through and shattering (?:his|her) aura of rebounding\.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>pierce-</name>
                            <script>if matches[2] == &quot;yourself&quot; then matches[2] = me end
set(matches[2],&quot;shield&quot;,false)
set(matches[2],&quot;rebounding&quot;,false)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>^You jab .*glaive.* towards (\w+) but tumble forward slightly as it meets no resistance\.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>pierce shield+</name>
                            <script>set(matches[2],&quot;shield&quot;,false)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>^You jab .*glaive.* towards (\w+), piercing through and shattering (?:his|her) translucent shield\.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>unwielded+</name>
                            <script>local str = &quot;&quot;

str = str..&quot;unwield left&quot;..sp
str = str..&quot;unwield right&quot;..sp
str = str..&quot;wield &quot;.._l..sp
str = str..&quot;wield &quot;.._r..sp

send(str)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>You must be wielding a glaive in order to do that.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>3</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>defences</name>
                            <script></script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList/>
                            <regexCodePropertyList/>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>powersoul+</name>
                                <script>ranger.defences.powersoul = true</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You lift your head as a surge of energy rushes through your arms.</string>
                                    <string>You have gained the powersoul defence.</string>
                                    <string>You are drawing enhanced speed from the power in your soul.</string>
                                    <string>Your soul is already empowered.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                    <integer>3</integer>
                                    <integer>3</integer>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>powersoul-</name>
                                <script>ranger.defences.powersoul = false</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You lower your head and the surge of energy slowly fades.</string>
                                    <string>You have lost the powersoul defence.</string>
                                    <string>Your soul is already not empowered.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                    <integer>3</integer>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>counter+</name>
                                <script>ranger.defences.counter = true</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You begin using a blade-tipped glaive to counter after a successful parry.</string>
                                    <string>You have gained the counter defence.</string>
                                    <string>You will counter after a successful parry.</string>
                                    <string>You are already prepared to counterattack after a successful parry.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                    <integer>3</integer>
                                    <integer>3</integer>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>counter-</name>
                                <script>ranger.defences.counter = false</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You will no longer attempt to counter after a successful parry.</string>
                                    <string>You have lost the counter defence.</string>
                                    <string>You were not prepared to counterattack anyway!</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                    <integer>3</integer>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>balancing+</name>
                                <script>
ranger.defences.balancing = true</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You move onto the balls of your feet and begin to concentrate on balance.</string>
                                    <string>You have gained the balancing defence.</string>
                                    <string>You're already balancing.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                    <integer>3</integer>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>balancing-</name>
                                <script>ranger.defences.balancing = false</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You cease to balance on the balls of your feet.</string>
                                    <string>You have lost the balancing defence.</string>
                                    <string>You aren't balancing.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                    <integer>3</integer>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>barkskin+</name>
                                <script>ranger.defences.barkskin = true</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You concentrate for a moment, and your skin becomes rough and thick like tree bark.</string>
                                    <string>You have gained the barkskin defence.</string>
                                    <string>Your skin is already as tough as bark.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                    <integer>3</integer>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>weathering+</name>
                                <script>ranger.defences.weathering = true</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>A brief shiver runs through your body.</string>
                                    <string>You have gained the weathering defence.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>fitness+</name>
                                <script>
ranger.defences.fitness = true</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You inhale deeply, allowing the air to fill your mighty lungs.</string>
                                    <string>You have gained the fitness defence.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                        </TriggerGroup>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>lockup-</name>
                            <script>if matches[2] == &quot;yourself&quot; then matches[2] = me end
cecho(&quot;\n&lt;red&gt;LOCKUP = LUP&quot;)
set(matches[2],&quot;lockup&quot;,false)
set(matches[2],&quot;lockup_time&quot;,0)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>^(\w+) stumbles slightly as the feeling returns to (?:his|her) knees.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>pre-toxin</name>
                            <script>if class == &quot;Ranger&quot; then
	trax.process_toxin(target,matches[2])
end</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>^You rub some (\w+) on .*glaive.*\.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>qjab+</name>
                            <script>trax.pending_toxin_name = matches[2]
sub(&quot;You qjab &quot;..matches[2]..&quot;.&quot;)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>^You jab forward with .*glaive.* at (\w+), stepping in towards (?:him|her)\.</string>
                                <string>^Now within close quarters, you aim a short, quick jab at (\w+) with .*glaive.*\.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>1</integer>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>qjab targetted+</name>
                            <script>if class == &quot;Ranger&quot; then
	if matches[2] == &quot;yourself&quot; then matches[2] = me end

	trax.process_limb(matches[2],matches[3])
	trax.pending_toxin_name = matches[2]
	sub(&quot;You qjab &quot;..matches[2]..&quot;'s &quot;..matches[3]..&quot;.&quot;)
end</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>^You jab forward with a blade-tipped glaive at (\w+)'s (.*), stepping in towards (?:him|her)\.</string>
                                <string>^Now within close quarters, you aim a short, quick jab at (\w+)'s (.*) with .*glaive.*\.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>1</integer>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>arrow</name>
                            <script>ranger.primary = matches[2]</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>^You will now use (.*) arrows\.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>arrow multiline</name>
                            <script>if ranger.primary == &quot;&quot; then
	ranger.primary = matches[2]
else
	ranger.secondary = matches[2]
end</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>1</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>^The (.*) arrows have been positioned for easy reach\.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>inspect quiver</name>
                            <script>ranger.primary = &quot;&quot;
ranger.secondary = &quot;&quot;</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>You inspect the contents of your quiver:</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>3</integer>
                            </regexCodePropertyList>
                        </Trigger>
                    </TriggerGroup>
                </TriggerGroup>
                <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>demonic</name>
                    <script></script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList/>
                    <regexCodePropertyList/>
                    <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>Deathknight</name>
                        <script></script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList/>
                        <regexCodePropertyList/>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>prompt</name>
                            <script>if class == &quot;Deathknight&quot; then
	trax.process_toxin(&quot;&quot;,&quot;&quot;)
	deathknight.prompt(string.len(line))
end</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>return isPrompt()</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>4</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>dsl+ targeted</name>
                            <script>if class == &quot;Deathknight&quot; then
	if matches[2] == &quot;yourself&quot; then matches[2] = me end

	trax.process_limb(matches[2],matches[3])
	trax.pending_toxin_name = matches[2]
	sub(&quot;You dsl &quot;..matches[2]..&quot;'s &quot;..matches[3]..&quot;.&quot;)
end</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>^Lightning-quick, you jab (\w+)'s (.*) with .*\.</string>
                                <string>^You slash into (\w+)'s (.*) with .*\.</string>
                                <string>^You swing .* at (\w+)'s (.*) with all your might\.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>1</integer>
                                <integer>1</integer>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>dsl+ untargeted</name>
                            <script>trax.process_limb(&quot;&quot;,&quot;&quot;)
trax.pending_toxin_name = matches[2]
sub(&quot;You dsl &quot;..matches[2]..&quot;.&quot;)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>^You slash viciously into (\w+) with .*\.</string>
                                <string>^With a lightning-quick motion, you slash (\w+) with .*\.</string>
                                <string>^You swing .* at (\w+) with a powerful strike\.$</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>1</integer>
                                <integer>1</integer>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>pre-toxin</name>
                            <script>if class == &quot;Deathknight&quot; then
	trax.process_toxin(target,matches[2])
end</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>^You rub some (.*) on .*\.$</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>lunge+</name>
                            <script>sub(&quot;&lt;red&gt;&quot;..matches[1])</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>^With a cry of delight you skewer (\w+) on your blade, who falls to the ground, writhing and screaming as the cruel metal is driven deep into (?:his|her) flesh\.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>bloodscent+</name>
                            <script>if dbp.gcirc(me) == dbp.gcirc(matches[2]) then
else
	report(&quot;[Bloodscent]: &quot;..matches[2]..&quot; entered.&quot;)
end</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>^You sense through your hound that (\w+) has entered the area\.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>bloodscent-</name>
                            <script>if dbp.gcirc(me) == dbp.gcirc(matches[2]) then
else
	report(&quot;[Bloodscent]: &quot;..matches[2]..&quot; left.&quot;)
end</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>^You sense through your hound that (\w+) has left the area\.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>bloodscent on</name>
                            <script>report(&quot;Bloodscent On (&quot;..gmcp.Room.Info.area..&quot;).&quot;)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>Your hound perks up its ears and raises its nose high as it begins to scent people entering the area.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>3</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>bloodscent off</name>
                            <script>report(&quot;Bloodscent Off&quot;)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>You order your hound to cease scenting people who enter the area.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>3</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>engage-</name>
                            <script></script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>You relax your engagement as your foe is no longer present.</string>
                                <string>^(\w+) turns from you and you dive at (?:his|her) legs, knocking (?:him|her) to the ground, entangling (?:him|her)\.</string>
                                <string>You drop back and ease the engagement.</string>
                                <string>You are not engaging anyone.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>3</integer>
                                <integer>1</integer>
                                <integer>3</integer>
                                <integer>3</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>engage+</name>
                            <script></script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>^You move in to engage (\w+)\.</string>
                                <string>^You are already engaging (\w+)\.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>1</integer>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>impaled</name>
                            <script></script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>You cannot do that while your weapon remains deep in your victims gut.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>3</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>impale+</name>
                            <script></script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>^You draw your blade back and plunge it deep into the body of (\w+) impaling (?:him|her) to the hilt\.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>impale-</name>
                            <script></script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>^With a look of agony on (?:his|her) face, (\w+) manages to writhe (?:him|her)self free of the weapon which impaled (?:him|her)\.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>raze rebounding</name>
                            <script>if class == &quot;Deathknight&quot; then
	set(matches[2],&quot;rebounding&quot;,false)
end</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>^You raze (\w+)'s aura of rebounding with .*\.$</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>raze shield</name>
                            <script>if class == &quot;Deathknight&quot; then
	set(matches[2],&quot;shield&quot;,false)
end</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>^You raze (\w+)'s translucent shield with .*\.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>soulstorm</name>
                            <script>if class == &quot;Deathknight&quot; then
	trax.process_toxin(&quot;&quot;,&quot;&quot;)
	trax.take(matches[2],matches[3])
	sub(&quot;Soulstorm &quot;..matches[2]..&quot; &quot;..matches[3]..&quot;.&quot;)
end</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>^You focus on your essence and send its portion storming into (\w+)'s body, curing the effects of (\w+) and causing significant damage\.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                    </TriggerGroup>
                    <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>Defiler</name>
                        <script></script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList/>
                        <regexCodePropertyList/>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>prompt</name>
                            <script>if class == &quot;Defiler&quot; then
	trax.process_toxin(&quot;&quot;,&quot;&quot;)
	defiler.attack_type = &quot;ravage&quot;
	defiler.flag = false
	defiler.prompt(string.len(line))
end
</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>return isPrompt()</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>4</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>pre-toxin</name>
                            <script>if class == &quot;Defiler&quot; then
	trax.process_toxin(target,matches[2])
end</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>^You rub some (.*) on .*flail.*\.$</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>raze failed</name>
                            <script>defiler.attack_type = &quot;devastate&quot;
set(matches[2],&quot;shield&quot;,false)
set(matches[2],&quot;rebounding&quot;,false)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>^You whip .*flail.* through the air in front of (\w+), to no effect\.$</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>raze failed [me]</name>
                            <script>defiler.attack_type = &quot;devastate&quot;
set(me,&quot;shield&quot;,false)
set(me,&quot;rebounding&quot;,false)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>You whip a wicked looking flail through the air in front of yourself, to no effect.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>3</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>raze rebounding</name>
                            <script>defiler.attack_type = &quot;devastate&quot;
set(matches[2],&quot;rebounding&quot;,false)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>^You raze (\w+)'s aura of rebounding with .*flail.*\.$</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>raze shield</name>
                            <script>defiler.attack_type = &quot;devastate&quot;
set(matches[2],&quot;shield&quot;,false)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>^You raze (\w+)'s translucent shield with .*flail.*\.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>ravage / devastate</name>
                            <script>-- limbs, unnecessary but duplicated as per DSL
trax.process_limb(&quot;&quot;,&quot;&quot;)
trax.pending_toxin_name = matches[2]
sub(&quot;You ravage &quot;..matches[2]..&quot;.&quot;)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>^You swing a.*flail.* powerfully at (\w+), ravaging (?:his|her) flesh\.$</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>ravage, limb</name>
                            <script>-- limbs, unnecessary but duplicated as per DSL
trax.process_limb(matches[2],matches[3])
trax.pending_toxin_name = matches[2]
sub(&quot;You ravage &quot;..matches[2]..&quot;'s &quot;..matches[3]..&quot;.&quot;)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>^You swing .*flail.* powerfully at (\w+)'s (.*), ravaging (?:his|her) flesh\.$</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>+afflictions</name>
                            <script></script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList/>
                            <regexCodePropertyList/>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>desecration - confusion</name>
                                <script>trax.give(matches[2],&quot;confusion&quot;)
sub(matches[2]..&quot; &lt;green&gt;confusion [defiler].&quot;)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>^Upon your command, .*treant.* hustles its branches in front of (\w+), spurring them into confusing motion\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>desecration - nausea</name>
                                <script>trax.give(matches[2],&quot;nausea&quot;)
sub(matches[2]..&quot; &lt;green&gt;nausea [defiler].&quot;)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>^The expanding seed causes (\w+) to look nauseous\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>desecration - rigidity</name>
                                <script>trax.give(matches[2],&quot;rigidity&quot;)
sub(matches[2]..&quot; &lt;green&gt;rigidity [defiler].&quot;)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>^Upon your command, .* stabs (\w+) repeatedly with its sharp branches, until (?:his|her) limbs stiffen with rigidity\.$</string>
                                    <string>^(\w+) groans as (?:his|her) weakened muscles stiffen with rigidity once again\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>1</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>desecration - smash</name>
                                <script>local limb = &quot;crippled &quot;..matches[3]
trax.give(matches[2],limb)
sub(matches[2]..&quot; &lt;green&gt;&quot;..limb..&quot; [defiler].&quot;)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>^At your command, .*treant.* brutally lashes out at (\w+), breaking (?:his|her) (.*)\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>torment - addiction</name>
                                <script>trax.give(matches[2],&quot;addiction&quot;)
sub(matches[2]..&quot; &lt;green&gt;addiction [defiler].&quot;)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>^At your command, .* shreds (\w+)'s skin with its branches, thorns cutting painfully into (?:his|her) flesh\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>torment - bile/disloyalty</name>
                                <script>trax.give(matches[2],&quot;disloyalty&quot;)
sub(matches[2]..&quot; &lt;green&gt;disloyalty [defiler].&quot;)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>^You raise your hand above (\w+)'s head and concentrate\. Your pores begin leaking demonic bile and you shake your hand with a wicked grin, causing the bile to fall down upon (\w+)'s shocked face, disfiguring it horribly\.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>torment - bloodtears</name>
                                <script>trax.give(matches[2],&quot;bloodtears&quot;)
sub(matches[2]..&quot; &lt;green&gt;bloodtears [defiler].&quot;)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>^You stare intently at (\w+) and smile in satisfaction as tears of blood start pouring from (?:his|her) eyes\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>torment - claustrophobia</name>
                                <script>trax.give(matches[2],&quot;claustrophobia&quot;)
sub(matches[2]..&quot; &lt;green&gt;claustrophobia [defiler].&quot;)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>^You whisper softly to (\w+), instilling fear of closed spaces deep into (?:his|her) being\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>torment - dryblood</name>
                                <script>trax.give(matches[2],&quot;dryblood&quot;)
sub(matches[2]..&quot; &lt;green&gt;dryblood [defiler].&quot;)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>^You nod at .*, who begins expelling noxious fumes, directing them towards (\w+) who pales visibly as the smoke seeps into (?:his|her) body\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>torment - entropy</name>
                                <script>trax.give(matches[2],&quot;entropy&quot;)
sub(matches[2]..&quot; &lt;green&gt;entropy [defiler].&quot;)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>^You lean torwards (\w+) with a contemptous sneer and whisper a few words. You watch with satisfaction as (?:his|her) eyes suddenly grow wide with fear\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>torment - hallucinations</name>
                                <script>trax.give(matches[2],&quot;hallucinations&quot;)
sub(matches[2]..&quot; &lt;green&gt;hallucinations [defiler].&quot;)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>^You whisper words of madness into (\w+)'s ears and watch with satisfaction as (?:his|her) eyes open wide upon seeing something that isn't there\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>torment - paranoia</name>
                                <script>trax.give(matches[2],&quot;paranoia&quot;)
sub(matches[2]..&quot; &lt;green&gt;paranoia [defiler].&quot;)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>^With a knowing smirk, you lean close to (\w+) and whisper terrible words about (?:his|her) allies into (?:his|her) ear\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>torment - haemophilia</name>
                                <script>trax.give(matches[2],&quot;haemophilia&quot;)
sub(matches[2]..&quot; &lt;green&gt;haemophilia [defiler].&quot;)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>^You close your eyes and focus on thinning (\w+)'s blood\. For a moment nothing happens, then an uncomfortable look crosses the face of (\w+) and (?:he|she) is briefly surrounded by a red nimbus\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>tempest +clumsiness</name>
                                <script>trax.give(matches[2],&quot;clumsiness&quot;)
sub(matches[2]..&quot; &lt;green&gt;clumsiness [tempest].&quot;)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>^The tempest rears up and bits of debris batter (\w+)'s skin, disrupting (?:his|her) coordination\.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>gutwyrm+</name>
                                <script>trax.give(matches[2],&quot;gutwyrm&quot;)
sub(matches[2]..&quot; &lt;green&gt;gutwyrm [defiler].&quot;)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>^You raise your hands with a malignant sneer and chant a brief mantra\. A demonic portal opens and spits out a gutwyrm, which leaps immediately onto (\w+) and starts burrowing deep into (?:his|her) abdomen\.$</string>
                                    <string>^(\w+) is already being tormented by a gutwyrm\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>1</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>gutwyrm-</name>
                                <script></script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>^The gutwyrm screams in rage deep inside (\w+) as (?:he|she) swallows the plant\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                        </TriggerGroup>
                        <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>+defences</name>
                            <script></script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList/>
                            <regexCodePropertyList/>
                            <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>Shadowbinding</name>
                                <script></script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList/>
                                <regexCodePropertyList/>
                                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                    <name>regrowth+</name>
                                    <script>defiler.defences.regrowth = true</script>
                                    <triggerType>0</triggerType>
                                    <conditonLineDelta>0</conditonLineDelta>
                                    <mStayOpen>0</mStayOpen>
                                    <mCommand></mCommand>
                                    <packageName></packageName>
                                    <mFgColor>#ff0000</mFgColor>
                                    <mBgColor>#ffff00</mBgColor>
                                    <mSoundFile></mSoundFile>
                                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                    <regexCodeList>
                                        <string>You rub a shadowgem and shadows start seeping into your pores, regrowing your health.</string>
                                        <string>You are already utilising shadows to regrowth your health.</string>
                                    </regexCodeList>
                                    <regexCodePropertyList>
                                        <integer>3</integer>
                                        <integer>3</integer>
                                    </regexCodePropertyList>
                                </Trigger>
                                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                    <name>regrowth-</name>
                                    <script>defiler.defences.regrowth = false</script>
                                    <triggerType>0</triggerType>
                                    <conditonLineDelta>0</conditonLineDelta>
                                    <mStayOpen>0</mStayOpen>
                                    <mCommand></mCommand>
                                    <packageName></packageName>
                                    <mFgColor>#ff0000</mFgColor>
                                    <mBgColor>#ffff00</mBgColor>
                                    <mSoundFile></mSoundFile>
                                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                    <regexCodeList>
                                        <string>You will no longer utilise shadows to regrowth your health.</string>
                                        <string>You have lost the regrowth defence.</string>
                                    </regexCodeList>
                                    <regexCodePropertyList>
                                        <integer>3</integer>
                                        <integer>3</integer>
                                    </regexCodePropertyList>
                                </Trigger>
                                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                    <name>recuperation+</name>
                                    <script>defiler.defences.recuperation = true</script>
                                    <triggerType>0</triggerType>
                                    <conditonLineDelta>0</conditonLineDelta>
                                    <mStayOpen>0</mStayOpen>
                                    <mCommand></mCommand>
                                    <packageName></packageName>
                                    <mFgColor>#ff0000</mFgColor>
                                    <mBgColor>#ffff00</mBgColor>
                                    <mSoundFile></mSoundFile>
                                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                    <regexCodeList>
                                        <string>You rub a shadowgem and shadows begin circling slowly around your head, recuperating your mental energy.</string>
                                        <string>You are already utilising shadows to recuperate your mana.</string>
                                    </regexCodeList>
                                    <regexCodePropertyList>
                                        <integer>3</integer>
                                        <integer>3</integer>
                                    </regexCodePropertyList>
                                </Trigger>
                                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                    <name>recuperation-</name>
                                    <script>defiler.defences.recuperation = false</script>
                                    <triggerType>0</triggerType>
                                    <conditonLineDelta>0</conditonLineDelta>
                                    <mStayOpen>0</mStayOpen>
                                    <mCommand></mCommand>
                                    <packageName></packageName>
                                    <mFgColor>#ff0000</mFgColor>
                                    <mBgColor>#ffff00</mBgColor>
                                    <mSoundFile></mSoundFile>
                                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                    <regexCodeList>
                                        <string>You will no longer utilise shadows to recuperate your mana.</string>
                                        <string>You have lost the recuperation defence.</string>
                                    </regexCodeList>
                                    <regexCodePropertyList>
                                        <integer>3</integer>
                                        <integer>3</integer>
                                    </regexCodePropertyList>
                                </Trigger>
                                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                    <name>antibodies+</name>
                                    <script>defiler.defences.antibodies = true</script>
                                    <triggerType>0</triggerType>
                                    <conditonLineDelta>0</conditonLineDelta>
                                    <mStayOpen>0</mStayOpen>
                                    <mCommand></mCommand>
                                    <packageName></packageName>
                                    <mFgColor>#ff0000</mFgColor>
                                    <mBgColor>#ffff00</mBgColor>
                                    <mSoundFile></mSoundFile>
                                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                    <regexCodeList>
                                        <string>You rub your fingers briskly across a shadowgem and shadows begin swirling around your body, attempting to cure your maladies.</string>
                                        <string>You are already utilising shadows to cure your maladies.</string>
                                    </regexCodeList>
                                    <regexCodePropertyList>
                                        <integer>3</integer>
                                        <integer>3</integer>
                                    </regexCodePropertyList>
                                </Trigger>
                                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                    <name>antibodies-</name>
                                    <script>defiler.defences.antibodies = false</script>
                                    <triggerType>0</triggerType>
                                    <conditonLineDelta>0</conditonLineDelta>
                                    <mStayOpen>0</mStayOpen>
                                    <mCommand></mCommand>
                                    <packageName></packageName>
                                    <mFgColor>#ff0000</mFgColor>
                                    <mBgColor>#ffff00</mBgColor>
                                    <mSoundFile></mSoundFile>
                                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                    <regexCodeList>
                                        <string>You cease utilising shadows to cure your maladies.</string>
                                        <string>You have lost the antibodies defence.</string>
                                    </regexCodeList>
                                    <regexCodePropertyList>
                                        <integer>3</integer>
                                        <integer>3</integer>
                                    </regexCodePropertyList>
                                </Trigger>
                                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                    <name>haze count</name>
                                    <script>defiler.haze = tonumber(matches[4])</script>
                                    <triggerType>0</triggerType>
                                    <conditonLineDelta>0</conditonLineDelta>
                                    <mStayOpen>0</mStayOpen>
                                    <mCommand></mCommand>
                                    <packageName></packageName>
                                    <mFgColor>#ff0000</mFgColor>
                                    <mBgColor>#ffff00</mBgColor>
                                    <mSoundFile></mSoundFile>
                                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                    <regexCodeList>
                                        <string>^Total\: (\d+) haze in (\d+) items, of which (\d+) is in worn ones\.</string>
                                    </regexCodeList>
                                    <regexCodePropertyList>
                                        <integer>1</integer>
                                    </regexCodePropertyList>
                                </Trigger>
                                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                    <name>toughness+</name>
                                    <script>defiler.defences.toughness = true</script>
                                    <triggerType>0</triggerType>
                                    <conditonLineDelta>0</conditonLineDelta>
                                    <mStayOpen>0</mStayOpen>
                                    <mCommand></mCommand>
                                    <packageName></packageName>
                                    <mFgColor>#ff0000</mFgColor>
                                    <mBgColor>#ffff00</mBgColor>
                                    <mSoundFile></mSoundFile>
                                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                    <regexCodeList>
                                        <string>You rub a shadowgem and shadows swirl around your arms and legs, strengthening them against damage.</string>
                                        <string>Your limbs are already strengthened against damage.</string>
                                    </regexCodeList>
                                    <regexCodePropertyList>
                                        <integer>3</integer>
                                        <integer>3</integer>
                                    </regexCodePropertyList>
                                </Trigger>
                                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                    <name>confutation+</name>
                                    <script>defiler.defences.confutation = true</script>
                                    <triggerType>0</triggerType>
                                    <conditonLineDelta>0</conditonLineDelta>
                                    <mStayOpen>0</mStayOpen>
                                    <mCommand></mCommand>
                                    <packageName></packageName>
                                    <mFgColor>#ff0000</mFgColor>
                                    <mBgColor>#ffff00</mBgColor>
                                    <mSoundFile></mSoundFile>
                                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                    <regexCodeList>
                                        <string>You tap a shadowgem and shadows gather around you, helping you protect yourself from attacks.</string>
                                        <string>Shadows already protect you from damage.</string>
                                    </regexCodeList>
                                    <regexCodePropertyList>
                                        <integer>3</integer>
                                        <integer>3</integer>
                                    </regexCodePropertyList>
                                </Trigger>
                                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                    <name>seek+</name>
                                    <script>report(matches[2]..&quot; @ &quot;..matches[3])</script>
                                    <triggerType>0</triggerType>
                                    <conditonLineDelta>0</conditonLineDelta>
                                    <mStayOpen>0</mStayOpen>
                                    <mCommand></mCommand>
                                    <packageName></packageName>
                                    <mFgColor>#ff0000</mFgColor>
                                    <mBgColor>#ffff00</mBgColor>
                                    <mSoundFile></mSoundFile>
                                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                    <regexCodeList>
                                        <string>^The shadows report that (\w+) is at (.*)\.$</string>
                                    </regexCodeList>
                                    <regexCodePropertyList>
                                        <integer>1</integer>
                                    </regexCodePropertyList>
                                </Trigger>
                                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                    <name>shroud+</name>
                                    <script>defiler.defences.shroud = true</script>
                                    <triggerType>0</triggerType>
                                    <conditonLineDelta>0</conditonLineDelta>
                                    <mStayOpen>0</mStayOpen>
                                    <mCommand></mCommand>
                                    <packageName></packageName>
                                    <mFgColor>#ff0000</mFgColor>
                                    <mBgColor>#ffff00</mBgColor>
                                    <mSoundFile></mSoundFile>
                                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                    <regexCodeList>
                                        <string>You rub a shadowgem and shadows coalesce around you, concealing you from sight.</string>
                                        <string>You are already shrouded.</string>
                                    </regexCodeList>
                                    <regexCodePropertyList>
                                        <integer>3</integer>
                                        <integer>3</integer>
                                    </regexCodePropertyList>
                                </Trigger>
                                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                    <name>shroud-</name>
                                    <script>defiler.defences.shroud = false</script>
                                    <triggerType>0</triggerType>
                                    <conditonLineDelta>0</conditonLineDelta>
                                    <mStayOpen>0</mStayOpen>
                                    <mCommand></mCommand>
                                    <packageName></packageName>
                                    <mFgColor>#ff0000</mFgColor>
                                    <mBgColor>#ffff00</mBgColor>
                                    <mSoundFile></mSoundFile>
                                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                    <regexCodeList>
                                        <string>Your shroud fades and you are visible once more.</string>
                                        <string>You have lost the shroud defence.</string>
                                    </regexCodeList>
                                    <regexCodePropertyList>
                                        <integer>3</integer>
                                        <integer>3</integer>
                                    </regexCodePropertyList>
                                </Trigger>
                                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                    <name>transmission+</name>
                                    <script>defiler.transmission_target = matches[2]</script>
                                    <triggerType>0</triggerType>
                                    <conditonLineDelta>0</conditonLineDelta>
                                    <mStayOpen>0</mStayOpen>
                                    <mCommand></mCommand>
                                    <packageName></packageName>
                                    <mFgColor>#ff0000</mFgColor>
                                    <mBgColor>#ffff00</mBgColor>
                                    <mSoundFile></mSoundFile>
                                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                    <regexCodeList>
                                        <string>^You rub you fingers briskly across a shadowgem and shadows begin swirling around (\w+), attempting to transmit your maladies\.$</string>
                                    </regexCodeList>
                                    <regexCodePropertyList>
                                        <integer>1</integer>
                                    </regexCodePropertyList>
                                </Trigger>
                                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                    <name>transmission-</name>
                                    <script>defiler.transmission_target = &quot;&quot;</script>
                                    <triggerType>0</triggerType>
                                    <conditonLineDelta>0</conditonLineDelta>
                                    <mStayOpen>0</mStayOpen>
                                    <mCommand></mCommand>
                                    <packageName></packageName>
                                    <mFgColor>#ff0000</mFgColor>
                                    <mBgColor>#ffff00</mBgColor>
                                    <mSoundFile></mSoundFile>
                                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                    <regexCodeList>
                                        <string>^You cease attempting to transmit your maladies to (\w+)\.$</string>
                                    </regexCodeList>
                                    <regexCodePropertyList>
                                        <integer>1</integer>
                                    </regexCodePropertyList>
                                </Trigger>
                                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                    <name>confutation-</name>
                                    <script>defiler.defences.confutation = false</script>
                                    <triggerType>0</triggerType>
                                    <conditonLineDelta>0</conditonLineDelta>
                                    <mStayOpen>0</mStayOpen>
                                    <mCommand></mCommand>
                                    <packageName></packageName>
                                    <mFgColor>#ff0000</mFgColor>
                                    <mBgColor>#ffff00</mBgColor>
                                    <mSoundFile></mSoundFile>
                                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                    <regexCodeList>
                                        <string>You have lost the confutation defence.</string>
                                    </regexCodeList>
                                    <regexCodePropertyList>
                                        <integer>3</integer>
                                    </regexCodePropertyList>
                                </Trigger>
                            </TriggerGroup>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>apparition+</name>
                                <script></script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You rub a shadowgem and an apparition materialises slowly in the room, taking on your appearance.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>apparition-</name>
                                <script></script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>Your apparition has vanished.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>shroud+</name>
                                <script>defiler.shroud_type = matches[2]</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>^You focus upon your demonic powers and concentrate, and a swirling (\w+)shroud slowly forms around your body, protecting you from harm\.$</string>
                                    <string>^Your (\w+)shroud is already on\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>1</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>shroud-</name>
                                <script>defiler.shroud_type = &quot;&quot;</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>^You dismiss the swirling (\w+)shroud and it quickly dissipates\.$</string>
                                    <string>^You concentrate and the shroud of (\w+) around you suddenly explodes outwards\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>1</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>heartblood+</name>
                                <script>defiler.defences.heartblood = matches[2]
sub(&quot;Heartblood &lt;red&gt;&quot;..matches[2]..&quot;.&quot;)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>^You spatter the (.*)\-infused tainted blood from .* over your skin and wince slightly as it seeps into your pores and moves rapidly through your blood stream, infesting your very heart with the toxic taint\.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>heartblood-</name>
                                <script>defiler.defences.heartblood = &quot;&quot;</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>The toxin-infused blood is used up, no longer encasing your heart.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>hound+</name>
                                <script>defiler.hound_target = matches[2]
local str = &quot;&quot;

str = str..&quot;queue eqbal dismount&quot;..sp
str = str..&quot;mount &quot;..defiler.hound..sp

send(str)
sub(&quot;Tormented &quot;..matches[2]..&quot; with hound.&quot;)
</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>^Chanting quietly, you quickly sketch a pentagram on the ground\. Flames leap high as a hideous hound appears in its center, levelling its gaze upon (\w+)\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="yes" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>hound status</name>
                                <script>defiler.hound_target = matches[2]</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#e80202</mFgColor>
                                <mBgColor>#000000</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>^It has been summoned to torment (\w+)\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>hound-</name>
                                <script>defiler.hound_target = &quot;&quot;</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>A hideous hound disappears in a puff of smoke, its task complete.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>blooddrinker+</name>
                                <script>defiler.defences.blooddrinker = true</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>Your mouth waters as you begin focusing on the blood of your foes.</string>
                                    <string>You are already focused on drinking the blood of your foes.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>blooddrinker-</name>
                                <script>defiler.defences.blooddrinker = false</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You will no longer focus on blooddrinking.</string>
                                    <string>You are not focused on blooddrinking.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>mistbind+</name>
                                <script>sub(&quot;Mistbind.&quot;)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You rub a shadowgem in an irregular motion and a confusing, constantly swirling mist descends upon the location.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>obscurity+</name>
                                <script>sub(&quot;Obscurity.&quot;)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You rub a shadowgem vigorously and a thick layer of mist descends, coating everything in an impenetrable whiteness.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>transmission fires</name>
                                <script>-- Shadows whirl around Azefel, curing one of your maladies and imposing it upon him.
-- Your lungs relax and you can breathe easy once again.
-- You have cured asthma.

sub(&quot;&lt;hot_pink&gt;Transmission on &quot;..matches[2]..&quot;.&quot;)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>^Shadows whirl around (\w+), curing one of your maladies and imposing it upon (?:him|her)\.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                        </TriggerGroup>
                        <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>shadowbinding misc</name>
                            <script></script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList/>
                            <regexCodePropertyList/>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>sap+</name>
                                <script>set(matches[2],matches[3]..&quot;_sap&quot;,matches[3])
set(matches[2],matches[3]..&quot;_sap_time&quot;,os.time())
sub(matches[2]..&quot; &lt;dim_grey&gt;[&lt;green&gt;Sap&lt;dim_grey&gt;]: &lt;grey&gt;&quot;..string.title(matches[3])..&quot;.&quot;)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>^You rub one of your shadowgems and shadows swirl around (\w+), increasing (?:his|her) vulnerability to (\w+) damage\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>sap-</name>
                                <script>set(matches[2],matches[3]..&quot;_sap&quot;,&quot;&quot;)
set(matches[2],matches[3]..&quot;_sap_time&quot;,0)
sub(matches[2]..&quot; &lt;dim_grey&gt;[&lt;red&gt;Sap&lt;dim_grey&gt;]: &lt;grey&gt;&quot;..string.title(matches[3])..&quot;.&quot;)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>^The shadows around (\w+) retreat, no longer increasing (?:his|her) vulnerability to (\w+) damage\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                        </TriggerGroup>
                        <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>splinters</name>
                            <script></script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList/>
                            <regexCodePropertyList/>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>splinter+ [me]</name>
                                <script>set(me,&quot;splinters&quot;,matches[2],os.time())
sub(me..&quot; &lt;dark_turquoise&gt;+splinter, &quot;..matches[2]..&quot;.&quot;)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>^At your command, .*treant.* swings a branch rapidly at yourself\. Upon impact, the branch splinters, releasing a small (\w+) seed that burrows into your skin and drains a portion of the energy stored within the burrowing thornroot\.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>splinter- germinate [me]</name>
                                <script>set(me,&quot;splinters&quot;,matches[2],0)
sub(me..&quot; &lt;violet&gt;-splinter, germinate &quot;..matches[2]..&quot;.&quot;)

defiler.germinate = false
defiler.germinate_time = os.time()</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>^Following your command, .*treant.* releases a strangely smelling substance that seems into your pores\. The (\w+) seed inside you suddenly erupts into life before withering away\.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>splinter+</name>
                                <script>if has(matches[3],&quot;splinters.&quot;..matches[2]) == 0 then set(matches[3],&quot;splinters.&quot;..matches[2],os.time()-3) end
sub(matches[3]..&quot; &lt;dark_turquoise&gt;old +splinter, &quot;..matches[2]..&quot;!&quot;)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>^A splintered (.*) seed is already burrowed within (\w+)'s body\.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>splinter+</name>
                                <script>set(matches[2],&quot;splinters&quot;,matches[3],os.time())
sub(matches[2]..&quot; &lt;dark_turquoise&gt;+splinter.&quot;)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>^At your command, .*treant.* swings a branch rapidly at (\w+)\. Upon impact, the branch splinters, releasing a small (.*) seed that burrows into (?:his|her) skin and drains a portion of the energy stored within the burrowing thornroot\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>splinter-</name>
                                <script>set(matches[3],&quot;splinters&quot;,matches[2],0)
sub(matches[3]..&quot; &lt;violet&gt;-splinter, &quot;..matches[2]..&quot;.&quot;)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>^The splintered (.*) seed in (\w+)'s body has withered away\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="yes" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>splinter- empower</name>
                                <script>table.insert(has(matches[2],&quot;empowered&quot;),{ matches[3],os.time() })</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#83ff85</mFgColor>
                                <mBgColor>#000000</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>^At your command, .*treant.* cuts (\w+) lightly, releasing a small shockwave that causes the (\w+) seed in (?:his|her) body to start stirring\.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>splinter- empower augmented</name>
                                <script>set(target,&quot;splinters&quot;,matches[2],0)
sub(target..&quot; &lt;violet&gt;-splinter, empower &quot;..matches[2]..&quot;.&quot;)

local n = 0
if table.contains( has(target,&quot;empowered&quot;), matches[2] ) then
	n = table.index_of( has(target,&quot;empowered&quot;), matches[2] )
end

if n ~= 0  then
	table.remove( has(target,&quot;empowered&quot;), n )
end</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>^The empowered (\w+) seed augments the attack.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>splinter- germinate</name>
                                <script>set(matches[2],&quot;splinters&quot;,matches[3],0)
sub(matches[2]..&quot; &lt;violet&gt;-splinter, germinate &quot;..matches[3]..&quot;.&quot;)

defiler.germinate = false
defiler.germinate_time = os.time()
</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>^Following your command, .*treant.* releases a strangely smelling substance that seems into (\w+)'s pores\. The (\w+) seed inside (?:him|her) suddenly erupts into life before withering away\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="yes" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>germinate+</name>
                                <script>defiler.germinate = true
defiler.germinate_time = 0</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#4fff9d</mFgColor>
                                <mBgColor>#000000</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>Your treant is again able to germinate a seed.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>splinter fail</name>
                                <script>set(matches[2],&quot;splinters&quot;,{})
sub(string.title(matches[2])..&quot; &lt;red&gt;splinter failed.&quot;)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>^No splintered (\w+) seed is burrowed within (\w+)'s body\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="yes" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>splinter- empower [me]</name>
                                <script>table.insert(has(me,&quot;empowered&quot;),{ matches[2],os.time() })
--The hawthorn seed is already empowered.</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#80ffb6</mFgColor>
                                <mBgColor>#000000</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>^At your command, .*treant.* cuts yourself lightly, releasing a small shockwave that causes the (\w+) seed in your body to start stirring\.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>germinate honeysuckle</name>
                                <script>trax.give(matches[2],&quot;recklessness&quot;)
sub(matches[2]..&quot; &lt;green&gt;recklessness&lt;grey&gt;.&quot;)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>^An odd expression settles on (\w+)'s face\.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                        </TriggerGroup>
                        <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>thornroots</name>
                            <script></script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList/>
                            <regexCodePropertyList/>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>thornroot+ [me]</name>
                                <script>defiler.flag = true

set(me,&quot;thornroot&quot;,true)
set(me,&quot;thornroot_time&quot;,os.time())
sub(me..&quot; &lt;dark_turquoise&gt;+thornroot.&quot;)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>A thornroot splits from the flail and starts burrowing into your flesh.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>thornroot- [me]</name>
                                <script>if defiler.flag then
else
	set(me,&quot;thornroot&quot;,false)
	set(me,&quot;thornroot_time&quot;,0)
end
sub(me..&quot; &lt;violet&gt;-thornroot.&quot;)

</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>Soaked with your blood, the thornroot finally withers away and disappears.</string>
                                    <string>Swollen with the accumulated energy, the thornroot in your body suddenly explodes in a violent outburst of blood and gore.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>thornroot tick [me]</name>
                                <script>set(me,&quot;thornroot&quot;,true)
if has(me,&quot;thornroot_time&quot;) == 0 then set(me,&quot;thornroot_time&quot;,os.time()-5) end
sub(me..&quot; &lt;maroon&gt;thornroot ticked.&quot;)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>The thornroot burrows deeper into your body, cutting veins and causing considerable bleeding.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>thornroot+</name>
                                <script>set(matches[2],&quot;thornroot&quot;,true)
set(matches[2],&quot;thornroot_time&quot;,os.time())
sub(matches[2]..&quot; &lt;dark_turquoise&gt;+thornroot.&quot;)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>^A thornroot splits from the flail and starts burrowing into (\w+)'s flesh\.$</string>
                                    <string>^You parry the attack and deftly fire a thornroot at (\w+), which quickly burrows into (.*) flesh\.</string>
                                    <string>^You aim with your flail and fire a thornroot towards (\w+)\. It rapidly reaches (.*) and starts burrowing</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>1</integer>
                                    <integer>1</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>thornroot-</name>
                                <script>set(matches[2],&quot;thornroot&quot;,false)
set(matches[2],&quot;thornroot_time&quot;,0)
sub(matches[2]..&quot; &lt;violet&gt;-thornroot.&quot;)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>^Horror overcomes (\w+)'s tormented face as the thornroot in (.*) body suddenly explodes in a violent outburst of blood and gore\.</string>
                                    <string>^Soaked with .* blood, the thornroot in (\w+)'s body withers away and disappears\.</string>
                                    <string>^(\w+) is not tormented by a thornroot\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>1</integer>
                                    <integer>1</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>thornroot tick</name>
                                <script>set(matches[2],&quot;thornroot&quot;,true)
if has(matches[2],&quot;thornroot_time&quot;) == 0 then set(matches[2],&quot;thornroot_time&quot;,os.time()-5) end
sub(matches[2]..&quot; &lt;maroon&gt;thornroot ticked.&quot;)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>^The thornroot burrows deeper into (\w+)'s body, cutting veins and causing considerable bleeding\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>thornroot -&gt; implant seed</name>
                                <script></script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>^Soaked with (.*) blood, the thornroot in (\w+)'s body withers away and disappears, leaving behind an implanted seed\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>demonic seed+ [me]</name>
                                <script>local num = has(me,&quot;demonic_seed&quot;)
set(me,&quot;demonic_seed&quot;,num+1)
-- timer stuff here
if has(me,&quot;demonic_seed_time&quot;) == 0 then set(me,&quot;demonic_seed_time&quot;,os.time()) end
sub(me..&quot; &lt;dark_turquoise&gt;+demonic seed.&quot;)

</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>A demonic seed is left behind in your ravaged body.</string>
                                    <string>At your command, .*treant.* envelops yourself briefly with its tendrils and yourself shudders briefly. The thornroot within your body begins to deform and change, turning rapidly into a demonic seed.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>demonic seed- [me]</name>
                                <script>local num = has(me,&quot;demonic_seed&quot;)
num = num - 1
if num &lt; 0 then num = 0 end
set(me,&quot;demonic_seed&quot;,num)
-- timer stuff here
set(me,&quot;demonic_seed_time&quot;,0)
sub(me..&quot; &lt;violet&gt;-demonic seed.&quot;)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>Relief and pain overcome you as the demonic seed within you perishes and withers away, burning your insides.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>demonic seed+</name>
                                <script>local num = has(matches[2],&quot;demonic_seed&quot;)
set(matches[2],&quot;demonic_seed&quot;,num+1)
-- timer stuff here
if has(matches[2],&quot;demonic_seed_time&quot;) == 0 then set(matches[2],&quot;demonic_seed_time&quot;,os.time()) end
if defiler.auto_bellow then
	send(&quot;queue eq treant bellow &quot;..matches[2])
end
sub(matches[2]..&quot; &lt;dark_turquoise&gt;+demonic seed.&quot;)

</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>^A demonic seed is left behind in (\w+)'s body\.$</string>
                                    <string>^At your command, .*treant.* envelops (\w+) briefly with its tendrils and (\w+) shudders briefly\. The thornroot within (?:his|her) body begins to deform and change, turning rapidly into a demonic seed\.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>1</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>demonic seed-</name>
                                <script>local num = has(matches[2],&quot;demonic_seed&quot;)
num = num - 1
if num &lt; 0 then num = 0 end
set(matches[2],&quot;demonic_seed&quot;,num)
-- timer stuff here
set(matches[2],&quot;demonic_seed_time&quot;,0)
sub(matches[2]..&quot; &lt;violet&gt;-demonic seed.&quot;)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>^A mixture of pain and relief crosses the face of (\w+) as the seed within (.*) finally perishes and withers away, burning (.*) insides\.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>demonic seed 0</name>
                                <script>set(matches[2],&quot;demonic_seed&quot;,0)
set(matches[2],&quot;demonic_seed_time&quot;,0)
</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>^No seeds have been implanted into (\w+)\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>bellow [me]</name>
                                <script></script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>^At your order, .*treant.* bellows loudly at yourself and the demonic seed implanted deep in your body explodes in a massive outburst of blood and gore\.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>bellow</name>
                                <script>set(matches[2],&quot;demonic_seed&quot;,0)
set(matches[2],&quot;demonic_seed_time&quot;,0)
</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>^At .* order, .*treant.* bellows loudly at (\w+)</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>no sprouts</name>
                                <script>defiler.sprouts = false
sub(&quot;&lt;red&gt;Out of Thornroots.&quot;)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>There are no more thorns left on the flail.</string>
                                    <string>You must sprout thorns from your flail first.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>thornsprouts</name>
                                <script>defiler.sprouts = true</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>1</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>The flail has been transmuted with demonic power.</string>
                                    <string>^(\d+) wicked thorns are protruding from its balls\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>thornsprouts</name>
                                <script>defiler.sprouts = true</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>1</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>The flail has been transmuted with demonic power.</string>
                                    <string>A wicked thorn is protruding from one of its balls.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>thornsprouts</name>
                                <script>defiler.sprouts = true</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>^You hold .*flail.* in front of yourself and focus your demonic power upon the wooden balls. Several curved thorns sprout suddenly from each, their tips sharp and dangerous\.$</string>
                                    <string>That flail is already sprouting as many thorns as it can.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>1</integer>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>insufficient entropy</name>
                                <script>sub(&quot;&lt;red&gt;[[ &lt;dark_khaki&gt;Insufficent entropy. &lt;red&gt;]]&quot;)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>^The thornroot tormenting (\w+) is not suffused with enough strength\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                        </TriggerGroup>
                        <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>treant</name>
                            <script></script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList/>
                            <regexCodePropertyList/>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>treant-</name>
                                <script>sub(&quot;&lt;cyan&gt;[[ &lt;medium_orchid&gt;Your treant is not here.&lt;cyan&gt; ]]&quot;)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#926aff</mFgColor>
                                <mBgColor>#040400</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>Your treant is not here.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>treant attacking</name>
                                <script>if matches[2] == &quot;A bleeding treant named Sammie&quot; then
	sub(&quot;&lt;light_salmon&gt;Sammie&lt;grey&gt; slaps &quot;..matches[3]..&quot;.&quot;)
end</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>^(.*) swings its branches towards (\w+), piercing (?:his|her) body with its deformed thorns\.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>treant enter</name>
                                <script>sub(&quot;[Treant]: &quot;..matches[2]..&quot; &lt;green&gt;entered&lt;stop&gt;.&quot;)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>^Your treant notifies you that (\w+) has entered the room\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>treant left</name>
                                <script>sub(&quot;[Treant]: &quot;..matches[2]..&quot; &lt;red&gt;left&lt;stop&gt;.&quot;)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>^Your treant notifies you that (\w+) has left the room\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>treant attack</name>
                                <script></script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>2</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>^You order .*treant.* to attack (\w+)\.$</string>
                                    <string>^.*treant.* obeys your command\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>1</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>treant stop</name>
                                <script></script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>^You order .*treant.* to assume a passive stance\.$</string>
                                    <string>^With seeming reluctance, .*treant.* obeys your command\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>1</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                        </TriggerGroup>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>entropy+</name>
                            <script>sub(matches[2]..&quot; &lt;red&gt;+entropy&lt;grey&gt;.&quot;)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>^A look of uncertainty crosses (\w+)'s tormented face\.$</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>entropy+ [me]</name>
                            <script>sub(me..&quot; &lt;red&gt;+entropy&lt;grey&gt;.&quot;)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>As the torment strikes you, the thornroot inside you is suffused with strength.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>3</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>entropy none</name>
                            <script>sub(matches[2]..&quot; &lt;maroon&gt;entropy none&lt;grey&gt;.&quot;)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>^A look of pain crosses (\w+)'s tormented face\.$</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>shadow+</name>
                            <script>if matches[2] == &quot;yourself&quot; then matches[2] = me end

set(matches[2],&quot;shadow&quot;,true)
set(matches[2],&quot;shadow_time&quot;,os.time())

defiler.shadow_balance = false
defiler.shadow_balance_time = 0

sub(&quot;Shadow on &quot;..matches[2]..&quot;.&quot;)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>^Chanting quietly, you quickly sketch a pentagram on the ground\. Flames leap high as an incorporeal shadow appears in its center, moving aggressively towards (\w+)\.$</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>shadow-</name>
                            <script>if matches[2] == &quot;yourself&quot; then matches[2] = me end
if matches[2] then
	set(matches[2],&quot;shadow&quot;,false)
	set(matches[2],&quot;shadow_time&quot;,0)
end

defiler.shadow_balance = false
defiler.shadow_balance_time = os.time()

sub(&quot;Shadow down.&quot;)
</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>^An incorporeal shadow, your loyal companion, has been slain by (\w+)\.$</string>
                                <string>With a haunting wail, a translucent shadow disappears.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>1</integer>
                                <integer>3</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>shadow-</name>
                            <script>if defiler.shadow_balance then
	defiler.shadow_balance = false
	defiler.shadow_balance_time = os.time()
elseif not defiler.shadow_balance and defiler.shadow_balance_time == 0 then
	defiler.shadow_balance_time = os.time()
end

sub(&quot;Shadow balance down.&quot;)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>You are not yet able to summon another shadow.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>3</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>unseeneye</name>
                            <script>sub(&quot;[Uns]:&quot;..matches[2]..&quot; ,'&lt;red&gt;&quot;..matches[3]..&quot;&lt;grey&gt;'&quot;)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>^The unseen eye following (\w+) whispers softly in your mind, \&quot;(.*)</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>treant trip</name>
                            <script>sub(&quot;Treant tripped &quot;..matches[2]..&quot;.&quot;)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>^At your command, .*treant.* lifts (\w+) into the air and throws (?:him|her) painfully against the ground\.$</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>whirl+</name>
                            <script>defiler.whirl_balance = false
set(matches[2],&quot;splinters&quot;,matches[3],os.time())
sub(matches[2]..&quot; &lt;dark_turquoise&gt;+splinter, &quot;..matches[3]..&quot;.&quot;)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>^Following your gesture, .*treant.* whirls a branch mightily towards (\w+), releasing a spore of the (\w+) tree that swiftly burrows into (?:his|her) skin\.$</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>whirl+ [me]</name>
                            <script>defiler.whirl_balance = false
set(me,&quot;splinters&quot;,matches[2],os.time())
sub(me..&quot; &lt;dark_turquoise&gt;+splinter, &quot;..matches[2]..&quot;.&quot;)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>^Following your gesture, .*treant.* whirls a branch mightily towards yourself, releasing a spore of the (\w+) tree that swiftly burrows into your skin\.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>whirl cooldown</name>
                            <script>defiler.whirl_balance = false</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>Your treant is unable to whirl its branch arm again so soon.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>3</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>whirl again</name>
                            <script>defiler.whirl_balance = true</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>Your treant is again able to whirl a branch.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>3</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>augur balance+</name>
                            <script>defiler.augur_balance = true
defiler.augur_time = 0</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>You are again able to use an augury off-balance.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>3</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>augur balance-</name>
                            <script>defiler.augur_balance = false
defiler.augur_time = os.time()</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>^You rub a shadowgem and a glazed look passes over (\w+)'s face\.$</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>shroud, hit</name>
                            <script>sub(string.title(matches[3])..&quot;shroud.&quot;)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>^As (\w+) attacks, the swirling (\w+)shroud seeps into (?:his|her) lungs, causing (?:him|her) to cough violently\.$</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="yes" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>implant, failed</name>
                            <script></script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>Your target must be hindered in some way for that to be possible.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>3</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>unseeneye list</name>
                            <script>local str = multimatches[2][1]
local tablen = {}

str = str:gsub(&quot; &quot;,&quot;&quot;)
str = str:gsub(&quot;.&quot;,&quot;&quot;)
tablen = str:split(&quot;,&quot;)

defiler.unseen = ecopy(tablen)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>1</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>You have tormented the following individuals with the unseen eye:</string>
                                <string>^(.*)\.$</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>3</integer>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                    </TriggerGroup>
                    <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>Diabolist</name>
                        <script></script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList/>
                        <regexCodePropertyList/>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>prompt</name>
                            <script>diabolist.prompt(string.len(line))</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>return isPrompt()</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>4</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="yes" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>deadeyes</name>
                            <script>if matches[3] ~= &quot;infirmity&quot; and matches[3] ~= &quot;breach&quot; then
	trax.give(matches[2],matches[3])
end</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#80ff4a</mFgColor>
                            <mBgColor>#000000</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>^You stare at (\w+), giving (?:him|her) the evil eye of (.*)\.$</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>curseward+</name>
                            <script>set(matches[2],&quot;curseward&quot;,true)
killTimer(has(matches[2],&quot;curseward_timer&quot;))</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>^You try to give (\w+) the evileye, but (?:he|she) is warded\.$</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>curseward-</name>
                            <script>set(target,&quot;curseward&quot;,false)
set(target,&quot;curseward_timer&quot;,tempTimer(10.7,function() 
	killTimer(has(target,&quot;curseward_timer&quot;)) 
	set(target,&quot;curseward&quot;,true)
	end))</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>2</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>^You stare at (\w+), giving (?:him|her) the evil eye of breach\.</string>
                                <string>2</string>
                                <string>^(?:His|Her) curseward has failed!</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>1</integer>
                                <integer>5</integer>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>curseward+ [me]</name>
                            <script>set(me,&quot;curseward&quot;,true)
killTimer(has(me,&quot;curseward_timer&quot;))</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>Your curseward has failed!</string>
                                <string>You try to give yourself the evileye, but you is warded.</string>
                                <string>You concentrate briefly and a shimmering curseward appears around you.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>3</integer>
                                <integer>3</integer>
                                <integer>3</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>curseward- [me]</name>
                            <script>set(me,&quot;curseward&quot;,false)
set(me,&quot;curseward_timer&quot;,tempTimer(10.7,function() 
	killTimer(has(me,&quot;curseward_timer&quot;)) 
	set(me,&quot;curseward&quot;,true)
	end))</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>Your curseward has failed!</string>
                                <string>You have lost the curseward defence.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>3</integer>
                                <integer>3</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>curseward- [me]</name>
                            <script>set(me,&quot;curseward&quot;,false)
set(me,&quot;curseward_timer&quot;,tempTimer(10.7,function() 
	killTimer(has(me,&quot;curseward_timer&quot;)) 
	set(me,&quot;curseward&quot;,true)
	end))</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>2</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>You stare at yourself, giving you the evil eye of breach.</string>
                                <string>1</string>
                                <string>Your curseward has failed!</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>1</integer>
                                <integer>5</integer>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>pre-toxin</name>
                            <script>trax.pending_toxin = matches[2]
sub(&quot;[[ &lt;dark_turquoise&gt;&quot;..string.title(matches[2])..&quot;&lt;grey&gt; ]]&quot;)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>^You rub some (.*) on .*da(e)*gger.*\.$</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>hunt+</name>
                            <script>trax.pending_toxin_name = matches[2]
trax.process_toxin(&quot;&quot;,&quot;&quot;)
sub(&quot;Daegger strikes &quot;..matches[2]..&quot;.&quot;)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>^(\w+) winces as a toxin from the daegger seeps into (?:his|her) body\.$</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>daegger-</name>
                            <script>send(&quot;summon daegger&quot;)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>You are not wielding your daegger.</string>
                                <string>You drop a wicked-looking daegger in your terror.</string>
                                <string>You must be wielding a daegger to do that.</string>
                                <string>You need to SUMMON DAEGGER before you can do that.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>3</integer>
                                <integer>3</integer>
                                <integer>3</integer>
                                <integer>3</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="yes" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>taste+</name>
                            <script></script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#cfa619</mFgColor>
                            <mBgColor>#000000</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>^You taste (\d+) health remaining\.$</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>shadowstrike+</name>
                            <script></script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>^The daegger has looped around and dives towards (\w+)'s shadow, impaling it and (?:him|her)\!</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>shadowstrike-</name>
                            <script></script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>^With a look of agony on (?:his|her) face, (\w+) manages to writhe (?:himself|herself) free of the weapon which impaled (?:him|her)\.$</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>contemplate</name>
                            <script>-- Thanks Wysrias, Assunta!

if class == &quot;Diabolist&quot; then
	local str = &quot;&quot;
	local p = math.floor(tonumber(matches[3])/tonumber(matches[4])*100)

	str = str..matches[2]..&quot; M:&quot;..matches[3]..&quot; (&quot;..p..&quot;%)&quot;..sp..matches[2]..&quot; M:&quot;..matches[3]..&quot; (&quot;..p..&quot;%)&quot;

	if p &lt; 50 and (dbp.gcirc(matches[2]) ~= dbp.gcirc(me) or matches[2] == target) then 
		str = str..sp..&quot;Cath &quot;..matches[2] 
		send(&quot;demon catharsis &quot;..matches[2])
		send(&quot;queue eqbal demon catharsis &quot;..matches[2])
	else
		send(&quot;demon sap &quot;..matches[2])
		send(&quot;queue eqbal demon sap &quot;..matches[2])
	end

	report(str)

	str = &quot;&quot;
	if p &lt;= 49 then str = &quot;\n&lt;red&gt;&quot;
	elseif p &lt;= 60 then str = &quot;\n&lt;magenta&gt;&quot;
	elseif p &lt;= 80 then str = &quot;\n&lt;yellow&gt;&quot;
	else str = &quot;\n&lt;green&gt;&quot;
	end
	str = str..&quot; *** Target is at &quot; .. p .. &quot;% mana! ***&quot;
	cecho(str)
end</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>^(\w+)'s mana stands at (\d+)\/(\d+)\.$</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>track+</name>
                            <script>report(matches[2]..&quot; is at &quot;..matches[3])
</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>^Your Ouroboros reports that (\w+) has moved to (.*)\.$</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>infirmity+</name>
                            <script></script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>^You stare at (\w+), giving (?:him|her) the evil eye of infirmity\.$</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>infirmity-</name>
                            <script></script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>^(\w+)'s mind is not disrupted enough and your attempt fails\.$</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>no free hands</name>
                            <script>expandAlias(&quot;qd&quot;)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>You do not have a free hand for your daegger.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>3</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>d presences start</name>
                            <script>diabolist.presences = {}
enableTrigger(&quot;d presences add&quot;)
enableTrigger(&quot;d presences end&quot;)
</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>You bid your ouroboros to seek out life presences nearby.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>3</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>d presences end</name>
                            <script>
if #diabolist.presences &gt; 0 then

	local str = &quot;&quot;
	for k, v in pairs( diabolist.presences ) do
		local name, loc, hp, mp = v[1], v[2], v[3], v[4]
		-- name = string.lpad( name, 10, &quot;.&quot; )
  
		if player( name ) and dbp.gcircle( name ) ~= dbp.gcircle(me) then
			str = str..sp..&quot;DP: &quot;..name..&quot; &quot;..hp..&quot;h &quot;..mp..&quot;m (&quot;..loc..&quot;) &quot;
		end
	end

	report(str)
	diabolist.presences = {}
end

disableTrigger(&quot;d presences add&quot;)
disableTrigger(&quot;d presences end&quot;)
</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>^Equilibrium Taken\: (\d+)\.(\d+)s$</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>d presences add</name>
                            <script>if class == &quot;Diabolist&quot; then
	table.insert( diabolist.presences, { matches[2], matches[3], matches[4], matches[5] } )
end</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>^(\w+) is at (.*), at (\d+) health and (\d+) mana\.$</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>daegger-</name>
                            <script>diabolist.daegger_balance = false</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>The daegger is hunting its prey and cannot act.</string>
                                <string>&quot;Hunt!&quot; you order your daegger.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>0</integer>
                                <integer>0</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>daegger+</name>
                            <script>diabolist.daegger_balance = true</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>The daegger is again ready to hunt its prey.</string>
                                <string>Your daegger comes racing towards you, stopping unnaturally quickly to land in your grasp.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>0</integer>
                                <integer>0</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>rebounding+</name>
                            <script>set(matches[2],&quot;rebounding&quot;,true)
</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>^.*daegger.* hurls itself at (\w+), striking (?:his|her) aura of rebounding\.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>fiend-</name>
                            <script>diabolist.demon = &quot;&quot;</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>A razor fiend screams in rage as the pentagram that it is bound to disintegrates.</string>
                                <string>That creature requires the presence of a pentagram to be summoned from Hell.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>3</integer>
                                <integer>3</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>soulstorm</name>
                            <script>if class == &quot;Diabolist&quot; then
	trax.take(matches[2],matches[3])
	sub(&quot;Soulstorm &quot;..matches[2]..&quot; &quot;..matches[3]..&quot;.&quot;)
end</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>^You focus on your essence and send its portion storming into (\w+)'s body, curing the effects of (\w+) and causing significant damage\.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>catharsis+</name>
                            <script>expandAlias(&quot;ac on&quot;)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>^You command your Ouroboros to tear the soul from (\w+)\.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>Defences</name>
                            <script></script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList/>
                            <regexCodePropertyList/>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>putrefaction+</name>
                                <script>diabolist.defences.putrefaction = true</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You concentrate for a moment and your flesh begins to dissolve away, becoming slimy and wet.</string>
                                    <string>You have gained the putrefaction defence.</string>
                                    <string>You have already melted your flesh. Why do it again?</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                    <integer>3</integer>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>putrefaction-</name>
                                <script>diabolist.defences.putrefaction = false</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You concentrate briefly and your flesh is once again solid.</string>
                                    <string>You have lost the putrefaction defence.</string>
                                    <string>Your flesh is already solid.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                    <integer>3</integer>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>demon armour+</name>
                                <script>diabolist.defences.armor = true</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You ask your Ouroboros for its protection, and it summons a thin black protecting sheen over you.</string>
                                    <string>You have gained the demon armour defence.</string>
                                    <string>You already are surrounded by unholy armour.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                    <integer>3</integer>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>syphon+</name>
                                <script>diabolist.defences.syphon = true</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You implore your Ouroboros to help its beloved master, and the heat of its power begins to wash over you.</string>
                                    <string>Your Ouroboros begins to shimmer with a demonic red light.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>syphon-</name>
                                <script>diabolist.defences.syphon = false</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>Your Ouroboros ceases its disease syphoning.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>lifevision+</name>
                                <script>diabolist.defences.lifevision = true</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You narrow your eyes and blink rapidly, enhancing your vision to seek out sources of lifeforce in others.</string>
                                    <string>You have gained the lifevision defence.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>shroud+</name>
                                <script>diabolist.defences.shroud = true</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>Calling on your dark power, you draw a thick shroud of concealment about yourself to cover your every action.</string>
                                    <string>You have gained the shroud defence.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>shroud-</name>
                                <script>diabolist.defences.shroud = false</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>Your shroud fades and you are visible once more.</string>
                                    <string>You have lost the shroud defence.</string>
                                    <string>You are not surrounded by a shroud of concealment.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                    <integer>3</integer>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>soulmask+</name>
                                <script>diabolist.defences.soulmask = true</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You utter a short charm to mask your soul from prying eyes.</string>
                                    <string>You have gained the soulmask defence.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>soulmask-</name>
                                <script>diabolist.defences.soulmask = false</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You relax your soulmask defense.</string>
                                    <string>You have lost the soulmask defence.</string>
                                    <string>You do not have the soulmask defense.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                    <integer>3</integer>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>deathaura+</name>
                                <script>diabolist.defences.deathaura = true</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You let the blackness of your soul pour forth.</string>
                                    <string>You have gained the deathaura defence.</string>
                                    <string>Your essence slowly drains away as you strain to maintain your aura of death.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                    <integer>3</integer>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>deathaura-</name>
                                <script>diabolist.defences.deathaura = false</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You do not have an aura of death.</string>
                                    <string>You relax your aura of death.</string>
                                    <string>You have lost the deathaura defence.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                    <integer>3</integer>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>vengeance+</name>
                                <script>diabolist.defences.vengeance = true</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You swear to yourself that you will wreak vengeance on your slayer.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>vengeance-</name>
                                <script>diabolist.defences.vengeance = false</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You lay your vengeful spirit to rest.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>blackwind+</name>
                                <script>diabolist.defences.blackwind = true</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>The black wind whips around your body one last time before your body completely dissipates and you are one with the odius vapour.</string>
                                    <string>You have gained the blackwind defence.</string>
                                    <string>You have taken the form of the blackwind and cannot do that.</string>
                                    <string>Your essence slowly drains away as you maintain your form of a black wind.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                    <integer>3</integer>
                                    <integer>3</integer>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>blackwind-</name>
                                <script>diabolist.defences.blackwind = false</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You have lost the blackwind defence.</string>
                                    <string>^You concentrate and are once again (.*)\.</string>
                                    <string>^You are already in (.*) form\.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                    <integer>1</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                        </TriggerGroup>
                        <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>Malignosis</name>
                            <script></script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList/>
                            <regexCodePropertyList/>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>fiend</name>
                                <script>diabolist.demon = &quot;fiend&quot;</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>The blood that forms the pentagram begins to boil and churn as a razor-clawed fiend explodes into view.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>nightmare</name>
                                <script>diabolist.demon = &quot;nightmare&quot;</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You conjure up images of unspeakable acts, and force them to take semi-corporeal form.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>daemonite</name>
                                <script>diabolist.demon = &quot;daemonite&quot;</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You summon forth a daemonite to harrass your enemies.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                        </TriggerGroup>
                        <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>Necromancy</name>
                            <script></script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList/>
                            <regexCodePropertyList/>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>animate</name>
                                <script>diabolist.form = matches[2]</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>^Your flesh turns pallid as your body slowly dies and is reborn again in an abhorrent state of undeath, assuming the form of a (\w+)\.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                        </TriggerGroup>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>eliminate successful</name>
                            <script>expandAlias(&quot;ac on&quot;)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>^As your eyes narrow in the hatred for (\w+) you share with your daegger, you plunge the serrated blade into (?:his|her) chest, and when you extract it, (?:his|her) still-beating heart is impaled on the end of the bloody daegger\.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>infirmity-</name>
                            <script></script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>Kryss's mind is not disrupted enough and your attempt fails.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>0</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>shield+</name>
                            <script>set(matches[2],&quot;shield&quot;,true)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>^A living daegger lunges at (\w+), clattering against (?:his|her) invisible shield\.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                    </TriggerGroup>
                    <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>Summoner</name>
                        <script></script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList/>
                        <regexCodePropertyList/>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>prompt</name>
                            <script>summoner.prompt(string.len(line))</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>return isPrompt()</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>4</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>taint</name>
                            <script>set(matches[2],&quot;taint&quot;,tonumber(matches[3]))</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>^The aura around (\w+) is now tainted to (\d+)\%\.$</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>taint-</name>
                            <script>set(matches[2],&quot;taint&quot;,0)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>^(\w+)'s aura is no longer tainted\.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>unleash-</name>
                            <script>summoner.unleash = false
if summoner.unleash_timer == 0 then
	summoner.unleash_timer = os.time()
end</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>You are not yet able to unleash another demon.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>3</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>unleash-</name>
                            <script>summoner.unleash = false
summoner.unleash_timer = os.time()

if matches[2] == &quot;Jy'Barrak Golgotha&quot; then summoner.golgotha = false end
if matches[2] == &quot;Hecate&quot; then summoner.hecate = false end
if matches[2] == &quot;Dameron&quot; then summoner.dameron = false end
if matches[2] == &quot;Palpatar&quot; then summoner.palpatar = false end
if matches[2] == &quot;Lyncantha&quot; then summoner.lyncantha = false end
if matches[2] == &quot;Danaeus&quot; then summoner.danaeus = false end
if matches[2] == &quot;Cadmus&quot; then summoner.cadmus = false end
if matches[2] == &quot;Buul&quot; then summoner.buul = false end
if matches[2] == &quot;Belial&quot; then summoner.belial = false end
if matches[2] == &quot;Marduk&quot; then summoner.marduk = false end
if matches[2] == &quot;Nin'Kharsag&quot; then summoner.ninkharsag = false end
if matches[2] == &quot;Pyradius&quot; then summoner.pyradius = false end
if matches[2] == &quot;Scrag&quot; then summoner.scrag = false end
if matches[2] == &quot;Arctar&quot; then summoner.arctar = false end
if matches[2] == &quot;Eerion&quot; then summoner.eerion = false end
if matches[2] == &quot;Rixil&quot; then summoner.rixil = false end
if matches[2] == &quot;Skyrax&quot; then summoner.skyrax = false end</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>^You focus upon your pact and a terrifying visage of (.*), (.*) appears briefly, wreathed in flames\.</string>
                                <string>^You focus upon your pact and a terrifying visage of (.*), (.*) appears briefly in front of (\w+), wreathed in flames\.</string>
                                <string>^You focus upon your pact and a terrifying visage of (\w+) appears (briefly) in front of (\w+), wreathed in flames\.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>1</integer>
                                <integer>1</integer>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>unleash-</name>
                            <script>if matches[2] == &quot;Jy'Barrak Golgotha&quot; then summoner.golgotha = false end
if matches[2] == &quot;Hecate&quot; then summoner.hecate = false end
if matches[2] == &quot;Dameron&quot; then summoner.dameron = false end
if matches[2] == &quot;Palpatar&quot; then summoner.palpatar = false end
if matches[2] == &quot;Lyncantha&quot; then summoner.lyncantha = false end
if matches[2] == &quot;Danaeus&quot; then summoner.danaeus = false end
if matches[2] == &quot;Cadmus&quot; then summoner.cadmus = false end
if matches[2] == &quot;Buul&quot; then summoner.buul = false end
if matches[2] == &quot;Belial&quot; then summoner.belial = false end
if matches[2] == &quot;Marduk&quot; then summoner.marduk = false end
if matches[2] == &quot;Nin'Kharsag&quot; then summoner.ninkharsag = false end
if matches[2] == &quot;Pyradius&quot; then summoner.pyradius = false end
if matches[2] == &quot;Scrag&quot; then summoner.scrag = false end
if matches[2] == &quot;Arctar&quot; then summoner.arctar = false end
if matches[2] == &quot;Eerion&quot; then summoner.eerion = false end
if matches[2] == &quot;Rixil&quot; then summoner.rixil = false end
if matches[2] == &quot;Skyrax&quot; then summoner.skyrax = false end</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>You aren't able to unleash the power of (.*), (.*) again so soon\.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>unleash+</name>
                            <script>summoner.unleash = true
summoner.unleash_timer = 0</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>You are again able to unleash a demon.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>3</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>unleash+</name>
                            <script>if matches[2] == &quot;Jy'Barrak Golgotha&quot; then summoner.golgotha = true end
if matches[2] == &quot;Golgotha&quot; then summoner.golgotha = true end
if matches[2] == &quot;Hecate&quot; then summoner.hecate = true end
if matches[2] == &quot;Dameron&quot; then summoner.dameron = true end
if matches[2] == &quot;Palpatar&quot; then summoner.palpatar = true end
if matches[2] == &quot;Lyncantha&quot; then summoner.lyncantha = true end
if matches[2] == &quot;Danaeus&quot; then summoner.danaeus = true end
if matches[2] == &quot;Cadmus&quot; then summoner.cadmus = true end
if matches[2] == &quot;Buul&quot; then summoner.buul = true end
if matches[2] == &quot;Belial&quot; then summoner.belial = true end
if matches[2] == &quot;Marduk&quot; then summoner.marduk = true end
if matches[2] == &quot;Nin'Kharsag&quot; then summoner.ninkharsag = true end
if matches[2] == &quot;Pyradius&quot; then summoner.pyradius = true end
if matches[2] == &quot;Scrag&quot; then summoner.scrag = true end
if matches[2] == &quot;Arctar&quot; then summoner.arctar = true end
if matches[2] == &quot;Eerion&quot; then summoner.eerion = true end
if matches[2] == &quot;Rixil&quot; then summoner.rixil = true end
if matches[2] == &quot;Skyrax&quot; then summoner.skyrax = true end</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>^You are again able to unleash (.*), (.*)\.</string>
                                <string>^You are again able to unleash (\w+)\.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>1</integer>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>cloak-</name>
                            <script>report(&quot;Brazier &quot;..matches[2]..&quot; now&quot;)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>^(\w+)'s cloak defence is stripped\.$</string>
                                <string>^(\w+) has no defences left\.$</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>1</integer>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>hood-</name>
                            <script>report(matches[2]..&quot;'s hood is down&quot;)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>^(\w+)'s hood defence is stripped\.$</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>doppleganger look</name>
                            <script>local name = multimatches[3][1]
local number = multimatches[4][2]

report(target..&quot; at &quot;..name..&quot; #&quot;..number)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>4</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>^(\w+) tells you, &quot;Yes, master\.&quot;</string>
                                <string>^You look through the mind of (\w+)\:</string>
                                <string>^(.*)\.$</string>
                                <string>v(\d+)</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>1</integer>
                                <integer>1</integer>
                                <integer>1</integer>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>Noctu</name>
                            <script></script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList/>
                            <regexCodePropertyList/>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>combust ablaze</name>
                                <script>trax.give(matches[2],&quot;ablaze&quot;)
sub(matches[2]..&quot; &lt;green&gt;ablaze [summoner].&quot;)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>^You point an imperious finger at (\w+)\. (\w+)'s skin cracks and sizzles as flames spontaneously erupt all over (?:his|her) body\.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>combust asthma</name>
                                <script>trax.give(matches[2],&quot;asthma&quot;)
sub(matches[2]..&quot; &lt;green&gt;asthma [summoner].&quot;)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>^As thick smoke rises from the flames, (\w+) seems to have difficulties breathing\.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>dehydrate butisol</name>
                                <script>trax.give(matches[2],&quot;butisol&quot;)
sub(matches[2]..&quot; &lt;green&gt;butisol [summoner].&quot;)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>^You concentrate on suffusing (\w+)'s body with heat. (\w+) looks drained as clouds of steam rise from (?:his|her) ears\.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>nervewrack sunallergy</name>
                                <script>trax.give(matches[2],&quot;sunallergy&quot;)
sub(matches[2]..&quot; &lt;green&gt;sunallergy [summoner].&quot;)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>^You close your eyes and concentrate intensely on (\w+)\. (\w+)'s skin suddenly reddens\.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>nervewrack sensitivity</name>
                                <script>trax.give(matches[2],&quot;sensitivity&quot;)
sub(matches[2]..&quot; &lt;green&gt;sensitivity [summoner].&quot;)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>^(\w+)'s nerves start tingling and twitching on their own accord\.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>heave taint attunement</name>
                                <script>trax.give(matches[2],&quot;taint attunement&quot;)
sub(matches[2]..&quot; &lt;green&gt;taint attunement [summoner].&quot;)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>^As the ground drags (\w+) down, (?:his|her) demonic taint attunement strengthens\.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>soulburn masochism</name>
                                <script>trax.give(matches[2],&quot;masochism&quot;)
sub(matches[2]..&quot; &lt;green&gt;masochism [summoner].&quot;)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>^Summoning your mastery of fire, you reach out with your mind against (\w+)'s aura\.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>disfigurement disloyalty</name>
                                <script>trax.give(matches[2],&quot;disfigurement&quot;)
trax.give(matches[2],&quot;disloyalty&quot;)
sub(matches[2]..&quot; &lt;green&gt;disfigurement + disloyalty [summoner].&quot;)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>^You utter a terrible curse and point a finger at (\w+). (\w+)'s body seems to weaken and appears more primitive\.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>flash epilepsy</name>
                                <script>trax.give(matches[2],&quot;epilepsy&quot;)
sub(matches[2]..&quot; &lt;green&gt;epilepsy [summoner].&quot;)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>^You tap lightly at (\w+)'s aura\. (\w+) is enveloped briefly in a cocoon of rapidly blinking light\.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>disorient vertigo</name>
                                <script>trax.give(matches[2],&quot;vertigo&quot;)
sub(matches[2]..&quot; &lt;green&gt;vertigo [summoner].&quot;)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>^The air around (\w+) shifts in a disorienting pattern, burning (?:his|her) skin painfully\.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>vertigo clumsiness</name>
                                <script>trax.give(matches[2],&quot;vertigo&quot;)
trax.give(matches[2],&quot;clumsiness&quot;)
sub(matches[2]..&quot; &lt;green&gt;vertigo + clumsiness [summoner].&quot;)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>^The air around (\w+) shifts in a disorienting pattern, burning (his|her) skin painfully and leaving (?:him|her) fumbling around\.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>quicken impatience</name>
                                <script>trax.give(matches[2],&quot;impatience&quot;)
sub(matches[2]..&quot; &lt;green&gt;impatience [summoner].&quot;)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>^Air moves chaotically around (\w+), (?:his|her) patience visibly wearing thin\.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>nerveburn burning nerves</name>
                                <script>trax.give(matches[2],&quot;burning nerves&quot;)
-- sub(matches[2]..&quot; &lt;green&gt;burning nerves [summoner].&quot;)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>^(\w+)'s body starts twitching uncontrollably, as if (?:his|her) nerves were on fire\.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>hellsight</name>
                                <script>trax.give(matches[2],&quot;hellsight&quot;)
set(matches[2],&quot;random_affs&quot;,has(matches[2],&quot;random_affs&quot;)+1)
sub(matches[2]..&quot; &lt;green&gt;hellsight [summoner].&quot;)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>^You stare intently at (\w+)\. (\w+)'s eyes appear unfocused and haunted\.$</string>
                                    <string>^(\w+)'s eyes appear unfocused and haunted\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>1</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>fever hallucinations</name>
                                <script>trax.give(matches[2],&quot;hallucinations&quot;)
sub(matches[2]..&quot; &lt;green&gt;hallucinations [summoner].&quot;)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>^(\w+) looks around (?:himself|herself) with feverish eyes, (his|her) eyes focusing on something that is not there\.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>madness</name>
                                <script>trax.give(matches[2],&quot;madness&quot;)
sub(matches[2]..&quot; &lt;green&gt;madness [summoner].&quot;)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>^You pass your hand in front of (\w+)\. (\w+) trembles and (?:his|her) eyes widen in terror\.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>quicken impatience relapse</name>
                                <script>trax.give(matches[2],&quot;impatience&quot;)
sub(matches[2]..&quot; &lt;green&gt;impatience relapse [summoner].&quot;)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>^(\w+) appears less patient again\.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>flash epilepsy duplicate</name>
                                <script>trax.give(matches[2],&quot;epilepsy&quot;)
sub(matches[2]..&quot; &lt;green&gt;epilepsy duplicate [summoner].&quot;)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>^(\w+) is enveloped briefly in a cocoon of rapidly blinking light\.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>incinerate+</name>
                                <script>set(matches[2],&quot;incinerate&quot;,true)
sub(&quot;\n&lt;gold&gt;[[ &lt;red&gt;I N C I N E R A T E&lt;gold&gt; ]]&quot;)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>^Searingly hot flames suddenly leap all over (\w+)'s body, incinerating (?:his|her) skin painfully and leaving (?:his|her) body charred and smouldering\.</string>
                                    <string>^Feeding on the tainted aura surrounding (\w+), the hot flames keep scorching (\w+)'s body painfully\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>1</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>incinerate-</name>
                                <script>if matches[2] == &quot;you&quot; then matches[2] = me end
set(matches[2],&quot;incinerate&quot;,false)
sub(&quot;\n&lt;red&gt;[[ &lt;gold&gt;I N C I N E R A T E   D O W N&lt;red&gt; ]]&quot;)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>^Lacking taint to sustain themselves, the flames around (\w+) disappear\.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>timewarp complete</name>
                                <script>expandAlias(&quot;ac on&quot;)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>^Your preparation is successful and with a flick of your hand, you cause a flickering multicolored aura to form up around (\w+)\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>incinerate+ [me]</name>
                                <script>set(me,&quot;incinerate&quot;,true)
sub(&quot;\n&lt;gold&gt;[[ &lt;red&gt;I N C I N E R A T E&lt;gold&gt; ]]&quot;)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>Feeding on the tainted aura surrounding you, the hot flames keep scorching your body painfully.</string>
                                    <string>Searingly hot flames suddenly leap all over your body, incinerating your skin painfully and leaving your body charred and smouldering.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                        </TriggerGroup>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>cadmus-</name>
                            <script></script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>You concentrate on your link with Cadmus, the cursed shaman, attempting to shift your maladies to him.</string>
                                <string>You aren't able to focus on Cadmus again so soon!</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>3</integer>
                                <integer>3</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>cadmus+</name>
                            <script></script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>You are again able to focus on Cadmus, the cursed shaman.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>3</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>lyncantha+</name>
                            <script>if dbp.gcirc(me) == dbp.gcirc(matches[2]) then
else
	report(&quot;[Lyncantha]: &quot;..matches[2]..&quot; entered.&quot;)
end</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>^Lyncantha whispers in your mind that (\w+) has entered the area\.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>lyncantha-</name>
                            <script>if dbp.gcirc(me) == dbp.gcirc(matches[2]) then
else
	report(&quot;[Lyncantha]: &quot;..matches[2]..&quot; left.&quot;)
end</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>^Lyncantha whispers in your mind that (\w+) has left the area\.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>lyncantha up</name>
                            <script>report(&quot;Lyncantha UP&quot;)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>^You close your eyes and reach out with your mind towards the Demon Plane, seeking out the presence of Lyncantha, Keeper of the Hounds. Your search is successful and a burden descends upon your soul as the possession takes hold\.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>lyncantha down</name>
                            <script>report(&quot;Lyncantha DOWN&quot;)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>You close your eyes and focus all your willpower on the demon that is possessing you, driving away the presence of Lyncantha, Keeper of the Hounds.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>3</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>nin'kharsag+</name>
                            <script></script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>^The apparition points a ghastly hand at (\w+)\.$</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>marduk+</name>
                            <script></script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>You aren't able to unleash the power of Marduk, Eater of Souls again so soon.</string>
                                <string>You are not yet able to unleash another demon.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>1</integer>
                                <integer>3</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>Tarot</name>
                            <script></script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList/>
                            <regexCodePropertyList/>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>hangedman+</name>
                                <script>local str = &quot;&quot;

str = str..&quot;Impale &quot;..matches[2]..&quot; now&quot;..sp
str = str..&quot;Impale &quot;..matches[2]..&quot; now&quot;

report(str)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>^As the Hanged Man card reaches (\w+), a huge mass of rope bursts out of it, entrapping and hindering (?:him|her)\.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>ranged tarot</name>
                                <script>local str = string.upper(matches[2])
for k,v in pairs(targets) do
	if v == matches[2] then str = str..&quot; (t&quot;..k..&quot;)&quot; break end
end

str = str..&quot; just hit my Trap card.&quot;

report(str)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>^You sense that your levitating Tarot card has just hit (\w+)\.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>hierophant+</name>
                                <script>local name = multimatches[1][2]

set(name,&quot;hierophant&quot;,true)
set(name,&quot;hierophant_time&quot;,os.time())

cecho(&quot;\n&quot;..name..&quot; &lt;green&gt;hierophant [summoner].&quot;)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>4</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>^You quickly fling a card with the image of the Hierophant at (\w+)\.$</string>
                                    <string>^A strange expression appears on (\w+)'s face as the card hits\.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>1</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>hierophant-</name>
                                <script>set(matches[2],&quot;hierophant&quot;,false)
set(matches[2],&quot;hierophant_time&quot;,0)

sub(matches[2]..&quot; &lt;firebrick&gt;hierophant [summoner].&quot;)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>^You issue the command to (\w+)\.</string>
                                    <string>^You issue the command, but (\w+) just ignores you\.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>1</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>lust+</name>
                                <script>local name = multimatches[1][2]

if player( name ) and multimatches[2][2] == name then
	
end</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>1</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>^You quickly fling a card with the image of Lust at (\w+)\.$</string>
                                    <string>^(\w+)'s eyes light up as the Lust card hits\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>1</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>hierophant+ [me]</name>
                                <script>set(me,&quot;hierophant&quot;,true)
set(me,&quot;hierophant_time&quot;,os.time())</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>1</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You quickly fling a card with the image of the Hierophant at yourself.</string>
                                    <string>An urge to obey overcomes you as the card hits you.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>hierophant- [me]</name>
                                <script>set(me,&quot;hierophant&quot;,false)
set(me,&quot;hierophant_time&quot;,0)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You issue the command to yourself.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>emperor +numbness</name>
                                <script>trax.give(matches[2],&quot;numbness&quot;)
sub(matches[2]..&quot; &lt;green&gt;numbness [Tarot].&quot;)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>^As the tarot card hits (\w+), (?:his|her) muscles suddenly stiffen\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>fool +manaleech</name>
                                <script>summoner.mlg = false
summoner.mlg_timer = 0
trax.give(matches[2],&quot;manaleech&quot;)
sub(matches[2]..&quot; &lt;green&gt;manaleech relapse [Tarot].&quot;)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>^(\w+) pales slightly as the Fool's influence manifests once again\.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>fool +manaleech</name>
                                <script>summoner.mlg = true
summoner.mlg_timer = os.time()
trax.give(matches[2],&quot;manaleech&quot;)
sub(matches[2]..&quot; &lt;green&gt;manaleech [Tarot].&quot;)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>^As the Fool card touches (\w+), (?:he|she) pales slightly\.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>moon</name>
                                <script>if matches[3] == &quot;you&quot; then matches[3] = me end
trax.give(matches[3],matches[2])
sub(matches[3]..&quot; &lt;green&gt;&quot;..matches[2]..&quot;:[tarot]&quot;)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>^The card bestows the (.*) malady upon (\w+)\.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                        </TriggerGroup>
                        <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>Unleashes</name>
                            <script></script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList/>
                            <regexCodePropertyList/>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>lyncantha+</name>
                                <script>local arg1 = &quot;crippled &quot;..matches[3]
local arg2 = &quot;crippled &quot;..matches[4]

trax.give(matches[2],&quot;crippled &quot;..matches[3])
trax.give(matches[2],&quot;crippled &quot;..matches[4])
sub(matches[2]..&quot; &lt;green&gt;crippled limbs [Lyncantha].&quot;)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>^The demon lashes out at (\w+), breaking (?:his|her) (.*) and (.*)\.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>cadmus+</name>
                                <script>trax.give(matches[2],&quot;hallucinations&quot;)
trax.give(matches[2],&quot;addiction&quot;)
sub(matches[2]..&quot; &lt;green&gt;hallucinations + addiction [summoner:cadmus].&quot;)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>^The visage glares at (\w+)\.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>report marduk</name>
                                <script>report(&quot;Marduk failed&quot;)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You cease your attempt to summon Marduk.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                        </TriggerGroup>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>failed madness</name>
                            <script>send(&quot;queue reset all&quot;)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>^You pass your hand in front of (\w+)\. (\w+) shakes (?:his|her) head as if clearing (?:his|her) mind\.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>Defences</name>
                            <script></script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList/>
                            <regexCodePropertyList/>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>astralvision</name>
                                <script>summoner.defences.deathsight = true
summoner.defences.lifevision = true</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>Gritting your teeth, you focus your will and expand your aura throughout the surroundings about you, seeking out the aura of others.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>distortion+</name>
                                <script>summoner.defences.distortion = true</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>Clenching your fists, you focus your will on distorting the air around yourself, and a vibrant violet glow surrounds you.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>distortion-</name>
                                <script>summoner.defences.distortion = false</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You concentrate on returning the distorted air around you back to normal, and the vibrant violet glow slowly fades.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>soulchain+</name>
                                <script>summoner.defences.soulchain = true</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>Tapping into your knowledge of living auras, you summon invisible chains to obstruct departure.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>soulchain-</name>
                                <script>summoner.defences.soulchain = false</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>The invisible chains fade from around you.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>warmth+</name>
                                <script>summoner.defences.warmth = true</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You start focusing on warming up your body.</string>
                                    <string>A pleasant warmth soothes your body and mind.</string>
                                    <string>You are already focusing on warming up your body.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                    <integer>3</integer>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                        </TriggerGroup>
                    </TriggerGroup>
                    <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>Wytch</name>
                        <script></script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList/>
                        <regexCodePropertyList/>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>double mark+</name>
                            <script>if player(matches[4]) then
	if table.contains(wytch.greater,matches[2]) then
		set(matches[4],&quot;greater&quot;,matches[2])
	elseif table.contains(wytch.greater,matches[3]) then
		set(matches[4],&quot;greater&quot;,matches[3])
	end
	if table.contains(wytch.lesser,matches[2]) then
		set(matches[4],&quot;lesser&quot;,matches[2])
	elseif table.contains(wytch.lesser,matches[3]) then
		set(matches[4],&quot;lesser&quot;,matches[3])
	end
end
</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>^You reach out and (?:hastily)* scrawl the Mark of (\w+) and the Mark of (\w+) on (\w+)\.$</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>single mark+</name>
                            <script>if player(matches[3]) then
	if table.contains(wytch.greater,matches[2]) then
		set(matches[3],&quot;greater&quot;,matches[2])
	end
	if table.contains(wytch.lesser,matches[2]) then
		set(matches[3],&quot;lesser&quot;,matches[2])
	end
end
</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>^You reach out and (?:hastily)* scrawl the Mark of (\w+) on (\w+)\.$</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>double mark+ [me]</name>
                            <script>if player(me) then
	if table.contains(wytch.greater,matches[2]) then
		set(me,&quot;greater&quot;,matches[2])
	elseif table.contains(wytch.greater,matches[3]) then
		set(me,&quot;greater&quot;,matches[3])
	end
	if table.contains(wytch.lesser,matches[2]) then
		set(me,&quot;lesser&quot;,matches[2])
	elseif table.contains(wytch.lesser,matches[3]) then
		set(me,&quot;lesser&quot;,matches[3])
	end
end
</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>^You reach out and hastily scrawl the Mark of (\w+) and the Mark of (\w+) on yourself\.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>single mark+ [me]</name>
                            <script>if player(me) then
	if table.contains(wytch.greater,matches[2]) then
		set(me,&quot;greater&quot;,matches[2])
	end
	if table.contains(wytch.lesser,matches[2]) then
		set(me,&quot;lesser&quot;,matches[2])
	end
end
</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>^You reach out and hastily scrawl the Mark of (\w+) on yourself.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>vortex+</name>
                            <script>local str = &quot;&quot;
if player(matches[3]) and dbp.gcirc(matches[3]) ~= dbp.gcirc(me) then
	str = str..&quot;[Vortex]: &quot;..matches[3]..&quot; @ #&quot;..gmcp.Room.Info.num..&quot;, &quot;..gmcp.Room.Info.name..sp
	str = str..&quot;[Vortex]: Shard wall to &quot;..string.upper(matches[2])..&quot; please.&quot;
	report(str)
end</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>^A dark, swirling vortex opens up to the (.*) and spits out (\w+) onto the floor before closing\.$</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>totem-</name>
                            <script>expandAlias(&quot;ac on&quot;)
send(&quot;autocuring rebounding on&quot;)
expandAlias(&quot;qd&quot;)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>You cease to prop up a tall totem pole.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>3</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>mark-</name>
                            <script>if player(matches[3]) then
	if matches[2] == has(matches[3],&quot;lesser&quot;) then
		set(matches[3],&quot;lesser&quot;,&quot;&quot;)
		set(matches[3],&quot;ignite&quot;,false)
	elseif matches[2] == has(matches[3],&quot;greater&quot;) then
		set(matches[3],&quot;greater&quot;,&quot;&quot;)
		set(matches[3],&quot;ignite&quot;,false)
	end
end</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>^The burning Mark of (\w+) on (\w+)'s body disappears without a trace as the flames finally consume it\.$</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="yes" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>mark ignited+</name>
                            <script>set(target,&quot;ignite&quot;,true)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#36ff88</mFgColor>
                            <mBgColor>#000000</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>^The Mark of .* suddenly explodes into searing flames!</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>Shamanism</name>
                            <script></script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList/>
                            <regexCodePropertyList/>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>numbness</name>
                                <script>trax.give(matches[2],&quot;numbness&quot;)
sub(&quot;[&lt;light_sea_green&gt;Shaman&lt;grey&gt;]: &lt;yellow_green&gt;Numbness&lt;grey&gt;.&quot;)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>^You throw some red bone dust at (\w+) and as it reaches (him|her), (he|she) seems to have difficulties moving (?:his|her) muscles\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>slickness+</name>
                                <script>trax.give(matches[2],&quot;slickness&quot;)
sub(&quot;[&lt;light_sea_green&gt;Shaman&lt;grey&gt;]: &lt;yellow_green&gt;Slickness&lt;grey&gt;.&quot;)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>^You mix some yellow bone dust with water and throws it at (\w+), enveloping (?:him|her) in a slick substance\.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>weariness+</name>
                                <script>trax.give(matches[2],&quot;weariness&quot;)
sub(&quot;[&lt;light_sea_green&gt;Shaman&lt;grey&gt;]: &lt;yellow_green&gt;Weariness&lt;grey&gt;.&quot;)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>^You throw some blue bone dust at (\w+), causing (?:him|her) to feel weak\.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>dizziness+</name>
                                <script>trax.give(matches[2],&quot;dizziness&quot;)
sub(&quot;[&lt;light_sea_green&gt;Shaman&lt;grey&gt;]: &lt;yellow_green&gt;Dizziness&lt;grey&gt;.&quot;)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>^You fling some blue bone dust at (\w+), disorienting (?:him|her)\.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>recklessness+</name>
                                <script>trax.give(matches[2],&quot;recklessness&quot;)
sub(&quot;[&lt;light_sea_green&gt;Shaman&lt;grey&gt;]: &lt;yellow_green&gt;Recklessness&lt;grey&gt;.&quot;)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>^You throw some blue bone dust at (\w+), whose features contort into an enraged expression\.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>disloyalty+</name>
                                <script>trax.give(matches[2],&quot;disloyalty&quot;)
sub(&quot;[&lt;light_sea_green&gt;Shaman&lt;grey&gt;]: &lt;yellow_green&gt;Disloyalty&lt;grey&gt;.&quot;)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>^You throw some red bone dust in (\w+)'s face, disfiguring it horribly\.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>inhibit ?</name>
                                <script>if has(matches[2],&quot;dizziness&quot;) and has(matches[2],&quot;confusion&quot;) then
	trax.give(matches[2],&quot;lethargy&quot;)
else
	trax.give(matches[2],&quot;dizziness&quot;)
	trax.give(matches[2],&quot;confusion&quot;)
end
sub(&quot;[&lt;light_sea_green&gt;Shaman&lt;grey&gt;]: &lt;yellow_green&gt;Inhibit&lt;grey&gt;.&quot;)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>^You mix some yellow and red bone dust and throw it lightly at (\w+)\. As the dust reaches (?:him|her), (?:his|her) movements slow down and a confused look crosses (?:his|her) features\.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>obstruct+</name>
                                <script>set(matches[2],&quot;obstruct&quot;,true)
</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>^You mix some purple and red bone dust and throw it at (\w+)\. As the mixture reaches (\w+), it surrounds (?:him|her) like a cloud, obstructing (?:his|her) movement\.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>obstruct-</name>
                                <script>set(matches[2],&quot;obstruct&quot;,false)


-- The burning Mark of Cadmus on Wysrias's body disappears without a trace as the flames finally consume it.</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>^The bone dust cloud surrounding (\w+) dissipates, no longer obstructing (?:his|her) movement\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>confound+</name>
                                <script>set(matches[2],&quot;confound&quot;,true)
set(matches[2],&quot;confound_time&quot;,os.time())</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>^You quickly fling some red dust at (\w+), confounding (?:him|her)\.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>divine+</name>
                                <script></script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>^You discern that (\w+) is at (.*)\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>divine+ alone</name>
                                <script></script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>^(?:He|She) is alone\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>divine+ not alone</name>
                                <script>
-- He is with Cordilia and Sapp.
-- He is alone.
-- He is with Iniar.
-- He is with Iniar, Mykael, and Selthis.</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>^(He|She) is with (.*)\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>confound+ [me]</name>
                                <script>set(me,&quot;confound&quot;,true)
set(me,&quot;confound_time&quot;,os.time())</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You quickly fling some red dust at yourself, to no effect.</string>
                                    <string>You quickly fling some red dust at yourself, confounding you.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                        </TriggerGroup>
                        <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>Runelore</name>
                            <script></script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList/>
                            <regexCodePropertyList/>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>flare+</name>
                                <script>set(matches[3],matches[2],true)
set(matches[3],matches[2]..&quot;_time&quot;,os.time())

if matches[2] == &quot;loshre&quot; or matches[2] == &quot;nairat&quot; then
	set(matches[3],matches[2]..&quot;_active_timer&quot;,tempTimer(2,function() 
		killTimer(has(matches[3],matches[2]..&quot;_active_timer&quot;)) 
		set(matches[3],matches[2]..&quot;_active&quot;,true)
		end))
end</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>^You concentrate on the (\w+) rune on .*, and its searing image suddenly flares on (\w+)'s skin\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>flare-</name>
                                <script>set(matches[3],matches[2],false)
set(matches[3],matches[2]..&quot;_time&quot;,0)
</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>2</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>^You concentrate on the (\w+) rune on .*, and its searing image suddenly flares on (\w+)'s skin\.$</string>
                                    <string>^The rune has no effect\.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>1</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>flare fade</name>
                                <script>set(matches[3],matches[2],false)
set(matches[3],matches[2]..&quot;_time&quot;,0)
if matches[2] == &quot;loshre&quot; or matches[2] == &quot;nairat&quot; then
	killTimer(has(matches[3],matches[2]..&quot;_active_timer&quot;)) 
	set(matches[3],matches[2]..&quot;_active&quot;,false)
end</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>^The residual effects of the (\w+) rune around (\w+) fade\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>inguz+</name>
                                <script>trax.give(matches[2],&quot;paralysis&quot;)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>^(\w+)'s limbs lock up as (?:his|her) eyes meet an inguz rune on a totem\.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                        </TriggerGroup>
                        <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>Curses</name>
                            <script></script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList/>
                            <regexCodePropertyList/>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>bleeding [bashing]</name>
                                <script>deleteLine()</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>^Blood begins to flow from .*\.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>curse+ [bashing]</name>
                                <script>if not player(matches[2]) then
	sub(&quot;You bleed &lt;grey&gt;&quot;..matches[2]..&quot;&lt;stop&gt;.&quot;)
end</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>^You point an imperious finger at (.*), invoking the curse of bleeding\.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>curse+</name>
                                <script>if matches[3] ~= &quot;breach&quot; and matches[3] ~= &quot;steal&quot; and matches[3] ~= &quot;bleeding&quot; then
	if matches[2] == &quot;yourself&quot; then matches[2] = me end
	trax.give(matches[2],matches[3])
end
sub(&quot;[&lt;medium_purple&gt;Wytchcraft&lt;stop&gt;]: &lt;green&gt;&quot;..string.title(matches[3])..&quot;&lt;grey&gt;.&quot;)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>^You point an imperious finger at (\w+), invoking the curse of (.*)\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>curseward-</name>
                                <script>set(multimatches[1][2],&quot;curseward&quot;,false)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>2</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>^You point an imperious finger at (\w+), invoking the curse of breach\.$</string>
                                    <string>1</string>
                                    <string>^(?:His|Her) curseward has failed!</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>1</integer>
                                    <integer>5</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>curseward+</name>
                                <script>set(me,&quot;curseward&quot;,true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You try to curse yourself, but you is warded.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                        </TriggerGroup>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>transfix+</name>
                            <script>report(&quot;Transfix on &quot;..matches[2])</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>^(\w+)'s attention is grabbed and held by a nairat rune\.$</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>mannaz+</name>
                            <script>wytch.mannaz = true</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>You concentrate on the mannaz rune on an ornately wrought tablet, and its searing image suddenly flares on your skin.</string>
                                <string>You have already flared the mannaz rune.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>3</integer>
                                <integer>3</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>prompt</name>
                            <script>wytch.prompt(string.len(line))</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>return isPrompt()</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>4</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>queued hecate+</name>
                            <script>wytch.target = matches[2]
wytch.pending = revlookup(matches[4],wytch.curse_spellbook)

sub(&quot;[&lt;maroon&gt;EQBAL&lt;stop&gt;] &quot;..matches[2]..&quot;: &lt;dark_slate_blue&gt;&quot;..matches[3]..&quot;&lt;stop&gt;, &lt;dark_slate_blue&gt;&quot;..matches[4]..&quot;&lt;stop&gt;.&quot;)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>^(?:Blight|Curse|Swiftcurse) (\w+) (\w+) (\w+) added to your EQBAL queue\.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>hecate flare+</name>
                            <script>local time = os.time()
local short = multimatches[2][2]
table.insert( wytch.hlist, { time, short } )

--
-- if wytch.pending ~= &quot;&quot; then
--	local time = os.time()
--	local curse = wytch.pending
--	table.insert( wytch.hlist, { time, wytch.pending } )
--	wytch.pending = &quot;&quot;
-- end</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>2</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>^The Mark of Hecate on (\w+)'s body flares briefly\.</string>
                                <string>^The Mark of Hecate will invoke the (\w+) curse\.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>1</integer>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>hecate+</name>
                            <script>local curse = matches[3]

curse = revlookup(curse,wytch.curse_spellbook)

if curse ~= &quot;breach&quot; and curse ~= &quot;steal&quot; and curse ~= &quot;bleeding&quot; then
	if matches[2] == &quot;yourself&quot; then matches[2] = me end
	trax.give(matches[2],curse)
end

for i=1,#wytch.hlist do
	local time = wytch.hlist[i][1]
	local hcurse = wytch.hlist[i][2]

	if hcurse == curse then
		table.remove( wytch.hlist, i )
		break
	end
end</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>^You discern that (\w+) has been hit with the (.*) curse\.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>hecate flare+ [me]</name>
                            <script>if wytch.pending ~= &quot;&quot; then
	local time = os.time()
	local curse = wytch.pending
	table.insert( wytch.hlist, { time, wytch.pending } )
	wytch.pending = &quot;&quot;
end</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>The Mark of Hecate on your body flares briefly.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>3</integer>
                            </regexCodePropertyList>
                        </Trigger>
                    </TriggerGroup>
                </TriggerGroup>
                <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>magick</name>
                    <script></script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList/>
                    <regexCodePropertyList/>
                    <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>Bard</name>
                        <script></script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList/>
                        <regexCodePropertyList/>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>prompt</name>
                            <script>bard.prompt(string.len(line))</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>return isPrompt()</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>4</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>deaf+</name>
                            <script>if player(target) then
	trax.take(target,&quot;undeaf&quot;)
end</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>Your words fall upon deaf ears.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>3</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>resonance+</name>
                            <script>set(matches[2],&quot;resonance&quot;,tonumber(matches[3]))
set(matches[2],&quot;resonance_time&quot;,os.time())</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>^(\w+)'s resonance has risen to (\d+)\.$</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>resonance- [me]</name>
                            <script>set(me,&quot;resonance&quot;,0)
set(me,&quot;resonance_time&quot;,0)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>Your body stops resonating.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>3</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>befuddle+</name>
                            <script>bard.defences.befuddle = true</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>You begin to dance about, weaving gracefully.</string>
                                <string>You are already trying to befuddle your foes with your movements.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>3</integer>
                                <integer>3</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>befuddle-</name>
                            <script>bard.defences.befuddle = false</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>You cease your befuddling dance.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>3</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>contortionism+</name>
                            <script>bard.defences.contortionism = true</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>You prepare yourself to contort out of that which binds you.</string>
                                <string>You're already contorting yourself out of that which binds you.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>3</integer>
                                <integer>3</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>elusiveness+</name>
                            <script>bard.defences.elusiveness = true</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>Your eyes flicker this way and that as you watch for pursuers.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>3</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>elusiveness-</name>
                            <script>bard.defences.elusiveness = false</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>You cease watching for pursuit.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>3</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>songbird+</name>
                            <script>bard.defences.songbird = true</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>You order your songbird to start singing to you.</string>
                                <string>^.*ongbird.* begins to sing a trilling song to you\.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>3</integer>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>Defensive Songs</name>
                            <script></script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList/>
                            <regexCodePropertyList/>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>corescation+</name>
                                <script>bard.defences.corescation = os.time()

</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You begin to .*, preparing the Song of Corescation. Adding your voice to the music you are playing, you bind the song to yourself.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>corescation-</name>
                                <script>bard.defences.corescation = 0</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You feel your intelligence decrease slightly as the Song of Corescation ends.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>empower+</name>
                                <script>bard.defences.empower = os.time()</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You begin to .*, preparing the Song of Empowerment. Adding your voice to the music you are playing, you bind the song to yourself.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>empower-</name>
                                <script>bard.defences.empower = 0</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You feel your strength decrease slightly as the Song of Empowerment ends.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>enliven+</name>
                                <script>bard.defences.enliven = os.time()

</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You begin to strum .*, preparing the Song of Enlivenment. Adding your voice to the music you are playing, you bind the song to yourself.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>enliven-</name>
                                <script>bard.defences.enliven = 0</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You feel your dexterity decrease slightly as the Song of Enlivenment ends.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>flight+</name>
                                <script>bard.defences.flight = os.time()</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You begin to strum .*, preparing the Song of Flight. Adding your voice to the music you are playing, you bind the song to yourself.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>flight-</name>
                                <script>bard.defences.flight = 0</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>The magical cushion of air supporting you fades away as the Song of Flight comes to an end.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>restoration+</name>
                                <script>bard.defences.restoration = os.time()

</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You begin to .*, preparing the Song of Restoration. Adding your voice to the music you are playing, you bind the song to yourself.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>restoration-</name>
                                <script>bard.defences.restoration = 0</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>The dancing melody of the Song of Restoration fades beyond the threshold of your hearing.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>requiem+</name>
                                <script>bard.defences.requiem = os.time()</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You begin to strum .*, preparing the Requiem of Souls. Adding your voice to the music you are playing, you bind the song to yourself.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>requiem-</name>
                                <script>bard.defences.requiem = 0</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>The mournful tones of the Requiem of Souls come to an end.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>therapeutics+</name>
                                <script>bard.defences.therapeutics = os.time()

</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You begin to strum .*, preparing the Song of Therapeutics. Adding your voice to the music you are playing, you bind the song to yourself.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>therapeutics-</name>
                                <script>bard.defences.therapeutics = 0</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>The gentle sounds of the Song of Therapeutics fade away, and the cocoon of musical healing energy disappears.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>ward+</name>
                                <script>bard.defences.ward = os.time()

</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You begin to strum .*, preparing the Song of Warding. Adding your voice to the music you are playing, you bind the song to yourself.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>ward-</name>
                                <script>bard.defences.ward = 0</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>The armour of hardened sonic waves dissipates from around you.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>awakening+</name>
                                <script>bard.defences.awakening = os.time()</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You begin to strum .*, preparing the Song of Awakening. Adding your voice to the music you are playing, you bind the song to yourself.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>awakening-</name>
                                <script>bard.defences.awakening = 0</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>The clamor of the Song of Awakening fades from around you.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>fortification+</name>
                                <script>bard.defences.fortification = os.time()</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You begin to strum .*, preparing the Song of Fortification. Adding your voice to the music you are playing, you bind the song to yourself.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>fortification-</name>
                                <script>bard.defences.fortification = 0</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You feel your constitution decrease slightly as the Song of Fortification ends.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>battlemarch+</name>
                                <script>bard.defences.battlemarch = os.time()

</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You begin to strum .*, preparing the Battlemarch. Adding your voice to the music you are playing, you bind the song to yourself.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>battlemarch-</name>
                                <script>bard.defences.battlemarch = 0</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>The inspiring melody of the Battlemarch fades away.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                        </TriggerGroup>
                        <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>Offensive Songs</name>
                            <script></script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList/>
                            <regexCodePropertyList/>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>revelation+</name>
                                <script>set(matches[2],&quot;revelation&quot;,true)
set(matches[2],&quot;revelation_time&quot;,os.time())
trax.give(matches[2],&quot;unblind&quot;)
trax.give(matches[2],&quot;undeaf&quot;)
sub(matches[2]..&quot; &lt;dark_turquoise&gt;+revelation.&quot;)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>^You begin to sing in a high lilting voice, preparing the Song of Revelation. With a sweeping gesture, you bind the song to (\w+)'s being\.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>revelation+</name>
                                <script>set(matches[2],&quot;revelation&quot;,true)
set(matches[2],&quot;revelation_tick&quot;,tonumber(getTime(true,&quot;ss.zz&quot;)))
if has(matches[2],&quot;revelation_time&quot;) == 0 then
	set(matches[2],&quot;revelation_time&quot;,os.time())
end
trax.give(matches[2],&quot;unblind&quot;)
trax.give(matches[2],&quot;undeaf&quot;)
sub(matches[2]..&quot; &lt;dark_turquoise&gt;+revelation tick.&quot;)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>^The lilting melody of a rousing song swells briefly around (\w+)\.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>revelation-</name>
                                <script>set(matches[2],&quot;revelation&quot;,false)
set(matches[2],&quot;revelation_time&quot;,0)
set(matches[2],&quot;revelation_tick&quot;,0)
sub(matches[2]..&quot; &lt;maroon&gt;-revelation.&quot;)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>^The lilting tones of a light melody surrounding (\w+) fade away into nothing\.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>revelation+ [me]</name>
                                <script>set(me,&quot;revelation&quot;,true)
set(me,&quot;revelation_time&quot;,os.time())
trax.give(me,&quot;unblind&quot;)
trax.give(me,&quot;undeaf&quot;)
sub(me..&quot; &lt;dark_turquoise&gt;+revelation.&quot;)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You begin to sing in a high lilting voice, preparing the Song of Revelation. With a sweeping gesture, you bind the song to your being.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>revelation+ [me]</name>
                                <script>set(me,&quot;revelation&quot;,true)
set(me,&quot;revelation_tick&quot;,tonumber(getTime(true,&quot;ss.zz&quot;)))
if has(me,&quot;revelation_time&quot;) == 0 then
	set(me,&quot;revelation_time&quot;,os.time())
end
trax.give(me,&quot;unblind&quot;)
trax.give(me,&quot;undeaf&quot;)
sub(me..&quot; &lt;dark_turquoise&gt;+revelation tick.&quot;)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>The lilting melody of the Song of Revelation swells around you briefly, before subduing again to a level just inside your hearing range.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>revelation- [me]</name>
                                <script>set(me,&quot;revelation&quot;,false)
set(me,&quot;revelation_time&quot;,0)
set(me,&quot;revelation_tick&quot;,0)
sub(me..&quot; &lt;maroon&gt;-revelation.&quot;)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>Mercifully, the lilting tones of the Song of Revelation that surround you fade away into nothing.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>dissonance+ [me]</name>
                                <script>set(me,&quot;dissonance&quot;,true)
set(me,&quot;dissonance_time&quot;,os.time())
sub(me..&quot; &lt;dark_turquoise&gt;+dissonance.&quot;)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>^You begin to strum .*, preparing the Song of Dissonance. Adding your voice to the music you are playing, you bind the song to yourself.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>dissonance+ [me]</name>
                                <script>set(me,&quot;dissonance&quot;,true)
set(me,&quot;dissonance_tick&quot;,tonumber(getTime(true,&quot;ss.zz&quot;)))
if has(me,&quot;dissonance_time&quot;) == 0 then
	set(me,&quot;dissonance_time&quot;,os.time())
end
sub(me..&quot; &lt;dark_turquoise&gt;+dissonance tick.&quot;)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You feel the violent tones of the Song of Dissonance pound inside your head.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>dissonance- [me]</name>
                                <script>set(me,&quot;dissonance&quot;,false)
set(me,&quot;dissonance_time&quot;,0)
set(me,&quot;dissonance_tick&quot;,0)
sub(me..&quot; &lt;maroon&gt;-dissonance.&quot;)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>The pounding sounds of the Song of Dissonance fade away and the sound waves that are plaguing you disappear into nothing.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>lullaby+ [me]</name>
                                <script>set(me,&quot;lullaby&quot;,true)
set(me,&quot;lullaby_time&quot;,os.time())
sub(me..&quot; &lt;dark_turquoise&gt;+lullaby.&quot;)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>^You begin to strum .*, preparing the Lullaby. Adding your voice to the music you are playing, you bind the song to yourself\.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>lullaby+ [me]</name>
                                <script>set(me,&quot;lullaby&quot;,true)
set(me,&quot;lullaby_tick&quot;,tonumber(getTime(true,&quot;ss.zz&quot;)))
if has(me,&quot;lullaby_time&quot;) == 0 then
	set(me,&quot;lullaby_time&quot;,os.time())
end
sub(me..&quot; &lt;dark_turquoise&gt;+lullaby tick.&quot;)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You feel the soothing tones of the Lullaby lull you further into sleep.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>lullaby- [me]</name>
                                <script>set(me,&quot;lullaby&quot;,false)
set(me,&quot;lullaby_time&quot;,0)
set(me,&quot;lullaby_tick&quot;,0)
sub(me..&quot; &lt;maroon&gt;-lullaby.&quot;)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>The soothing sounds of the lullaby fade away from around you.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>bedazzlement+ [me]</name>
                                <script>set(me,&quot;bedazzlement&quot;,true)
set(me,&quot;bedazzlement_time&quot;,os.time())
sub(me..&quot; &lt;dark_turquoise&gt;+bedazzlement.&quot;)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>^You begin to strum .*, preparing the Song of Bedazzlement. Adding your voice to the music you are playing, you bind the song to yourself\.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>bedazzlement+ [me]</name>
                                <script>set(me,&quot;bedazzlement&quot;,true)
set(me,&quot;bedazzlement_tick&quot;,tonumber(getTime(true,&quot;ss.zz&quot;)))
if has(me,&quot;bedazzlement_time&quot;) == 0 then
	set(me,&quot;bedazzlement_time&quot;,os.time())
end
sub(me..&quot; &lt;dark_turquoise&gt;+bedazzlement tick.&quot;)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>The Song of Bedazzlement writhes in front of your eyes.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>bedazzlement- [me]</name>
                                <script>set(me,&quot;bedazzlement&quot;,false)
set(me,&quot;bedazzlement_time&quot;,0)
set(me,&quot;bedazzlement_tick&quot;,0)
sub(me..&quot; &lt;maroon&gt;-bedazzlement.&quot;)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>The bewildering effects of the Song of Bedazzlement fade away from you.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>cruel lament+ [me]</name>
                                <script>set(me,&quot;cruel_lament&quot;,true)
set(me,&quot;cruel_lament_time&quot;,os.time())
sub(me..&quot; &lt;cyan&gt;+cruel lament.&quot;)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You raise your instrument and play the powerful, mournful tones of the Cruel Lament to yourself. The strength of the music strikes you unprepared and you smile in satisfaction as you leans closer to you, eager for more.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>cruel lament- [me]</name>
                                <script>set(me,&quot;cruel_lament&quot;,false)
set(me,&quot;cruel_lament_time&quot;,0)
sub(me..&quot; &lt;hot_pink&gt;-cruel lament.&quot;)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You shake your head as the mournful melody lifts.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                        </TriggerGroup>
                        <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>Offensive Voice</name>
                            <script></script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList/>
                            <regexCodePropertyList/>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>yoth+ [me]</name>
                                <script>trax.give(me,&quot;undeaf&quot;)
set(me,&quot;yoth&quot;,true)
set(me,&quot;yoth_time&quot;,os.time())</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>Your hearing suddenly improves and you feel almost overwhelmed with the variety of sounds.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>yoth- [me]</name>
                                <script>set(me,&quot;yoth&quot;,false)
set(me,&quot;yoth_time&quot;,0)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>Your hearing has returned to normal.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>yoth+</name>
                                <script>trax.give(matches[2],&quot;undeaf&quot;)
set(matches[2],&quot;yoth&quot;,true)
set(matches[2],&quot;yoth_time&quot;,os.time())</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>^(\w+) widens (?:his|her) eyes in wonder as (?:his|her) hearing improves\.</string>
                                    <string>^The yoth word has no effect, as (\w+) already suffers its effects.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>1</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>yoth-</name>
                                <script>set(matches[2],&quot;yoth&quot;,false)
set(matches[2],&quot;yoth_time&quot;,0)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>^(\w+) looks disappointed as (?:his|her) hearing returns to normal\.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>0</integer>
                                </regexCodePropertyList>
                            </Trigger>
                        </TriggerGroup>
                    </TriggerGroup>
                    <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>Mage</name>
                        <script></script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList/>
                        <regexCodePropertyList/>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>prompt</name>
                            <script>mage.prompt(string.len(line))</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>return isPrompt()</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>4</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>stoneskin+</name>
                            <script>mage.defences.stoneskin = true</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>Calling the powers of the elemental earth to you, you coat yourself in magically-supple granite.</string>
                                <string>Your skin is already covered in a protective, amazingly supple, granite coating.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>3</integer>
                                <integer>3</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>windveil+</name>
                            <script>mage.defences.windveil = true</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>You call upon the wind to form a protective veil around you.</string>
                                <string>A veil of wind is already augmenting your defence.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>3</integer>
                                <integer>3</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>crystal+</name>
                            <script>if mage.charges &lt; 5 then
	mage.charges = mage.charges + 1
end
local str,symbol,count = &quot;&quot;,&quot;X&quot;,mage.charges
for i=1,count do
	str = str..&quot;&lt;cyan&gt;&quot;..symbol
end
if count &lt; 5 then
	count = 5 - count
	for i=1,count do
		str = str..&quot;&lt;red&gt;&quot;..symbol
	end
end
sub(&quot;&lt;green&gt;[ Crystal Charges: &quot;..str..&quot; &lt;green&gt;]&quot; )</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>Your crystal spins rapidly, absorbing the latent magick from its surroundings.</string>
                                <string>You focus on your crystal, sending your strength to augment its power.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>3</integer>
                                <integer>3</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>crystal-</name>
                            <script>mage.charges = 0</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>Your crystal has not absorbed enough magick yet.</string>
                                <string>The magick of your crystal is fully depleted.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>3</integer>
                                <integer>3</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>crystal max</name>
                            <script>mage.charges = 5</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>Magick flows out of your crystal, soothing your body and mind.</string>
                                <string>Your crystal is already fully charged.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>3</integer>
                                <integer>3</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>crystal One</name>
                            <script>mage.charges = 1</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>Your crystal can augment one more spell.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>3</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>crystal count</name>
                            <script>mage.charges = tonumber(matches[2])</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>^Your crystal can augment (\d+) more spells\.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>Pyroglacia</name>
                            <script></script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList/>
                            <regexCodePropertyList/>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>freeze+</name>
                                <script></script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>^You send a blast of cold air towards (\w+), chilling (?:him|her) to the bone\.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>impatience+</name>
                                <script>trax.give(matches[2],&quot;impatience&quot;)
sub(matches[2]..&quot; &lt;green&gt;impatience [mage].&quot;)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>^You spin your fingers in a circle and a flaming bolt appears, racing swiftly towards (\w+) and causing (?:him|her) to lose (?:his|her) patience\.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>nausea+ addiction+</name>
                                <script>trax.give(matches[2],&quot;nausea&quot;)
sub(matches[2]..&quot; &lt;green&gt;nausea [mage].&quot;)

-- if water &gt; 4, addiction</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>^You send a wave of water washing over (\w+), soaking (?:him|her) thoroughly and making (?:him|her) look quite nauseous\.</string>
                                    <string>^You send a wave of water washing over (\w+), causing (?:him|her) to look quite nauseous\.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>1</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>butisol+</name>
                                <script>trax.give(matches[2],&quot;butisol&quot;)
sub(matches[2]..&quot; &lt;green&gt;butisol [mage].&quot;)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>^(\w+)'s skin glistens as the wave of heat passes through\.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>butisol+ dizziness+</name>
                                <script>trax.give(matches[2],&quot;butisol&quot;)
trax.give(matches[2],&quot;dizziness&quot;)
sub(matches[2]..&quot; &lt;green&gt;butisol [mage].&quot;)
sub(matches[2]..&quot; &lt;green&gt;dizziness [mage].&quot;)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>^(\w+)'s skin glistens and (?:he|she) appears dizzy as the wave of heat passes through\.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>recklessness+</name>
                                <script>trax.give(matches[2],&quot;recklessness&quot;)
sub(matches[2]..&quot; &lt;green&gt;recklessness [mage].&quot;)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>^You form a fiery lash between your outstretched palms, and with a flick of a hand send it towards (\w+)\. The whip cracks repeatedly around (?:him|her), driving (?:him|her) into a reckless frenzy\.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>ablaze+</name>
                                <script>trax.give(matches[2],&quot;ablaze&quot;)
sub(matches[2]..&quot; &lt;green&gt;ablaze [mage].&quot;)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>^The flickering flames burn (\w+) painfully\.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>ablaze+ asthma+</name>
                                <script>trax.give(matches[2],&quot;ablaze&quot;)
trax.give(matches[2],&quot;asthma&quot;)
sub(matches[2]..&quot; &lt;green&gt;ablaze [mage].&quot;)
sub(matches[2]..&quot; &lt;green&gt;asthma [mage].&quot;)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>^You make a sweeping gesture and the flames around (\w+) intensify, choking (?:him|her) violently\.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>burning nerves+</name>
                                <script>trax.give(matches[2],&quot;burning nerves&quot;)
sub(matches[2]..&quot; &lt;green&gt;burning nerves [mage].&quot;)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>^You form a bolt of pure flame and send it racing towards (\w+)\. As it reaches (?:him|her), (?:his|her) nerves begin twitching slightly under the heat\.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>firecircle+</name>
                                <script>-- trax.give(matches[2],matches[3])
-- sub(matches[2]..&quot; &lt;green&gt;&quot;..matches[3]..&quot; [mage].&quot;)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>^You make a circular motion with your index finger and a circle of fire slowly forms around (\w+), afflicting (?:him|her) with (.*)\.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>sunallergy+</name>
                                <script>trax.give(matches[2],&quot;sunallergy&quot;)
sub(matches[2]..&quot; &lt;green&gt;sunallergy [mage].&quot;)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>^You form a wide arc of pure flame and send it to scorch (\w+)'s flesh\. Upon contact, the crescent burns (?:his|her) skin painfully, causing it to redden visibly\.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>butisol/dizziness+</name>
                                <script>trax.give(matches[2],&quot;butisol&quot;)
trax.give(matches[2],&quot;dizziness&quot;)
sub(matches[2]..&quot; &lt;green&gt;butisol + dizziness [mage].&quot;)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>^You conjure a wave of heat and focus it towards (\w+), draining moisture from (?:his|her) body\. (\w+)'s skin glistens and (?:he|she) appears dizzy as the wave of heat passes through\.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                        </TriggerGroup>
                        <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>Terratheria</name>
                            <script></script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList/>
                            <regexCodePropertyList/>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>clumsiness+</name>
                                <script>trax.give(matches[2],&quot;clumsiness&quot;)
sub(matches[2]..&quot; &lt;green&gt;clumsiness [mage].&quot;)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>^(\w+) is too clumsy to lessen the impact\.</string>
                                    <string>^With an upwards motion of your hands, you cause nearby rocks to rise from the ground and levitate. Pushing against the rocks with your mind, you send them crashing against the side of (\w+)'s head\.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>1</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>confusion+</name>
                                <script>trax.give(matches[2],&quot;confusion&quot;)
sub(matches[2]..&quot; &lt;green&gt;confusion [mage].&quot;)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You conjure a rapidly whirling torrent of pure air and send it streaking towards (\w+), confusing (?:him|her) as the screaming maelstrom assaults (?:his|her) senses\.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>stupidity+</name>
                                <script>trax.give(matches[2],&quot;stupidity&quot;)
sub(matches[2]..&quot; &lt;green&gt;stupidity [mage].&quot;)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>^You conjure a magickal stone and send it crashing against (\w+)'s head\.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                        </TriggerGroup>
                        <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>Attunements</name>
                            <script></script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList/>
                            <regexCodePropertyList/>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>attunement+</name>
                                <script>local name,level,type = matches[2],matches[3],matches[4]
local ref_t = { &quot;lightly&quot;,&quot;moderately&quot;,&quot;significantly&quot;,&quot;heavily&quot;,&quot;fully&quot; }
level = table.index_of(ref_t,level)
type = &quot;a_&quot;..type

set(name,type,level)

local ctable = {
	fire = &quot;red&quot;,
	earth = &quot;dark_orange&quot;,
	water = &quot;cyan&quot;,
	air = &quot;gold&quot;,
}

local c = &quot;&lt;&quot;..ctable[matches[4]]..&quot;&gt;&quot;

local str,symbol = &quot;&quot;,&quot;X&quot;
str = str..c..string.title(matches[4])..&quot;: &quot;
for i=1,level do
	str = str..c..symbol
end
if level &lt; 5 then
	level = 5 - level
	for i=1,level do
		str = str..&quot;&lt;dim_grey&gt;&quot;..symbol
	end
end

str = &quot;&lt;white&gt;[&quot;..&quot;[ &quot;..str..&quot; &lt;white&gt;]&quot;..&quot;]&quot;
sub(str)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>^You discern that (\w+) is now (\w+) attuned to the (\w+) element\.$</string>
                                    <string>^(\w+) is now (\w+) attuned to the (\w+) element\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>1</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>attunement-</name>
                                <script>local name,type = matches[2],matches[3]
type = &quot;a_&quot;..type

set(name,type,0)

local ctable = {
	fire = &quot;red&quot;,
	earth = &quot;dark_orange&quot;,
	water = &quot;cyan&quot;,
	air = &quot;gold&quot;,
}

local c = &quot;&lt;&quot;..ctable[matches[3]]..&quot;&gt;&quot;

local str,symbol,level = &quot;&quot;,&quot;o&quot;,5
str = str..c..string.title(matches[3])..&quot;: &quot;
for i=1,level do
	str = str..&quot;&lt;dim_grey&gt;&quot;..symbol
end

str = &quot;&lt;white&gt;[&quot;..&quot;[ &quot;..str..&quot; &lt;white&gt;]&quot;..&quot;]&quot;
sub(str)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>^(\w+) is no longer attuned to the (\w+) element\.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>attunement- [me]</name>
                                <script>local type = matches[2]
local ref_t = { &quot;lightly&quot;,&quot;moderately&quot;,&quot;significantly&quot;,&quot;heavily&quot;,&quot;fully&quot; }
level = table.index_of(ref_t,level)
type = &quot;a_&quot;..type

set(me,type,0)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You are no longer attuned to the (\w+) element\.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>attunement+ [me]</name>
                                <script>local name,level,type = me,matches[2],matches[3]
local ref_t = { &quot;lightly&quot;,&quot;moderately&quot;,&quot;significantly&quot;,&quot;heavily&quot;,&quot;fully&quot; }
level = table.index_of(ref_t,level)
type = &quot;a_&quot;..type

set(name,type,level)

local ctable = {
	fire = &quot;red&quot;,
	earth = &quot;dark_orange&quot;,
	water = &quot;cyan&quot;,
	air = &quot;gold&quot;,
}

local c = &quot;&lt;&quot;..ctable[matches[3]]..&quot;&gt;&quot;

local str,symbol = &quot;&quot;,&quot;X&quot;
str = str..c..string.title(matches[3])..&quot;: &quot;
for i=1,level do
	str = str..c..symbol
end
if level &lt; 5 then
	level = 5 - level
	for i=1,level do
		str = str..&quot;&lt;dim_grey&gt;&quot;..symbol
	end
end

str = &quot;&lt;white&gt;[&quot;..&quot;[ &quot;..str..&quot; &lt;white&gt;]&quot;..&quot;]&quot;
sub(str)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>^You are now (\w+) attuned to the (\w+) element\.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                        </TriggerGroup>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>crystal enhance+</name>
                            <script>if matches[2] == &quot;Hallucinations&quot; then
	trax.give(target,&quot;hallucinations&quot;)
	sub(target..&quot; &lt;red&gt;prep &lt;cyan&gt;hallucinations [mage].&quot;)
elseif matches[2] == &quot;Shock&quot; then
	trax.give(target,&quot;numbness&quot;)
	sub(target..&quot; &lt;red&gt;prep &lt;cyan&gt;numbness [mage].&quot;)
end</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>^You focus your spell through your crystal, which glows brightly as it enhances the spell with the (.*) effect\.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>flamepillar+</name>
                            <script>sub(&quot;&lt;red&gt;[[ &lt;orange_red&gt;F L A M E   P I L L A R &lt;red&gt;]]&lt;grey&gt;&quot;)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>You concentrate and slowly raise your hand upwards. Your index finger traces a fiery line in the air, which expands and grows, forming a massive pillar of flame.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>3</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>flamepillar+</name>
                            <script>sub(&quot;&lt;red&gt;[[ &lt;orange_red&gt;T h e   R o o m   i s   A l r e a d y   O n   F i r e ! &lt;red&gt;]]&quot;)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>There already is a pillar of flame here.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>3</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>flamepillar-</name>
                            <script>sub(&quot;&lt;red&gt;[[ &lt;light_blue&gt;F L A M E   P I L L A R   O U T &lt;red&gt;]]&lt;grey&gt;&quot;)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>The pillar of flame suddenly goes out, briefly blanketing the location in smoke.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>3</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>calcify+</name>
                            <script>set(matches[2],&quot;calcify&quot;,true)
set(matches[2],&quot;calcify_time&quot;,os.time())
set(matches[2],&quot;calcify_count&quot;,has(matches[2],&quot;a_earth&quot;))</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>^You direct a stream of raw earthen energy at (\w+), calcifying (?:his|her) innards\.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>calcify-</name>
                            <script>set(matches[2],&quot;calcify&quot;,false)
set(matches[2],&quot;calcify_time&quot;,0)
set(matches[2],&quot;calcify_count&quot;,0)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>^(\w+)'s innards recover from their calcified state\.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>scourge+</name>
                            <script>set(matches[2],&quot;scourge&quot;,true)
set(matches[2],&quot;scourge_time&quot;,os.time())
set(matches[2],&quot;scourge_count&quot;,has(matches[2],&quot;a_fire&quot;))
sub(&quot;&lt;red&gt;x x x   S C O U R G E   x x x&quot;)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>^You snap your fingers and flames burst out around (\w+), negating (?:his|her) attempts to protect (?:himself|herself) from fire\.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>scourge-</name>
                            <script>set(matches[2],&quot;scourge&quot;,false)
set(matches[2],&quot;scourge_time&quot;,0)
set(matches[2],&quot;scourge_count&quot;,0)
sub(&quot;&lt;red&gt;x x x   S C O U R G E   &lt;white&gt;D O W N   &lt;red&gt;x x x&quot;)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>^You snap your fingers and flames burst out around (\w+), only to dissipate harmlessly moments later\.</string>
                                <string>^The flames around (\w+) dissipate\.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>1</integer>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>firecircle-</name>
                            <script>if matches[2] == &quot;you&quot; then matches[2] = me end
set(matches[2],&quot;firecircle&quot;,false)
sub(&quot;&lt;orange_red&gt;[[   &lt;white&gt;F I R E C I R C L E   D O W N&lt;orange_red&gt;   ]]&quot;)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>^The circle of fire around (\w+) sputters and disappears in a puff of smoke\.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>slain firecircle-</name>
                            <script>if matches[2] == &quot;yourself&quot; then matches[2] = me end
set(matches[2],&quot;firecircle&quot;,false)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>^You have slain (\w+)\.$</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>firecircle+</name>
                            <script>set(matches[2],&quot;firecircle&quot;,true)
sub(&quot;&lt;orange_red&gt;[[   &lt;maroon&gt;F I R E C I R C L E&lt;orange_red&gt;   ]]&quot;)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>^The circle of fire around (\w+) spins violently, burning (?:his|her) flesh.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>firecircle+</name>
                            <script>if matches[2] == &quot;yourself&quot; then matches[2] = me end
set(matches[2],&quot;firecircle&quot;,true)
sub(&quot;&lt;orange_red&gt;[[   &lt;red&gt;F I R E C I R C L E&lt;orange_red&gt;   ]]&quot;)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>^You make a circular motion with your index finger and a circle of fire slowly forms around (\w+)\.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>icicles+</name>
                            <script>trax.give(matches[2],matches[3])
set(matches[2],&quot;icicles&quot;,matches[3])
sub(&quot;&lt;white&gt;[[ I C I C L E S ]]&quot;)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>^You point an outstretched palm towards (\w+) and thousands of little icicles materialise, flying rapidly towards (?:him|her) and afflicting (?:him|her) with (.*)\.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>icicles-</name>
                            <script>set(matches[2],&quot;icicles&quot;,false)
sub(&quot;&lt;red&gt;[[ I C I C L E S   d o w n ]]&quot;)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>^The icicles cease beating at (\w+)'s skin\.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>firecircle+ [me]</name>
                            <script>set(me,&quot;firecircle&quot;,true)
sub(&quot;&lt;orange_red&gt;[[   &lt;maroon&gt;F I R E C I R C L E&lt;orange_red&gt;   ]]&quot;)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>The circle of fire around you spins violently, burning your flesh.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>3</integer>
                            </regexCodePropertyList>
                        </Trigger>
                    </TriggerGroup>
                </TriggerGroup>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>left arm+</name>
                    <script>if class == &quot;Assassin&quot; then
	send(&quot;queue eqbal wield dirk &quot;..sp..&quot; wield whip&quot;)
else
	-- send(&quot;queue eqbal wield shield&quot;)
end</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>Your left arm becomes functional as the bones quickly mend.</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>3</integer>
                    </regexCodePropertyList>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>right arm+</name>
                    <script>if class == &quot;Assassin&quot; then
	send(&quot;queue eqbal wield tooth &quot;..sp..&quot; wield whip&quot;)
end</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>Your right arm becomes functional as the bones quickly mend.</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>3</integer>
                    </regexCodePropertyList>
                </Trigger>
            </TriggerGroup>
            <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                <name>v Classes</name>
                <script></script>
                <triggerType>0</triggerType>
                <conditonLineDelta>0</conditonLineDelta>
                <mStayOpen>0</mStayOpen>
                <mCommand></mCommand>
                <packageName></packageName>
                <mFgColor>#ff0000</mFgColor>
                <mBgColor>#ffff00</mBgColor>
                <mSoundFile></mSoundFile>
                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                <regexCodeList/>
                <regexCodePropertyList/>
                <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>Bard</name>
                    <script></script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList/>
                    <regexCodePropertyList/>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>instakill+ [kantae]</name>
                        <script>cecho(&quot;&lt;red&gt;\n&quot;..matches[2]..&quot; INSTAKILL&quot;)
cecho(&quot;&lt;red&gt;\n&quot;..matches[2]..&quot; INSTAKILL&quot;)
cecho(&quot;&lt;red&gt;\n&quot;..matches[2]..&quot; INSTAKILL&quot;)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#040400</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>^(\w+) holds (?:his|her) mouth open, a word of power continously emanating from (?:him|her)\.</string>
                            <string>^(\w+) projects the single, pure note of (?:his|her) voice at you\.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>1</integer>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>juggle+</name>
                        <script>report(&quot;[Combat]: Juggle initiated on &quot;..matches[2]..&quot;. Prepare to shield.&quot;)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>^(\w+) begins to juggle .*, .*, and .* with (?:his|her) free hand\.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                </TriggerGroup>
                <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>Summoner</name>
                    <script></script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList/>
                    <regexCodePropertyList/>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>distortaura</name>
                        <script>sub(&quot;&lt;dim_grey&gt;Distortaura.&quot;)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>^Your attack causes (\w+) to glow a vibrant violet, and a lash of energy whips back at you\.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>distortaura [other]</name>
                        <script>sub(&quot;Distortaura.&quot;)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>^(\w+)'s attack causes (\w+) to glow a vibrant violet, and a lash of energy whips back at (\w+)\.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>priestess+</name>
                        <script>sub(&quot;[&lt;medium_aquamarine&gt;Priestess&lt;grey&gt;]: &quot;..matches[2])</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>^The High Priestess tarot instantly expands and moves downward until (\w+)'s entire body has been passed through it\.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>tarot+</name>
                        <script>sub(matches[2]..&quot; tarots you.&quot;)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>^(\w+) quickly flings a card with the image of the (.*) at you\.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>Unleashes</name>
                        <script></script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList/>
                        <regexCodePropertyList/>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>Belial</name>
                            <script>sub(matches[2]..&quot; Belial'd you.&quot;)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>^The demonic apparition points at you and inhales sharply. You start feeling weak, while (\w+) appears to be suffused with new energy\.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>unleash+</name>
                            <script>sub(matches[2]..&quot; unleashed &lt;goldenrod&gt;&quot;..matches[3]..&quot;&lt;stop&gt; on you.&quot;)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>^(\w+) concentrates briefly and a terrifying visage of (.*) appears briefly in front of you, wreathed in flames.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                    </TriggerGroup>
                </TriggerGroup>
                <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>Deathknight</name>
                    <script></script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList/>
                    <regexCodePropertyList/>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>instakill+</name>
                        <script>cecho(&quot;&lt;red&gt;\n&quot;..matches[2]..&quot; INSTAKILL&quot;)
cecho(&quot;&lt;red&gt;\n&quot;..matches[2]..&quot; INSTAKILL&quot;)
cecho(&quot;&lt;red&gt;\n&quot;..matches[2]..&quot; INSTAKILL&quot;)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>^(\w+) raises .* over (?:his|her) head and begins to swing it in a wide circle, gaining speed as (?:he|she) goes\.</string>
                            <string>^(\w+) begins to bear down on (\w+) with .*\.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>1</integer>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>instakill-</name>
                        <script>report(&quot;Stalled cleave - &quot;..matches[2])</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>^(\w+) ceases the whirling of (?:his|her) weapon over (?:his|her) head\.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>targetted dsl</name>
                        <script>sub(matches[2]..&quot; dsls your &lt;gold&gt;&quot;..matches[3]..&quot;&lt;stop&gt;.&quot;)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>^Lightning-quick, (\w+) jabs your (.*) with .*\.</string>
                            <string>^(\w+) swings .* at your (.*) with all (?:his|her) might\.</string>
                            <string>^(\w+) slashes into your (.*) with .*\.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>1</integer>
                            <integer>1</integer>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>instakill+ [sunder]</name>
                        <script>cecho(&quot;&lt;red&gt;\n&quot;..matches[3]..&quot; INSTAKILL&quot;)
cecho(&quot;&lt;red&gt;\n&quot;..matches[3]..&quot; INSTAKILL&quot;)
cecho(&quot;&lt;red&gt;\n&quot;..matches[3]..&quot; INSTAKILL&quot;)
if dbp.gcirc(me) and dbp.gcirc(matches[3]) and dbp.gcirc(me) ~= dbp.gcirc(matches[3]) then
	report(matches[3]..&quot; sundering from &quot;..string.upper(matches[2])..&quot;. Wall &quot;..string.upper(matches[2])..&quot; now.&quot;)
end</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>^To the (\w+), you see (\w+) begin to spur (?:his|her) mount in a wide circle, building up momentum\.$</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>instakill+ [sunder]</name>
                        <script>cecho(&quot;&lt;red&gt;\n&quot;..matches[2]..&quot; INSTAKILL&quot;)
cecho(&quot;&lt;red&gt;\n&quot;..matches[2]..&quot; INSTAKILL&quot;)
cecho(&quot;&lt;red&gt;\n&quot;..matches[2]..&quot; INSTAKILL&quot;)
if dbp.gcirc(me) and dbp.gcirc(matches[2]) and dbp.gcirc(me) ~= dbp.gcirc(matches[2]) then
	report(matches[2]..&quot; sundering from &quot;..string.upper(matches[3])..&quot;. Wall &quot;..string.upper(matches[3])..&quot; now.&quot;)
end</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>^(\w+), to the (\w+), begins to swing (.*) in a wide circle above (?:his|her) head\.$</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>soulstorm</name>
                        <script>trax.take(matches[3],matches[4])</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>^(\w+) sends (?:his|her) essence storming through (\w+)'s body, curing the effects of (.*) and causing significant damage\.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>untargetted dsl</name>
                        <script>sub(matches[2]..&quot; dsls you. (&lt;blue_violet&gt;&quot;..matches[3]..&quot;&lt;stop&gt;)&quot;)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>^(\w+) viciously slashes you with (.*)!</string>
                            <string>^(\w+) swings (.*) at you powerfully\.</string>
                            <string>^With a lightning-quick motion, (\w+) slashes you with (.*)\.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>1</integer>
                            <integer>1</integer>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                </TriggerGroup>
                <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>Druid</name>
                    <script></script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList/>
                    <regexCodePropertyList/>
                    <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>Enemy</name>
                        <script></script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList/>
                        <regexCodePropertyList/>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>druid stab</name>
                            <script>sub(matches[2]..&quot; druid-stabs you.&quot;)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>^(\w+) stabs you viciously with .*quarterstaff.*\.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>rock batter</name>
                            <script>sub(&quot;Rocks battering.&quot;)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>Several tiny rocks materialise above you and fall down, battering your body.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>3</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>summon wisp</name>
                            <script>-- &quot;a poisonous&quot;
-- &quot;a metallic&quot;

local t = {
	[&quot;a poisonous&quot;] = &quot;green&quot;,
	[&quot;a metallic&quot;] = &quot;blue&quot;,
}</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>^(\w+) quickly summons (.*) wisp and with a commanding gesture, sends it flying towards you\.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>wisp psychic</name>
                            <script>sub(&quot;Psychic wisp.&quot;)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>A metallic wisp flies directly at you, colliding painfully.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>3</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>triggered wisp poison</name>
                            <script>send(&quot;autocuring toadstool 90&quot;)
sub(&quot;&lt;gold&gt;Wisp poison cleared.&quot;)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>Your veins burn and you feel a stabbing pain in your head as the toadstool cleanses the wisp poison from your body.</string>
                                <string>The wisp poison has been cleared from your body.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>3</integer>
                                <integer>3</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>hawthorn root</name>
                            <script>sub(&quot;Hawthorn root.&quot;)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>^(\w+) swings (?:his|her) quarterstaff and an animated hawthorn root begins circling mesmerisingly around you\.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>root choke</name>
                            <script>sub(&quot;Root choke.&quot;)
-- trax.give(&quot;choked by a root&quot;)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>^(\w+) points (?:his|her) quarterstaff at you and an animated hawthorn root leaps at your throat and squeezes tightly, attempting to choke the life out of you\.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>elder root</name>
                            <script>sub(matches[2]..&quot; elder lash you.&quot;)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>^(\w+) waves (?:his|her) quarterstaff in front of you and an animated elder root lashes out with a tendril, bewildering you\.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>overwhelm</name>
                            <script>sub(matches[2]..&quot; &lt;red&gt;overwhelming&lt;stop&gt; you.[&lt;goldenrod&gt;Druid&lt;stop&gt;]&quot;)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>^A look of utmost concentration appears on (\w+)'s face, followed by a menacing look in your direction\.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>wisp poison+</name>
                            <script>send(&quot;autocuring toadstool 0&quot;)
tempTimer(10, function() send(&quot;autocuring toadstool 85&quot;) end)
sub(&quot;&lt;medium_aquamarine&gt;Wisp Poison.&quot;)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>You are afflicted with wisp poison.</string>
                                <string>A poisonous wisp flies at you and stings you painfully. An odd burning sensation floods your veins.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>3</integer>
                                <integer>3</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>reclaim+</name>
                            <script>report(&quot;Reclaim initiated.&quot;)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>^(\w+) holds .* firmly in (?:his|her) hands, directs a hard stare at you, and concentrates upon the power of the Nature. A sense of dread overcomes you as harsh whispering fills the air, silent at first, but growing louder and more ominous with every passing second.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                    </TriggerGroup>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>curse-</name>
                        <script>cecho(&quot; &lt;-- [&lt;green&gt; Regen Active &lt;grey&gt;]&quot;)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>You feel relieved as the curse of Nature is lifted from you.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>druid stab [other]</name>
                        <script>sub(matches[2]..&quot; druid-stabs &quot;..matches[3]..&quot;.&quot;)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>^(\w+) stabs (\w+) viciously with .*quarterstaff.*\.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>root summon</name>
                        <script>cecho(&quot; &lt;-- [Root Summon]&quot;)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>^(\w+) closes (?:his|her) eyes and a vibrant green aura envelops (?:him|her) briefly.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                </TriggerGroup>
                <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>Mage</name>
                    <script></script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList/>
                    <regexCodePropertyList/>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>instakill+ [submersion]</name>
                        <script>cecho(&quot;&lt;red&gt;\n&quot;..matches[2]..&quot; INSTAKILL&quot;)
cecho(&quot;&lt;red&gt;\n&quot;..matches[2]..&quot; INSTAKILL&quot;)
cecho(&quot;&lt;red&gt;\n&quot;..matches[2]..&quot; INSTAKILL&quot;)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>^(\w+) focuses (?:his|her) gaze upon you and a look of utmost concentration appears on (?:his|her) face\. The sound of rushing water echoes faintly in the distance\.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>instakill- [submersion]</name>
                        <script>report(&quot;Stalled submersion - &quot;..matches[2])</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>^(\w+) ceases (?:his|her) submersion attempt\.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>attunement+</name>
                        <script></script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>^You feel yourself fully attuned to the (.*) element\.</string>
                            <string>You feel yourself heavily attuned to the earth element.</string>
                            <string>You feel yourself significantly attuned to the earth element.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>1</integer>
                            <integer>0</integer>
                            <integer>0</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>crystal glow+</name>
                        <script>-- green</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>^The crystal floating around (\w+) briefly glows green.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>sludge+</name>
                        <script></script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>Aakrin calls upon his earthen power and sticky sludge covers you, preventing you from moving away.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                </TriggerGroup>
                <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>Monk</name>
                    <script></script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList/>
                    <regexCodePropertyList/>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>banished</name>
                        <script>report(matches[3]..&quot; banished.&quot;)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>^(\w+) waves (?:his|her) palm towards (\w+), who abruptly vanishes from existence\.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>deliverance</name>
                        <script>report(&quot;Deliverance!|Deliverance!|Don't Hit &quot;..matches[2])
target = &quot;&quot;</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>^(\w+) slowly raises (?:his|her) head and you see (?:his|her) eyes glowing bright white\.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>radiance+</name>
                        <script>if matches[2] then
	cecho(&quot;&lt;red&gt;\n&quot;..matches[2]..&quot; INSTAKILL&quot;)
	cecho(&quot;&lt;red&gt;\n&quot;..matches[2]..&quot; INSTAKILL&quot;)
	cecho(&quot;&lt;red&gt;\n&quot;..matches[2]..&quot; INSTAKILL&quot;)
end
report(&quot;Radiance incoming.&quot;)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>A shiver runs down your spine, and you feel an instinctive urge to run as far and fast as you can.</string>
                            <string>Sparks of multicoloured light begin to dance in your mind.</string>
                            <string>An odd sensation of warmth begins to fill your body.</string>
                            <string>Arcs of white light begin to flash across your vision, radiant and bright.</string>
                            <string>Your heart thumps as you realize that you have but seconds left to escape whatever fate awaits you.</string>
                            <string>^A shimmering image of the face of (\w+) appears fleetingly before you, frowning in concentration\.$</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                            <integer>3</integer>
                            <integer>3</integer>
                            <integer>3</integer>
                            <integer>3</integer>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>hammerfist</name>
                        <script>sub(multimatches[1][2]..&quot; hammerfists &lt;gold&gt;&quot;..multimatches[2][2]..&quot;&lt;stop&gt;.&quot;)
moveCursor(0,getLineNumber()-1)
replace(&quot;&quot;)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>2</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>^(\w+) balls up one fist and hammerfists you\.</string>
                            <string>^(?:He|She) connects to the (.*)!</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>1</integer>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>spearhand</name>
                        <script>sub(multimatches[1][2]..&quot; jabs &lt;gold&gt;&quot;..multimatches[2][2]..&quot;&lt;stop&gt;.&quot;)
moveCursor(0,getLineNumber()-1)
replace(&quot;&quot;)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>2</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>^(\w+) forms a spear hand and stabs out at you\.</string>
                            <string>^(?:He|She) connects to the (.*)!</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>1</integer>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>BBT+</name>
                        <script>sub(matches[2]..&quot; &lt;magenta&gt;BBTs &lt;stop&gt;you.&quot;)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>^(\w+) lifts you triumphantly into the air, then yanks you down into (?:his|her) raised knee with back breaking force\.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>BBT+ [other]</name>
                        <script>sub(matches[2]..&quot; &lt;magenta&gt;BBTs &lt;stop&gt;&quot;..matches[3]..&quot;&lt;stop&gt;.&quot;)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>^(\w+) lifts (\w+) triumphantly into the air, then yanks (?:him|her) down into (?:his|her) raised knee with back breaking force\.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                </TriggerGroup>
                <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>Hunter</name>
                    <script></script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList/>
                    <regexCodePropertyList/>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>bloodpoison 4</name>
                        <script>-- expandAlias(&quot;hunter&quot;)
local str = &quot;&quot;
str = str..&quot;autocuring priority reset&quot;..sp
str = str..&quot;autocuring priority poisoned blood 1&quot;..sp
str = str..&quot;autocuring priority poisoned mind 2&quot;..sp
str = str..&quot;autocuring priority numbness 2&quot;..sp
str = str..&quot;autocuring priority impatience 2&quot;..sp
str = str..&quot;autocuring priority paralysis 2&quot;..sp
str = str..&quot;autocuring priority metrazol 2&quot;..sp
str = str..&quot;autocuring priority peace 2&quot;..sp
str = str..&quot;autocuring priority cyanide 2&quot;..sp
send(str)
sub(&quot;&lt;gold&gt;[[&lt;red&gt; B L O O D   P O I S O N   A T   L E V E L   &lt;green&gt;F O U R&lt;red&gt;  !!! &lt;gold&gt;]]&lt;grey&gt;&quot;)


</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>The poison in your blood has reached peak concentration.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>bloodpoison 3</name>
                        <script>-- expandAlias(&quot;hunter&quot;)
local str = &quot;&quot;
str = str..&quot;autocuring priority reset&quot;..sp
str = str..&quot;autocuring priority poisoned blood 1&quot;..sp
str = str..&quot;autocuring priority poisoned mind 2&quot;..sp
str = str..&quot;autocuring priority numbness 2&quot;..sp
str = str..&quot;autocuring priority impatience 2&quot;..sp
str = str..&quot;autocuring priority paralysis 2&quot;..sp
str = str..&quot;autocuring priority metrazol 2&quot;..sp
str = str..&quot;autocuring priority peace 2&quot;..sp
str = str..&quot;autocuring priority cyanide 2&quot;..sp
send(str)
sub(&quot;&lt;gold&gt;[[&lt;red&gt; B L O O D   P O I S O N   A T   L E V E L   &lt;green&gt;T H R E E&lt;red&gt;  !!! &lt;gold&gt;]]&lt;grey&gt;&quot;)


</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>The poison in your blood has built up to severe levels.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>bloodpoison 2</name>
                        <script>-- expandAlias(&quot;hunter&quot;)
local str = &quot;&quot;
str = str..&quot;autocuring priority reset&quot;..sp
str = str..&quot;autocuring priority poisoned blood 1&quot;..sp
str = str..&quot;autocuring priority poisoned mind 2&quot;..sp
str = str..&quot;autocuring priority numbness 2&quot;..sp
str = str..&quot;autocuring priority impatience 2&quot;..sp
str = str..&quot;autocuring priority paralysis 2&quot;..sp
str = str..&quot;autocuring priority metrazol 2&quot;..sp
str = str..&quot;autocuring priority peace 2&quot;..sp
str = str..&quot;autocuring priority cyanide 2&quot;..sp
send(str)
sub(&quot;&lt;gold&gt;[[&lt;red&gt; B L O O D   P O I S O N   A T   L E V E L   &lt;green&gt;T W O&lt;red&gt;  !!! &lt;gold&gt;]]&lt;grey&gt;&quot;)


</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>The poison in your blood burns painfully in your veins.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>bloodpoison 1</name>
                        <script>
sub(&quot;&lt;gold&gt;[[&lt;red&gt; B L O O D   P O I S O N   A T   L E V E L   &lt;green&gt;O N E&lt;red&gt;  !!! &lt;gold&gt;]]&lt;grey&gt;&quot;)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>The wound burns as poison seeps into your blood.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>instability+</name>
                        <script>send(&quot;autocuring tree off&quot;)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>Your ability to use tattoos appear to be reduced.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>instability restored</name>
                        <script>send(&quot;autocuring tree on&quot;)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>Your ability to use the tree tattoo is restored.</string>
                            <string>A new malady haunts you as the tattoo fails to cure your body.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                            <integer>3</integer>
                        </regexCodePropertyList>
                    </Trigger>
                </TriggerGroup>
                <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>Priest</name>
                    <script></script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList/>
                    <regexCodePropertyList/>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>obliviousness+</name>
                        <script>local str = &quot;&quot;

str = str..&quot;Obliviousness &quot;..string.upper(matches[3])..&quot; for &quot;..matches[2]
if matches[3] == &quot;high&quot; and dbp.gcirc(me) ~= &quot;A&quot; then
	str = str..sp..&quot;Consider changing targets to &quot;..string.upper(matches[2])
end

report(str)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>^(\w+) starts concentrating on (?:his|her) faith with (\w+) obliviousness\.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>obliviousness-</name>
                        <script>report(&quot;Obliviousness DOWN for &quot;..matches[2]..&quot;.&quot;)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>^(\w+) stops focusing blindly on (?:his|her) faith\.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>instakill+ [judge]</name>
                        <script>cecho(&quot;&lt;red&gt;\n&quot;..matches[2]..&quot; INSTAKILL&quot;)
cecho(&quot;&lt;red&gt;\n&quot;..matches[2]..&quot; INSTAKILL&quot;)
cecho(&quot;&lt;red&gt;\n&quot;..matches[2]..&quot; INSTAKILL&quot;)
report(&quot;Judgement initiated.&quot;)
</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>^(\w+) raises (his|her) spiritual mace over (\w+), calling upon (?:his|her) faith to pass judgement on (?:his|her|your) sins, and it begins to crackle with righteous fire\.</string>
                            <string>^(\w+)'s mace begins to make a high-pitched keening sound as it rapidly spins over (his|her) head. You have only moments left to escape before you are judged!</string>
                            <string>^(\w+) swings the crackling mace about (?:his|her) head, gathering momentum as (?:he|she) bears down on you\.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>1</integer>
                            <integer>1</integer>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>purification</name>
                        <script>cecho(&quot;&lt;red&gt;\n&quot;..matches[2]..&quot; purification&quot;)
cecho(&quot;&lt;red&gt;\n&quot;..matches[2]..&quot; purification&quot;)
cecho(&quot;&lt;red&gt;\n&quot;..matches[2]..&quot; purification&quot;)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>^(\w+) takes a deep breath, (?:his|her) eyes gleaming with utmost convinction.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>smite [other]</name>
                        <script>sub(matches[2]..&quot; smites &quot;..matches[3]..&quot;.&quot;)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>^(\w+) utters a prayer and smites (\w+)\.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>smite limb</name>
                        <script>sub(matches[2]..&quot; smite your &lt;goldenrod&gt;&quot;..matches[3]..&quot;&lt;stop&gt;.&quot;)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>^(\w+) utters a prayer and smites your (.*)\.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                </TriggerGroup>
                <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>Outrider</name>
                    <script></script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList/>
                    <regexCodePropertyList/>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>instakill+ [gorge]</name>
                        <script>cecho(&quot;&lt;red&gt;\n&quot;..matches[2]..&quot; INSTAKILL&quot;)
cecho(&quot;&lt;red&gt;\n&quot;..matches[2]..&quot; INSTAKILL&quot;)
cecho(&quot;&lt;red&gt;\n&quot;..matches[2]..&quot; INSTAKILL&quot;)
report(&quot;Gorge initiated.&quot;)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>^(\w+) lunges forward atop (.*), beckoning it to feed on your body\.</string>
                            <string>^(\w+)'s icewyrm edges closer to you, its tongue flicking in and out of its mouth with anticipation\.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>1</integer>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>hypothermia 1</name>
                        <script>sub(&quot;&lt;gold&gt;[[&lt;red&gt; H Y P O T H E R M I A  A T   L E V E L   &lt;green&gt;O N E&lt;red&gt;  !!! &lt;gold&gt;]]&lt;grey&gt;&quot;)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>You shiver slightly as your skin breaks into goosebumps.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>hypothermia 2</name>
                        <script>local str = &quot;&quot;
str = str..&quot;autocuring priority reset&quot;..sp
str = str..&quot;autocuring priority moderate hypothermia 1&quot;..sp
str = str..&quot;autocuring priority severe hypothermia 1&quot;..sp
str = str..&quot;autocuring priority impatience 1&quot;..sp
str = str..&quot;autocuring priority intense hypothermia 1&quot;..sp
str = str..&quot;autocuring priority mild hypothermia 1&quot;..sp
str = str..&quot;autocuring priority nausea 1&quot;..sp
str = str..&quot;autocuring priority dryblood 1&quot;..sp
str = str..&quot;autocuring priority recurring freezing 1&quot;..sp
str = str..&quot;autocuring priority frostbite 1&quot;..sp
str = str..&quot;autocuring priority haemophilia 2&quot;..sp
str = str..&quot;autocuring priority butisol 2&quot;..sp
str = str..&quot;autocuring priority ablaze 2&quot;..sp
str = str..&quot;autocuring rebounding on&quot;..sp
send(str)
sub(&quot;&lt;gold&gt;[[&lt;red&gt; H Y P O T H E R M I A  A T   L E V E L   &lt;green&gt;T W O&lt;red&gt;  !!! &lt;gold&gt;]]&lt;grey&gt;&quot;)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>Your extremities numb and turn blue as your body enters moderate hypothermia.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>hypothermia 3</name>
                        <script>local str = &quot;&quot;
str = str..&quot;autocuring priority reset&quot;..sp
str = str..&quot;autocuring priority severe hypothermia 1&quot;..sp
str = str..&quot;autocuring priority intense hypothermia 1&quot;..sp
str = str..&quot;autocuring priority moderate hypothermia 1&quot;..sp
str = str..&quot;autocuring priority mild hypothermia 1&quot;..sp
str = str..&quot;autocuring priority impatience 1&quot;..sp
str = str..&quot;autocuring priority nausea 1&quot;..sp
str = str..&quot;autocuring priority dryblood 1&quot;..sp
str = str..&quot;autocuring priority recurring freezing 1&quot;..sp
str = str..&quot;autocuring priority frostbite 1&quot;..sp
str = str..&quot;autocuring priority haemophilia 2&quot;..sp
str = str..&quot;autocuring priority butisol 2&quot;..sp
str = str..&quot;autocuring priority ablaze 2&quot;..sp
str = str..&quot;autocuring rebounding on&quot;..sp
send(str)
sub(&quot;&lt;gold&gt;[[&lt;red&gt; H Y P O T H E R M I A  A T   L E V E L   &lt;green&gt;T H R E E&lt;red&gt;  !!! &lt;gold&gt;]]&lt;grey&gt;&quot;)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>Your shivers deepen as your hypothermia becomes severe.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>hypothermia 4</name>
                        <script>local str = &quot;&quot;
str = str..&quot;autocuring priority reset&quot;..sp
str = str..&quot;autocuring priority intense hypothermia 1&quot;..sp
str = str..&quot;autocuring priority severe hypothermia 1&quot;..sp
str = str..&quot;autocuring priority moderate hypothermia 1&quot;..sp
str = str..&quot;autocuring priority mild hypothermia 1&quot;..sp
str = str..&quot;autocuring priority impatience 1&quot;..sp
str = str..&quot;autocuring priority nausea 1&quot;..sp
str = str..&quot;autocuring priority dryblood 1&quot;..sp
str = str..&quot;autocuring priority recurring freezing 1&quot;..sp
str = str..&quot;autocuring priority frostbite 1&quot;..sp
str = str..&quot;autocuring priority haemophilia 2&quot;..sp
str = str..&quot;autocuring priority butisol 2&quot;..sp
str = str..&quot;autocuring priority ablaze 2&quot;..sp
str = str..&quot;autocuring rebounding on&quot;..sp
send(str)
sub(&quot;&lt;gold&gt;[[&lt;red&gt; H Y P O T H E R M I A  A T   L E V E L   &lt;green&gt;F O U R&lt;red&gt;  !!! &lt;gold&gt;]]&lt;grey&gt;&quot;)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>Your heart pounds slowly and furiously, unable to pump your cold, thin blood. Intense hypothermia has set in.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>tipslash [other]</name>
                        <script>sub(matches[2]..&quot; tipslash &quot;..matches[3]..&quot;.&quot;)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>^(\w+) gives .* a quick flourish before driving it forcefully into (\w+)'s body\.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>[other]</name>
                        <script></script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>^The foul black bile on (\w+)'s .* oozes into (\w+)'s wounds, poisoning (?:his|her) blood\.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>crippled [other]</name>
                        <script>trax.give(matches[2],&quot;crippled right leg&quot;)
trax.give(matches[2],&quot;crippled left leg&quot;)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>^.* smashes its bulk against (\w+), breaking (?:his|her) legs\.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>surge</name>
                        <script>sub(matches[2]..&quot; surges &lt;blue_violet&gt;&quot;..matches[3]..&quot;&lt;stop&gt;.&quot;)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>^(\w+) selects a small, compound-soaked bit of cloth from (?:his|her) stash and tosses it to (.*)\. At the first sniff of the pheromones, .* is caught in a surge of hormonal power\.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>blackened [other]</name>
                        <script>if not has(matches[3],&quot;nausea&quot;) then
	trax.give(matches[3],&quot;nausea&quot;)
elseif not has(matches[3],&quot;dryblood&quot;) then
	trax.give(matches[3],&quot;dryblood&quot;)
elseif not has(matches[3],&quot;lethargy&quot;) then
	trax.give(matches[3],&quot;lethargy&quot;)
end</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>^The foul black bile on (\w+)'s spear oozes into (\w+)'s wounds, poisoning (?:his|her) blood\.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>targeted slash [other]</name>
                        <script>sub(matches[2]..&quot; slashed &quot;..matches[3]..&quot;'s &lt;gold&gt;&quot;..matches[4]..&quot;&lt;stop&gt;.&quot;)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>^(\w+) gives .* a quick flourish before driving it forcefully into (\w+)'s (.*)\.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>nausea+ [other]</name>
                        <script>trax.give(matches[2],&quot;nausea&quot;)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>^.* shrieks at (\w+), making (?:him|her) feel light-headed and nauseated\.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                </TriggerGroup>
                <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>Defiler</name>
                    <script></script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList/>
                    <regexCodePropertyList/>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>transmission+</name>
                        <script>trax.take(multimatches[1][2],multimatches[2][2])</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>1</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>^Shadows whirl around you, imposing one of (\w+)'s maladies upon you\.</string>
                            <string>^You are afflicted with (.*)\.$</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>1</integer>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>ravage [other]</name>
                        <script>sub(matches[2]..&quot; ravages &quot;..matches[3]..&quot;.&quot;)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>^(\w+) swings .* powerfully at (\w+), ravaging (?:his|her) flesh\.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                </TriggerGroup>
                <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>Templar</name>
                    <script></script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList/>
                    <regexCodePropertyList/>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>bliss+</name>
                        <script>cecho(&quot;&lt;red&gt;\n B L I S S  &lt;grey&gt;is UP for &quot;..matches[2]..&quot;.&quot;)
cecho(&quot;&lt;red&gt;\n B L I S S  &lt;grey&gt;is UP for &quot;..matches[2]..&quot;.&quot;)
cecho(&quot;&lt;red&gt;\n B L I S S  &lt;grey&gt;is UP for &quot;..matches[2]..&quot;.&quot;)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>^(\w+) pours blessings over (?:himself|herself), (?:his|her) face lighting up with joy\.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>hands</name>
                        <script>sub(matches[2]..&quot; &lt;green&gt;healing. [hands]&quot;)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>^Whispering softly, (\w+) lays (?:his|her) hands on (?:himself|herself)\.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                </TriggerGroup>
                <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>Diabolist</name>
                    <script></script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList/>
                    <regexCodePropertyList/>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>sapped [other]</name>
                        <script></script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>^(\w+)'s Ouroboros casts a piercing glance at (\w+)\.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                </TriggerGroup>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>targeted [other]</name>
                    <script>sub(matches[2]..&quot; dsls &quot;..matches[3]..&quot;'s &lt;gold&gt;&quot;..matches[4]..&quot;&lt;stop&gt;.&quot;)</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>^(\w+) swings .* at (\w+)'s (.*) with all (?:his|her) might\.</string>
                        <string>^(\w+) slashes into (\w+)'s (.*) with .*\.</string>
                        <string>^Lightning\-quick, (\w+) jabs (\w+)'s (.*) with .*\.</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>1</integer>
                        <integer>1</integer>
                        <integer>1</integer>
                    </regexCodePropertyList>
                </Trigger>
                <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>Ranger</name>
                    <script></script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList/>
                    <regexCodePropertyList/>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>qjab targeted</name>
                        <script>sub(matches[2]..&quot; qjabs your &lt;gold&gt;&quot;..matches[3]..&quot;&lt;stop&gt;.&quot;)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>^(\w+) aims a short, quick jab at your (.*) with .*glaive.*\.</string>
                            <string>^(\w+) jabs forward with .*glaive.* at your (.*), taking a step in closer\.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>1</integer>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>?</name>
                        <script>sub(matches[2]..&quot; ???qjab??? your &lt;gold&gt;&quot;..matches[3]..&quot;&lt;stop&gt;.&quot;)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>^(\w+) lunges forward, thrusting .*glaive.* at your (.*)\.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>qjab targeted [other]</name>
                        <script>sub(matches[2]..&quot; qjabs &quot;..matches[3]..&quot;'s &lt;gold&gt;&quot;..matches[4]..&quot;&lt;stop&gt;.&quot;)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>^(\w+) jabs forward with .*glaive.* at (\w+)'s (.*), stepping in towards (?:him|her)\.</string>
                            <string>^(\w+) aims a short, quick jab at (\w+)'s (.*) with .*glaive.*\.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>1</integer>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                </TriggerGroup>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>rebounding</name>
                    <script></script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>^The attack rebounds back onto (\w+)!</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>1</integer>
                    </regexCodePropertyList>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>untargetted dsl [other]</name>
                    <script>sub(matches[2]..&quot; dsls &quot;..matches[3]..&quot;&lt;stop&gt;.&quot;)</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>^(\w+) viciously slashes (\w+) with .*\.$</string>
                        <string>^(\w+) swings .* powerfully at (\w+)\.$</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>1</integer>
                        <integer>1</integer>
                    </regexCodePropertyList>
                </Trigger>
                <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>Renegade</name>
                    <script></script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList/>
                    <regexCodePropertyList/>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>dstab [other]</name>
                        <script>sub(matches[2]..&quot; dstabs &quot;..matches[3]..&quot;.&quot;)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>^(\w+) pricks (\w+) quickly with .*\.</string>
                            <string>^Maintaining (?:his|her) balance, (\w+) deftly pricks (\w+) again\.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>1</integer>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>shadowplant [other]</name>
                        <script>local short = &quot;&quot;
if matches[2] == &quot;maidenhair leaf&quot; then short = &quot;maidenhair&quot; end
if matches[2] == &quot;mandrake root&quot; then short = &quot;mandrake&quot; end
if matches[2] == &quot;piece of kelp&quot; then short = &quot;kelp&quot; end
if matches[2] == &quot;galingale flower&quot; then short = &quot;galingale&quot; end
if matches[2] == &quot;nightshade root&quot; then short = &quot;nightshade&quot; end
if matches[2] == &quot;wormwood root&quot; then short = &quot;wormwood&quot; end
if matches[2] == &quot;orphine seed&quot; then short = &quot;orphine&quot; end
if matches[2] == &quot;quince fruit&quot; then short = &quot;quince&quot; end
if matches[2] == &quot;primrose stalk&quot; then short = &quot;primrose&quot; end
if matches[2] == &quot;juniper berry&quot; then short = &quot;juniper&quot; end
if matches[2] == &quot;hyssop stem&quot; then short = &quot;hyssop&quot; end
if matches[2] == &quot;violet root&quot; then short = &quot;violet&quot; end
if matches[2] == &quot;toadstool&quot; then short = &quot;toadstool&quot; end
if matches[2] == &quot;linseed&quot; then short = &quot;linseed&quot; end

sub(matches[3]..&quot; -&gt; &quot;..matches[4]..&quot; [&lt;goldenrod&gt;Shadowplant&lt;stop&gt;]: &quot;..short..&quot;.&quot;)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>^A shadowy replica of (?:a|an|some) (.*) pops out of a vortex swirling above (\w+)'s head and lands in (\w+)'s hands\.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                </TriggerGroup>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>multiline parry</name>
                    <script>set(multimatches[2][2],&quot;last_parry&quot;,multimatches[1][4])
set(multimatches[2][2],&quot;last_parry_time&quot;,os.time())</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>1</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>^(\w+) swings .* at (\w+)'s (.*) with all (?:his|her) might\.</string>
                        <string>^(\w+) parries the attack with a deft maneuver\.</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>1</integer>
                        <integer>1</integer>
                    </regexCodePropertyList>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>multiline parry</name>
                    <script>set(multimatches[2][2],&quot;last_parry&quot;,multimatches[1][4])
set(multimatches[2][2],&quot;last_parry_time&quot;,os.time())</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>1</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>^(\w+) slashes into (\w+)'s (.*) with .*\.</string>
                        <string>^(\w+) parries the attack with a deft maneuver\.</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>1</integer>
                        <integer>1</integer>
                    </regexCodePropertyList>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>multiline parry</name>
                    <script>set(multimatches[2][2],&quot;last_parry&quot;,multimatches[1][4])
set(multimatches[2][2],&quot;last_parry_time&quot;,os.time())</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>1</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>^Lightning\-quick, (\w+) jabs (\w+)'s (.*) with .*\.</string>
                        <string>^(\w+) parries the attack with a deft maneuver\.</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>1</integer>
                        <integer>1</integer>
                    </regexCodePropertyList>
                </Trigger>
            </TriggerGroup>
            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                <name>military+</name>
                <script>if me == &quot;Iniar&quot; then
	trax.give(matches[2],matches[3],true) -- true for suppress
end</script>
                <triggerType>0</triggerType>
                <conditonLineDelta>0</conditonLineDelta>
                <mStayOpen>0</mStayOpen>
                <mCommand></mCommand>
                <packageName></packageName>
                <mFgColor>#ff0000</mFgColor>
                <mBgColor>#ffff00</mBgColor>
                <mSoundFile></mSoundFile>
                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                <regexCodeList>
                    <string>^\(\w+\)\: \w+ says, &quot;Afflicted (\w+) (.*)\.&quot;</string>
                </regexCodeList>
                <regexCodePropertyList>
                    <integer>1</integer>
                </regexCodePropertyList>
            </Trigger>
            <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                <name>Iniar only</name>
                <script></script>
                <triggerType>0</triggerType>
                <conditonLineDelta>0</conditonLineDelta>
                <mStayOpen>0</mStayOpen>
                <mCommand></mCommand>
                <packageName></packageName>
                <mFgColor>#ff0000</mFgColor>
                <mBgColor>#ffff00</mBgColor>
                <mSoundFile></mSoundFile>
                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                <regexCodeList/>
                <regexCodePropertyList/>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>artifacts+</name>
                    <script>if me == &quot;Iniar&quot; then
	local t = {
		&quot;Elizabell&quot;,
		&quot;Fia&quot;,
		&quot;Raykel&quot;,
		&quot;Assunta&quot;,
		&quot;Tsildra&quot;,
		&quot;Caitryn&quot;,
		&quot;Emileigh&quot;,
		&quot;Kiley&quot;,
	}

	if table.contains(t,matches[2]) then
		expandAlias(&quot;donate &quot;..matches[2])
	end
end</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>^(\w+) lightly taps you, trying to get your attention\.</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>1</integer>
                    </regexCodePropertyList>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>lyre+</name>
                    <script>local n = matches[2]
local ly = matches[3]

local t = {
	&quot;Ihsan&quot;,
	&quot;Assunta&quot;,
}

if table.contains(t,n) and ly == &quot;Lyre.\&quot;&quot; then
	local str = &quot;&quot;
	str = str..&quot;queue eqbal beckon artifact 167774&quot;..sp
	str = str..&quot;remove lyre&quot;..sp
	str = str..&quot;give lyre to &quot;..n..sp
	send(str)
end</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>^.*, (\w+) tells you, &quot;(.*)$</string>
                        <string>^(\w+) tells you, &quot;(.*)$</string>
                        <string>^.*, (\w+) tells you, in .*, &quot;(.*)$</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>1</integer>
                        <integer>1</integer>
                        <integer>1</integer>
                    </regexCodePropertyList>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>sash+</name>
                    <script>local n = matches[2]
local ly = matches[3]

local t = {
	&quot;Abigail&quot;,
	&quot;Assunta&quot;,
}

if table.contains(t,n) and ly == &quot;Sash.\&quot;&quot; then
	local str = &quot;&quot;
	str = str..&quot;queue eqbal beckon artifact 11960&quot;..sp
	str = str..&quot;beckon artifact 62953&quot;..sp
	str = str..&quot;remove 11960&quot;..sp
	str = str..&quot;remove 62953&quot;..sp
	str = str..&quot;give 11960 to &quot;..n..sp
	str = str..&quot;give 62953 to &quot;..n..sp
	send(str)
end</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>^.*, (\w+) tells you, &quot;(.*)$</string>
                        <string>^(\w+) tells you, &quot;(.*)$</string>
                        <string>^.*, (\w+) tells you, in .*, &quot;(.*)$</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>1</integer>
                        <integer>1</integer>
                        <integer>1</integer>
                    </regexCodePropertyList>
                </Trigger>
            </TriggerGroup>
        </TriggerGroup>
        <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
            <name>medusa</name>
            <script></script>
            <triggerType>0</triggerType>
            <conditonLineDelta>0</conditonLineDelta>
            <mStayOpen>0</mStayOpen>
            <mCommand></mCommand>
            <packageName></packageName>
            <mFgColor>#ff0000</mFgColor>
            <mBgColor>#ffff00</mBgColor>
            <mSoundFile></mSoundFile>
            <colorTriggerFgColor>#000000</colorTriggerFgColor>
            <colorTriggerBgColor>#000000</colorTriggerBgColor>
            <regexCodeList/>
            <regexCodePropertyList/>
            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                <name>parry [me]</name>
                <script>medusa.parry = matches[2]</script>
                <triggerType>0</triggerType>
                <conditonLineDelta>0</conditonLineDelta>
                <mStayOpen>0</mStayOpen>
                <mCommand></mCommand>
                <packageName></packageName>
                <mFgColor>#ff0000</mFgColor>
                <mBgColor>#ffff00</mBgColor>
                <mSoundFile></mSoundFile>
                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                <regexCodeList>
                    <string>^You will now attempt to parry attacks to your (.*)\.$</string>
                </regexCodeList>
                <regexCodePropertyList>
                    <integer>1</integer>
                </regexCodePropertyList>
            </Trigger>
            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                <name>feint [monk]</name>
                <script>medusa.parry = &quot;&quot; -- &quot;head&quot; -- ?</script>
                <triggerType>0</triggerType>
                <conditonLineDelta>0</conditonLineDelta>
                <mStayOpen>0</mStayOpen>
                <mCommand></mCommand>
                <packageName></packageName>
                <mFgColor>#ff0000</mFgColor>
                <mBgColor>#ffff00</mBgColor>
                <mSoundFile></mSoundFile>
                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                <regexCodeList>
                    <string>^(\w+) swings mightily at your head causing you to drop your guard\.</string>
                </regexCodeList>
                <regexCodePropertyList>
                    <integer>1</integer>
                </regexCodePropertyList>
            </Trigger>
        </TriggerGroup>
        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
            <name>New Trigger</name>
            <script>if idle.on then
	local t = {
		east = &quot;w&quot;,
		west = &quot;e&quot;,
		north = &quot;s&quot;,
		south = &quot;n&quot;,
		northeast = &quot;sw&quot;,
		northwest = &quot;se&quot;,
		southwest = &quot;ne&quot;,
		southeast = &quot;nw&quot;,
		[&quot;in&quot;] = &quot;out&quot;,
		out = &quot;in&quot;,
		up = &quot;down&quot;,
		down = &quot;up&quot;,
	}

	send(t[matches[2]])
end</script>
            <triggerType>0</triggerType>
            <conditonLineDelta>0</conditonLineDelta>
            <mStayOpen>0</mStayOpen>
            <mCommand></mCommand>
            <packageName></packageName>
            <mFgColor>#ff0000</mFgColor>
            <mBgColor>#ffff00</mBgColor>
            <mSoundFile></mSoundFile>
            <colorTriggerFgColor>#000000</colorTriggerFgColor>
            <colorTriggerBgColor>#000000</colorTriggerBgColor>
            <regexCodeList>
                <string>Heeding the call, you mindlessly walk out to the (.*).</string>
            </regexCodeList>
            <regexCodePropertyList>
                <integer>1</integer>
            </regexCodePropertyList>
        </Trigger>
        <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
            <name>Assassin</name>
            <script></script>
            <triggerType>0</triggerType>
            <conditonLineDelta>0</conditonLineDelta>
            <mStayOpen>0</mStayOpen>
            <mCommand></mCommand>
            <packageName></packageName>
            <mFgColor>#ff0000</mFgColor>
            <mBgColor>#ffff00</mBgColor>
            <mSoundFile></mSoundFile>
            <colorTriggerFgColor>#000000</colorTriggerFgColor>
            <colorTriggerBgColor>#000000</colorTriggerBgColor>
            <regexCodeList/>
            <regexCodePropertyList/>
            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                <name>prompt</name>
                <script>if class == &quot;Assassin&quot; then
	trax.process_toxin(&quot;&quot;,&quot;&quot;)
	assassin.prompt(string.len(line))
end</script>
                <triggerType>0</triggerType>
                <conditonLineDelta>0</conditonLineDelta>
                <mStayOpen>0</mStayOpen>
                <mCommand></mCommand>
                <packageName></packageName>
                <mFgColor>#ff0000</mFgColor>
                <mBgColor>#ffff00</mBgColor>
                <mSoundFile></mSoundFile>
                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                <regexCodeList>
                    <string>return isPrompt()</string>
                </regexCodeList>
                <regexCodePropertyList>
                    <integer>4</integer>
                </regexCodePropertyList>
            </Trigger>
            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                <name>pre-toxin</name>
                <script>if class == &quot;Assassin&quot; then
	trax.process_toxin(target,matches[2])
	deleteLine()
	-- sub(&quot;[[ &lt;dark_turquoise&gt;&quot;..string.title(matches[2])..&quot;&lt;grey&gt; ]]&quot;)
end</script>
                <triggerType>0</triggerType>
                <conditonLineDelta>0</conditonLineDelta>
                <mStayOpen>0</mStayOpen>
                <mCommand></mCommand>
                <packageName></packageName>
                <mFgColor>#ff0000</mFgColor>
                <mBgColor>#ffff00</mBgColor>
                <mSoundFile></mSoundFile>
                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                <regexCodeList>
                    <string>^You rub some (.*) on .*dirk.*\.$</string>
                    <string>^You rub some (.*) on .*tooth.*\.$</string>
                </regexCodeList>
                <regexCodePropertyList>
                    <integer>1</integer>
                    <integer>1</integer>
                </regexCodePropertyList>
            </Trigger>
            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                <name>dstab</name>
                <script>trax.pending_toxin_name = matches[2]
sub(&quot;You dstab &quot;..matches[2]..&quot;. (&quot;..revlookup(trax.pending_toxin,dban.toxin_dictionary)..&quot;)&quot;)</script>
                <triggerType>0</triggerType>
                <conditonLineDelta>0</conditonLineDelta>
                <mStayOpen>0</mStayOpen>
                <mCommand></mCommand>
                <packageName></packageName>
                <mFgColor>#ff0000</mFgColor>
                <mBgColor>#ffff00</mBgColor>
                <mSoundFile></mSoundFile>
                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                <regexCodeList>
                    <string>You prick (\w+) quickly with your dirk.</string>
                    <string>Maintaining your balance, you deftly prick (\w+) again.</string>
                </regexCodeList>
                <regexCodePropertyList>
                    <integer>1</integer>
                    <integer>1</integer>
                </regexCodePropertyList>
            </Trigger>
            <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                <name>defences</name>
                <script></script>
                <triggerType>0</triggerType>
                <conditonLineDelta>0</conditonLineDelta>
                <mStayOpen>0</mStayOpen>
                <mCommand></mCommand>
                <packageName></packageName>
                <mFgColor>#ff0000</mFgColor>
                <mBgColor>#ffff00</mBgColor>
                <mSoundFile></mSoundFile>
                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                <regexCodeList/>
                <regexCodePropertyList/>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>weaving+</name>
                    <script>assassin.defences.weaving = true</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>You picture the shadows when a candle flickers in your mind, and slowly begin to weave back and forth agilely.</string>
                        <string>You are already imitating the cobra.</string>
                        <string>You have gained the weaving defence.</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>3</integer>
                        <integer>3</integer>
                        <integer>3</integer>
                    </regexCodePropertyList>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>weaving-</name>
                    <script>assassin.defences.weaving = false</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>You cease your shadowy weaving.</string>
                        <string>You are not weaving about as it is.</string>
                        <string>You have lost the weaving defence.</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>3</integer>
                        <integer>3</integer>
                        <integer>3</integer>
                    </regexCodePropertyList>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>harden+</name>
                    <script>assassin.defences.harden = true</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>Your constant exposure to deadly toxins allows you to harden your skin.</string>
                        <string>Your skin is already hardened.</string>
                        <string>You have gained the harden defence.</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>3</integer>
                        <integer>3</integer>
                        <integer>3</integer>
                    </regexCodePropertyList>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>hide+</name>
                    <script>assassin.defences.hide = true</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>You conceal yourself using all the guile you possess.</string>
                        <string>You are already hidden.</string>
                        <string>You have gained the hide defence.</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>3</integer>
                        <integer>3</integer>
                        <integer>3</integer>
                    </regexCodePropertyList>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>hide-</name>
                    <script>assassin.defences.hide = false</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>You emerge from your hiding place.</string>
                        <string>From what do you wish to emerge?</string>
                        <string>You have lost the hide defence.</string>
                        <string>Too many prying eyes prevent you from finding a suitable hiding place.</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>3</integer>
                        <integer>3</integer>
                        <integer>3</integer>
                        <integer>3</integer>
                    </regexCodePropertyList>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>demon protect+</name>
                    <script>assassin.defences.protect = true</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>A demonic lamia secretes a slimy substance all over you.</string>
                        <string>You have gained the demon protect defence.</string>
                        <string>You are already under the protection of the demon.</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>3</integer>
                        <integer>3</integer>
                        <integer>3</integer>
                    </regexCodePropertyList>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>demon protect-</name>
                    <script>assassin.defences.protect = false
if matches[2] then report(matches[2]..&quot; killed my lamia, that bastard.&quot;) end
</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>You issue a stern command to a demonic lamia and watch as its face turns into a horrible grimace. Flickering flames surround a demonic lamia and she begins to grow into an almost impossible size, before suddenly exploding in a maelstrom of flames that consume everything in their path.</string>
                        <string>^A demonic lamia, your loyal companion, has been slain by (\w+)\.$</string>
                        <string>The protection of the lamia fades, as she is no longer with you.</string>
                        <string>You have lost the demon protect defence.</string>
                        <string>A demonic lamia is not here.</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>3</integer>
                        <integer>1</integer>
                        <integer>3</integer>
                        <integer>3</integer>
                        <integer>3</integer>
                    </regexCodePropertyList>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>demon-</name>
                    <script>cecho(&quot;\n&lt;red&gt;NO DEMON SUMMONED&quot;)
cecho(&quot;\n&lt;red&gt;NO DEMON SUMMONED&quot;)</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>You haven't summoned the demon.</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>3</integer>
                    </regexCodePropertyList>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>ghost+</name>
                    <script>assassin.defences.ghost = true</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>You project a net of light about yourself until your image becomes faded and ghostly.</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>3</integer>
                    </regexCodePropertyList>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>ghost-</name>
                    <script>assassin.defences.ghost = false</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>Your ghostly image slowly intensifies until you appear flesh and blood again.</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>3</integer>
                    </regexCodePropertyList>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>cloak+</name>
                    <script>assassin.defences.cloak = true

</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>You focus on the light projected around you slightly distorting the vibration with your mental will causing you to shimmer out of view.</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>3</integer>
                    </regexCodePropertyList>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>wormhole-</name>
                    <script></script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>Multicolored fragments fly out of your wormhole as its connection shatters.</string>
                        <string>You must create your personal wormhole first.</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>3</integer>
                        <integer>3</integer>
                    </regexCodePropertyList>
                </Trigger>
            </TriggerGroup>
            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                <name>fenugreek-</name>
                <script>set(matches[2],&quot;fenugreek&quot;,false)</script>
                <triggerType>0</triggerType>
                <conditonLineDelta>0</conditonLineDelta>
                <mStayOpen>0</mStayOpen>
                <mCommand></mCommand>
                <packageName></packageName>
                <mFgColor>#ff0000</mFgColor>
                <mBgColor>#ffff00</mBgColor>
                <mSoundFile></mSoundFile>
                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                <regexCodeList>
                    <string>^You flay the waxy coating from (\w+)\.</string>
                    <string>^You flay away (\w+)'s speed defence\.</string>
                </regexCodeList>
                <regexCodePropertyList>
                    <integer>1</integer>
                    <integer>1</integer>
                </regexCodePropertyList>
            </Trigger>
            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                <name>fenugreek- [me]</name>
                <script>set(me,&quot;fenugreek&quot;,false)</script>
                <triggerType>0</triggerType>
                <conditonLineDelta>0</conditonLineDelta>
                <mStayOpen>0</mStayOpen>
                <mCommand></mCommand>
                <packageName></packageName>
                <mFgColor>#ff0000</mFgColor>
                <mBgColor>#ffff00</mBgColor>
                <mSoundFile></mSoundFile>
                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                <regexCodeList>
                    <string>You have lost the fenugreek defence.</string>
                </regexCodeList>
                <regexCodePropertyList>
                    <integer>3</integer>
                </regexCodePropertyList>
            </Trigger>
            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                <name>fenugreek inc</name>
                <script>set(matches[2],&quot;fenugreek_time&quot;,os.time())</script>
                <triggerType>0</triggerType>
                <conditonLineDelta>0</conditonLineDelta>
                <mStayOpen>0</mStayOpen>
                <mCommand></mCommand>
                <packageName></packageName>
                <mFgColor>#ff0000</mFgColor>
                <mBgColor>#ffff00</mBgColor>
                <mSoundFile></mSoundFile>
                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                <regexCodeList>
                    <string>^(\w+) applies a fenugreek berry to (?:himself|herself)\.</string>
                </regexCodeList>
                <regexCodePropertyList>
                    <integer>1</integer>
                </regexCodePropertyList>
            </Trigger>
            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                <name>fenugreek+</name>
                <script>set(matches[2],&quot;fenugreek&quot;,true)
set(matches[2],&quot;fenugreek_time&quot;,0)
set(matches[2],&quot;ascourge&quot;,false)
set(matches[2],&quot;ascourge_time&quot;, 0)</script>
                <triggerType>0</triggerType>
                <conditonLineDelta>0</conditonLineDelta>
                <mStayOpen>0</mStayOpen>
                <mCommand></mCommand>
                <packageName></packageName>
                <mFgColor>#ff0000</mFgColor>
                <mBgColor>#ffff00</mBgColor>
                <mSoundFile></mSoundFile>
                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                <regexCodeList>
                    <string>^A waxy shell of berry juice has dried to (\w+)'s skin\.</string>
                    <string>^You look to slit the veins of (\w+), but you cannot find one through the waxy skin\.</string>
                </regexCodeList>
                <regexCodePropertyList>
                    <integer>1</integer>
                    <integer>1</integer>
                </regexCodePropertyList>
            </Trigger>
            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                <name>rebounding-</name>
                <script>set(target,&quot;rebounding&quot;,false)</script>
                <triggerType>0</triggerType>
                <conditonLineDelta>0</conditonLineDelta>
                <mStayOpen>0</mStayOpen>
                <mCommand></mCommand>
                <packageName></packageName>
                <mFgColor>#ff0000</mFgColor>
                <mBgColor>#ffff00</mBgColor>
                <mSoundFile></mSoundFile>
                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                <regexCodeList>
                    <string>^Your target has no aura for you to flay\.</string>
                </regexCodeList>
                <regexCodePropertyList>
                    <integer>1</integer>
                </regexCodePropertyList>
            </Trigger>
            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                <name>shadowplant</name>
                <script>
local short = &quot;&quot;

if matches[2] == &quot;a maidenhair leaf&quot; then short = short..&quot;maidenhair&quot; end
if matches[2] == &quot;a mandrake root&quot; then short = short..&quot;mandrake&quot; end
if matches[2] == &quot;a piece of kelp&quot; then short = short..&quot;kelp&quot; end
if matches[2] == &quot;a galingale flower&quot; then short = short..&quot;galingale&quot; end
if matches[2] == &quot;a nightshade root&quot; then short = short..&quot;nightshade&quot; end
if matches[2] == &quot;a wormwood root&quot; then short = short..&quot;wormwood&quot; end
if matches[2] == &quot;an orphine seed&quot; then short = short..&quot;orphine&quot; end
if matches[2] == &quot;a juniper berry&quot; then short = short..&quot;juniper&quot; end
if matches[2] == &quot;some hyssop stem&quot; then short = short..&quot;hyssop&quot; end
if matches[2] == &quot;a fenugreek berry&quot; then short = short..&quot;fenugreek&quot; end

local target = matches[3]
if player(target) then
	set( target, &quot;shadowplant&quot;, short )
	set( target, &quot;shadowplant_state&quot;, 1 )
	if shadowplant_timer then killTimer(shadowplant_timer) end
	shadowplant_timer = tempTimer( 0.95, function()
			set( target, &quot;shadowplant_state&quot;, 2 )
			mecho(&quot;&lt;green&gt;Shadowplant active for &quot;..target..&quot;!&quot;)
		end)
	if shadowplant_timer2 then killTimer(shadowplant_timer2) end
	shadowplant_timer2 = tempTimer( 3.75, function()
		set( target, &quot;shadowplant&quot;, &quot;&quot; )
		set( target,&quot;shadowplant_state&quot;, 0 )
		killTimer( shadowplant_timer2 )
		mecho(&quot;&lt;red&gt;Shadowplant deactivated for &quot;..target..&quot;!&quot;)
	end)
end

-- after 1 second, activate, after 4 seconds, remove

sub(&quot;[Shadowplant]: &quot;..string.title(short)..&quot; on &quot;..target..&quot;.&quot;)
</script>
                <triggerType>0</triggerType>
                <conditonLineDelta>0</conditonLineDelta>
                <mStayOpen>0</mStayOpen>
                <mCommand></mCommand>
                <packageName></packageName>
                <mFgColor>#ff0000</mFgColor>
                <mBgColor>#ffff00</mBgColor>
                <mSoundFile></mSoundFile>
                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                <regexCodeList>
                    <string>^You force a small opening in your wormhole and a shadowy replica of (.*) pops out of it and lands in (\w+)'s hands\.</string>
                </regexCodeList>
                <regexCodePropertyList>
                    <integer>1</integer>
                </regexCodePropertyList>
            </Trigger>
            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                <name>shadowplant [me]</name>
                <script>
local short = &quot;&quot;

if matches[2] == &quot;a maidenhair leaf&quot; then short = short..&quot;maidenhair&quot; end
if matches[2] == &quot;a mandrake root&quot; then short = short..&quot;mandrake&quot; end
if matches[2] == &quot;a piece of kelp&quot; then short = short..&quot;kelp&quot; end
if matches[2] == &quot;a galingale flower&quot; then short = short..&quot;galingale&quot; end
if matches[2] == &quot;a nightshade root&quot; then short = short..&quot;nightshade&quot; end
if matches[2] == &quot;a wormwood root&quot; then short = short..&quot;wormwood&quot; end
if matches[2] == &quot;an orphine seed&quot; then short = short..&quot;orphine&quot; end
if matches[2] == &quot;a juniper berry&quot; then short = short..&quot;juniper&quot; end
if matches[2] == &quot;some hyssop stem&quot; then short = short..&quot;hyssop&quot; end
if matches[2] == &quot;a fenugreek berry&quot; then short = short..&quot;fenugreek&quot; end

local target = matches[3]
if player(me) then
	set( me, &quot;shadowplant&quot;, short )
	set( me, &quot;shadowplant_state&quot;, 1 )
	if shadowplant_timer then killTimer(shadowplant_timer) end
	shadowplant_timer = tempTimer( 0.95, function()
			set( me, &quot;shadowplant_state&quot;, 2 )
			mecho(&quot;&lt;green&gt;Shadowplant active for &quot;..me..&quot;!&quot;)
		end)
	if shadowplant_timer2 then killTimer(shadowplant_timer2) end
	shadowplant_timer2 = tempTimer( 3.75, function()
		set( me, &quot;shadowplant&quot;, &quot;&quot; )
		set( me,&quot;shadowplant_state&quot;, 0 )
		killTimer( shadowplant_timer2 )
		mecho(&quot;&lt;red&gt;Shadowplant deactivated for &quot;..me..&quot;!&quot;)
	end)
end

-- after 1 second, activate, after 4 seconds, remove
</script>
                <triggerType>0</triggerType>
                <conditonLineDelta>0</conditonLineDelta>
                <mStayOpen>0</mStayOpen>
                <mCommand></mCommand>
                <packageName></packageName>
                <mFgColor>#ff0000</mFgColor>
                <mBgColor>#ffff00</mBgColor>
                <mSoundFile></mSoundFile>
                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                <regexCodeList>
                    <string>You force a small opening in your wormhole and a shadowy replica of a piece of (\w+) pops out of it and lands in your hands\.</string>
                </regexCodeList>
                <regexCodePropertyList>
                    <integer>1</integer>
                </regexCodePropertyList>
            </Trigger>
            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                <name>shadowplant [me]-</name>
                <script>mecho(&quot;Shadowplant &lt;orange_red&gt;!!!&quot;)
set( me, &quot;shadowplant&quot;, &quot;&quot; )
set( me, &quot;shadowplant_state&quot;, 0 )
if shadowplant_timer then killTimer(shadowplant_timer) end
if shadowplant_timer2 then killTimer(shadowplant_timer2) end</script>
                <triggerType>0</triggerType>
                <conditonLineDelta>0</conditonLineDelta>
                <mStayOpen>0</mStayOpen>
                <mCommand></mCommand>
                <packageName></packageName>
                <mFgColor>#ff0000</mFgColor>
                <mBgColor>#ffff00</mBgColor>
                <mSoundFile></mSoundFile>
                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                <regexCodeList>
                    <string>As you attempt to swallow the plant, it suddenly disappears with no effect.</string>
                </regexCodeList>
                <regexCodePropertyList>
                    <integer>3</integer>
                </regexCodePropertyList>
            </Trigger>
            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                <name>backstab-</name>
                <script>send(&quot;autocuring rebounding on&quot;)</script>
                <triggerType>0</triggerType>
                <conditonLineDelta>0</conditonLineDelta>
                <mStayOpen>0</mStayOpen>
                <mCommand></mCommand>
                <packageName></packageName>
                <mFgColor>#ff0000</mFgColor>
                <mBgColor>#ffff00</mBgColor>
                <mSoundFile></mSoundFile>
                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                <regexCodeList>
                    <string>You leap from the shadows and plunge your dagger into (\w+)'s unsuspecting back!</string>
                    <string>You cease your backstabbing attempt.</string>
                </regexCodeList>
                <regexCodePropertyList>
                    <integer>1</integer>
                    <integer>3</integer>
                </regexCodePropertyList>
            </Trigger>
            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="yes" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                <name>failed instill</name>
                <script>trax.take(matches[2],revlookup(matches[3],dban.toxin_dictionary))</script>
                <triggerType>0</triggerType>
                <conditonLineDelta>0</conditonLineDelta>
                <mStayOpen>0</mStayOpen>
                <mCommand></mCommand>
                <packageName></packageName>
                <mFgColor>#17ff87</mFgColor>
                <mBgColor>#000000</mBgColor>
                <mSoundFile></mSoundFile>
                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                <regexCodeList>
                    <string>^You attempt to instill the effect, but find out that (\w+) is not afflicted with (.*)\.</string>
                </regexCodeList>
                <regexCodePropertyList>
                    <integer>1</integer>
                </regexCodePropertyList>
            </Trigger>
            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                <name>instill+</name>
                <script>-- needs 2 second timer
local name = matches[2]
local aff = matches[3]

if name == &quot;yourself&quot; then name = me end

report(&quot;Instilling &quot;..aff..&quot; onto &quot;..name)
set(name,&quot;instill_pending&quot;,aff)
instill_time = tempTimer(1.85, function()
	set(name,&quot;instill.&quot;..has(name,&quot;instill_pending&quot;), true)
	set(name,&quot;instill_pending&quot;,&quot;&quot;)
	killTimer(instill_time)
	cecho(&quot;\n&lt;green&gt;Success instilling &lt;red&gt;&quot;..aff..&quot;&lt;green&gt; onto &quot;..name..&quot;!&quot;)
end)
</script>
                <triggerType>0</triggerType>
                <conditonLineDelta>0</conditonLineDelta>
                <mStayOpen>0</mStayOpen>
                <mCommand></mCommand>
                <packageName></packageName>
                <mFgColor>#ff0000</mFgColor>
                <mBgColor>#ffff00</mBgColor>
                <mSoundFile></mSoundFile>
                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                <regexCodeList>
                    <string>^Forcing your wormhole to swirl in a hypnotic motion, you lean towards (\w+) and whisper about (\w+)\.</string>
                </regexCodeList>
                <regexCodePropertyList>
                    <integer>1</integer>
                </regexCodePropertyList>
            </Trigger>
            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                <name>engulf+</name>
                <script>set(matches[2],&quot;engulf&quot;,true)</script>
                <triggerType>0</triggerType>
                <conditonLineDelta>0</conditonLineDelta>
                <mStayOpen>0</mStayOpen>
                <mCommand></mCommand>
                <packageName></packageName>
                <mFgColor>#ff0000</mFgColor>
                <mBgColor>#ffff00</mBgColor>
                <mSoundFile></mSoundFile>
                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                <regexCodeList>
                    <string>^Temperature rises noticeably as you force your wormhole to open and start spewing fire towards (\w+)\.</string>
                    <string>^Searing fire spews out at (\w+) from your wormhole, twirling chaotically around (?:his|her) body\.</string>
                    <string>^(\w+) is already surrounded by flames\.</string>
                </regexCodeList>
                <regexCodePropertyList>
                    <integer>1</integer>
                    <integer>1</integer>
                    <integer>1</integer>
                </regexCodePropertyList>
            </Trigger>
            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                <name>engulf+ [me]</name>
                <script>set(me,&quot;engulf&quot;,true)</script>
                <triggerType>0</triggerType>
                <conditonLineDelta>0</conditonLineDelta>
                <mStayOpen>0</mStayOpen>
                <mCommand></mCommand>
                <packageName></packageName>
                <mFgColor>#ff0000</mFgColor>
                <mBgColor>#ffff00</mBgColor>
                <mSoundFile></mSoundFile>
                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                <regexCodeList>
                    <string>Searing fire spews out at yourself from your wormhole, twirling chaotically around your body.</string>
                </regexCodeList>
                <regexCodePropertyList>
                    <integer>3</integer>
                </regexCodePropertyList>
            </Trigger>
            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                <name>engulf-</name>
                <script>set(matches[2],&quot;engulf&quot;,false)</script>
                <triggerType>0</triggerType>
                <conditonLineDelta>0</conditonLineDelta>
                <mStayOpen>0</mStayOpen>
                <mCommand></mCommand>
                <packageName></packageName>
                <mFgColor>#ff0000</mFgColor>
                <mBgColor>#ffff00</mBgColor>
                <mSoundFile></mSoundFile>
                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                <regexCodeList>
                    <string>^Tongues of fire cease swirling aroud (\w+)'s body\.</string>
                </regexCodeList>
                <regexCodePropertyList>
                    <integer>1</integer>
                </regexCodePropertyList>
            </Trigger>
            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                <name>engulf-</name>
                <script>if has(target,&quot;engulf&quot;) then
	set(target,&quot;engulf&quot;,false)
end</script>
                <triggerType>0</triggerType>
                <conditonLineDelta>0</conditonLineDelta>
                <mStayOpen>0</mStayOpen>
                <mCommand></mCommand>
                <packageName></packageName>
                <mFgColor>#ff0000</mFgColor>
                <mBgColor>#ffff00</mBgColor>
                <mSoundFile></mSoundFile>
                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                <regexCodeList>
                    <string>Your wormhole ceases spewing flames.</string>
                </regexCodeList>
                <regexCodePropertyList>
                    <integer>3</integer>
                </regexCodePropertyList>
            </Trigger>
            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                <name>hypnotise+</name>
                <script>set(matches[2],&quot;hypno&quot;,true)
dbp.players_[matches[2]][&quot;hypno_queue&quot;] = {}
cecho(&quot;\n&lt;gold&gt;HYPNOTISED&lt;grey&gt;.&quot;)
cecho(&quot;\n&lt;gold&gt;HYPNOTISED&lt;grey&gt;.&quot;)
cecho(&quot;\n&lt;gold&gt;HYPNOTISED&lt;grey&gt;.&quot;)</script>
                <triggerType>0</triggerType>
                <conditonLineDelta>0</conditonLineDelta>
                <mStayOpen>0</mStayOpen>
                <mCommand></mCommand>
                <packageName></packageName>
                <mFgColor>#ff0000</mFgColor>
                <mBgColor>#ffff00</mBgColor>
                <mSoundFile></mSoundFile>
                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                <regexCodeList>
                    <string>^You fix (\w+) with an entrancing stare, and smile in satisfaction as you realise that (?:his|her) mind is yours\.</string>
                </regexCodeList>
                <regexCodePropertyList>
                    <integer>1</integer>
                </regexCodePropertyList>
            </Trigger>
            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                <name>hypnotise+</name>
                <script>set(matches[2],&quot;hypno&quot;,true)
-- hypno_queue</script>
                <triggerType>0</triggerType>
                <conditonLineDelta>0</conditonLineDelta>
                <mStayOpen>0</mStayOpen>
                <mCommand></mCommand>
                <packageName></packageName>
                <mFgColor>#ff0000</mFgColor>
                <mBgColor>#ffff00</mBgColor>
                <mSoundFile></mSoundFile>
                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                <regexCodeList>
                    <string>^(\w+) is already under your hypnotic spell\.</string>
                </regexCodeList>
                <regexCodePropertyList>
                    <integer>1</integer>
                </regexCodePropertyList>
            </Trigger>
            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                <name>hypnotise-</name>
                <script>set(matches[2],&quot;hypno&quot;,false)
dbp.players_[matches[2]][&quot;hypno_queue&quot;] = {}</script>
                <triggerType>0</triggerType>
                <conditonLineDelta>0</conditonLineDelta>
                <mStayOpen>0</mStayOpen>
                <mCommand></mCommand>
                <packageName></packageName>
                <mFgColor>#ff0000</mFgColor>
                <mBgColor>#ffff00</mBgColor>
                <mSoundFile></mSoundFile>
                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                <regexCodeList>
                    <string>^(\w+) is not under your hypnotic spell\.</string>
                    <string>^(\w+) is too perceptive for your hypnotic skill, and you hurriedly cease your attempts before being noticed\.</string>
                    <string>^(\w+) has noticed your attempt at hypnosis!</string>
                    <string>^Your attempted hypnosis against (\w+) is broken\.</string>
                    <string>^You snap your fingers in front of (\w+)\.</string>
                </regexCodeList>
                <regexCodePropertyList>
                    <integer>1</integer>
                    <integer>1</integer>
                    <integer>1</integer>
                    <integer>1</integer>
                    <integer>1</integer>
                </regexCodePropertyList>
            </Trigger>
            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="yes" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                <name>suggest+</name>
                <script>table.insert( has(matches[3],&quot;hypno_queue&quot;), matches[2] )</script>
                <triggerType>0</triggerType>
                <conditonLineDelta>0</conditonLineDelta>
                <mStayOpen>0</mStayOpen>
                <mCommand></mCommand>
                <packageName></packageName>
                <mFgColor>#ff713e</mFgColor>
                <mBgColor>#000000</mBgColor>
                <mSoundFile></mSoundFile>
                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                <regexCodeList>
                    <string>^You issue the suggestion of (.*), concealing it deep within (\w+)'s mind\.</string>
                </regexCodeList>
                <regexCodePropertyList>
                    <integer>1</integer>
                </regexCodePropertyList>
            </Trigger>
            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                <name>snap+</name>
                <script>if matches[2] == &quot;yourself&quot; then matches[2] = me end
if class == &quot;Assassin&quot; then
	set(matches[2],&quot;sealed&quot;,false)
	set(matches[2],&quot;hypno_snap&quot;,true)
end</script>
                <triggerType>0</triggerType>
                <conditonLineDelta>0</conditonLineDelta>
                <mStayOpen>0</mStayOpen>
                <mCommand></mCommand>
                <packageName></packageName>
                <mFgColor>#ff0000</mFgColor>
                <mBgColor>#ffff00</mBgColor>
                <mSoundFile></mSoundFile>
                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                <regexCodeList>
                    <string>^You snap your fingers in front of (\w+)\.</string>
                </regexCodeList>
                <regexCodePropertyList>
                    <integer>1</integer>
                </regexCodePropertyList>
            </Trigger>
            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                <name>worm+</name>
                <script>assassin.worm = matches[2]</script>
                <triggerType>0</triggerType>
                <conditonLineDelta>0</conditonLineDelta>
                <mStayOpen>0</mStayOpen>
                <mCommand></mCommand>
                <packageName></packageName>
                <mFgColor>#ff0000</mFgColor>
                <mBgColor>#ffff00</mBgColor>
                <mSoundFile></mSoundFile>
                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                <regexCodeList>
                    <string>^You close your eyes and focus your mind on forming a connection with your dimensional wormhole\. Frowning in concentration, you direct its loose end through space, attaching it firmly to (.*)\.</string>
                </regexCodeList>
                <regexCodePropertyList>
                    <integer>1</integer>
                </regexCodePropertyList>
            </Trigger>
            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="yes" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                <name>rewield</name>
                <script>local str = &quot;&quot;

str = str..&quot;beckon artifacts&quot;..sp
str = str..&quot;quickdraw tooth shield&quot;..sp

msend(str)</script>
                <triggerType>0</triggerType>
                <conditonLineDelta>0</conditonLineDelta>
                <mStayOpen>0</mStayOpen>
                <mCommand></mCommand>
                <packageName></packageName>
                <mFgColor>#ff0000</mFgColor>
                <mBgColor>#ffff00</mBgColor>
                <mSoundFile></mSoundFile>
                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                <regexCodeList>
                    <string>You have no dirk in your hands!</string>
                </regexCodeList>
                <regexCodePropertyList>
                    <integer>3</integer>
                </regexCodePropertyList>
            </Trigger>
            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                <name>sealed+</name>
                <script>set(matches[2],&quot;sealed&quot;,true)
cecho(&quot;\n&quot;..matches[2]..&quot;   &lt;yellow&gt;S E A L E D.&quot;)
cecho(&quot;\n&quot;..matches[2]..&quot;   &lt;yellow&gt;S E A L E D.&quot;)
cecho(&quot;\n&quot;..matches[2]..&quot;   &lt;yellow&gt;S E A L E D.&quot;)</script>
                <triggerType>0</triggerType>
                <conditonLineDelta>0</conditonLineDelta>
                <mStayOpen>0</mStayOpen>
                <mCommand></mCommand>
                <packageName></packageName>
                <mFgColor>#ff0000</mFgColor>
                <mBgColor>#ffff00</mBgColor>
                <mSoundFile></mSoundFile>
                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                <regexCodeList>
                    <string>^You draw (\w+) out of (?:his|her) hypnotic daze, your suggestions indelibly printed on (?:his|her) mind\.</string>
                </regexCodeList>
                <regexCodePropertyList>
                    <integer>1</integer>
                </regexCodePropertyList>
            </Trigger>
            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                <name>sealed+</name>
                <script>set(matches[2],&quot;sealed&quot;,true)
cecho(&quot;\n&quot;..matches[2]..&quot;   &lt;red&gt;S E A L E D.&quot;)
cecho(&quot;\n&quot;..matches[2]..&quot;   &lt;red&gt;S E A L E D.&quot;)
cecho(&quot;\n&quot;..matches[2]..&quot;   &lt;red&gt;S E A L E D.&quot;)</script>
                <triggerType>0</triggerType>
                <conditonLineDelta>0</conditonLineDelta>
                <mStayOpen>0</mStayOpen>
                <mCommand></mCommand>
                <packageName></packageName>
                <mFgColor>#ff0000</mFgColor>
                <mBgColor>#ffff00</mBgColor>
                <mSoundFile></mSoundFile>
                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                <regexCodeList>
                    <string>^The suggestions have already been sealed in (\w+)'s mind\.</string>
                </regexCodeList>
                <regexCodePropertyList>
                    <integer>1</integer>
                </regexCodePropertyList>
            </Trigger>
            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                <name>scourge-</name>
                <script>set(matches[2],&quot;ascourge&quot;,false)
set(matches[2],&quot;ascourge_time&quot;, 0)</script>
                <triggerType>0</triggerType>
                <conditonLineDelta>0</conditonLineDelta>
                <mStayOpen>0</mStayOpen>
                <mCommand></mCommand>
                <packageName></packageName>
                <mFgColor>#ff0000</mFgColor>
                <mBgColor>#ffff00</mBgColor>
                <mSoundFile></mSoundFile>
                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                <regexCodeList>
                    <string>^(\w+) applies a fenugreek berry to (?:himself|herself)\.</string>
                </regexCodeList>
                <regexCodePropertyList>
                    <integer>1</integer>
                </regexCodePropertyList>
            </Trigger>
            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                <name>scourge+</name>
                <script>set(matches[2],&quot;ascourge&quot;,true)
if has(matches[2],&quot;ascourge_time&quot;) == 0 then
	set(matches[2],&quot;ascourge_time&quot;, os.time())
end</script>
                <triggerType>0</triggerType>
                <conditonLineDelta>0</conditonLineDelta>
                <mStayOpen>0</mStayOpen>
                <mCommand></mCommand>
                <packageName></packageName>
                <mFgColor>#ff0000</mFgColor>
                <mBgColor>#ffff00</mBgColor>
                <mSoundFile></mSoundFile>
                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                <regexCodeList>
                    <string>^(\w+)'s flesh has already been scourged\.</string>
                </regexCodeList>
                <regexCodePropertyList>
                    <integer>1</integer>
                </regexCodePropertyList>
            </Trigger>
            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                <name>scourge+</name>
                <script>set(matches[2],&quot;ascourge&quot;,true)
set(matches[2],&quot;ascourge_time&quot;, os.time())</script>
                <triggerType>0</triggerType>
                <conditonLineDelta>0</conditonLineDelta>
                <mStayOpen>0</mStayOpen>
                <mCommand></mCommand>
                <packageName></packageName>
                <mFgColor>#ff0000</mFgColor>
                <mBgColor>#ffff00</mBgColor>
                <mSoundFile></mSoundFile>
                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                <regexCodeList>
                    <string>^You lash out with your whip and brutally flay (\w+)'s skin from (?:his|her) bones\.</string>
                </regexCodeList>
                <regexCodePropertyList>
                    <integer>1</integer>
                </regexCodePropertyList>
            </Trigger>
            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                <name>scourge- [me]</name>
                <script>set(me,&quot;ascourge&quot;,false)
set(me,&quot;ascourge_time&quot;, 0)</script>
                <triggerType>0</triggerType>
                <conditonLineDelta>0</conditonLineDelta>
                <mStayOpen>0</mStayOpen>
                <mCommand></mCommand>
                <packageName></packageName>
                <mFgColor>#ff0000</mFgColor>
                <mBgColor>#ffff00</mBgColor>
                <mSoundFile></mSoundFile>
                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                <regexCodeList>
                    <string>Your flayed skin is now no longer so tender.</string>
                </regexCodeList>
                <regexCodePropertyList>
                    <integer>3</integer>
                </regexCodePropertyList>
            </Trigger>
            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                <name>scourge+ [me]</name>
                <script>set(me,&quot;ascourge&quot;,true)
set(me,&quot;ascourge_time&quot;, os.time())</script>
                <triggerType>0</triggerType>
                <conditonLineDelta>0</conditonLineDelta>
                <mStayOpen>0</mStayOpen>
                <mCommand></mCommand>
                <packageName></packageName>
                <mFgColor>#ff0000</mFgColor>
                <mBgColor>#ffff00</mBgColor>
                <mSoundFile></mSoundFile>
                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                <regexCodeList>
                    <string>You lash out with your whip and brutally flay yourself's skin from your bones.</string>
                </regexCodeList>
                <regexCodePropertyList>
                    <integer>3</integer>
                </regexCodePropertyList>
            </Trigger>
            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                <name>annihilate-</name>
                <script>report(&quot;Failed annihilate on &quot;..matches[2])</script>
                <triggerType>0</triggerType>
                <conditonLineDelta>0</conditonLineDelta>
                <mStayOpen>0</mStayOpen>
                <mCommand></mCommand>
                <packageName></packageName>
                <mFgColor>#ff0000</mFgColor>
                <mBgColor>#ffff00</mBgColor>
                <mSoundFile></mSoundFile>
                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                <regexCodeList>
                    <string>^You attempt to unleash the power of your wormhole upon (\w+), but (?:his|her) mind proves too strong and (?:he|she) deflects the attempt easily\.</string>
                </regexCodeList>
                <regexCodePropertyList>
                    <integer>1</integer>
                </regexCodePropertyList>
            </Trigger>
            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                <name>annihilate-</name>
                <script>expandAlias(&quot;ac on&quot;)
report(&quot;Stalled Annihilate.&quot;)</script>
                <triggerType>0</triggerType>
                <conditonLineDelta>0</conditonLineDelta>
                <mStayOpen>0</mStayOpen>
                <mCommand></mCommand>
                <packageName></packageName>
                <mFgColor>#ff0000</mFgColor>
                <mBgColor>#ffff00</mBgColor>
                <mSoundFile></mSoundFile>
                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                <regexCodeList>
                    <string>You cease your attempt to annihilate your victim's mind.</string>
                </regexCodeList>
                <regexCodePropertyList>
                    <integer>3</integer>
                </regexCodePropertyList>
            </Trigger>
            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                <name>rebounding+</name>
                <script>set(matches[2],&quot;rebounding&quot;,true)</script>
                <triggerType>0</triggerType>
                <conditonLineDelta>0</conditonLineDelta>
                <mStayOpen>0</mStayOpen>
                <mCommand></mCommand>
                <packageName></packageName>
                <mFgColor>#ff0000</mFgColor>
                <mBgColor>#ffff00</mBgColor>
                <mSoundFile></mSoundFile>
                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                <regexCodeList>
                    <string>^Your whip bounces off (\w+)'s aura of rebounding\.</string>
                </regexCodeList>
                <regexCodePropertyList>
                    <integer>1</integer>
                </regexCodePropertyList>
            </Trigger>
            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                <name>rebounding-</name>
                <script>set(matches[2],&quot;rebounding&quot;,false)</script>
                <triggerType>0</triggerType>
                <conditonLineDelta>0</conditonLineDelta>
                <mStayOpen>0</mStayOpen>
                <mCommand></mCommand>
                <packageName></packageName>
                <mFgColor>#ff0000</mFgColor>
                <mBgColor>#ffff00</mBgColor>
                <mSoundFile></mSoundFile>
                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                <regexCodeList>
                    <string>^You raze (\w+)'s aura of rebounding with .*\.</string>
                </regexCodeList>
                <regexCodePropertyList>
                    <integer>1</integer>
                </regexCodePropertyList>
            </Trigger>
            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                <name>whip-</name>
                <script>send(&quot;queue eqbal wield whip&quot;)</script>
                <triggerType>0</triggerType>
                <conditonLineDelta>0</conditonLineDelta>
                <mStayOpen>0</mStayOpen>
                <mCommand></mCommand>
                <packageName></packageName>
                <mFgColor>#ff0000</mFgColor>
                <mBgColor>#ffff00</mBgColor>
                <mSoundFile></mSoundFile>
                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                <regexCodeList>
                    <string>You must be wielding a whip in order to flay someone.</string>
                </regexCodeList>
                <regexCodePropertyList>
                    <integer>3</integer>
                </regexCodePropertyList>
            </Trigger>
            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                <name>dirk-</name>
                <script>send(&quot;beckon artifacts&quot;)</script>
                <triggerType>0</triggerType>
                <conditonLineDelta>0</conditonLineDelta>
                <mStayOpen>0</mStayOpen>
                <mCommand></mCommand>
                <packageName></packageName>
                <mFgColor>#ff0000</mFgColor>
                <mBgColor>#ffff00</mBgColor>
                <mSoundFile></mSoundFile>
                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                <regexCodeList>
                    <string>You have no dirk.</string>
                </regexCodeList>
                <regexCodePropertyList>
                    <integer>0</integer>
                </regexCodePropertyList>
            </Trigger>
            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                <name>queue eqbal+</name>
                <script>if class == &quot;Assassin&quot; then
	sub(&quot;[&lt;maroon&gt;EQBAL&lt;stop&gt;] &lt;dark_slate_blue&gt;&quot;..matches[2]..&quot;&lt;stop&gt;.&quot;)
end</script>
                <triggerType>0</triggerType>
                <conditonLineDelta>0</conditonLineDelta>
                <mStayOpen>0</mStayOpen>
                <mCommand></mCommand>
                <packageName></packageName>
                <mFgColor>#ff0000</mFgColor>
                <mBgColor>#ffff00</mBgColor>
                <mSoundFile></mSoundFile>
                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                <regexCodeList>
                    <string>^(.*) added to your EQBAL queue\.</string>
                </regexCodeList>
                <regexCodePropertyList>
                    <integer>1</integer>
                </regexCodePropertyList>
            </Trigger>
            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                <name>instill- [me]</name>
                <script>if has(me,&quot;instill.&quot;..matches[2]) then
	set(me,&quot;instill.&quot;..matches[2], false)
end</script>
                <triggerType>0</triggerType>
                <conditonLineDelta>0</conditonLineDelta>
                <mStayOpen>0</mStayOpen>
                <mCommand></mCommand>
                <packageName></packageName>
                <mFgColor>#ff0000</mFgColor>
                <mBgColor>#ffff00</mBgColor>
                <mSoundFile></mSoundFile>
                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                <regexCodeList>
                    <string>^You feel relieved as the effects of (.*) are no longer instilled within you.</string>
                </regexCodeList>
                <regexCodePropertyList>
                    <integer>1</integer>
                </regexCodePropertyList>
            </Trigger>
            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                <name>lamia+</name>
                <script></script>
                <triggerType>0</triggerType>
                <conditonLineDelta>0</conditonLineDelta>
                <mStayOpen>0</mStayOpen>
                <mCommand></mCommand>
                <packageName></packageName>
                <mFgColor>#ff0000</mFgColor>
                <mBgColor>#ffff00</mBgColor>
                <mSoundFile></mSoundFile>
                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                <regexCodeList>
                    <string>^A demonic lamia is already hostile towards (\w+)\.</string>
                </regexCodeList>
                <regexCodePropertyList>
                    <integer>1</integer>
                </regexCodePropertyList>
            </Trigger>
        </TriggerGroup>
        <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
            <name>Mount</name>
            <script></script>
            <triggerType>0</triggerType>
            <conditonLineDelta>0</conditonLineDelta>
            <mStayOpen>0</mStayOpen>
            <mCommand></mCommand>
            <packageName></packageName>
            <mFgColor>#ff0000</mFgColor>
            <mBgColor>#ffff00</mBgColor>
            <mSoundFile></mSoundFile>
            <colorTriggerFgColor>#000000</colorTriggerFgColor>
            <colorTriggerBgColor>#000000</colorTriggerBgColor>
            <regexCodeList/>
            <regexCodePropertyList/>
        </TriggerGroup>
        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
            <name>generator+</name>
            <script>msend(&quot;ct generator at &quot;..matches[2]..&quot; efficiency.&quot;)</script>
            <triggerType>0</triggerType>
            <conditonLineDelta>0</conditonLineDelta>
            <mStayOpen>0</mStayOpen>
            <mCommand></mCommand>
            <packageName></packageName>
            <mFgColor>#ff0000</mFgColor>
            <mBgColor>#ffff00</mBgColor>
            <mSoundFile></mSoundFile>
            <colorTriggerFgColor>#000000</colorTriggerFgColor>
            <colorTriggerBgColor>#000000</colorTriggerBgColor>
            <regexCodeList>
                <string>^The generator is operating at (.*) efficiency\.</string>
            </regexCodeList>
            <regexCodePropertyList>
                <integer>1</integer>
            </regexCodePropertyList>
        </Trigger>
        <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
            <name>Guild</name>
            <script></script>
            <triggerType>0</triggerType>
            <conditonLineDelta>0</conditonLineDelta>
            <mStayOpen>0</mStayOpen>
            <mCommand></mCommand>
            <packageName></packageName>
            <mFgColor>#ff0000</mFgColor>
            <mBgColor>#ffff00</mBgColor>
            <mSoundFile></mSoundFile>
            <colorTriggerFgColor>#000000</colorTriggerFgColor>
            <colorTriggerBgColor>#000000</colorTriggerBgColor>
            <regexCodeList/>
            <regexCodePropertyList/>
            <Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                <name>gmember trigger</name>
                <script>local t = {
	&quot;The Singularity (Guildmaster)&quot;,
	&quot;the Emir of the Dance (Guildmaster)&quot;,
}

if matches[2] ~= me and not table.contains(t,matches[3]) then
	table.insert( gmembers, { matches[2], matches[3] } )
end</script>
                <triggerType>0</triggerType>
                <conditonLineDelta>0</conditonLineDelta>
                <mStayOpen>0</mStayOpen>
                <mCommand></mCommand>
                <packageName></packageName>
                <mFgColor>#ff0000</mFgColor>
                <mBgColor>#ffff00</mBgColor>
                <mSoundFile></mSoundFile>
                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                <regexCodeList>
                    <string>^(\w+) is (.*)$</string>
                </regexCodeList>
                <regexCodePropertyList>
                    <integer>1</integer>
                </regexCodePropertyList>
            </Trigger>
            <Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                <name>gmember trigger</name>
                <script>enableTrigger(&quot;glastlog trigger&quot;)
tempTimer(3,function() disableTrigger(&quot;glastlog trigger&quot;) end)

gmembers_day = {}
for i=1, #gmembers do
	send(&quot;guild lastlogin &quot;..gmembers[i][1])
end

disableTrigger(&quot;gmember trigger&quot;)</script>
                <triggerType>0</triggerType>
                <conditonLineDelta>0</conditonLineDelta>
                <mStayOpen>0</mStayOpen>
                <mCommand></mCommand>
                <packageName></packageName>
                <mFgColor>#ff0000</mFgColor>
                <mBgColor>#ffff00</mBgColor>
                <mSoundFile></mSoundFile>
                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                <regexCodeList>
                    <string>^Total: (\d+)\.$</string>
                </regexCodeList>
                <regexCodePropertyList>
                    <integer>1</integer>
                </regexCodePropertyList>
            </Trigger>
            <Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                <name>glastlog trigger</name>
                <script>table.insert( gmembers_day, matches[2] )

if #gmembers_day &gt;= #gmembers then echo(&quot;asd&quot;)
	local t = {}
	for i=1, #gmembers_day do
		table.insert( t, { gmembers[i][1], tonumber(gmembers_day[i]), gmembers[i][2] } )
	end
	table.sort( t, function(a, b) return a[2] &lt; b[2] end)

	for k, v in pairs(t) do
		local short = &quot;\n&quot;
		short = short .. string.format(&quot;%14s&quot;, v[1] .. &quot; -&quot;)
		short = short .. string.format(&quot;%6s&quot;, v[2]) .. &quot; days - &quot;
		short = short .. string.format(&quot;%25s&quot;, v[3])
		echo(short)
	end
	disableTrigger(&quot;glastlog trigger&quot;)
end</script>
                <triggerType>0</triggerType>
                <conditonLineDelta>0</conditonLineDelta>
                <mStayOpen>0</mStayOpen>
                <mCommand></mCommand>
                <packageName></packageName>
                <mFgColor>#ff0000</mFgColor>
                <mBgColor>#ffff00</mBgColor>
                <mSoundFile></mSoundFile>
                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                <regexCodeList>
                    <string>Last login was (\d+) days ago\.</string>
                </regexCodeList>
                <regexCodePropertyList>
                    <integer>1</integer>
                </regexCodePropertyList>
            </Trigger>
        </TriggerGroup>
        <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
            <name>Caravans</name>
            <script></script>
            <triggerType>0</triggerType>
            <conditonLineDelta>0</conditonLineDelta>
            <mStayOpen>0</mStayOpen>
            <mCommand></mCommand>
            <packageName></packageName>
            <mFgColor>#ff0000</mFgColor>
            <mBgColor>#ffff00</mBgColor>
            <mSoundFile></mSoundFile>
            <colorTriggerFgColor>#000000</colorTriggerFgColor>
            <colorTriggerBgColor>#000000</colorTriggerBgColor>
            <regexCodeList/>
            <regexCodePropertyList/>
            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                <name>bandits</name>
                <script>send(&quot;queue eqbal kill bandit&quot;)</script>
                <triggerType>0</triggerType>
                <conditonLineDelta>0</conditonLineDelta>
                <mStayOpen>0</mStayOpen>
                <mCommand></mCommand>
                <packageName></packageName>
                <mFgColor>#ff0000</mFgColor>
                <mBgColor>#ffff00</mBgColor>
                <mSoundFile></mSoundFile>
                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                <regexCodeList>
                    <string>The hairs on your neck tingle from an unknown presence.</string>
                </regexCodeList>
                <regexCodePropertyList>
                    <integer>3</integer>
                </regexCodePropertyList>
            </Trigger>
            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                <name>stepping</name>
                <script>table.remove(path,1)

if #path &gt; 0 then 
	send(&quot;lead caravan &quot;..path[1])
end</script>
                <triggerType>0</triggerType>
                <conditonLineDelta>0</conditonLineDelta>
                <mStayOpen>0</mStayOpen>
                <mCommand></mCommand>
                <packageName></packageName>
                <mFgColor>#ff0000</mFgColor>
                <mBgColor>#ffff00</mBgColor>
                <mSoundFile></mSoundFile>
                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                <regexCodeList>
                    <string>You lead a caravan (\w+)\.</string>
                </regexCodeList>
                <regexCodePropertyList>
                    <integer>1</integer>
                </regexCodePropertyList>
            </Trigger>
            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                <name>caravan arrived</name>
                <script>send(&quot;deliver caravan&quot;)</script>
                <triggerType>0</triggerType>
                <conditonLineDelta>0</conditonLineDelta>
                <mStayOpen>0</mStayOpen>
                <mCommand></mCommand>
                <packageName></packageName>
                <mFgColor>#ff0000</mFgColor>
                <mBgColor>#ffff00</mBgColor>
                <mSoundFile></mSoundFile>
                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                <regexCodeList>
                    <string>A bustling foundry.</string>
                </regexCodeList>
                <regexCodePropertyList>
                    <integer>3</integer>
                </regexCodePropertyList>
            </Trigger>
            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                <name>caravan delivered+</name>
                <script></script>
                <triggerType>0</triggerType>
                <conditonLineDelta>0</conditonLineDelta>
                <mStayOpen>0</mStayOpen>
                <mCommand></mCommand>
                <packageName></packageName>
                <mFgColor>#ff0000</mFgColor>
                <mBgColor>#ffff00</mBgColor>
                <mSoundFile></mSoundFile>
                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                <regexCodeList>
                    <string>The foreman leads your caravan a short distance away where its contents are sorted and unloaded. The foreman returns to you and hands you a heavy bag containing </string>
                </regexCodeList>
                <regexCodePropertyList>
                    <integer>1</integer>
                </regexCodePropertyList>
            </Trigger>
            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                <name>capture+</name>
                <script>local name = matches[2]
if next(caravan.t) ~= nil then 
	caravan.commit(caravan.t) 
end
caravan.t = {
	[&quot;name&quot;] = name,
}
enableTrigger(&quot;caravan capture&quot;)</script>
                <triggerType>0</triggerType>
                <conditonLineDelta>0</conditonLineDelta>
                <mStayOpen>0</mStayOpen>
                <mCommand></mCommand>
                <packageName></packageName>
                <mFgColor>#ff0000</mFgColor>
                <mBgColor>#ffff00</mBgColor>
                <mSoundFile></mSoundFile>
                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                <regexCodeList>
                    <string>^Raw Materials for the Towne of (\w+)\:</string>
                </regexCodeList>
                <regexCodePropertyList>
                    <integer>1</integer>
                </regexCodePropertyList>
            </Trigger>
            <Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                <name>caravan capture</name>
                <script>local name = matches[2]
local count = matches[3]
local price = matches[4]

caravan.t[name] = {}
caravan.t[name][&quot;count&quot;] = count
caravan.t[name][&quot;price&quot;] = price
</script>
                <triggerType>0</triggerType>
                <conditonLineDelta>0</conditonLineDelta>
                <mStayOpen>0</mStayOpen>
                <mCommand></mCommand>
                <packageName></packageName>
                <mFgColor>#ff0000</mFgColor>
                <mBgColor>#ffff00</mBgColor>
                <mSoundFile></mSoundFile>
                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                <regexCodeList>
                    <string>^(Crop|Livestock|Ore|Rock|Water|Fish|Lumber)[ ]+(\d+)[ ]+(\d+)[ ]+(.*)</string>
                </regexCodeList>
                <regexCodePropertyList>
                    <integer>1</integer>
                </regexCodePropertyList>
            </Trigger>
            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                <name>capture-</name>
                <script>if next(caravan.t) ~= nil then 
	caravan.commit(caravan.t) 
	caravan.t = {}
	disableTrigger(&quot;caravan capture&quot;)

local _city = &quot;&quot;
local tablen = {
	Antioch = {&quot;Anhir&quot;, &quot;El'jazira&quot;, &quot;Tylaran&quot;, &quot;Whistlerock&quot;, &quot;Arkaskarr&quot;},
	Ithaqua = {&quot;Pol'pera&quot;, &quot;Aherindale&quot;, &quot;Kadar&quot;, &quot;En'aruna&quot;, &quot;Agirni&quot;},
	Khandava = {&quot;Gadan&quot;, &quot;Mylani&quot;, &quot;Aori&quot;, &quot;Kibaya&quot;, &quot;Kaln&quot;},
	Stavenn = {&quot;Kragge&quot;, &quot;Cetara&quot;, &quot;Trevka&quot;, &quot;Annona&quot;, &quot;Blackthorne&quot;},
	Celidon = {&quot;Ssyra&quot;, &quot;Sintcega&quot;, &quot;Trabine&quot;, &quot;Kipos&quot;, &quot;Dakker&quot;},
	Kinsarmar = {&quot;Kaark'krazul&quot;, &quot;Tirhin&quot;, &quot;Velin&quot;, &quot;Pabin'aquinumi&quot;, &quot;Tayar&quot;},
}
for k,v in pairs(tablen) do
	if gmcp.Char.Status.city:match(k) then
		_city = tostring(k)
	end
end
	local t = {&quot;Crop&quot;,&quot;Fish&quot;,&quot;Livestock&quot;,&quot;Lumber&quot;,&quot;Ore&quot;,&quot;Rock&quot;,&quot;Water&quot;}

	table.sort(t)
	table.sort(tablen[_city])

	local str = &quot;&quot;
	str = str..&quot;\n    Commodities for Acquisition    &quot;
	str = str..&quot;\n            &quot;
	for i=1,#tablen[_city] do
		str = str..&quot; &quot;..string.lpad(string.cut(tablen[_city][i],3),4,&quot; &quot;)
	end
	str = str..&quot;\n--------------------------------------&quot;

	for i=1,#t do
		local commodity = t[i]	
		str = str..&quot;\n&quot;..string.rpad(string.title(commodity),10,&quot; &quot;)..&quot;: &quot;
		for j=1,#tablen[_city] do
			local towne = tablen[_city][j]
			str = str..&quot; &quot;..string.lpad(caravan.capture[commodity][towne],4,&quot; &quot;)
		end
	end
	str = str..&quot;\n\n&quot;
if string.match(gmcp.Char.Status.city,&quot;Stavenn&quot;) then
	str = str..&quot;\n&quot;..string.rpad(&quot;Stavenn&quot;,14,&quot; &quot;)..&quot;(11807)&quot;
	str = str..&quot;\n------------------------&quot;
	str = str..&quot;\n&quot;..string.rpad(&quot;Annona&quot;,14,&quot; &quot;)..&quot;6510&quot;
	str = str..&quot;\n&quot;..string.rpad(&quot;Blackthorne&quot;,14,&quot; &quot;)..&quot;7460&quot;
	str = str..&quot;\n&quot;..string.rpad(&quot;Cetara&quot;,14,&quot; &quot;)..&quot;6628&quot;
	str = str..&quot;\n&quot;..string.rpad(&quot;Kragge&quot;,14,&quot; &quot;)..&quot;6549&quot;
	str = str..&quot;\n&quot;..string.rpad(&quot;Trevka&quot;,14,&quot; &quot;)..&quot;176&quot;
end
	str = str..&quot;\n\n&quot;

	city.materials = str
	cecho(str)
end</script>
                <triggerType>0</triggerType>
                <conditonLineDelta>0</conditonLineDelta>
                <mStayOpen>0</mStayOpen>
                <mCommand></mCommand>
                <packageName></packageName>
                <mFgColor>#ff0000</mFgColor>
                <mBgColor>#ffff00</mBgColor>
                <mSoundFile></mSoundFile>
                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                <regexCodeList>
                    <string>return isPrompt()</string>
                </regexCodeList>
                <regexCodePropertyList>
                    <integer>4</integer>
                </regexCodePropertyList>
            </Trigger>
        </TriggerGroup>
        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
            <name>city funds</name>
            <script>city.funds[matches[2]] = tonumber(matches[3])
</script>
            <triggerType>0</triggerType>
            <conditonLineDelta>0</conditonLineDelta>
            <mStayOpen>0</mStayOpen>
            <mCommand></mCommand>
            <packageName></packageName>
            <mFgColor>#ff0000</mFgColor>
            <mBgColor>#ffff00</mBgColor>
            <mSoundFile></mSoundFile>
            <colorTriggerFgColor>#000000</colorTriggerFgColor>
            <colorTriggerBgColor>#000000</colorTriggerBgColor>
            <regexCodeList>
                <string>^The (\w+) budget currently has (\d+) gold\.</string>
                <string>^The (\w+) coffers currently hold (\d+) gold\.</string>
            </regexCodeList>
            <regexCodePropertyList>
                <integer>1</integer>
                <integer>1</integer>
            </regexCodePropertyList>
        </Trigger>
        <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
            <name>City</name>
            <script></script>
            <triggerType>0</triggerType>
            <conditonLineDelta>0</conditonLineDelta>
            <mStayOpen>0</mStayOpen>
            <mCommand></mCommand>
            <packageName></packageName>
            <mFgColor>#ff0000</mFgColor>
            <mBgColor>#ffff00</mBgColor>
            <mSoundFile></mSoundFile>
            <colorTriggerFgColor>#000000</colorTriggerFgColor>
            <colorTriggerBgColor>#000000</colorTriggerBgColor>
            <regexCodeList/>
            <regexCodePropertyList/>
            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                <name>aides+</name>
                <script>city.aides_ = matches[2]
city.aides_t = {}
if city.mins[matches[2]] then
	city.aides_ = city.mins[matches[2]]
end
enableTrigger(&quot;aides capture&quot;)
</script>
                <triggerType>0</triggerType>
                <conditonLineDelta>0</conditonLineDelta>
                <mStayOpen>0</mStayOpen>
                <mCommand></mCommand>
                <packageName></packageName>
                <mFgColor>#ff0000</mFgColor>
                <mBgColor>#ffff00</mBgColor>
                <mSoundFile></mSoundFile>
                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                <regexCodeList>
                    <string>^The (.*) has the following aides\:</string>
                </regexCodeList>
                <regexCodePropertyList>
                    <integer>1</integer>
                </regexCodePropertyList>
            </Trigger>
            <Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                <name>aides capture</name>
                <script>if city.aides_ ~= &quot;&quot; then
	table.insert(city.aides_t,matches[2])
end</script>
                <triggerType>0</triggerType>
                <conditonLineDelta>0</conditonLineDelta>
                <mStayOpen>0</mStayOpen>
                <mCommand></mCommand>
                <packageName></packageName>
                <mFgColor>#ff0000</mFgColor>
                <mBgColor>#ffff00</mBgColor>
                <mSoundFile></mSoundFile>
                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                <regexCodeList>
                    <string>^(\w+)\.</string>
                </regexCodeList>
                <regexCodePropertyList>
                    <integer>1</integer>
                </regexCodePropertyList>
            </Trigger>
            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                <name>aides-</name>
                <script>if city.aides_ ~= &quot;&quot; then 
	local min = city.aides_
	city.aides_ = &quot;&quot;
	
	city.aides[min] = ecopy(city.aides_t)

	city.aides_t = {}
	disableTrigger(&quot;aides capture&quot;)
end</script>
                <triggerType>0</triggerType>
                <conditonLineDelta>0</conditonLineDelta>
                <mStayOpen>0</mStayOpen>
                <mCommand></mCommand>
                <packageName></packageName>
                <mFgColor>#ff0000</mFgColor>
                <mBgColor>#ffff00</mBgColor>
                <mSoundFile></mSoundFile>
                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                <regexCodeList>
                    <string>return isPrompt()</string>
                </regexCodeList>
                <regexCodePropertyList>
                    <integer>4</integer>
                </regexCodePropertyList>
            </Trigger>
            <Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                <name>ministers+</name>
                <script>city.ministers[matches[2]] = matches[3]</script>
                <triggerType>0</triggerType>
                <conditonLineDelta>0</conditonLineDelta>
                <mStayOpen>0</mStayOpen>
                <mCommand></mCommand>
                <packageName></packageName>
                <mFgColor>#ff0000</mFgColor>
                <mBgColor>#ffff00</mBgColor>
                <mSoundFile></mSoundFile>
                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                <regexCodeList>
                    <string>^[ ]+(.*)\: (\w+)$</string>
                </regexCodeList>
                <regexCodePropertyList>
                    <integer>1</integer>
                </regexCodePropertyList>
            </Trigger>
            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                <name>ministers-</name>
                <script>disableTrigger(&quot;ministers+&quot;)</script>
                <triggerType>0</triggerType>
                <conditonLineDelta>0</conditonLineDelta>
                <mStayOpen>0</mStayOpen>
                <mCommand></mCommand>
                <packageName></packageName>
                <mFgColor>#ff0000</mFgColor>
                <mBgColor>#ffff00</mBgColor>
                <mSoundFile></mSoundFile>
                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                <regexCodeList>
                    <string>^[ ]+\[CURRENTLY IN THE REALM\]$</string>
                </regexCodeList>
                <regexCodePropertyList>
                    <integer>1</integer>
                </regexCodePropertyList>
            </Trigger>
            <Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                <name>townes+</name>
                <script>if multimatches[1][2] ~= &quot;CITY&quot; then

local towne = string.title(string.lower(multimatches[1][2]))
local title = multimatches[2][2]
local leader = multimatches[2][3] 
local page = multimatches[4][2] 
local assistants = multimatches[4][3] 

city.townes[towne] = {}
city.townes[towne][title] = leader
city.townes[towne][page] = assistants

end</script>
                <triggerType>0</triggerType>
                <conditonLineDelta>4</conditonLineDelta>
                <mStayOpen>0</mStayOpen>
                <mCommand></mCommand>
                <packageName></packageName>
                <mFgColor>#ff0000</mFgColor>
                <mBgColor>#ffff00</mBgColor>
                <mSoundFile></mSoundFile>
                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                <regexCodeList>
                    <string>^[ ]+\[(.*) LEADERS\]$</string>
                    <string>^[ ]+(.*): (\w+)$</string>
                    <string>1</string>
                    <string>^[ ]+(.*): (.*)$</string>
                </regexCodeList>
                <regexCodePropertyList>
                    <integer>1</integer>
                    <integer>1</integer>
                    <integer>5</integer>
                    <integer>1</integer>
                </regexCodePropertyList>
            </Trigger>
        </TriggerGroup>
        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
            <name>New Trigger</name>
            <script>-- send(&quot;chop tree&quot;)
-- send(&quot;bash cannon&quot;)</script>
            <triggerType>0</triggerType>
            <conditonLineDelta>0</conditonLineDelta>
            <mStayOpen>0</mStayOpen>
            <mCommand></mCommand>
            <packageName></packageName>
            <mFgColor>#ff0000</mFgColor>
            <mBgColor>#ffff00</mBgColor>
            <mSoundFile></mSoundFile>
            <colorTriggerFgColor>#000000</colorTriggerFgColor>
            <colorTriggerBgColor>#000000</colorTriggerBgColor>
            <regexCodeList>
                <string>You have recovered balance.</string>
                <string>Kryss levels a mighty swing at .*, sending chips of bark flying.</string>
                <string>Menoch levels a mighty swing at .*, sending chips of bark flying.</string>
            </regexCodeList>
            <regexCodePropertyList>
                <integer>0</integer>
                <integer>1</integer>
                <integer>1</integer>
            </regexCodePropertyList>
        </Trigger>
        <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
            <name>mudlet-mapper</name>
            <script></script>
            <triggerType>0</triggerType>
            <conditonLineDelta>0</conditonLineDelta>
            <mStayOpen>0</mStayOpen>
            <mCommand></mCommand>
            <packageName>mudlet-mapper</packageName>
            <mFgColor>#ff0000</mFgColor>
            <mBgColor>#ffff00</mBgColor>
            <mSoundFile></mSoundFile>
            <colorTriggerFgColor>#000000</colorTriggerFgColor>
            <colorTriggerBgColor>#000000</colorTriggerBgColor>
            <regexCodeList/>
            <regexCodePropertyList/>
            <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                <name>Mudlet Mapper</name>
                <script></script>
                <triggerType>0</triggerType>
                <conditonLineDelta>0</conditonLineDelta>
                <mStayOpen>0</mStayOpen>
                <mCommand></mCommand>
                <packageName></packageName>
                <mFgColor>#ff0000</mFgColor>
                <mBgColor>#ffff00</mBgColor>
                <mSoundFile></mSoundFile>
                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                <regexCodeList/>
                <regexCodePropertyList/>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>Have to swim</name>
                    <script>mmp.swim()</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>There's water ahead of you. You'll have to swim in that direction to make it through.</string>
                        <string>There's water ahead of you. You'll have to swim in that direction to make it </string>
                        <string>There's water ahead of you. You'll have to SWIM </string>
                        <string>You'll have to swim to make it through the water in that direction.</string>
                        <string>The water is too deep for you to walk that way, you must swim.</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>3</integer>
                        <integer>3</integer>
                        <integer>2</integer>
                        <integer>3</integer>
                        <integer>3</integer>
                    </regexCodePropertyList>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>Rubble at the exit</name>
                    <script>mmp.customwalkdelay(2)</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>You begin to slowly clamber over the rubble that blocks your way.</string>
                        <string>You begin to slowly clamber over a pile of rubble that blocks your way.</string>
                        <string>You start plodding carefully across the constructed trenches.</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>3</integer>
                        <integer>3</integer>
                        <integer>3</integer>
                    </regexCodePropertyList>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>Too quick</name>
                    <script>if mmp.autowalking then
  mmp.deleteLineP()
end</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>99</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>Now now, don't be so hasty!</string>
                        <string>You can not move that fast!</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>3</integer>
                        <integer>3</integer>
                    </regexCodePropertyList>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>Hobbling</name>
                    <script>mmp.customwalkdelay(2)</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>You slowly hobble</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>2</integer>
                    </regexCodePropertyList>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>Frozen</name>
                    <script>mmp.customwalkdelay(2)</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>You begin moving your frozen body slowly</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>2</integer>
                    </regexCodePropertyList>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>People here</name>
                    <script>mmp.pdb_lastupdate = {}</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>1</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>You see the following people here:</string>
                        <string>1</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>3</integer>
                        <integer>5</integer>
                    </regexCodePropertyList>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="yes" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>Person</name>
                        <script>for i = 1, #matches, 2 do
  mmp.pdb[matches[i]] = mmp.currentroomname
  mmp.pdb_lastupdate[matches[i]] = true
  raiseEvent(&quot;mmapper updated pdb&quot;)
end</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#aaff00</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>([A-Z][a-z]+)</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>Retardation/aeon walk delay</name>
                    <script>mmp.customwalkdelay(2)</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>You move sluggishly into action.</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>3</integer>
                    </regexCodePropertyList>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>Scent (Achaea+Imperian)</name>
                    <script>mmp.roomEcho(matches[2]) </script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>^You detect traces of scent from (.+)\.$</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>1</integer>
                    </regexCodePropertyList>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>Alertness (Achaea+Imperian)</name>
                    <script>mmp.alertness = mmp.alertness or {}

local alertness = mmp.alertness

local roomexists, getRoomName, anytolong, matches, deleteLine = mmp.roomexists, getRoomName, mmp.anytolong, matches, deleteLine

if mmp.debug then
  mmp.alertnessTime = mmp.alertnessTime or createStopWatch()
  startStopWatch(mmp.alertnessTime)
end
    

for k, v in pairs (gmcp.Room.Info.exits) do
  local longexitname = mmp.anytolong(k)
  if roomexists(v) and matches[3]:lower() == getRoomName(v):lower() and longexitname then
    alertness[longexitname] = alertness[longexitname] or {}
    alertness[longexitname][#alertness[longexitname]+1] = matches[2]
    deleteLine()

   end
end

local currentroomname = mmp.cleanroomname(mmp.currentroomname)

if matches[3] == currentroomname then
  alertness.here = alertness.here or {}
  alertness.here[#alertness.here+1] = matches[2]
  deleteLine()
end

mmp.pdb[matches[2]] = matches[3]
mmp.pdb_lastupdate[matches[2]] = true

enableTrigger&quot;Mudlet Mapper prompt trigger&quot;

if mmp.debug then mmp.echo(&quot;alertness trigger for &quot;..matches[2]..&quot; took &quot;..stopStopWatch(mmp.alertnessTime)..&quot;s.&quot;) end</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>^Your enhanced senses inform you that (\w+) has entered (.+?)(?: nearby)?\.$</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>1</integer>
                    </regexCodePropertyList>
                </Trigger>
                <Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>Mudlet Mapper prompt trigger</name>
                    <script>-- to be enabled by functions that need it and disabled after it's done. Sort of like a cheap prompttrigger from Svo.

-- handle alertness
if mmp.alertness and next(mmp.alertness) then

  local dirs = {}
  for direction, _ in pairs(mmp.alertness) do dirs[#dirs+1] = direction end
  local people = select(2, next(mmp.alertness)) or {}

  moveCursor(0, getLineNumber())

  if ndb then
    local getcolor = ndb.getcolor
    for i = 1, #people do
      people[i] = getcolor(people[i])..people[i]
    end
  end

  cinsertText(&quot;&lt;red&gt;[&lt;cyan&gt;&quot; .. table.concat(dirs, ', ') .. &quot; &lt;red&gt;-&quot;..(#dirs &gt; 1 and (&quot;\n  &quot;) or '')..&quot; &lt;white&gt;&quot; .. ((svo and svo.concatand) and svo.concatand(people) or table.concat(people, ', ')) .. &quot;&lt;cyan&gt; (&quot;..#people..&quot;)&lt;red&gt;]\n&quot;)
  
  moveCursorEnd()

  mmp.alertness = nil

  raiseEvent(&quot;mmapper updated pdb&quot;)
end

-- reset names we last seen, so scripts can be efficient
-- not finished yet
--if next(mmp.pdb_lastupdate) then
--  mmp.pdb_lastupdate = {}
--end

disableTrigger&quot;Mudlet Mapper prompt trigger&quot;</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>return isPrompt()</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>4</integer>
                    </regexCodePropertyList>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>Wormhole</name>
                    <script>mmp.customwalkdelay(4)</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>You hurl yourself forwards through the air, and sure enough a swirling vortex of colours springs into existence to swallow you.</string>
                        <string>You reach out with the vibrating stick to probe for a wormhole, and as it connects with one, you are sucked through.</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>3</integer>
                        <integer>3</integer>
                    </regexCodePropertyList>
                </Trigger>
                <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>Achaea</name>
                    <script></script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList/>
                    <regexCodePropertyList/>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>Login</name>
                        <script>raiseEvent(&quot;mmp logged in&quot;, &quot;Achaea&quot;)
mmp.game = &quot;achaea&quot;
mmp.echo(&quot;We're connected to Achaea.&quot;)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>Password correct. Welcome to Achaea.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>Local area farsee</name>
                        <script>mmp.locateAndEchoSide(multimatches[2][3], multimatches[2][2])</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>You see that </string>
                            <string>^You see that (\w+) is at (.+)\.$</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>2</integer>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>Entering wilderness</name>
                        <script>mmp.customwalkdelay(6)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>99</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>You begin to look for that place to enter the wilderness. It's around here somewhere!</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>Icon enter/leave</name>
                        <script>mmp.customwalkdelay(10)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>1</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>You reach out and touch a powerful Icon. For a moment, nothing happens, but soon you feel a humming deep inside you.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>Underworld root</name>
                        <script>mmp.customwalkdelay(2)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>As you touch a huge grey root, you feel dark energies coursing up your hand and throughout your body.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>Mindsense</name>
                        <script>mmp.locateAndEchoSide(multimatches[2][3], multimatches[2][2])</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>You seek out the mind of</string>
                            <string>^You seek out the mind of (\w+) and an image of (.+) appears in your mind\.$</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>2</integer>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>Destroyed room</name>
                        <script>mmp.customwalkdelay(3)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>Your movement is slowed as you move through the decimated remains.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>Underworld entry</name>
                        <script>mmp.customwalkdelay(3)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>A huge grey root numbs your fingertips as you reach out to touch it.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>Angel sense</name>
                        <script>local t = mmp.getnums(multimatches[2][2], true)
if not t then return end
if #t == 1 then
	cecho(&quot; &lt;orange_red&gt;(&quot;..mmp.cleanAreaName(mmp.areatabler[getRoomArea(t[1])])..&quot;)&quot;)
else
	cecho(&quot; &lt;orange_red&gt;Maybe (&quot;..mmp.cleanAreaName(mmp.areatabler[getRoomArea(t[1])])..&quot;)&quot;)
end
echo &quot; &quot;; mmp.echonums(multimatches[2][2])

mmp.temp_room = multimatches[2][2]</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>100</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>Your guardian angel senses </string>
                            <string>^Your guardian angel senses .+? at (.+?),</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>2</integer>
                            <integer>1</integer>
                        </regexCodePropertyList>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>Each person</name>
                            <script>mmp.pdb[matches[2]] = mmp.temp_room
mmp.pdb_lastupdate[matches[2]] = true</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string> is with (\w+)\.$</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>Stop</name>
                            <script>setTriggerStayOpen(&quot;Angel sense&quot;, 0)
mmp.temp_room = nil
raiseEvent(&quot;mmapper updated pdb&quot;)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>99</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>return isPrompt()</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>4</integer>
                            </regexCodePropertyList>
                        </Trigger>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>Dragonsense</name>
                        <script>mmp.locateAndEchoSide(multimatches[2][3], multimatches[2][2])</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>1</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>Tapping into the unfathomable depths of your power, you sense that</string>
                            <string>Tapping into the unfathomable depths of your power, you sense that (\w+) is at (.+?), in (.+)\.$</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>2</integer>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>Defilement</name>
                        <script>mmp.locateAndEchoSide(multimatches[2][2])</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>(Order): </string>
                            <string>^\(Order\): \w+'s Herald says, &quot;A shrine is being defiled at (.+)!&quot;$</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>2</integer>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>Defiled</name>
                        <script>mmp.locateAndEcho(multimatches[2][2])</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>(Order):</string>
                            <string>^\(Order\): \w+'s Herald says, &quot;A shrine has been destroyed at (.+)!&quot;$</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>2</integer>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>View </name>
                        <script>mmp.locateAndEcho(multimatches[2][3], multimatches[2][2])</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>You see</string>
                            <string>^You see (\w+) at (.+)\.$</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>2</integer>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>Elementalism scry</name>
                        <script>mmp.locateAndEcho(multimatches[2][3], multimatches[2][2])</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>You create a pool of water in the air in front of you and look through it, sensing</string>
                            <string>You create a pool of water in the air in front of you and look through it, sensing (\w+) at (.+)\.$</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>2</integer>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>Parse wholist</name>
                        <script>-- this trigger should be off by default. It's inefficient and gets auto-enabled
-- when you check 'who'
mmp.locateAndEcho(matches[3], matches[2])</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>99</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>^(\w+) +\((.+)\)$</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>Piety on astralform</name>
                        <script>mmp.customwalkdelay(3)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>A rite of piety slows your movement as it pulls at your ephemeral body.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>Angel/Demon presences</name>
                        <script>disableTrigger(&quot;Angel sense&quot;)

mmp.pdb_lastupdate = {}</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>100</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>You bid your guardian angel to seek out life presences nearby.</string>
                            <string>You bid your Baalzadeen to seek out life presences nearby.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                            <integer>3</integer>
                        </regexCodePropertyList>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>Each person</name>
                            <script>mmp.locateAndEchoSide(matches[3], matches[2])</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>^Your guardian angel senses (\w+) at (.+?),</string>
                                <string>^Your Baalzadeen senses (\w+) at (.+?),</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>1</integer>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>Stop (angel presences)</name>
                            <script>setTriggerStayOpen(&quot;Angel/Demon presences&quot;, 0)
enableTrigger(&quot;Angel sense&quot;)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>return isPrompt()</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>4</integer>
                            </regexCodePropertyList>
                        </Trigger>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>Demon sense</name>
                        <script>mmp.locateAndEchoSide(multimatches[2][3], multimatches[2][2])</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>Your Baalzadeen senses </string>
                            <string>^Your Baalzadeen senses (\w+) at (.+), on a health of</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>2</integer>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>Annwyn circle</name>
                        <script>mmp.customwalkdelay(12)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>The melody of a strange song rises unbidden to your lips as you skip around the circle of mushrooms.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>2</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>Scrying bowl</name>
                        <script>mmp.locateAndEcho(multimatches[3][2], multimatches[2][2])</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>1</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>You dip your fingers into the cool water of the bowl, willing it to reveal the location of</string>
                            <string>^You dip your fingers into the cool water of the bowl, willing it to reveal the location of (\w+)\.$</string>
                            <string>^An image of .+? appears reflected within the bowl, shifting with the rippling water to display (.+)\.$</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>2</integer>
                            <integer>1</integer>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>Occultist entities</name>
                        <script></script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>1000</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>The following entities reside on the Prime Material plane:</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                        </regexCodePropertyList>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>Each doppleganger</name>
                            <script>mmp.locateAndEcho(matches[3], matches[2])</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>^(\w+) is at (.+)\.$</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>Stop</name>
                            <script>setTriggerStayOpen(&quot;Occultist entities&quot;, 0)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>return isPrompt()</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>4</integer>
                            </regexCodePropertyList>
                        </Trigger>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>Party traces/locaters</name>
                        <script></script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>(Party):</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>2</integer>
                        </regexCodePropertyList>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>regex (party locate)</name>
                            <script>mmp.locateAndEcho(matches[3], matches[2])</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>^\(Party\): \w+ says, &quot;(\w+) moved to (.+)\.&quot;$</string>
                                <string>^\(Party\): \w+ says, &quot;(\w+) is at (.+), in .+\.&quot;</string>
                                <string>^\(Party\): \w+ says, &quot;Trace: (\w+) moved to (.+)\.&quot;</string>
                                <string>^\(Party\): \w+ says, &quot;(\w+) - (.+), in .+\.&quot;$</string>
                                <string>^\(Party\): \w+ says, &quot;(\w+) is at (.+) \(.+\)\.&quot;</string>
                                <string>^\(Party\): \w+ says, &quot;Trace: (\w+) entered (.+) in .+\.&quot;</string>
                                <string>^\(Party\): \w+ says, &quot;Trace: (\w+) entered (.+)\.&quot;</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>1</integer>
                                <integer>1</integer>
                                <integer>1</integer>
                                <integer>1</integer>
                                <integer>1</integer>
                                <integer>1</integer>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>Arena event (Achaea)</name>
                        <script>mmp.pdb_lastupdate = {}</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>3</conditonLineDelta>
                        <mStayOpen>1000</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>Current event</string>
                            <string>Player               Location</string>
                            <string>----------------------------------------------------------------------</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>2</integer>
                            <integer>3</integer>
                            <integer>3</integer>
                        </regexCodePropertyList>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>Each person</name>
                            <script>echo((&quot; &quot;):rep(60-#line))
echo&quot;(&quot; mmp.echonums(matches[3]) echo&quot;)&quot;

mmp.pdb[matches[2]] = matches[3]
mmp.pdb_lastupdate[matches[2]] = true</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>^(\w+) +(.+)$</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>Stop (arena event)</name>
                            <script>setTriggerStayOpen(&quot;Arena event (Achaea)&quot;, 0)

raiseEvent(&quot;mmapper updated pdb&quot;)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>return isPrompt()</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>4</integer>
                            </regexCodePropertyList>
                        </Trigger>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>Angel trace</name>
                        <script>selectCurrentLine() replace(&quot;&quot;)
cecho(&quot;&lt;grey&gt;Angel trace: &lt;a_darkcyan&gt;&quot;..multimatches[2][2]..&quot;&lt;grey&gt; moved to &lt;a_darkcyan&gt;&quot; .. multimatches[2][3])
mmp.locateAndEchoInternal(multimatches[2][3], multimatches[2][2])</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>Your guardian angel reports that</string>
                            <string>^Your guardian angel reports that (\w+) has moved to (.+)\.$</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>2</integer>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>KoTH (mudlet mapper)</name>
                        <script>mmp.pdb_lastupdate = {}</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>5</conditonLineDelta>
                        <mStayOpen>1000</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>Current event: King of the Hill</string>
                            <string>5</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                            <integer>5</integer>
                        </regexCodePropertyList>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>Each person</name>
                            <script>echo((&quot; &quot;):rep(60-#line))
echo&quot;(&quot; mmp.echonums(matches[3]) echo&quot;)&quot;

mmp.pdb[matches[2]] = matches[3]
mmp.pdb_lastupdate[matches[2]] = true</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>^(\w+) .+? ([A-Z][a-z ]+?)$</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>Stop (koth)</name>
                            <script>setTriggerStayOpen(&quot;KoTH (mudlet mapper)&quot;, 0)

raiseEvent(&quot;mmapper updated pdb&quot;)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>return isPrompt()</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>4</integer>
                            </regexCodePropertyList>
                        </Trigger>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>Fullsense (mudlet mapper)</name>
                        <script>mmp.pdb_lastupdate = {}</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>100</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>You seek out all mental presences within your reach:</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                        </regexCodePropertyList>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>Each person</name>
                            <script>echo((&quot; &quot;):rep(60-#line))
echo&quot;(&quot; mmp.echonums(matches[3]) echo&quot;)&quot;

mmp.pdb[matches[2]] = matches[3]
mmp.pdb_lastupdate[matches[2]] = true</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>^You sense (\w+) at (.+)\.$</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>Stop</name>
                            <script>setTriggerStayOpen(&quot;Fullsense (mudlet mapper)&quot;, 0)

raiseEvent(&quot;mmapper updated pdb&quot;)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>return isPrompt()</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>4</integer>
                            </regexCodePropertyList>
                        </Trigger>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>Alchemist ether seek</name>
                        <script>mmp.locateAndEcho(multimatches[2][3], multimatches[2][2])</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>You reach out into the ether, folding it aside to reveal</string>
                            <string>^You reach out into the ether, folding it aside to reveal (\w+)\. As you peer into the opening, the image of (.+) swims into view, then fades away as the ether seeps back into place\.$</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>2</integer>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>Allsight</name>
                        <script>mmp.locateAndEcho(multimatches[2][3], multimatches[2][2])</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>Allsight:</string>
                            <string>^Allsight: (\w+) enters (.+)\.$</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>2</integer>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>Polished skull locater</name>
                        <script>mmp.locateAndEcho(matches[2])</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>^An image of (.*) appears in your mind\.$</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                </TriggerGroup>
                <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>Aetolia</name>
                    <script></script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>1</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList/>
                    <regexCodePropertyList/>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>Login</name>
                        <script>raiseEvent(&quot;mmp logged in&quot;, &quot;Aetolia&quot;)
mmp.game = &quot;aetolia&quot;</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>99</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>Password correct. Welcome to Aetolia.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                        </regexCodePropertyList>
                    </Trigger>
                </TriggerGroup>
                <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>Lusternia</name>
                    <script></script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList/>
                    <regexCodePropertyList/>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>Login</name>
                        <script>raiseEvent(&quot;mmp logged in&quot;, &quot;Lusternia&quot;)
mmp.game = &quot;lusternia&quot;</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>5</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>                        A G E  O F  A S C E N S I O N</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>mmp Lusternia Scent</name>
                        <script>mmp.tempscent = {}
mmp.pdb_lastupdate = {}
</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>99</conditonLineDelta>
                        <mStayOpen>100</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>You scent at the air, your skilled nose picking up the faint traces of others in the surrounding area.</string>
                            <string>You snort and snuffle at the air, sensing through a ridiculous pig nose upon your face the faint traces of others in the surrounding area.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                            <integer>3</integer>
                        </regexCodePropertyList>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>Got line</name>
                            <script>--deleteLine()

selectString(line, 1) replace&quot;&quot;

-- get the name
cecho(&quot;&lt;green&gt;&quot;..matches[2]..&quot;&lt;reset&gt;: &quot;)

-- ids
mmp.echonums(matches[3])

-- pad spaces so we have aligned roomname
echo(string.rep(&quot; &quot;, 25 - #getCurrentLine()))

-- and finally, the roomname
echo(matches[3])


if mmp.tempscent[matches[3]] then
	mmp.tempscent[matches[3]][#mmp.tempscent[matches[3]]+1] = matches[2]
else
	mmp.tempscent[matches[3]] = {matches[2]}
end

-- save in our person tracking db
mmp.pdb[matches[2]] = matches[3]
mmp.pdb_lastupdate[matches[2]] = true</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>^You make out the scent of (\w+) coming from (.+)\.$</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>Stop capturing</name>
                            <script>setTriggerStayOpen(&quot;mmp Lusternia Scent&quot;, 0)

--[[for area, names in pairs(mmp.tempscent) do
	for _, name in ipairs(names) do

-- get the name
cecho(&quot;\n&lt;green&gt;&quot;..name..&quot;&lt;reset&gt;: &quot;)

-- ids
mmp.echonums(area)

-- pad spaces so we have aligned roomname
echo(string.rep(&quot; &quot;, 25))

-- and finally, the roomname
echo(area)
end
end]]


raiseEvent(&quot;mmapper updated pdb&quot;)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>return isPrompt()</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>4</integer>
                            </regexCodePropertyList>
                        </Trigger>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>Deathsight</name>
                        <script>mmp.locateAndEcho(multimatches[2][2])</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>You see the death occur at</string>
                            <string>^You see the death occur at (.+)\.$</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>2</integer>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>Wildnodes nodes</name>
                        <script>mmp.locateAndEcho(matches[2]:sub(1,1):lower()..string.sub(matches[2], 2))</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>99</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>^\(Planted\) Node \d+ - (.*)\.$</string>
                            <string>^ +Node \d+ - (.*)\.$</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>1</integer>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>Window search</name>
                        <script>mmp.locateAndEcho(matches[4], matches[2])</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>39</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>^You open up a window in the cosmic fabric and search out (\w+). Through the cosmic window, you see (\w+) at (.+?)(?: \(.*\))?\.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>Scry search</name>
                        <script>mmp.locateAndEcho(multimatches[2][3], multimatches[2][2])</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>1</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>^You rub .* and it begins to glow with a pulsating light\.$</string>
                            <string>Within the enchanted item, an image forms of (\w+) at (.+?)(?: \(.*\))?\.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>1</integer>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>Map artefact</name>
                        <script>mmp.gotoRoom(multimatches[4][2])</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>3</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>As you inscribe the name of </string>
                            <string>^As you inscribe the name of \w+ with a flourish, lines crawl across the surface of the map, centered upon (.*)\.$</string>
                            <string>You see the following in detail:</string>
                            <string>v(\d+)</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>2</integer>
                            <integer>1</integer>
                            <integer>3</integer>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>map scry</name>
                        <script>mmp.locateAndEcho(multimatches[2][3], multimatches[2][2])</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>As you inscribe the name of</string>
                            <string>^As you inscribe the name of (\w+) with a flourish, lines crawl across the surface of the map, centered upon (.*)\.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>2</integer>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>World events</name>
                        <script>mmp.locateAndEcho(matches[1])</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>^The Staff of Ascension is at (.*)\.$</string>
                            <string>^The Purple Hamster of Chaos is at (.*)\.$</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>1</integer>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>Seeing stone</name>
                        <script>mmp.locateAndEcho(multimatches[3][2])</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>3</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>You gaze into a seeing stone.</string>
                            <string>1</string>
                            <string>^(.*)\.$</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                            <integer>5</integer>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>Birdseye</name>
                        <script>mmp.locateAndEcho(multimatches[2][3], multimatches[2][2])</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>From your vantage point in the sky, your crow senses perceive that</string>
                            <string>^From your vantage point in the sky, your crow senses perceive that (\w+) is (.*) within the vicinity of (.*)\.$</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>2</integer>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>Bond look</name>
                        <script>mmp.locateAndEcho(multimatches[3][2])</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>3</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>^You look through the mind of (.*)\:$</string>
                            <string>1</string>
                            <string>^(.*)\.$</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>1</integer>
                            <integer>5</integer>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>Pyramid probe #</name>
                        <script>local t = mmp.getnums(multimatches[2][2])
if not t then return end

echo&quot;\n&quot;

if #t == 1 then
	cecho(&quot;&lt;red&gt;From your knowledge, that room is in &lt;orange_red&gt;&quot;..mmp.areatabler[getRoomArea(t[1])]..&quot;&lt;red&gt;.&quot;)
else
	cecho(&quot;&lt;red&gt;From your knowledge, that room might be in &lt;orange_red&gt;&quot;..mmp.areatabler[getRoomArea(t[1])]..&quot;&lt;red&gt;.&quot;)
end</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>You lightly caress a button on a paradox puzzle pyramid and suddenly a hazy image of</string>
                            <string>^You lightly caress a button on a paradox puzzle pyramid and suddenly a hazy image of (.*) flashes momentarily in front of you\.$</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>2</integer>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>Pentagon probe #</name>
                        <script>local t = mmp.getnums(multimatches[2][2])
if not t then return end

echo&quot;\n&quot;

if #t == 1 then
	cecho(&quot;&lt;red&gt;From your knowledge, that room is in &lt;orange_red&gt;&quot;..mmp.areatabler[getRoomArea(t[1])]..&quot;&lt;red&gt;.&quot;)
else
	cecho(&quot;&lt;red&gt;From your knowledge, that room might be in &lt;orange_red&gt;&quot;..mmp.areatabler[getRoomArea(t[1])]..&quot;&lt;red&gt;.&quot;)
end</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>You lightly caress a button on a paradox puzzle pentagon and suddenly a hazy image of</string>
                            <string>^You lightly caress a button on a paradox puzzle pentagon and suddenly a hazy image of (.+) \(room \#\d+\) flashes momentarily in front of you\.$</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>2</integer>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>Pyramid port</name>
                        <script>local t = mmp.getnums(multimatches[2][2])
if not t then return end

echo&quot;\n&quot;

if #t == 1 then
	cecho(&quot;&lt;red&gt;Porting to &lt;orange_red&gt;&quot;..mmp.areatabler[getRoomArea(t[1])]..&quot;&lt;red&gt;.&quot;)
else
	cecho(&quot;&lt;red&gt;Might be porting to &lt;orange_red&gt;&quot;..mmp.areatabler[getRoomArea(t[1])]..&quot;&lt;red&gt;.&quot;)
end	</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>Your hands become a blur as you twist and turn a paradox puzzle pyramid until each side is made up of the same colour, solving the puzzle in mere moments. Suddenly the image of</string>
                            <string>^Your hands become a blur as you twist and turn a paradox puzzle pyramid until each side is made up of the same colour, solving the puzzle in mere moments. Suddenly the image of (.*) appears in the back of your mind and you feel drawn towards it\.$</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>2</integer>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>Pyramid probe</name>
                        <script></script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>99</conditonLineDelta>
                        <mStayOpen>4</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>You lightly caress a few buttons on a paradox puzzle pyramid and suddenly a series of hazy images flashes momentarily in front of you.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                        </regexCodePropertyList>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>Each location</name>
                            <script>local t = mmp.getnums(matches[2])
if not t then return end

if #t == 1 then
	cecho(&quot;&lt;red&gt; (in &lt;orange_red&gt;&quot;..mmp.areatabler[getRoomArea(t[1])]..&quot;&lt;red&gt;)&quot;)
else
	cecho(&quot;&lt;red&gt; (might be in &lt;orange_red&gt;&quot;..mmp.areatabler[getRoomArea(t[1])]..&quot;&lt;red&gt;)&quot;)
end</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>^Puzzle point \d+ is set to (.+) \(</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>Astrology scry</name>
                        <script>mmp.locateAndEcho(multimatches[2][3], multimatches[2][2])</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>Gazing up at the sky, you bring the image of</string>
                            <string>^Gazing up at the sky, you bring the image of (\w+) into your mind's eye and overlay it on the constellations\. The power of the stars manifests as an image of (.+?) forms before your eyes\.$</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>2</integer>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>Tierstone</name>
                        <script>mmp.locateAndEcho(multimatches[2][2])</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>1</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>You gaze into a glittering tierstone.</string>
                            <string>^\w+ is at (.+?) in (.*)\.$</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>Quicksand</name>
                        <script>mmp.customwalkdelay(4)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>You struggle slowly through the quicksand as you move</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>2</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>Gravity</name>
                        <script>mmp.customwalkdelay(4)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>The dragging force of a war shrine of</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>2</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>Crow spy</name>
                        <script>mmp.locateAndEcho(multimatches[2][2])</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>An image of</string>
                            <string>^An image of \w+ (?:entering|leaving) (.+?) appears in the centre of the nest\.$</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>2</integer>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>Crow spy remote</name>
                        <script>mmp.locateAndEcho(multimatches[2][2])</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>Your nest projects into your head an image</string>
                            <string>^Your nest projects into your head an image of \w+ (?:entering|exiting) (.+)\.$</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>2</integer>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>City/commune shops menu</name>
                        <script></script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>3</conditonLineDelta>
                        <mStayOpen>500</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>************************[ Local shops selling healing ]************************</string>
                            <string>3</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                            <integer>5</integer>
                        </regexCodePropertyList>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>Shop</name>
                            <script>local shop = line:sub(1, 25):trim()
if shop:sub(1,1) == '*' then return end

cecho(&quot;  &lt;orange_red&gt;(&quot;)
mmp.echonums(shop)
cecho(&quot;&lt;orange_red&gt;)&quot;)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>^</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>Stop (city/commune shops menu)</name>
                            <script>setTriggerStayOpen(&quot;City/commune shops menu&quot;, 0)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>return isPrompt()</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>4</integer>
                            </regexCodePropertyList>
                        </Trigger>
                    </Trigger>
                </TriggerGroup>
                <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>Imperian</name>
                    <script></script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>99</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList/>
                    <regexCodePropertyList/>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>Login</name>
                        <script>raiseEvent(&quot;mmp logged in&quot;, &quot;Imperian&quot;)
mmp.game = &quot;imperian&quot;</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>Password correct. Welcome to Imperian.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>Wormholes</name>
                        <script>local room1 = mmp.roomEcho(multimatches[2][2])
local room2 = mmp.roomEcho(multimatches[2][3])
selectCurrentLine()
replace(&quot;&quot;)
mmp.echon(&quot;Stable wormhole between &quot; .. room1)
mmp.roomEcho(room1)
echo(&quot; and &quot; .. room2)
mmp.roomEcho(room2)
echo(&quot;.\n&quot;)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>You sense a stable wormhole between</string>
                            <string>^You sense a stable wormhole between (.+?) and (.+)\.$</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>2</integer>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>Personal wormholes</name>
                        <script>selectCurrentLine()
replace(&quot;&quot;)
mmp.echon(&quot;Personal wormhole at &quot; .. multimatches[2][2])
mmp.roomEcho(multimatches[2][2])
echo(&quot;. It is attached to &quot; .. multimatches[2][3] .. &quot;.\n&quot;)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>You sense a personal wormhole at</string>
                            <string>^You sense a personal wormhole at (.+). It is attached to (.+)\.$</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>2</integer>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>Parse wholist</name>
                        <script>selectCaptureGroup(2)
replace(&quot;&quot;)
mmp.roomEcho(matches[3])
 </script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>.+( \- [A-Z].+?\s*?) \- (.+)</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>Trap went off</name>
                        <script>selectCurrentLine()
replace(&quot;&quot;)
mmp.echon(&quot;Your trap at &quot; .. multimatches[2][2])
mmp.roomEcho(multimatches[2][2])
echo(&quot; was set off by &quot; .. multimatches[2][3] .. &quot;!!!\n&quot;)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>Your alarm at</string>
                            <string>^Your alarm at \'(.+)\' has been set off by (\w+)\!$</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>2</integer>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>Trap List</name>
                        <script>-- the first pattern is not blank, there are spaces there

selectCurrentLine()
replace(&quot;&quot;)
echo(&quot;[&quot; .. multimatches[2][2] .. &quot;] (&quot; .. multimatches[2][3] .. &quot;) at &quot; .. multimatches[2][4])
mmp.roomEcho(multimatches[2][4]) </script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>   </string>
                            <string>^   (\w+) \((\w+)\) at (.+)$</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>2</integer>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>Scout</name>
                        <script>-- bad, overzealous trigger - the pattern needs to be improved
mmp.roomEcho(multimatches[2][2]) </script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>   </string>
                            <string>^   .+ at (.+)$</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>2</integer>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>Hunt</name>
                        <script>selectCurrentLine()
replace(&quot;&quot;)
cecho(&quot;&lt;chocolate&gt;&quot; .. matches[2] .. &quot;&lt;grey&gt; moved to &lt;sienna&gt;&quot; .. matches[3] .. &quot;, &lt;white&gt;&quot; ..matches[4])
mmp.roomEcho(matches[3]) </script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>^You sense that (\w+) has entered (.+)\, (.+)\.$</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>Sewer grate</name>
                        <script>mmp.enterGrate()</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>A sewer grate prevents you from moving down into the sewers.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>Caravan</name>
                        <script>mmp.customwalkdelay(15)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>You begin leading a caravan</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>2</integer>
                        </regexCodePropertyList>
                    </Trigger>
                </TriggerGroup>
                <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>Midkemia Online</name>
                    <script></script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>99</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList/>
                    <regexCodePropertyList/>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>Login</name>
                        <script>raiseEvent(&quot;mmp logged in&quot;, &quot;Midkemia Online&quot;)
mmp.game = &quot;mko&quot;</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>Password correct. Welcome to Midkemia Online.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>Fording</name>
                        <script>mmp.customwalkdelay(3)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>You ford the water towards the </string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>2</integer>
                        </regexCodePropertyList>
                    </Trigger>
                </TriggerGroup>
                <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>Lithmeria</name>
                    <script></script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList/>
                    <regexCodePropertyList/>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>Login</name>
                        <script>raiseEvent(&quot;mmp logged in&quot;, &quot;Lithmeria&quot;)
mmp.game = &quot;lithmeria&quot;
mmp.echo(&quot;We're connected to Lithmeria.&quot;)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>Welcome to your account!</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                        </regexCodePropertyList>
                    </Trigger>
                </TriggerGroup>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>Wall</name>
                    <script>mmp.failpath()</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>A wall blocks your way.</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>3</integer>
                    </regexCodePropertyList>
                </Trigger>
                <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>Doors</name>
                    <script></script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList/>
                    <regexCodePropertyList/>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>Closing doors</name>
                        <script></script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>1</conditonLineDelta>
                        <mStayOpen>1</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>You open the door to the</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>2</integer>
                        </regexCodePropertyList>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>Lack of piety</name>
                            <script>mmp.failpath()</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>^You try to open the door to the (\w+) but find it slams closed in your face, symbolic of your lack of piety\.$</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>Slam Shut</name>
                            <script>mmp.failpath()</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>1</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>The door slams shut!</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>3</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>Denied entry</name>
                            <script>mmp.failpath()</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>The door suddenly slams shut, denying you entry.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>3</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>CIJ</name>
                            <script>mmp.failpath()</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>A section of the door slides aside, and a rubber-gloved fist on a spring pops out and punches you in the nose!</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>3</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>Springs back</name>
                            <script>mmp.failpath()</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>The door budges, and then springs immediately back into place.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>3</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>Bolted</name>
                            <script>mmp.failpath()</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>^The door to the (\w+) is closed forcefully fromthe other side and the sound of a bolt being slammed home makes your lack of admittance clear\.$</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>Self-closing door</name>
                            <script>mmp.failpath()</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>The door closes swiftly with a loud 'BANG'!</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>3</integer>
                            </regexCodePropertyList>
                        </Trigger>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>Door closed</name>
                        <script>mmp.failpath()</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>2</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>You open the door to the</string>
                            <string>return isPrompt()</string>
                            <string>^The door to the \w+ closes with a click\.$</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>2</integer>
                            <integer>4</integer>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>Failed to open Door</name>
                        <script>mmp.failpath()</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>You are not carrying a key for this door.</string>
                            <string>This door has been magically locked shut.</string>
                            <string>Not recognising you as cast or crew, stagehands firmly close the door on you.</string>
                            <string>You push against the door in vain as you try to open it.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                            <integer>3</integer>
                            <integer>3</integer>
                            <integer>3</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>Door Locked</name>
                        <script>mmp.unlockDoor()</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>The door is locked.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>Door in the way</name>
                        <script>mmp.openDoor()</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>There is a door in the way, to the</string>
                            <string>There is a door in the way.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>2</integer>
                            <integer>3</integer>
                        </regexCodePropertyList>
                    </Trigger>
                </TriggerGroup>
                <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>Wormholes</name>
                    <script></script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList/>
                    <regexCodePropertyList/>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>Worm sources</name>
                        <script>deleteLine()
local from = multimatches[2][2]
local to = multimatches[2][3]

cecho(&quot;\nYou see connections between &quot;..from..&quot; (&quot;)
mmp.echonums(from)
cecho(&quot;) and &quot;..to..&quot; (&quot;)
mmp.echonums(to)
cecho(&quot;)&quot;)
</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>You sense a connection between</string>
                            <string>^You sense a connection between (.*) and (.*).$</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>2</integer>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>Worm seek</name>
                        <script>mmp.locateAndEcho(multimatches[2][2])</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>You sense a wormhole leading to</string>
                            <string>^You sense a wormhole leading to (.*).$</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>2</integer>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>Wormhole Vision™</name>
                        <script>--if not getSpecialExitsSwap or mmp.settings.lockwormholes then return end
if not getSpecialExitsSwap then return end

local exits = getSpecialExitsSwap(mmp.currentroom)
if exits and exits[&quot;worm warp&quot;] then
  cecho(string.format(&quot;\n&lt;DarkSlateGrey&gt;A wormhole is here, leading to: &lt;orange_red&gt;%s (#%d)&lt;DarkSlateGrey&gt; in %s.\n&quot;, getRoomName(exits[&quot;worm warp&quot;]), exits[&quot;worm warp&quot;], mmp.cleanAreaName(mmp.getAreaName(exits[&quot;worm warp&quot;]))))
end</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>You see exits</string>
                            <string>You see a single exit</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>2</integer>
                            <integer>2</integer>
                        </regexCodePropertyList>
                    </Trigger>
                </TriggerGroup>
            </TriggerGroup>
        </TriggerGroup>
    </TriggerPackage>
    <TimerPackage>
        <TimerGroup isActive="yes" isFolder="yes" isTempTimer="no" isOffsetTimer="no">
            <name>Eden</name>
            <script></script>
            <command></command>
            <packageName></packageName>
            <time>00:00:00.000</time>
            <Timer isActive="yes" isFolder="no" isTempTimer="no" isOffsetTimer="no">
                <name>critical timers</name>
                <script>cfx.timer()
dbp.timer()
limb.timer()</script>
                <command></command>
                <packageName></packageName>
                <time>00:00:00.350</time>
            </Timer>
            <TimerGroup isActive="yes" isFolder="yes" isTempTimer="no" isOffsetTimer="no">
                <name>Miscellaneous</name>
                <script></script>
                <command></command>
                <packageName></packageName>
                <time>00:00:00.000</time>
                <Timer isActive="yes" isFolder="no" isTempTimer="no" isOffsetTimer="no">
                    <name>bash timer</name>
                    <script>bash.timer()
-- bash.timer_()</script>
                    <command></command>
                    <packageName></packageName>
                    <time>00:00:00.300</time>
                </Timer>
                <Timer isActive="yes" isFolder="no" isTempTimer="no" isOffsetTimer="no">
                    <name>chameleon timer</name>
                    <script>local t = {
		&quot;Agan&quot;,
		&quot;Akitsa&quot;,
		&quot;Alesdennas&quot;,
		&quot;Ario&quot;,
		&quot;Brish&quot;,
		&quot;Calno&quot;,
		&quot;Camaris&quot;,
		&quot;Damin&quot;,
		&quot;Dekki&quot;,
		&quot;Dermon&quot;,
		&quot;Drongon&quot;,
		&quot;Galador&quot;,
		&quot;Ibiki&quot;,
		&quot;Isiriel&quot;,
		&quot;Jezhrael&quot;,
		&quot;Jordiach&quot;,
		&quot;Josiph&quot;,
		&quot;Kairax&quot;,
		&quot;Kyntorian&quot;,
		&quot;Liina&quot;,
		&quot;Lili&quot;,
		&quot;Liona&quot;,
		&quot;Merelii&quot;,
		&quot;Merick&quot;,
		&quot;Miana&quot;,
		&quot;Mikah&quot;,
		&quot;Naimathet&quot;,
		&quot;Olorina&quot;,
		&quot;Orotu&quot;,
		&quot;Sekhir&quot;,
		&quot;Serenity&quot;,
		&quot;Szarix&quot;,
		&quot;Tinkles&quot;,
		&quot;Vadon&quot;,
		&quot;Vakor&quot;,
		&quot;Vanmoriel&quot;,
		&quot;Vega&quot;,
		&quot;Ynchied&quot;,
}

local n = math.random(1,#t)
local a = t[n]

if me == &quot;Iniar&quot; then
	msend(&quot;touch chameleon &quot;..a)
end</script>
                    <command></command>
                    <packageName></packageName>
                    <time>00:00:30.000</time>
                </Timer>
                <Timer isActive="yes" isFolder="no" isTempTimer="no" isOffsetTimer="no">
                    <name>market timer</name>
                    <script>local str = &quot;&quot;

str = str..&quot;market &quot;

local t = {
	&quot;Get your arrows at the Armoury, 29130.&quot;,
	&quot;Check your toadstool. The Armoury, 29130.&quot;,
	&quot;Do you have enough kelp? The Armoury, 29130.&quot;,
	&quot;Got maidenhair? The Armoury, 29130.&quot;,
	&quot;For all that glitters is where? The Armoury, 29130.&quot;,
	&quot;Rearm your flintlock today at the Armoury, 29130.&quot;,
	&quot;Returned from dormancy? Need toxins in a jiffy? The Armoury, 29130.&quot;,
	&quot;Looking for something fun to kill people with? The Armoury, 29130.&quot;,
	&quot;Where pain is the mistress, and Death her slave. Come to The Armoury, 29130.&quot;,
	&quot;Sharp or blunt projectiles, we have them at the Armoury, 29130.&quot;,
	&quot;Sharp projectiles not your thing? How about showering your enemies in glitter. The Armoury, 29130.&quot;
}

local num = math.random( 1, #t )
local arg = t[num]

str = str..arg

if me == &quot;Iniar&quot; then
	msend(str)
end</script>
                    <command></command>
                    <packageName></packageName>
                    <time>00:22:00.000</time>
                </Timer>
            </TimerGroup>
        </TimerGroup>
        <TimerGroup isActive="yes" isFolder="yes" isTempTimer="no" isOffsetTimer="no">
            <name>mudlet-mapper</name>
            <script></script>
            <command></command>
            <packageName>mudlet-mapper</packageName>
            <time></time>
            <TimerGroup isActive="yes" isFolder="yes" isTempTimer="no" isOffsetTimer="no">
                <name>Mudlet Mapper</name>
                <script></script>
                <command></command>
                <packageName></packageName>
                <time>00:00:00.000</time>
                <Timer isActive="yes" isFolder="no" isTempTimer="no" isOffsetTimer="no">
                    <name>Check for updates periodically</name>
                    <script>mmp.checkforupdate()</script>
                    <command></command>
                    <packageName></packageName>
                    <time>01:00:00.000</time>
                </Timer>
            </TimerGroup>
        </TimerGroup>
    </TimerPackage>
    <AliasPackage>
        <AliasGroup isActive="yes" isFolder="yes">
            <name>Eden</name>
            <script></script>
            <command></command>
            <packageName></packageName>
            <regex></regex>
            <AliasGroup isActive="yes" isFolder="yes">
                <name>System</name>
                <script></script>
                <command></command>
                <packageName></packageName>
                <regex></regex>
                <Alias isActive="yes" isFolder="no">
                    <name>channel</name>
                    <script>local arg = tonumber(matches[2])
local ch = channels[arg]

if ch then
	channel = arg
	cecho(&quot;\n&lt;green&gt;Switching to channel: &quot;..ch)
end</script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^channel[ ]+(\d+)$</regex>
                </Alias>
                <Alias isActive="yes" isFolder="no">
                    <name>colors</name>
                    <script>-- showColors()

local ofr,ofg,ofb = getFgColor()
local obr,obg,obb = getBgColor()
local str = &quot;&quot;

for k, v in pairs(color_table) do
	local name = tostring(k)
	local r,g,b = v[1],v[2],v[3]

	decho(&quot;&lt;&quot;..r..&quot;,&quot;..g..&quot;,&quot;..b..&quot;:0,0,0&gt;&quot;..name)
	decho(&quot;&lt;&quot;..ofr..&quot;,&quot;..ofg..&quot;,&quot;..ofb..&quot;:0,0,0&gt;, &quot;)
end</script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^colors$</regex>
                </Alias>
                <Alias isActive="yes" isFolder="no">
                    <name>(aff) aff window enemy</name>
                    <script>if dbp.allow then dbp.allow = false else dbp.allow = true end

dbp.ui_refresh() </script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^aff$</regex>
                </Alias>
                <Alias isActive="yes" isFolder="no">
                    <name>(affm) aff window me</name>
                    <script>if dbp.allow_ then dbp.allow_ = false else dbp.allow_ = true end

dbp.ui_refresh_() </script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^affm$</regex>
                </Alias>
                <Alias isActive="yes" isFolder="no">
                    <name>(affa) aff windows</name>
                    <script>if dbp.allow then 
	dbp.allow = false 
	dbp.allow_ = false 
else 
	dbp.allow = true 
	dbp.allow_ = true 
end

dbp.ui_refresh() 
dbp.ui_refresh_() </script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^affa$</regex>
                </Alias>
                <Alias isActive="yes" isFolder="no">
                    <name>clear UI (nude)</name>
                    <script>-- aff window
dbp.allow = false
dbp.ui_refresh() 
dbp.allow_ = false
dbp.ui_refresh_()

-- map
ui.map_ui = false
ui.map()

-- chatbox
vw.use = false
vw.container:move(0,0)
vw.container:resize(0,0)</script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^nude$</regex>
                </Alias>
                <Alias isActive="yes" isFolder="no">
                    <name>clear map (mmap)</name>
                    <script>if ui.map_ui then ui.map_ui = false else ui.map_ui = true end

ui.map()</script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^mmap$</regex>
                </Alias>
                <Alias isActive="yes" isFolder="no">
                    <name>toggle chat (vw) </name>
                    <script>if vw.use then
	vw.use = false
else
	vw.use = true
end
vw:create()</script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^vw$</regex>
                </Alias>
                <Alias isActive="yes" isFolder="no">
                    <name>fullnude</name>
                    <script>-- aff window
dbp.left = false
dbp.allow = false
dbp.ui_make()
dbp.ui_refresh() 
dbp.allow_ = false
dbp.ui_make_()
dbp.ui_refresh_()

-- map
ui.map_ui = false
ui.map()

-- chatbox
vw.use = false
vw.container:move(0,0)
vw.container:resize(0,0)

-- redraw profession windows to left
local c = &quot;&quot;
if class then
	c = string.lower(class)
else
	c = &quot;summoner&quot;
end
if _G[c] then c = _G[c] else c = _G[&quot;summoner&quot;] end
if overmind and overmind.allow then 
	c.ui_make(&quot;bottom&quot;,11,3) 
else
	c.ui_make()
end 
overmind.ui_make()
overmind.ui_refresh()</script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^fullnude$</regex>
                </Alias>
                <Alias isActive="yes" isFolder="no">
                    <name>unnude</name>
                    <script>-- aff window
dbp.left = true
dbp.allow = true
dbp.ui_make()
dbp.ui_refresh() 
dbp.allow_ = true
dbp.ui_make_()
dbp.ui_refresh_()

-- map
ui.map_ui = true
ui.map()

-- chatbox
vw.use = true
vw:create()

-- redraw profession windows to left
local c = &quot;&quot;
if class then
	c = string.lower(class)
else
	c = &quot;summoner&quot;
end
if _G[c] then c = _G[c] else c = _G[&quot;summoner&quot;] end
if overmind and overmind.allow then 
	c.ui_make(&quot;bottom&quot;,11,3) 
else
	c.ui_make()
end 
overmind.ui_make()
overmind.ui_refresh()</script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^unnude$</regex>
                </Alias>
                <Alias isActive="yes" isFolder="no">
                    <name>test</name>
                    <script>cecho(sysfix..&quot;Starting test()&quot;)
test()</script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^test$</regex>
                </Alias>
            </AliasGroup>
            <AliasGroup isActive="yes" isFolder="yes">
                <name>Player System</name>
                <script></script>
                <command></command>
                <packageName></packageName>
                <regex></regex>
                <Alias isActive="yes" isFolder="no">
                    <name>eden</name>
                    <script>local str = &quot;&quot;
local ne = &quot;&lt;grey&gt;\n&quot;

str = str..ne..&quot;                    EDEN                    &quot;
str = str..ne..&quot; Class: &quot;..class
str = str..ne..&quot;&quot;
str = str..ne..&quot;&quot;


str = str..&quot;\n [ T a r g e t s ] &quot;
str = str..&quot;\n ================= &quot;
str = str..&quot;\n                   &quot;

for k,v in pairs(targets) do
	str = str..&quot;\n + [ t&quot;..k..&quot; ] - &quot;..v
end

str = str..&quot;\n                   &quot;
str = str..&quot;\n Current Target: &quot;..target

cecho(str)</script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^eden$</regex>
                </Alias>
                <Alias isActive="yes" isFolder="no">
                    <name>reset</name>
                    <script>start()</script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^reset$</regex>
                </Alias>
                <Alias isActive="yes" isFolder="no">
                    <name>start</name>
                    <script>start()</script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^start$</regex>
                </Alias>
                <Alias isActive="yes" isFolder="no">
                    <name>show targets star</name>
                    <script>local str = &quot;&quot;
str = str..&quot;\n [ T a r g e t s ] &quot;
str = str..&quot;\n ================= &quot;
str = str..&quot;\n                   &quot;

for k,v in pairs(targets) do
	local n = dbp.gcirc(v)
	if c[n] then n = &quot;&lt;&quot;..c[n]..&quot;&gt;&quot; else n = &quot;&lt;grey&gt;&quot; end
	str = str..&quot;\n + [ t&quot;..k..&quot; ] - &quot;..n..v..&quot;&lt;grey&gt;&quot;
end

str = str..&quot;\n                   &quot;
str = str..&quot;\n Current Target: &quot;..target

cecho(str)</script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^star$</regex>
                </Alias>
                <Alias isActive="yes" isFolder="no">
                    <name>target t1</name>
                    <script>local digit = tonumber(matches[2])
local name = &quot;&quot;
if matches[3] then name = string.trim(matches[3]) end

_target(name,digit)
if dbp then 
	dbp.ui_refresh() 
	dbp.ui_refresh_()
end</script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^t(\d+)*([ ]+\w+)*$</regex>
                </Alias>
                <Alias isActive="yes" isFolder="no">
                    <name>trax trax 0</name>
                    <script>if matches[2] then
	matches[2] = string.trim(matches[2])
	matches[2] = tonumber(matches[2])
	config.trax = matches[2]
	mecho(&quot;&lt;white&gt;Tracking Method changed to &lt;green&gt;&quot;..matches[2]..&quot;&lt;white&gt;.&quot;)
else
	config.trax = 1
	mecho(&quot;&lt;white&gt;Tracking Method changed to &lt;green&gt;Default&lt;white&gt;.&quot;)
end</script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^trax([ ]+\d+)*$</regex>
                </Alias>
                <Alias isActive="yes" isFolder="no">
                    <name>highlight `hl</name>
                    <script>if matches[2] then
	matches[2] = string.title( string.trim( matches[2] ) )
	matches[2] = string.split(matches[2], &quot;%s+&quot;)
	local name, color = matches[2][1], matches[2][2]
	_hl(name,color)
	mecho(&quot;&lt;grey&gt;Creating highlight for &lt;gold&gt;&quot;..name..&quot;&lt;grey&gt; in &lt;&quot;..color..&quot;&gt;&quot;..color..&quot;&lt;grey&gt;.&quot;)
else
	_hla()
end</script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^`hl([ ]+\w+[ ]+\w+)*$</regex>
                </Alias>
                <Alias isActive="yes" isFolder="no">
                    <name>unhighlight `uhl</name>
                    <script>if matches[2] then
	matches[2]=string.trim(matches[2])	
	_uhl(matches[2])
else
	_uhl()
end</script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^`uhl([ ]+\w+)*$</regex>
                </Alias>
                <Alias isActive="yes" isFolder="no">
                    <name>custom lights `chl</name>
                    <script>expandAlias(&quot;`uhl&quot;)
expandAlias(&quot;`hl&quot;)
expandAlias(&quot;`hl Septus gold&quot;)
expandAlias(&quot;`hl Kryss chartreuse&quot;)
expandAlias(&quot;`hl Ahkan orange_red&quot;)
expandAlias(&quot;`hl Eldreth deep_sky_blue&quot;)
expandAlias(&quot;`hl Azefel violet_red&quot;)</script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^`chl$</regex>
                </Alias>
                <Alias isActive="yes" isFolder="no">
                    <name>profession prof</name>
                    <script>-- thanks Morgoth!

local name = matches[2]
name = string.title(name)
local str = &quot;&quot;
str = str..name..&quot;'s Profession: &quot;..dbp.gprof(name)
cecho(&quot;\n&quot;..str)</script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^prof(?: (.+))?$</regex>
                </Alias>
                <AliasGroup isActive="yes" isFolder="yes">
                    <name>dbp</name>
                    <script></script>
                    <command></command>
                    <packageName></packageName>
                    <regex></regex>
                    <Alias isActive="yes" isFolder="no">
                        <name>add name circle</name>
                        <script>local name = string.title(string.lower(matches[2]))

dbp.make(name)
if matches[3] then
	dbp.circ(name,matches[3])
end
_hl(name)
</script>
                        <command></command>
                        <packageName></packageName>
                        <regex>^add[ ]+(\w+)([ ]+\w+)*$</regex>
                    </Alias>
                    <Alias isActive="yes" isFolder="no">
                        <name>circle circ</name>
                        <script>local name = string.title(string.lower(matches[2]))
local circle = matches[3]

dbp.circ(name,circle)
_hl(name)</script>
                        <command></command>
                        <packageName></packageName>
                        <regex>^circ[ ]+(\w+)[ ]+(\w+)$</regex>
                    </Alias>
                </AliasGroup>
                <AliasGroup isActive="yes" isFolder="yes">
                    <name>limbs</name>
                    <script></script>
                    <command></command>
                    <packageName></packageName>
                    <regex></regex>
                    <Alias isActive="yes" isFolder="no">
                        <name>nothing tn</name>
                        <script>send(&quot;target nothing&quot;)</script>
                        <command></command>
                        <packageName></packageName>
                        <regex>^tn$</regex>
                    </Alias>
                    <Alias isActive="yes" isFolder="no">
                        <name>right arm tra</name>
                        <script>send(&quot;target right arm&quot;)</script>
                        <command></command>
                        <packageName></packageName>
                        <regex>^tra$</regex>
                    </Alias>
                    <Alias isActive="yes" isFolder="no">
                        <name>left arm tla</name>
                        <script>send(&quot;target left arm&quot;)</script>
                        <command></command>
                        <packageName></packageName>
                        <regex>^tla$</regex>
                    </Alias>
                    <Alias isActive="yes" isFolder="no">
                        <name>right leg trl</name>
                        <script>send(&quot;target right leg&quot;)</script>
                        <command></command>
                        <packageName></packageName>
                        <regex>^trl$</regex>
                    </Alias>
                    <Alias isActive="yes" isFolder="no">
                        <name>left leg tll</name>
                        <script>send(&quot;target left leg&quot;)</script>
                        <command></command>
                        <packageName></packageName>
                        <regex>^tll$</regex>
                    </Alias>
                    <Alias isActive="yes" isFolder="no">
                        <name>parry ra pra</name>
                        <script>local item = &quot;&quot;
if class == &quot;Defiler&quot; then item = defiler.flail end
send(&quot;wield &quot;..item)
send(&quot;parry right arm&quot;)</script>
                        <command></command>
                        <packageName></packageName>
                        <regex>^pra$</regex>
                    </Alias>
                    <Alias isActive="yes" isFolder="no">
                        <name>parry la pla</name>
                        <script>local item = &quot;&quot;
if class == &quot;Defiler&quot; then item = defiler.flail end
send(&quot;wield &quot;..item)
send(&quot;parry left arm&quot;)</script>
                        <command></command>
                        <packageName></packageName>
                        <regex>^pla$</regex>
                    </Alias>
                    <Alias isActive="yes" isFolder="no">
                        <name>parry rl prl</name>
                        <script>local item = &quot;&quot;
if class == &quot;Defiler&quot; then item = defiler.flail end
send(&quot;wield &quot;..item)
send(&quot;parry right leg&quot;)</script>
                        <command></command>
                        <packageName></packageName>
                        <regex>^prl$</regex>
                    </Alias>
                    <Alias isActive="yes" isFolder="no">
                        <name>parry ll pll</name>
                        <script>local item = &quot;&quot;
if class == &quot;Defiler&quot; then item = defiler.flail end
send(&quot;wield &quot;..item)
send(&quot;parry left leg&quot;)</script>
                        <command></command>
                        <packageName></packageName>
                        <regex>^pll$</regex>
                    </Alias>
                    <Alias isActive="yes" isFolder="no">
                        <name>parry nothing pn</name>
                        <script>local item = &quot;&quot;
if class == &quot;Defiler&quot; then item = defiler.flail end
send(&quot;wield &quot;..item)
send(&quot;parry nothing&quot;)</script>
                        <command></command>
                        <packageName></packageName>
                        <regex>^pn$</regex>
                    </Alias>
                    <Alias isActive="yes" isFolder="no">
                        <name>parry torso pt</name>
                        <script>local item = &quot;&quot;
if class == &quot;Defiler&quot; then item = defiler.flail end
send(&quot;wield &quot;..item)
send(&quot;parry torso&quot;)</script>
                        <command></command>
                        <packageName></packageName>
                        <regex>^pt</regex>
                    </Alias>
                    <Alias isActive="yes" isFolder="no">
                        <name>reset limb rst la</name>
                        <script>local limb = &quot;&quot;
if matches[2] == &quot;la&quot; then limb = &quot;left_arm&quot; 
elseif matches[2] == &quot;ra&quot; then limb = &quot;right_arm&quot;
elseif matches[2] == &quot;ll&quot; then limb = &quot;left_leg&quot;
elseif matches[2] == &quot;rl&quot; then limb = &quot;right_leg&quot;
elseif matches[2] == &quot;all&quot; then limb = &quot;all&quot;
end

if limb ~= &quot;all&quot; then
	set(target,limb,0)
	set(target,limb..&quot;_time&quot;,0)
	cecho(&quot;\n&lt;white&gt;[ Resetting Limb: &quot;..limb..&quot; ]&quot;)
else
	set(target,&quot;right_arm&quot;,0)
	set(target,&quot;right_arm_time&quot;,0)
	set(target,&quot;left_arm&quot;,0)
	set(target,&quot;left_arm_time&quot;,0)
	set(target,&quot;right_leg&quot;,0)
	set(target,&quot;right_leg_time&quot;,0)
	set(target,&quot;left_leg&quot;,0)
	set(target,&quot;left_leg_time&quot;,0)
	cecho(&quot;\n&lt;white&gt;[ Resetting All Limbs ]&quot;)
end</script>
                        <command></command>
                        <packageName></packageName>
                        <regex>^rst[ ]+(\w+)$</regex>
                    </Alias>
                </AliasGroup>
            </AliasGroup>
            <AliasGroup isActive="yes" isFolder="yes">
                <name>Classes</name>
                <script></script>
                <command></command>
                <packageName></packageName>
                <regex></regex>
                <AliasGroup isActive="yes" isFolder="yes">
                    <name>antimagick</name>
                    <script></script>
                    <command></command>
                    <packageName></packageName>
                    <regex></regex>
                    <AliasGroup isActive="no" isFolder="yes">
                        <name>Predator</name>
                        <script></script>
                        <command></command>
                        <packageName></packageName>
                        <regex></regex>
                        <Alias isActive="yes" isFolder="no">
                            <name>dodging dod</name>
                            <script>send(&quot;begin dodging&quot;)</script>
                            <command></command>
                            <packageName></packageName>
                            <regex>^dod$</regex>
                        </Alias>
                        <Alias isActive="yes" isFolder="no">
                            <name>regen rgn</name>
                            <script>send(&quot;regeneration on&quot;)</script>
                            <command></command>
                            <packageName></packageName>
                            <regex>^rgn$</regex>
                        </Alias>
                        <Alias isActive="yes" isFolder="no">
                            <name>secure mask mas</name>
                            <script>send(&quot;secure mask&quot;)</script>
                            <command></command>
                            <packageName></packageName>
                            <regex>^mas$</regex>
                        </Alias>
                        <Alias isActive="yes" isFolder="no">
                            <name>obfuscate obf</name>
                            <script>send(&quot;obfuscate&quot;)</script>
                            <command></command>
                            <packageName></packageName>
                            <regex>^obf$</regex>
                        </Alias>
                        <Alias isActive="yes" isFolder="no">
                            <name>hide hid</name>
                            <script>send(&quot;hide&quot;)</script>
                            <command></command>
                            <packageName></packageName>
                            <regex>^hid$</regex>
                        </Alias>
                        <Alias isActive="yes" isFolder="no">
                            <name>windwalk ww</name>
                            <script>send(&quot;windwalk&quot;)</script>
                            <command></command>
                            <packageName></packageName>
                            <regex>^ww$</regex>
                        </Alias>
                        <Alias isActive="yes" isFolder="no">
                            <name>constitution con</name>
                            <script>send(&quot;constitution&quot;)</script>
                            <command></command>
                            <packageName></packageName>
                            <regex>^con$</regex>
                        </Alias>
                        <Alias isActive="yes" isFolder="no">
                            <name>nightsight nit</name>
                            <script>send(&quot;nightsight&quot;)</script>
                            <command></command>
                            <packageName></packageName>
                            <regex>^nit$</regex>
                        </Alias>
                        <Alias isActive="yes" isFolder="no">
                            <name>avert eyes avr</name>
                            <script>send(&quot;avert eyes&quot;)</script>
                            <command></command>
                            <packageName></packageName>
                            <regex>^avr$</regex>
                        </Alias>
                        <Alias isActive="yes" isFolder="no">
                            <name>pacing pcg</name>
                            <script>send(&quot;pacing on&quot;)</script>
                            <command></command>
                            <packageName></packageName>
                            <regex>^pcg$</regex>
                        </Alias>
                        <Alias isActive="yes" isFolder="no">
                            <name>inspect dartsheath ids</name>
                            <script>send(&quot;inspect dartsheath&quot;)</script>
                            <command></command>
                            <packageName></packageName>
                            <regex>^ids$</regex>
                        </Alias>
                        <Alias isActive="yes" isFolder="no">
                            <name>vae-sant vs</name>
                            <script>send(&quot;change stance vae-sant&quot;)</script>
                            <command></command>
                            <packageName></packageName>
                            <regex>^vs$</regex>
                        </Alias>
                        <Alias isActive="yes" isFolder="no">
                            <name>execute hostage</name>
                            <script>send(&quot;execute hostage&quot;)</script>
                            <command></command>
                            <packageName></packageName>
                            <regex>^ex$</regex>
                        </Alias>
                        <Alias isActive="yes" isFolder="no">
                            <name>take hostage hos</name>
                            <script>expandAlias(&quot;ac off&quot;)
send(&quot;take &quot;..target..&quot; hostage&quot;)</script>
                            <command></command>
                            <packageName></packageName>
                            <regex>^hos$</regex>
                        </Alias>
                        <Alias isActive="yes" isFolder="no">
                            <name>tidalslash</name>
                            <script>send(&quot;tidalslash &quot;..target)</script>
                            <command></command>
                            <packageName></packageName>
                            <regex>^tdl$</regex>
                        </Alias>
                        <Alias isActive="yes" isFolder="no">
                            <name>^rb$</name>
                            <script>send(&quot;refresh body&quot;)</script>
                            <command></command>
                            <packageName></packageName>
                            <regex>^rb$</regex>
                        </Alias>
                    </AliasGroup>
                    <AliasGroup isActive="no" isFolder="yes">
                        <name>Ranger</name>
                        <script></script>
                        <command></command>
                        <packageName></packageName>
                        <regex></regex>
                        <Alias isActive="yes" isFolder="no">
                            <name>gtoss gt</name>
                            <script>if matches[2] then
	send(&quot;gtoss &quot;..matches[2])
else
	send(&quot;gtoss &quot;..target)
end</script>
                            <command></command>
                            <packageName></packageName>
                            <regex>^gt([ ]+\w+)*$</regex>
                        </Alias>
                        <Alias isActive="yes" isFolder="no">
                            <name>glaiveshove gs</name>
                            <script>if matches[2] then
	send(&quot;gshove &quot;..matches[2])
else
	send(&quot;gshove &quot;..target)
end</script>
                            <command></command>
                            <packageName></packageName>
                            <regex>^gs([ ]+\w+)*$</regex>
                        </Alias>
                        <Alias isActive="yes" isFolder="no">
                            <name>highjump jp</name>
                            <script>send(&quot;highjump&quot;)</script>
                            <command></command>
                            <packageName></packageName>
                            <regex>^jp$</regex>
                        </Alias>
                        <Alias isActive="yes" isFolder="no">
                            <name>swing down sd</name>
                            <script>send(&quot;swing down&quot;)</script>
                            <command></command>
                            <packageName></packageName>
                            <regex>^sd$</regex>
                        </Alias>
                        <Alias isActive="yes" isFolder="no">
                            <name>shield bash sb</name>
                            <script>if matches[2] then
	send(&quot;shieldbash &quot;..matches[2])
else
	send(&quot;shieldbash &quot;..target)
end</script>
                            <command></command>
                            <packageName></packageName>
                            <regex>^sb([ ]+\w+)*$</regex>
                        </Alias>
                        <Alias isActive="yes" isFolder="no">
                            <name>treelunge tl</name>
                            <script>if matches[2] then
	send(&quot;treelunge &quot;..matches[2])
else
	send(&quot;treelunge &quot;..target)
end</script>
                            <command></command>
                            <packageName></packageName>
                            <regex>^tl([ ]+\w+)*$</regex>
                        </Alias>
                        <Alias isActive="yes" isFolder="no">
                            <name>battlecry bc</name>
                            <script>if matches[2] then
	send(&quot;battlecry &quot;..matches[2])
else
	send(&quot;battlecry &quot;..target)
end</script>
                            <command></command>
                            <packageName></packageName>
                            <regex>^bc([ ]+\w+)*$</regex>
                        </Alias>
                        <Alias isActive="yes" isFolder="no">
                            <name>bashimpale bp</name>
                            <script>if matches[2] then
	send(&quot;bmp &quot;..matches[2])
else
	send(&quot;bmp &quot;..target)
end</script>
                            <command></command>
                            <packageName></packageName>
                            <regex>^bp([ ]+\w+)*$</regex>
                        </Alias>
                        <Alias isActive="yes" isFolder="no">
                            <name>shoot sht</name>
                            <script>local tablen = gmcp.Room.Info.exits
local str, stren = &quot;&quot;, &quot;&quot;
str = str..&quot;qshot target direction&quot;..sp

if matches[2] then
	str = string.gsub( str, &quot;target&quot;, matches[2] )
else
	str = string.gsub( str, &quot;target&quot;, target )
end

if quickdraw then
	if bow and bow[1] then
		stren = &quot;quickdraw &quot;..bow[1]..sp..stren
	else
		stren = &quot;quickdraw bow&quot;..sp..stren
	end
else
	if bow and bow[1] then
		stren = &quot;unwield left&quot;..sp..&quot;unwield right&quot;..sp..&quot;wield &quot;..bow[1]..sp
	else
		stren = &quot;unwield left&quot;..sp..&quot;unwield right&quot;..sp..&quot;wield bow&quot;..sp
	end
end

for k, v in pairs(tablen) do
	stren = stren..string.gsub( str, &quot;direction&quot;, tostring(k) )
end

send(stren)</script>
                            <command></command>
                            <packageName></packageName>
                            <regex>^sht([ ]+\w+)*$</regex>
                        </Alias>
                        <Alias isActive="yes" isFolder="no">
                            <name>lockup lup</name>
                            <script>if matches[2] then
	send(&quot;lockup &quot;..matches[2])
else
	send(&quot;lockup &quot;..target)
end</script>
                            <command></command>
                            <packageName></packageName>
                            <regex>^lup([ ]+\w+)*$</regex>
                        </Alias>
                        <AliasGroup isActive="yes" isFolder="yes">
                            <name>Defences</name>
                            <script></script>
                            <command></command>
                            <packageName></packageName>
                            <regex></regex>
                            <Alias isActive="yes" isFolder="no">
                                <name>powersoul ps</name>
                                <script>send(&quot;powersoul&quot;)</script>
                                <command></command>
                                <packageName></packageName>
                                <regex>^ps$</regex>
                            </Alias>
                            <Alias isActive="yes" isFolder="no">
                                <name>powersoul off pso</name>
                                <script>send(&quot;powersoul off&quot;)</script>
                                <command></command>
                                <packageName></packageName>
                                <regex>^pso$</regex>
                            </Alias>
                            <Alias isActive="yes" isFolder="no">
                                <name>counter cnt(o)</name>
                                <script>if matches[2] then
	send(&quot;counter off&quot;)
else
	send(&quot;counter&quot;)
end</script>
                                <command></command>
                                <packageName></packageName>
                                <regex>^cnt(o)*$</regex>
                            </Alias>
                            <Alias isActive="yes" isFolder="no">
                                <name>balancing bal</name>
                                <script>if matches[2] then
	send(&quot;balancing off&quot;)
else
	send(&quot;balancing on&quot;)
end</script>
                                <command></command>
                                <packageName></packageName>
                                <regex>^bal(o)*$</regex>
                            </Alias>
                            <Alias isActive="yes" isFolder="no">
                                <name>barkskin bar</name>
                                <script>send(&quot;barkskin&quot;)</script>
                                <command></command>
                                <packageName></packageName>
                                <regex>^bar$</regex>
                            </Alias>
                            <Alias isActive="yes" isFolder="no">
                                <name>fitness fit</name>
                                <script>send(&quot;fitness&quot;)</script>
                                <command></command>
                                <packageName></packageName>
                                <regex>^fit$</regex>
                            </Alias>
                            <Alias isActive="yes" isFolder="no">
                                <name>weathering wea</name>
                                <script>send(&quot;weathering&quot;)</script>
                                <command></command>
                                <packageName></packageName>
                                <regex>^wea$</regex>
                            </Alias>
                        </AliasGroup>
                        <Alias isActive="yes" isFolder="no">
                            <name>footsmash fs</name>
                            <script>if matches[2] then
	send(&quot;footsmash &quot;..matches[2])
else
	send(&quot;footsmash &quot;..target)
end</script>
                            <command></command>
                            <packageName></packageName>
                            <regex>^fs([ ]+\w+)*$</regex>
                        </Alias>
                        <Alias isActive="yes" isFolder="no">
                            <name>wedge for wd</name>
                            <script>if matches[2] then
	send(&quot;wedge for &quot;..matches[2])
else
	send(&quot;wedge for &quot;..target)
end</script>
                            <command></command>
                            <packageName></packageName>
                            <regex>^wd([ ]+\w+)*$</regex>
                        </Alias>
                    </AliasGroup>
                </AliasGroup>
                <AliasGroup isActive="yes" isFolder="yes">
                    <name>demonic</name>
                    <script></script>
                    <command></command>
                    <packageName></packageName>
                    <regex></regex>
                    <AliasGroup isActive="no" isFolder="yes">
                        <name>Defiler</name>
                        <script></script>
                        <command></command>
                        <packageName></packageName>
                        <regex></regex>
                        <AliasGroup isActive="yes" isFolder="yes">
                            <name>Defences</name>
                            <script></script>
                            <command></command>
                            <packageName></packageName>
                            <regex></regex>
                            <Alias isActive="yes" isFolder="no">
                                <name>antibodies anb</name>
                                <script>if matches[2] then
	send(&quot;shadowbind me with antibodies off&quot;)
else
	send(&quot;shadowbind me with antibodies&quot;)
end</script>
                                <command></command>
                                <packageName></packageName>
                                <regex>^anb([ ]+off)*$</regex>
                            </Alias>
                            <Alias isActive="yes" isFolder="no">
                                <name>apparition app</name>
                                <script>send(&quot;queue eqbal shadowbind here with apparition&quot;)
</script>
                                <command></command>
                                <packageName></packageName>
                                <regex>^app$</regex>
                            </Alias>
                            <Alias isActive="yes" isFolder="no">
                                <name>blooddrinker bdr</name>
                                <script>if matches[2] then
	send(&quot;blooddrinker off&quot;)
else
	send(&quot;blooddrinker on&quot;)
end</script>
                                <command></command>
                                <packageName></packageName>
                                <regex>^bdr([ ]+off)*$</regex>
                            </Alias>
                            <Alias isActive="yes" isFolder="no">
                                <name>bileshroud bs</name>
                                <script>if matches[2] and string.find(matches[2],&quot;off&quot;) then
	send(&quot;bileshroud off&quot;)
elseif matches[2] and string.find(matches[2], &quot;ex&quot;) then
	send(&quot;bileshroud explode&quot;)
else
	send(&quot;bileshroud on&quot;)
end</script>
                                <command></command>
                                <packageName></packageName>
                                <regex>^bs([ ]+\w+)*$</regex>
                            </Alias>
                            <Alias isActive="yes" isFolder="no">
                                <name>confutation cnf</name>
                                <script>send(&quot;shadowbind me with confutation&quot;)</script>
                                <command></command>
                                <packageName></packageName>
                                <regex>^cnf$</regex>
                            </Alias>
                            <Alias isActive="yes" isFolder="no">
                                <name>elixlist blood eb</name>
                                <script>send(&quot;elixlist blood&quot;)</script>
                                <command></command>
                                <packageName></packageName>
                                <regex>^eb$</regex>
                            </Alias>
                            <Alias isActive="yes" isFolder="no">
                                <name>flameshroud fs</name>
                                <script>if matches[2] and string.find(matches[2],&quot;off&quot;) then
	send(&quot;flameshroud off&quot;)
elseif matches[2] and string.find(matches[2], &quot;ex&quot;) then
	send(&quot;flameshroud explode&quot;)
else
	send(&quot;flameshroud on&quot;)
end</script>
                                <command></command>
                                <packageName></packageName>
                                <regex>^fs([ ]+\w+)*$</regex>
                            </Alias>
                            <Alias isActive="yes" isFolder="no">
                                <name>heartblood hb</name>
                                <script>if matches[2] then
	send(&quot;spatter heartblood from blood &quot;..matches[2])
else
	send(&quot;spatter heartblood from blood &quot;..defiler.heartblood)
end</script>
                                <command></command>
                                <packageName></packageName>
                                <regex>^hb([ ]+\w+)*$</regex>
                            </Alias>
                            <Alias isActive="yes" isFolder="no">
                                <name>iceshroud is</name>
                                <script>if matches[2] and string.find(matches[2],&quot;off&quot;) then
	send(&quot;iceshroud off&quot;)
elseif matches[2] and string.find(matches[2], &quot;ex&quot;) then
	send(&quot;iceshroud explode&quot;)
else
	send(&quot;iceshroud on&quot;)
end</script>
                                <command></command>
                                <packageName></packageName>
                                <regex>^is([ ]+\w+)*$</regex>
                            </Alias>
                            <Alias isActive="yes" isFolder="no">
                                <name>reblood rb</name>
                                <script>if matches[2] then
	send(&quot;empty &quot;..matches[2]..sp..&quot;leech blood into &quot;..matches[2])
else
	send(&quot;empty &quot;..defiler.vial..sp..&quot;leech blood into &quot;..defiler.vial)
end</script>
                                <command></command>
                                <packageName></packageName>
                                <regex>^rb([ ]+.*)*$</regex>
                            </Alias>
                            <Alias isActive="yes" isFolder="no">
                                <name>recuperation rc</name>
                                <script>if matches[2] then
	send(&quot;shadowbind me with recuperation off&quot;)
else
	send(&quot;shadowbind me with recuperation&quot;)
end</script>
                                <command></command>
                                <packageName></packageName>
                                <regex>^rc([ ]+off)*$</regex>
                            </Alias>
                            <Alias isActive="yes" isFolder="no">
                                <name>regrowth rg</name>
                                <script>if matches[2] then
	send(&quot;shadowbind me with regrowth off&quot;)
else
	send(&quot;shadowbind me with regrowth&quot;)
end</script>
                                <command></command>
                                <packageName></packageName>
                                <regex>^rg([ ]+off)*$</regex>
                            </Alias>
                            <Alias isActive="yes" isFolder="no">
                                <name>shadowgems</name>
                                <script>send(&quot;shadowgems&quot;)</script>
                                <command></command>
                                <packageName></packageName>
                                <regex>^sg$</regex>
                            </Alias>
                            <Alias isActive="yes" isFolder="no">
                                <name>shadowveil sv</name>
                                <script>send(&quot;shadowveils&quot;)</script>
                                <command></command>
                                <packageName></packageName>
                                <regex>^sv$</regex>
                            </Alias>
                            <Alias isActive="yes" isFolder="no">
                                <name>siphon siph</name>
                                <script>local str = &quot;&quot;
str = str..&quot;queue eqbal siphon haze into target&quot;

if matches[2] then
	str = str:gsub( &quot;target&quot;, matches[2] )
else
	str = str:gsub( &quot;target&quot;, &quot;shadowcrown&quot; )
end
send(str)</script>
                                <command></command>
                                <packageName></packageName>
                                <regex>^siph([ ]+.*)*$</regex>
                            </Alias>
                            <Alias isActive="yes" isFolder="no">
                                <name>thornsprout sp</name>
                                <script>send(&quot;torment &quot;..defiler.flail..&quot; with thornsprout&quot;)</script>
                                <command></command>
                                <packageName></packageName>
                                <regex>^sp$</regex>
                            </Alias>
                            <Alias isActive="yes" isFolder="no">
                                <name>toughness tgh</name>
                                <script>send(&quot;shadowbind me with toughness&quot;)</script>
                                <command></command>
                                <packageName></packageName>
                                <regex>^tgh$</regex>
                            </Alias>
                            <Alias isActive="yes" isFolder="no">
                                <name>transmission tr</name>
                                <script>local str = &quot;shadowbind target with transmission&quot;

if matches[2] then
	str = str:gsub(&quot;target&quot;,matches[2])
else
	str = str:gsub(&quot;target&quot;,target)
end

send(str)</script>
                                <command></command>
                                <packageName></packageName>
                                <regex>^tr([ ]+\w+)*$</regex>
                            </Alias>
                        </AliasGroup>
                        <AliasGroup isActive="yes" isFolder="yes">
                            <name>Treant</name>
                            <script></script>
                            <command></command>
                            <packageName></packageName>
                            <regex></regex>
                            <Alias isActive="yes" isFolder="no">
                                <name>nurture nur</name>
                                <script>send(&quot;treant nurture&quot;)</script>
                                <command></command>
                                <packageName></packageName>
                                <regex>^nur$</regex>
                            </Alias>
                            <Alias isActive="yes" isFolder="no">
                                <name>return tret</name>
                                <script>send(&quot;treant return&quot;)</script>
                                <command></command>
                                <packageName></packageName>
                                <regex>^tret$</regex>
                            </Alias>
                            <Alias isActive="yes" isFolder="no">
                                <name>submerge sub</name>
                                <script>send(&quot;treant submerge&quot;)</script>
                                <command></command>
                                <packageName></packageName>
                                <regex>^sub$</regex>
                            </Alias>
                            <Alias isActive="yes" isFolder="no">
                                <name>treant meld tm</name>
                                <script>send(&quot;treant meld&quot;)</script>
                                <command></command>
                                <packageName></packageName>
                                <regex>^tm$</regex>
                            </Alias>
                        </AliasGroup>
                        <Alias isActive="yes" isFolder="no">
                            <name>emerge em</name>
                            <script>send(&quot;treant emerge&quot;)</script>
                            <command></command>
                            <packageName></packageName>
                            <regex>^em$</regex>
                        </Alias>
                        <Alias isActive="yes" isFolder="no">
                            <name>healthdrain dr</name>
                            <script>local str = &quot;&quot;
str = str..&quot;queue eqbal shadowbind target with healthdrain&quot;

if matches[2] then
	str = str:gsub( &quot;target&quot;, matches[2] )
else
	str = str:gsub( &quot;target&quot;, target )
end
send(str)</script>
                            <command></command>
                            <packageName></packageName>
                            <regex>^dr([ ]+\w+)*$</regex>
                        </Alias>
                        <Alias isActive="yes" isFolder="no">
                            <name>hound hd</name>
                            <script>local str = &quot;&quot;

str = str..&quot;queue eqbal torment target with hound&quot;

if matches[2] then
	str = str:gsub(&quot;target&quot;, matches[2])
else
	str = str:gsub(&quot;target&quot;, target)
end

send(str)
</script>
                            <command></command>
                            <packageName></packageName>
                            <regex>^hd([ ]+\w+)*$</regex>
                        </Alias>
                        <Alias isActive="yes" isFolder="no">
                            <name>houndtrack htr</name>
                            <script>send(&quot;mount hound&quot;..sp..&quot;hound track&quot;)</script>
                            <command></command>
                            <packageName></packageName>
                            <regex>^htr([ ]+\w+)*$</regex>
                        </Alias>
                        <Alias isActive="yes" isFolder="no">
                            <name>implant ti</name>
                            <script>local str = &quot;treant implant target&quot;

if matches[2] then
	str = str:gsub(&quot;target&quot;,matches[2])
else
	str = str:gsub(&quot;target&quot;,target)
end

send(str)</script>
                            <command></command>
                            <packageName></packageName>
                            <regex>^ti([ ]+\w+)*$</regex>
                        </Alias>
                        <Alias isActive="yes" isFolder="no">
                            <name>manadrain md</name>
                            <script>local str = &quot;&quot;
str = str..&quot;queue eqbal shadowbind target with manadrain&quot;

if matches[2] then
	str = str:gsub( &quot;target&quot;, matches[2] )
else
	str = str:gsub( &quot;target&quot;, target )
end
send(str)</script>
                            <command></command>
                            <packageName></packageName>
                            <regex>^md([ ]+\w+)*$</regex>
                        </Alias>
                        <Alias isActive="yes" isFolder="no">
                            <name>projection v</name>
                            <script>local str, stren = &quot;&quot;, &quot;shadowbind me with projection &quot;

-- stren = &quot;queue eqbal &quot;..stren

if matches[2] then
	str = stren..matches[2]
else
	local tablen = gmcp.Room.Info.exits

	for k, v in pairs(tablen) do
		str = str..stren..tostring(k)..sp
	end
end

send(str)</script>
                            <command></command>
                            <packageName></packageName>
                            <regex>^v([ ]+\w+)*$</regex>
                        </Alias>
                        <Alias isActive="yes" isFolder="no">
                            <name>seek</name>
                            <script>local str = &quot;&quot;
str = str..&quot;queue eqbal shadowbind seek target&quot;

if matches[2] then
	str = str:gsub( &quot;target&quot;, matches[2] )
else
	str = str:gsub( &quot;target&quot;, target )
end
send(str)</script>
                            <command></command>
                            <packageName></packageName>
                            <regex>^seek([ ]+\w+)*$</regex>
                        </Alias>
                        <Alias isActive="yes" isFolder="no">
                            <name>shadow sha</name>
                            <script>local str = &quot;&quot;
str = str..&quot;queue eqbal torment target with shadow&quot;

if matches[2] then
	str = str:gsub( &quot;target&quot;, matches[2] )
else
	str = str:gsub( &quot;target&quot;, target )
end
send(str)</script>
                            <command></command>
                            <packageName></packageName>
                            <regex>^sha([ ]+\w+)*$</regex>
                        </Alias>
                        <Alias isActive="yes" isFolder="no">
                            <name>shroud shr</name>
                            <script>send(&quot;shadowbind me with shroud&quot;)</script>
                            <command></command>
                            <packageName></packageName>
                            <regex>^shr$</regex>
                        </Alias>
                        <Alias isActive="yes" isFolder="no">
                            <name>poisonsap sapp</name>
                            <script>local str = &quot;shadowbind target with poisonsap&quot;

if matches[2] then
	str = str:gsub(&quot;target&quot;,matches[2])
else
	str = str:gsub(&quot;target&quot;,target)
end
send(str)</script>
                            <command></command>
                            <packageName></packageName>
                            <regex>^sapp([ ]+\w+)*$</regex>
                        </Alias>
                        <Alias isActive="yes" isFolder="no">
                            <name>psysap sapy</name>
                            <script>local str = &quot;shadowbind target with psysap&quot;

if matches[2] then
	str = str:gsub(&quot;target&quot;,matches[2])
else
	str = str:gsub(&quot;target&quot;,target)
end
send(str)</script>
                            <command></command>
                            <packageName></packageName>
                            <regex>^sapy([ ]+\w+)*$</regex>
                        </Alias>
                        <Alias isActive="yes" isFolder="no">
                            <name>breathsap sapb</name>
                            <script>local str = &quot;shadowbind target with breathsap&quot;

if matches[2] then
	str = str:gsub(&quot;target&quot;,matches[2])
else
	str = str:gsub(&quot;target&quot;,target)
end
send(str)</script>
                            <command></command>
                            <packageName></packageName>
                            <regex>^sapb([ ]+\w+)*$</regex>
                        </Alias>
                        <Alias isActive="yes" isFolder="no">
                            <name>firesap sapf</name>
                            <script>local str = &quot;shadowbind target with firesap&quot;

if matches[2] then
	str = str:gsub(&quot;target&quot;,matches[2])
else
	str = str:gsub(&quot;target&quot;,target)
end
send(str)</script>
                            <command></command>
                            <packageName></packageName>
                            <regex>^sapf([ ]+\w+)*$</regex>
                        </Alias>
                        <Alias isActive="yes" isFolder="no">
                            <name>^jx$</name>
                            <script>send(&quot;shadowbind here with juxtaposition&quot;)</script>
                            <command></command>
                            <packageName></packageName>
                            <regex>^jx$</regex>
                        </Alias>
                        <Alias isActive="yes" isFolder="no">
                            <name>trip tt</name>
                            <script>if matches[2] then matches[2] = string.title(string.lower(string.trim(matches[2]))) end
local name = target 
local secondary = matches[2] or target

	local str = &quot;&quot;

	local spell = &quot; &quot;..defiler.choose_spell(name)
	local toxin = &quot; &quot;..defiler.choose_toxin(name)

	local apple,ash,beech,birch,blackthorn,elder,hazel,honeysuckle,hawthorn,willow = defiler.splinters(name)

	-- pre
	local pre = &quot;&quot;

	-- whirl
	local w = &quot;&quot;
	if defiler.whirl_balance then
		if player(secondary) and has(secondary,&quot;shield&quot;) and not pre:find(&quot;apple&quot;) then
			w = w..&quot;whirl branch at &quot;..secondary..&quot; apple&quot;..sp
			w = w..&quot;treant germinate &quot;..secondary..&quot; apple&quot;..sp
		-- if torment afflictions &gt;= 6 then germinate hazel
		elseif hawthorn and not elder then
			w = w..&quot;whirl branch at target hawthorn&quot;..sp
			w = w..&quot;treant germinate target hawthorn&quot;..sp
		elseif elder and not hawthorn then
			w = w..&quot;whirl branch at target elder&quot;..sp
			w = w..&quot;treant empower target elder&quot;..sp
		-- germinate blackthorn if hp &lt;50% (using reliable hp data)
		-- germinate birch for affliction queue
		-- empower honeysuckle for harrow
		elseif hp/mhp &lt; 0.30 then
			w = w..&quot;whirl branch at target hawthorn&quot;..sp
			w = w..&quot;treant empower target hawthorn&quot;..sp
		elseif not blackthorn and not has(name,&quot;addiction&quot;) then
			w = w..&quot;whirl branch at target blackthorn&quot;..sp
			w = w..&quot;treant empower target blackthorn&quot;..sp
		else
			w = w..&quot;whirl branch at target honeysuckle&quot;..sp
			w = w..&quot;treant germinate target honeysuckle&quot;..sp
		end
	end
	pre = pre..w

	-- attack
	local strike = &quot;ravage &quot;
	if secondary == target then
	if has(name,&quot;rebounding&quot;) or (has(name,&quot;shield&quot;) and not pre:find(&quot;apple&quot;)) then
		strike = &quot;devastate &quot;
	end
	end

	-- thornroot
	local troot = has(name,&quot;thornroot&quot;)
	if not troot and defiler.sprouts then
		troot = &quot; with thornroot &quot;
	else
		troot = &quot;&quot;
	end

	-- off-bal action
	local post = &quot;&quot;
		-- splinters first
		local splint = &quot;&quot;
		if has(name,&quot;thornroot&quot;) then 
			if not elder then splint = &quot;elder&quot;
			elseif not hawthorn then splint = &quot;hawthorn&quot;
			elseif not blackthorn then splint = &quot;blackthorn&quot;
			elseif not birch then splint = &quot;birch&quot;
			elseif not honeysuckle then splint = &quot;honeysuckle&quot;
			elseif not beech then splint = &quot;beech&quot;
			end
			splint = &quot;treant splinter target &quot;..splint
		end
		post = post..splint..sp
--&gt; Here is the key
spell = &quot; treant trip &quot;..secondary
		post = post..spell..sp


	str = str..&quot;order treant attack target&quot;..sp
	str = str..&quot;quickdraw &quot;..left..&quot; &quot;..right..sp
	str = str..pre..sp
	str = str..strike..name..toxin..troot..sp
	str = str..post..sp

	str = str:gsub(&quot;target&quot;,name)
	send(str)</script>
                            <command></command>
                            <packageName></packageName>
                            <regex>^tt([ ]+\w+)*$</regex>
                        </Alias>
                        <Alias isActive="yes" isFolder="no">
                            <name>harrow har</name>
                            <script>local name = target
if matches[2] then name = matches[2] end

-- whirl branch at iniar honeysuckle | treant empower iniar honeysuckle | treant harrow iniar
local str = &quot;&quot;

if defiler.whirl_balance and has(name,&quot;splinters.honeysuckle&quot;) == 0 then
	str = str..&quot;whirl branch at target honeysuckle&quot;..sp
	str = str..&quot;treant empower target honeysuckle&quot;..sp
end
str = str..&quot;treant harrow target &quot;..sp
str = str:gsub(&quot;target&quot;,name)
send(str)</script>
                            <command></command>
                            <packageName></packageName>
                            <regex>^har([ ]+\w+)*$</regex>
                        </Alias>
                        <Alias isActive="yes" isFolder="no">
                            <name>entangle en</name>
                            <script>local name = target
if matches[2] then name = matches[2] end
defiler.control(name)</script>
                            <command></command>
                            <packageName></packageName>
                            <regex>^en([ ]+\w+)*$</regex>
                        </Alias>
                        <Alias isActive="yes" isFolder="no">
                            <name>evolve tev</name>
                            <script>if matches[2] then
	send(&quot;treant evolve &quot;..matches[2])
else
	send(&quot;treant evolve &quot;..target)
end</script>
                            <command></command>
                            <packageName></packageName>
                            <regex>^tev([ ]+\w+)*$</regex>
                        </Alias>
                        <Alias isActive="yes" isFolder="no">
                            <name>unseen eye</name>
                            <script>if matches[2] then
	send(&quot;torment &quot;..matches[2]..&quot; with the unseen eye&quot;)
else
	send(&quot;torment &quot;..target..&quot; with the unseen eye&quot;)
end</script>
                            <command></command>
                            <packageName></packageName>
                            <regex>^uns([ ]+\w+)*$</regex>
                        </Alias>
                        <Alias isActive="yes" isFolder="no">
                            <name>tears</name>
                            <script>if matches[2] then
	send(&quot;torment &quot;..matches[2]..&quot; with tears&quot;)
else
	send(&quot;torment &quot;..target..&quot; with tears&quot;)
end</script>
                            <command></command>
                            <packageName></packageName>
                            <regex>^tears([ ]+\w+)*$</regex>
                        </Alias>
                        <Alias isActive="yes" isFolder="no">
                            <name>gutwyrm gut</name>
                            <script>local str = &quot;torment target with gutwyrm&quot;

if matches[2] then
	str = str:gsub(&quot;target&quot;,matches[2])
else
	str = str:gsub(&quot;target&quot;,target)
end

send(str)</script>
                            <command></command>
                            <packageName></packageName>
                            <regex>^gut([ ]+\w+)*$</regex>
                        </Alias>
                        <Alias isActive="yes" isFolder="no">
                            <name>entropy ten</name>
                            <script>local str = &quot;torment target with entropy&quot;

if matches[2] then
	str = str:gsub(&quot;target&quot;,matches[2])
else
	str = str:gsub(&quot;target&quot;,target)
end

send(str)</script>
                            <command></command>
                            <packageName></packageName>
                            <regex>^ten([ ]+\w+)*$</regex>
                        </Alias>
                        <Alias isActive="yes" isFolder="no">
                            <name>nourish nou</name>
                            <script>send(&quot;treant nourish&quot;)</script>
                            <command></command>
                            <packageName></packageName>
                            <regex>^nou$</regex>
                        </Alias>
                        <Alias isActive="yes" isFolder="no">
                            <name>tempest temp</name>
                            <script>send(&quot;spatter tempest from &quot;..defiler.vial)</script>
                            <command></command>
                            <packageName></packageName>
                            <regex>^temp$</regex>
                        </Alias>
                    </AliasGroup>
                    <AliasGroup isActive="no" isFolder="yes">
                        <name>Diabolist</name>
                        <script></script>
                        <command></command>
                        <packageName></packageName>
                        <regex></regex>
                        <Alias isActive="yes" isFolder="no">
                            <name>summon daegger sda</name>
                            <script>send(&quot;summon daegger&quot;)</script>
                            <command></command>
                            <packageName></packageName>
                            <regex>^sda$</regex>
                        </Alias>
                        <Alias isActive="yes" isFolder="no">
                            <name>gravehands gh</name>
                            <script>send(&quot;summon hands of the grave&quot;)</script>
                            <command></command>
                            <packageName></packageName>
                            <regex>^gh$</regex>
                        </Alias>
                        <Alias isActive="yes" isFolder="no">
                            <name>summon ouroboros so</name>
                            <script>send(&quot;summon ouroboros&quot;)</script>
                            <command></command>
                            <packageName></packageName>
                            <regex>^so$</regex>
                        </Alias>
                        <Alias isActive="yes" isFolder="no">
                            <name>loyals attack lo</name>
                            <script>local str = &quot;&quot;
str = str..&quot;order loyals attack target&quot;..sp

if matches[2] then
	str = string.gsub( str, &quot;target&quot;, matches[2] )
else
	str = string.gsub( str, &quot;target&quot;, target )
end

send(str)</script>
                            <command></command>
                            <packageName></packageName>
                            <regex>^lo([ ]+\w+)*$</regex>
                        </Alias>
                        <Alias isActive="yes" isFolder="no">
                            <name>decay dc</name>
                            <script>local str = &quot;&quot;
str = str..&quot;decay target&quot;..sp

if matches[2] then
	str = string.gsub( str, &quot;target&quot;, matches[2] )
else
	str = string.gsub( str, &quot;target&quot;, target )
end

send(str)</script>
                            <command></command>
                            <packageName></packageName>
                            <regex>^dc([ ]+\w+)*$</regex>
                        </Alias>
                        <Alias isActive="yes" isFolder="no">
                            <name>evoke soulspear esp</name>
                            <script>local str = &quot;&quot;

str = str..&quot;get body&quot;..sp
str = str..&quot;evoke soulspear from body&quot;..sp

send(str)</script>
                            <command></command>
                            <packageName></packageName>
                            <regex>^esp$</regex>
                        </Alias>
                        <Alias isActive="yes" isFolder="no">
                            <name>soulspear ssp</name>
                            <script>local tablen = gmcp.Room.Info.exits
local str, stren = &quot;&quot;, &quot;&quot;
str = str..&quot;throw soulspear at target direction&quot;..sp

if matches[2] then
	str = string.gsub( str, &quot;target&quot;, matches[2] )
else
	str = string.gsub( str, &quot;target&quot;, target )
end

stren = stren..&quot;unwield left&quot;..sp
stren = stren..&quot;wield soulspear&quot;..sp
stren = stren..&quot;relax grip&quot;..sp
for k, v in pairs(tablen) do
	stren = stren..string.gsub( str, &quot;direction&quot;, tostring(k) )
end

send(stren)</script>
                            <command></command>
                            <packageName></packageName>
                            <regex>^ssp$</regex>
                        </Alias>
                        <Alias isActive="yes" isFolder="no">
                            <name>catharsis ca</name>
                            <script>local str = &quot;&quot;
str = str..&quot;demon catharsis target&quot;..sp

if matches[2] then
	str = string.gsub( str, &quot;target&quot;, matches[2] )
else
	str = string.gsub( str, &quot;target&quot;, target )
end

expandAlias(&quot;ac off&quot;)
send(str)</script>
                            <command></command>
                            <packageName></packageName>
                            <regex>^ca([ ]+\w+)*$</regex>
                        </Alias>
                        <Alias isActive="yes" isFolder="no">
                            <name>demon refuge ref</name>
                            <script>send(&quot;demon refuge&quot;)</script>
                            <command></command>
                            <packageName></packageName>
                            <regex>^ref$</regex>
                        </Alias>
                        <Alias isActive="yes" isFolder="no">
                            <name>demon syphon dsy(o)</name>
                            <script>local str = &quot;&quot;
str = str..&quot;demon syphon target&quot;..sp

if matches[2] then
	str = string.gsub( str, &quot;target&quot;, &quot;off&quot; )
else
	str = string.gsub( str, &quot;target&quot;, &quot;&quot; )
end

send(str)</script>
                            <command></command>
                            <packageName></packageName>
                            <regex>^dsy(o)*$</regex>
                        </Alias>
                        <Alias isActive="yes" isFolder="no">
                            <name>demon stain st</name>
                            <script>local str = &quot;&quot;
str = str..&quot;demon stain target&quot;..sp

if matches[2] then
	str = string.gsub( str, &quot;target&quot;, matches[2] )
else
	str = string.gsub( str, &quot;target&quot;, target )
end

send(str)</script>
                            <command></command>
                            <packageName></packageName>
                            <regex>^st([ ]+\w+)*$</regex>
                        </Alias>
                        <Alias isActive="yes" isFolder="no">
                            <name>demon fury dfy</name>
                            <script>send(&quot;demon fury&quot;)</script>
                            <command></command>
                            <packageName></packageName>
                            <regex>^dfy$</regex>
                        </Alias>
                        <Alias isActive="yes" isFolder="no">
                            <name>contemplate con</name>
                            <script>local str = &quot;&quot;
str = str..&quot;contemplate target&quot;..sp

if matches[2] then
	str = string.gsub( str, &quot;target&quot;, matches[2] )
else
	str = string.gsub( str, &quot;target&quot;, target )
end

send(str)</script>
                            <command></command>
                            <packageName></packageName>
                            <regex>^con([ ]+\w+)*$</regex>
                        </Alias>
                        <Alias isActive="yes" isFolder="no">
                            <name>summon daemonite sd</name>
                            <script>send(&quot;summon daemonite&quot;)</script>
                            <command></command>
                            <packageName></packageName>
                            <regex>^sd$</regex>
                        </Alias>
                        <Alias isActive="yes" isFolder="no">
                            <name>demon mindread dmo</name>
                            <script>local str = &quot;&quot;
str = str..&quot;demon mindread target&quot;..sp

if matches[2] then
	str = string.gsub( str, &quot;target&quot;, &quot;off&quot; )
else
	str = string.gsub( str, &quot;target&quot;, &quot;&quot; )
end

send(str)</script>
                            <command></command>
                            <packageName></packageName>
                            <regex>^dm(o)*$</regex>
                        </Alias>
                        <Alias isActive="yes" isFolder="no">
                            <name>demon blast</name>
                            <script>send(&quot;demon blast&quot;)</script>
                            <command></command>
                            <packageName></packageName>
                            <regex>^db$</regex>
                        </Alias>
                        <Alias isActive="yes" isFolder="no">
                            <name>bloodworms bl</name>
                            <script>send(&quot;summon bloodworms&quot;)</script>
                            <command></command>
                            <packageName></packageName>
                            <regex>^bl$</regex>
                        </Alias>
                        <Alias isActive="yes" isFolder="no">
                            <name>demon strip dst</name>
                            <script>local str = &quot;&quot;

str = str..&quot;demon strip target&quot;..sp

if matches[2] then
	str = string.gsub( str, &quot;target&quot;, matches[2] )
else
	str = string.gsub( str, &quot;target&quot;, target )
end

send(str)</script>
                            <command></command>
                            <packageName></packageName>
                            <regex>^dst(o)*$</regex>
                        </Alias>
                        <Alias isActive="yes" isFolder="no">
                            <name>eliminate de</name>
                            <script>local str = &quot;summon daegger&quot;..sp
str = str..&quot;daegger eliminate target&quot;..sp

if matches[2] then
	str = string.gsub( str, &quot;target&quot;, matches[2] )
else
	str = string.gsub( str, &quot;target&quot;, target )
end

expandAlias(&quot;ac off&quot;)
send(str)</script>
                            <command></command>
                            <packageName></packageName>
                            <regex>^de([ ]+\w+)*$</regex>
                        </Alias>
                        <Alias isActive="yes" isFolder="no">
                            <name>summon nightmare sn</name>
                            <script>send(&quot;summon nightmare&quot;)</script>
                            <command></command>
                            <packageName></packageName>
                            <regex>^sn$</regex>
                        </Alias>
                        <Alias isActive="yes" isFolder="no">
                            <name>demon beckon bk</name>
                            <script>send(&quot;demon beckon&quot;)</script>
                            <command></command>
                            <packageName></packageName>
                            <regex>^bk$</regex>
                        </Alias>
                        <Alias isActive="yes" isFolder="no">
                            <name>beckon target b</name>
                            <script>local str, to = &quot;&quot;, &quot;&quot;
local chan = 1

if chan then to = channels[chan]..&quot; &quot; end
str = str..to..&quot; beckoning target&quot;..sp
str = str..&quot;demon beckon target&quot;..sp

if matches[2] then
	str = string.gsub( str, &quot;target&quot;, matches[2] )
else
	str = string.gsub( str, &quot;target&quot;, target )
end

send(str)</script>
                            <command></command>
                            <packageName></packageName>
                            <regex>^b([ ]+\w+)*$</regex>
                        </Alias>
                        <Alias isActive="yes" isFolder="no">
                            <name>shadowstrike str</name>
                            <script>local str = &quot;&quot;
str = str..&quot;daegger shadowstrike target&quot;..sp

if matches[2] then
	str = string.gsub( str, &quot;target&quot;, matches[2] )
else
	str = string.gsub( str, &quot;target&quot;, target )
end

send(str)</script>
                            <command></command>
                            <packageName></packageName>
                            <regex>^str([ ]+\w+)*$</regex>
                        </Alias>
                        <Alias isActive="yes" isFolder="no">
                            <name>demon fortify</name>
                            <script>local str = &quot;&quot;
str = str..&quot;demon fortify amount&quot;..sp

if matches[2] then
	str = string.gsub( str, &quot;amount&quot;, matches[2] )
else
	str = string.gsub( str, &quot;amount&quot;, 20 )
end

send(str)</script>
                            <command></command>
                            <packageName></packageName>
                            <regex>^df([ ]+\d+)*$</regex>
                        </Alias>
                        <Alias isActive="yes" isFolder="no">
                            <name>demon trace off dto</name>
                            <script>send(&quot;demon trace off&quot;)</script>
                            <command></command>
                            <packageName></packageName>
                            <regex>^dto$</regex>
                        </Alias>
                        <Alias isActive="yes" isFolder="no">
                            <name>demon trace dtr</name>
                            <script>local str = &quot;&quot;
str = str..&quot;demon trace target&quot;..sp

if matches[2] then
	str = string.gsub( str, &quot;target&quot;, matches[2] )
else
	str = string.gsub( str, &quot;target&quot;, target )
end

send(str)</script>
                            <command></command>
                            <packageName></packageName>
                            <regex>^dtr([ ]+\w+)*$</regex>
                        </Alias>
                        <Alias isActive="yes" isFolder="no">
                            <name>demon sap ds</name>
                            <script>-- Thanks Wysrias!

local str = &quot;&quot;
str = str..&quot;queue eqbal contemplate target&quot;..sp

if matches[2] then
	str = string.gsub( str, &quot;target&quot;, matches[2] )
else
	str = string.gsub( str, &quot;target&quot;, target )
end

send(str)</script>
                            <command></command>
                            <packageName></packageName>
                            <regex>^ds([ ]+\w+)*$</regex>
                        </Alias>
                        <Alias isActive="yes" isFolder="no">
                            <name>demon presences dp</name>
                            <script>send(&quot;demon presences&quot;)</script>
                            <command></command>
                            <packageName></packageName>
                            <regex>^dp$</regex>
                        </Alias>
                        <Alias isActive="yes" isFolder="no">
                            <name>summon fiend sf</name>
                            <script>send(&quot;summon fiend&quot;)</script>
                            <command></command>
                            <packageName></packageName>
                            <regex>^sf$</regex>
                        </Alias>
                        <Alias isActive="yes" isFolder="no">
                            <name>carve pentagram pen</name>
                            <script>send(&quot;carve pentagram&quot;)</script>
                            <command></command>
                            <packageName></packageName>
                            <regex>^pen$</regex>
                        </Alias>
                        <Alias isActive="yes" isFolder="no">
                            <name>demon armour da</name>
                            <script>send(&quot;demon armor&quot;)</script>
                            <command></command>
                            <packageName></packageName>
                            <regex>^da$</regex>
                        </Alias>
                        <Alias isActive="yes" isFolder="no">
                            <name>demon rest dr</name>
                            <script>send(&quot;demon rest&quot;)</script>
                            <command></command>
                            <packageName></packageName>
                            <regex>^dr$</regex>
                        </Alias>
                        <Alias isActive="yes" isFolder="no">
                            <name>demon taste</name>
                            <script>send(&quot;demon taste&quot;)</script>
                            <command></command>
                            <packageName></packageName>
                            <regex>^dt$</regex>
                        </Alias>
                        <Alias isActive="yes" isFolder="no">
                            <name>demon horror dho</name>
                            <script>local str = &quot;&quot;
str = str..&quot;demon horror target&quot;..sp

if matches[2] then
	str = string.gsub( str, &quot;target&quot;, matches[2] )
else
	str = string.gsub( str, &quot;target&quot;, target )
end

send(str)</script>
                            <command></command>
                            <packageName></packageName>
                            <regex>^dho([ ]+\w+)*$</regex>
                        </Alias>
                        <Alias isActive="yes" isFolder="no">
                            <name>putrefaction put(o)</name>
                            <script>if matches[2] then
	send(&quot;solidify&quot;)
else
	send(&quot;putrefaction&quot;)
end</script>
                            <command></command>
                            <packageName></packageName>
                            <regex>^put(o)*$</regex>
                        </Alias>
                        <Alias isActive="yes" isFolder="no">
                            <name>lifevision lvi</name>
                            <script>send(&quot;lifevision&quot;)</script>
                            <command></command>
                            <packageName></packageName>
                            <regex>^lvi$</regex>
                        </Alias>
                        <Alias isActive="yes" isFolder="no">
                            <name>shroud shr(o)</name>
                            <script>if matches[2] then
	send(&quot;unshroud&quot;)
else
	send(&quot;shroud&quot;)
end</script>
                            <command></command>
                            <packageName></packageName>
                            <regex>^shr(o)*$</regex>
                        </Alias>
                        <Alias isActive="yes" isFolder="no">
                            <name>soulmask smk(o)</name>
                            <script>if matches[2] then
	send(&quot;relax soulmask&quot;)
else
	send(&quot;soulmask&quot;)
end</script>
                            <command></command>
                            <packageName></packageName>
                            <regex>^smk(o)*$</regex>
                        </Alias>
                        <Alias isActive="yes" isFolder="no">
                            <name>deathaura dta</name>
                            <script>send(&quot;deathaura&quot;)</script>
                            <command></command>
                            <packageName></packageName>
                            <regex>^dth$</regex>
                        </Alias>
                        <Alias isActive="yes" isFolder="no">
                            <name>vengeance ven</name>
                            <script>if matches[2] then
	send(&quot;vengeance off&quot;)
else
	send(&quot;vengeance&quot;)
end</script>
                            <command></command>
                            <packageName></packageName>
                            <regex>^ven(o)*$</regex>
                        </Alias>
                        <Alias isActive="yes" isFolder="no">
                            <name>blackwind bwd(o)</name>
                            <script>if matches[2] then
	send(&quot;human&quot;)
else
	expandAlias(&quot;ac off&quot;)
	send(&quot;blackwind&quot;)
end</script>
                            <command></command>
                            <packageName></packageName>
                            <regex>^bwd(o)*$</regex>
                        </Alias>
                        <Alias isActive="yes" isFolder="no">
                            <name>animate ani</name>
                            <script>if class == &quot;Diabolist&quot; then
	local tablen = {
		&quot;Someone call a medic??&quot;,
		&quot;You're alive! Did I get your arse on right?&quot;,
		&quot;Today is NOT a good day to die!!&quot;,
		&quot;Break's over! Get back to work!!&quot;,
		&quot;CLEAR!!&quot;,
		&quot;No rest for the wicked!!&quot;,
		&quot;It's just a flesh wound!!&quot;,
		&quot;Repairs complete.&quot;,
		&quot;And nothing of value was lost.&quot;,
		&quot;And with trans Necromancy, even death may die!!&quot;,
		&quot;I think I have a bandage around here somewhere...&quot;,
		&quot;You're not dead, you're UNdead!!&quot;,
		&quot;AN CORP!!&quot;,
		&quot;So what does 'OoOo oOO' mean, again?&quot;,
		&quot;So, how was the dying?&quot;,
		&quot;Permanent death, schmermanent schmeath!!&quot;,
		&quot;I'm sure none of that was your fault!!&quot;,
		&quot;Heroes die many deaths; cowards taste but one. Or something.&quot;,
		&quot;Why die, when you can reanimate??&quot;,
		&quot;RISE FROM YOUR GRAVE!!&quot;,
		&quot;Necromancy is the bestomancy!!&quot;,
		&quot;Look on the bright side! At least now, you can be considered an expert on dying.&quot;,
		&quot;Next time you die, I'm going to steal your shoes.&quot;,
		&quot;Death has many mysteries, such as: why do you keep dying?&quot;,
		&quot;I could say you're bad at this, but, you are.&quot;,
		&quot;Return to your mortal coil! And TRY to hang onto it this time.&quot;,
		&quot;I'm not saying I'm counting your deaths... but it's a lot.&quot;,
		&quot;Termination? More like restoration!!&quot;,
		&quot;Stretch your legs a bit! Rigor mortis can be tough on the joints.&quot;,
		&quot;I wouldn't worry about dying if I were you; you seem to have more problems living!!&quot;,
		&quot;Dis shall not claim you! Although it DOES seem to be trying...&quot;,
		&quot;Your body has miraculously returned from the grave! Again.&quot;,
	}

	local num = math.random( 1, #tablen )
	local str = &quot;&quot;
	str = str..&quot;animate target&quot;..sp
	str = str..&quot;say &quot;..tablen[num]..sp
	if matches[2] then
		str = str:gsub(&quot;target&quot;,matches[2])
	else
		str = str:gsub(&quot;target&quot;,target)
	end
	send(str)
end</script>
                            <command></command>
                            <packageName></packageName>
                            <regex>^ani([ ]+\w+)*$</regex>
                        </Alias>
                    </AliasGroup>
                    <AliasGroup isActive="yes" isFolder="yes">
                        <name>Summoner</name>
                        <script></script>
                        <command></command>
                        <packageName></packageName>
                        <regex></regex>
                        <Alias isActive="yes" isFolder="no">
                            <name>aurashift as</name>
                            <script>if matches[2] then
	send(&quot;invoke aurashift &quot;..matches[2]..sp)
else
	send(&quot;invoke aurashift &quot;..target..sp)
end</script>
                            <command></command>
                            <packageName></packageName>
                            <regex>^as([ ]+\w+)*$</regex>
                        </Alias>
                        <Alias isActive="yes" isFolder="no">
                            <name>universe uni</name>
                            <script>send(&quot;fling universe at ground&quot;)</script>
                            <command></command>
                            <packageName></packageName>
                            <regex>^uni$</regex>
                        </Alias>
                        <Alias isActive="yes" isFolder="no">
                            <name>hierophant hie</name>
                            <script>local str = &quot;&quot;

if matches[2] then
	str = str..&quot;fling hierophant at &quot;..matches[2]..sp
else
	str = str..&quot;fling hierophant at &quot;..target..sp
end

send(str)</script>
                            <command></command>
                            <packageName></packageName>
                            <regex>^hie([ ]+\w+)*$</regex>
                        </Alias>
                        <Alias isActive="yes" isFolder="no">
                            <name>incinerat inc</name>
                            <script>send(&quot;invoke incinerate &quot;..target)</script>
                            <command></command>
                            <packageName></packageName>
                            <regex>^inc$</regex>
                        </Alias>
                        <Alias isActive="yes" isFolder="no">
                            <name>nerveburn nb</name>
                            <script>local str = &quot;&quot;

if matches[2] then
	str = str..&quot;invoke nerveburn &quot;..matches[2]..sp
else
	str = str..&quot;invoke nerveburn &quot;..target..sp
end

send(str)</script>
                            <command></command>
                            <packageName></packageName>
                            <regex>^nb([ ]+\w+)*$</regex>
                        </Alias>
                        <Alias isActive="yes" isFolder="no">
                            <name>heave intens</name>
                            <script>local name = matches[2] or target
local taint = has(name,&quot;taint&quot;)

local str = &quot;&quot;

if taint &gt;= 10 then
	str = str..&quot;invoke heave &quot;..name..&quot; intensify&quot;..sp
	str = str..&quot;unleash pyradius at &quot;..name..sp
	str = str..&quot;unleash dameron pyradius at &quot;..name..sp
else
	str = str..&quot;invoke heave &quot;..name..sp
end

send(str)</script>
                            <command></command>
                            <packageName></packageName>
                            <regex>^hv([ ]+\w+)*$</regex>
                        </Alias>
                        <Alias isActive="yes" isFolder="no">
                            <name>timewarp tw</name>
                            <script>local str = &quot;&quot;
expandAlias(&quot;ac off&quot;)

if matches[2] then
	str = str..&quot;invoke timewarp &quot;..matches[2]
else
	str = str..&quot;invoke timewarp &quot;..target
end

send(str)</script>
                            <command></command>
                            <packageName></packageName>
                            <regex>^tw([ ]+\w+)*$</regex>
                        </Alias>
                        <Alias isActive="yes" isFolder="no">
                            <name>empress emp</name>
                            <script>if matches[2] then
	send(&quot;fling empress at &quot;..matches[2])
else
	send(&quot;fling empress at &quot;..target)
end</script>
                            <command></command>
                            <packageName></packageName>
                            <regex>^emp([ ]+\w+)*$</regex>
                        </Alias>
                        <Alias isActive="yes" isFolder="no">
                            <name>lust lu</name>
                            <script>if matches[2] then
	send(&quot;unleash rixil at &quot;..matches[2]..sp..&quot;fling lust at &quot;..matches[2])
else
	send(&quot;unleash rixil at &quot;..target..sp..&quot;fling lust at &quot;..target)
end</script>
                            <command></command>
                            <packageName></packageName>
                            <regex>^lu([ ]+\w+)*$</regex>
                        </Alias>
                        <Alias isActive="yes" isFolder="no">
                            <name>astralvision avis</name>
                            <script>send(&quot;invoke astralvision&quot;)</script>
                            <command></command>
                            <packageName></packageName>
                            <regex>^avis$</regex>
                        </Alias>
                        <Alias isActive="yes" isFolder="no">
                            <name>danaeus dan</name>
                            <script>if matches[2] then 
	send(&quot;unleash danaeus at &quot;..matches[2])
	send(&quot;unleash dameron at &quot;..matches[2]..&quot; danaeus&quot;)
else
	send(&quot;unleash danaeus at &quot;..target)
	send(&quot;unleash dameron at &quot;..target..&quot; danaeus&quot;)
end</script>
                            <command></command>
                            <packageName></packageName>
                            <regex>^dan([ ]+\w+)*$</regex>
                        </Alias>
                        <Alias isActive="yes" isFolder="no">
                            <name>soulchain sch</name>
                            <script>send(&quot;invoke soulchain&quot;)</script>
                            <command></command>
                            <packageName></packageName>
                            <regex>^sch$</regex>
                        </Alias>
                        <Alias isActive="yes" isFolder="no">
                            <name>focus cadmus fc</name>
                            <script>send(&quot;focus cadmus&quot;)</script>
                            <command></command>
                            <packageName></packageName>
                            <regex>^fc$</regex>
                        </Alias>
                        <Alias isActive="yes" isFolder="no">
                            <name>skyrax</name>
                            <script>send(&quot;unleash skyrax&quot;)</script>
                            <command></command>
                            <packageName></packageName>
                            <regex>^sky$</regex>
                        </Alias>
                        <Alias isActive="yes" isFolder="no">
                            <name>ninkharsag nin</name>
                            <script>if (summoner.ninkharsag or summoner.dameron) and summoner.unleash then
	local str = &quot;&quot;
	str = str..&quot;say stay a while and listen&quot;..sp
	if summoner.ninkharsag == 1 then
		str = str..&quot;unleash nin'kharsag at target&quot;..sp
	elseif summoner.dameron == 1 then
		str = str..&quot;unleash dameron at target nin'kharsag&quot;..sp
	end
	if matches[2] then
		str = string.gsub( str, &quot;target&quot;, matches[2] )
	else
		str = string.gsub( str, &quot;target&quot;, target )
	end
	send(str)
end</script>
                            <command></command>
                            <packageName></packageName>
                            <regex>^nin([ ]+\w+)*$</regex>
                        </Alias>
                        <Alias isActive="yes" isFolder="no">
                            <name>summon (pi)ridon</name>
                            <script>send(&quot;summon piridon&quot;)</script>
                            <command></command>
                            <packageName></packageName>
                            <regex>^pi$</regex>
                        </Alias>
                        <Alias isActive="yes" isFolder="no">
                            <name>priestess pr</name>
                            <script>local str = &quot;&quot;
local t = &quot;&quot;
if not matches[2] then
	t = me
	if eq == 1 and bal == 1 then
		str = str..&quot;say There's no place like home&quot;..sp
	end
else
	t = matches[2]
	if eq == 1 and bal == 1 then
		str = str..&quot;say to &quot;..t..&quot; Onward!&quot;..sp
	end
end
str = str..&quot;fling priestess at &quot;..t..sp
send(str)
</script>
                            <command></command>
                            <packageName></packageName>
                            <regex>^pr([ ]+\w+)*$</regex>
                        </Alias>
                        <Alias isActive="yes" isFolder="no">
                            <name>magician mg</name>
                            <script>local str = &quot;&quot;
local t = &quot;&quot;
if not matches[2] then
	t = me
	if eq == 1 and bal == 1 then
		str = str..&quot;say There is no spoon&quot;..sp
	end
else
	t = matches[2]
	if eq == 1 and bal == 1 then
		str = str..&quot;say to &quot;..t..&quot; Chin Up!&quot;..sp
	end
end
str = str..&quot;fling magician at &quot;..t..sp
send(str)
</script>
                            <command></command>
                            <packageName></packageName>
                            <regex>^mg([ ]+\w+)*$</regex>
                        </Alias>
                        <Alias isActive="yes" isFolder="no">
                            <name>outd dd</name>
                            <script>send(&quot;outd 1 death&quot;)</script>
                            <command></command>
                            <packageName></packageName>
                            <regex>^dd$</regex>
                        </Alias>
                        <Alias isActive="yes" isFolder="no">
                            <name>deathrub de</name>
                            <script>local str = &quot;&quot;
str = str..&quot;sniff death&quot;..sp
if matches[2] then
	str = str..&quot;rub death on &quot;..matches[2]
else
	str = str..&quot;rub death on &quot;..target
end

send(str)</script>
                            <command></command>
                            <packageName></packageName>
                            <regex>^de([ ]+\w+)*$</regex>
                        </Alias>
                        <Alias isActive="yes" isFolder="no">
                            <name>death dth</name>
                            <script>
local str = &quot;&quot;
expandAlias(&quot;ac off&quot;)
str = str..&quot;fling death at &quot;
if matches[2] ~= nil then
	str = str..matches[2]
else
	str = str..target
end
send(str)
</script>
                            <command></command>
                            <packageName></packageName>
                            <regex>^dth$</regex>
                        </Alias>
                        <Alias isActive="yes" isFolder="no">
                            <name>hangedman hg</name>
                            <script>local str = &quot;&quot;

str = str..&quot;fling hangedman to levitate &quot;
if matches[2] then
	str = str..matches[2]..sp
end
str = str..sp..&quot;queue eqbal fling hangedman to levitate &quot;
if matches[2] then
	str = str..matches[2]
end

send(str)</script>
                            <command></command>
                            <packageName></packageName>
                            <regex>^hg([ ]+\w+)*$</regex>
                        </Alias>
                        <Alias isActive="yes" isFolder="no">
                            <name>istria si</name>
                            <script>send(&quot;summon istria&quot;)</script>
                            <command></command>
                            <packageName></packageName>
                            <regex>^si$</regex>
                        </Alias>
                        <Alias isActive="yes" isFolder="no">
                            <name>pathfinder home pp</name>
                            <script>local str = &quot;&quot;
str = str..&quot;stand&quot;..sp
str = str..&quot;queue eqbal order pathfinder home&quot;

send(str)</script>
                            <command></command>
                            <packageName></packageName>
                            <regex>^pp$</regex>
                        </Alias>
                        <Alias isActive="yes" isFolder="no">
                            <name>hermit hmt</name>
                            <script>local str = &quot;&quot;

str = str..&quot;outd 1 hermit&quot;..sp
str = str..&quot;activate hermit&quot;

send(str)</script>
                            <command></command>
                            <packageName></packageName>
                            <regex>^hmt$</regex>
                        </Alias>
                        <Alias isActive="yes" isFolder="no">
                            <name>hermit home pl</name>
                            <script>local str = &quot;&quot;
str = str..&quot;stand&quot;..sp
str = str..&quot;queue eqbal fling hermit at ground&quot;

send(str)</script>
                            <command></command>
                            <packageName></packageName>
                            <regex>^pl$</regex>
                        </Alias>
                        <Alias isActive="yes" isFolder="no">
                            <name>distortion dst</name>
                            <script>send(&quot;invoke distortion&quot;)</script>
                            <command></command>
                            <packageName></packageName>
                            <regex>^dst$</regex>
                        </Alias>
                        <Alias isActive="yes" isFolder="no">
                            <name>distortion off dsto</name>
                            <script>send(&quot;invoke distortion off&quot;)</script>
                            <command></command>
                            <packageName></packageName>
                            <regex>^dsto$</regex>
                        </Alias>
                        <Alias isActive="yes" isFolder="no">
                            <name>warmth wrm</name>
                            <script>send(&quot;invoke warmth&quot;)</script>
                            <command></command>
                            <packageName></packageName>
                            <regex>^wrm$</regex>
                        </Alias>
                        <Alias isActive="yes" isFolder="no">
                            <name>marduk mar</name>
                            <script>local name = &quot;&quot;
if matches[2] then
	name = matches[2]
else
	name = target
end

expandAlias(&quot;ac off&quot;)
send(&quot;unleash marduk at &quot;..name)</script>
                            <command></command>
                            <packageName></packageName>
                            <regex>^mar([ ]+\w+)*$</regex>
                        </Alias>
                        <Alias isActive="yes" isFolder="no">
                            <name>levitate lev</name>
                            <script>local str = &quot;&quot;
str = str..&quot;fling hangedman to levitate &quot;

if matches[2] then
	str = str..matches[2]
else
	
end

send(str)</script>
                            <command></command>
                            <packageName></packageName>
                            <regex>^lev([ ]+\w+)*$</regex>
                        </Alias>
                        <Alias isActive="yes" isFolder="no">
                            <name>^arc$</name>
                            <script>send(&quot;unleash arctar at me&quot;)</script>
                            <command></command>
                            <packageName></packageName>
                            <regex>^arc$</regex>
                        </Alias>
                    </AliasGroup>
                    <AliasGroup isActive="no" isFolder="yes">
                        <name>Wytch</name>
                        <script></script>
                        <command></command>
                        <packageName></packageName>
                        <regex></regex>
                        <Alias isActive="yes" isFolder="no">
                            <name>ansuz as</name>
                            <script>local str = &quot;&quot;

if matches[2] then
	str = str..&quot;rt [Ansuz]: &quot;..matches[2]..sp
	str = str..&quot;sketch ansuz on ground at &quot;..matches[2]..sp
else
	str = str..&quot;rt [Ansuz]: &quot;..target..sp
	str = str..&quot;sketch ansuz on ground at &quot;..target..sp
end
send(str)
</script>
                            <command></command>
                            <packageName></packageName>
                            <regex>^as([ ]+\w+)*$</regex>
                        </Alias>
                        <Alias isActive="yes" isFolder="no">
                            <name>transfix totem ttw</name>
                            <script>local str = &quot;&quot;

if matches[2] then
	str = str..&quot;rt [Totem]: Transfix, &quot;..matches[2]..sp
	str = str..&quot;quickdraw 216000&quot;..sp
	str = str..&quot;stand 216000 for &quot;..matches[2]..sp
else
	str = str..&quot;rt [Totem]: Transfix, &quot;..target..sp
	str = str..&quot;quickdraw 216000&quot;..sp
	str = str..&quot;stand 216000 for &quot;..target..sp
end
send(str)
</script>
                            <command></command>
                            <packageName></packageName>
                            <regex>^ttw([ ]+\w+)*$</regex>
                        </Alias>
                        <Alias isActive="yes" isFolder="no">
                            <name>totem tte</name>
                            <script>local str = &quot;&quot;

if matches[2] then
	str = str..&quot;rt [Totem]: Damage, &quot;..matches[2]..sp
	str = str..&quot;quickdraw 80058&quot;..sp
	str = str..&quot;stand 80058 for &quot;..matches[2]..sp
else
	str = str..&quot;rt [Totem]: Damage, &quot;..target..sp
	str = str..&quot;quickdraw 80058&quot;..sp
	str = str..&quot;stand 80058 for &quot;..target..sp
end
send(str)
</script>
                            <command></command>
                            <packageName></packageName>
                            <regex>^tte([ ]+\w+)*$</regex>
                        </Alias>
                        <Alias isActive="yes" isFolder="no">
                            <name>resurrect ani</name>
                            <script>if class == &quot;Wytch&quot; then
	local tablen = {
		&quot;Someone call a medic??&quot;,
		&quot;You're alive! Did I get your arse on right?&quot;,
		&quot;Today is NOT a good day to die!!&quot;,
		&quot;Break's over! Get back to work!!&quot;,
		&quot;CLEAR!!&quot;,
		&quot;No rest for the wicked!!&quot;,
		&quot;It's just a flesh wound!!&quot;,
		&quot;Repairs complete.&quot;,
		&quot;And nothing of value was lost.&quot;,
		&quot;I think I have a bandage around here somewhere...&quot;,
		&quot;You're not dead, you're UNdead!!&quot;,
		&quot;AN CORP!!&quot;,
		&quot;So what does 'OoOo oOO' mean, again?&quot;,
		&quot;So, how was the dying?&quot;,
		&quot;Permanent death, schmermanent schmeath!!&quot;,
		&quot;I'm sure none of that was your fault!!&quot;,
		&quot;Heroes die many deaths; cowards taste but one. Or something.&quot;,
		&quot;Why die, when you can resurrect??&quot;,
		&quot;RISE FROM YOUR GRAVE!!&quot;,
		&quot;Look on the bright side! At least now, you can be considered an expert on dying.&quot;,
		&quot;Next time you die, I'm going to steal your shoes.&quot;,
		&quot;Death has many mysteries, such as: why do you keep dying?&quot;,
		&quot;I could say you're bad at this, but, you are.&quot;,
		&quot;Return to your mortal coil! And TRY to hang onto it this time.&quot;,
		&quot;I'm not saying I'm counting your deaths... but it's a lot.&quot;,
		&quot;Termination? More like restoration!!&quot;,
		&quot;Stretch your legs a bit! Rigor mortis can be tough on the joints.&quot;,
		&quot;I wouldn't worry about dying if I were you; you seem to have more problems living!!&quot;,
		&quot;Dis shall not claim you! Although it DOES seem to be trying...&quot;,
		&quot;Your body has miraculously returned from the grave! Again.&quot;,
	}

	local num = math.random( 1, #tablen )
	local str = &quot;&quot;
	str = str..&quot;dustthrow resurrect target&quot;..sp
	str = str..&quot;say &quot;..tablen[num]..sp
	if matches[2] then
		str = str:gsub(&quot;target&quot;,matches[2])
	else
		str = str:gsub(&quot;target&quot;,target)
	end
	send(str)
end</script>
                            <command></command>
                            <packageName></packageName>
                            <regex>^ani([ ]+\w+)*$</regex>
                        </Alias>
                        <Alias isActive="yes" isFolder="no">
                            <name>cyanide cy</name>
                            <script>local str = &quot;&quot;

str = str..&quot;swiftcurse target plague numbness&quot;..sp

if matches[2] then
	str = str:gsub(&quot;target&quot;,matches[2])
else
	str = str:gsub(&quot;target&quot;,target)
end

send(str)</script>
                            <command></command>
                            <packageName></packageName>
                            <regex>^cy([ ]+\w+)*$</regex>
                        </Alias>
                        <Alias isActive="yes" isFolder="no">
                            <name>ignite ig</name>
                            <script>send(&quot;ignite mark on &quot;..target)</script>
                            <command></command>
                            <packageName></packageName>
                            <regex>^ig$</regex>
                        </Alias>
                        <Alias isActive="yes" isFolder="no">
                            <name>^mxo$</name>
                            <script>send(&quot;dustthrow inhibit choke &quot;..target)</script>
                            <command></command>
                            <packageName></packageName>
                            <regex>^mxo$</regex>
                        </Alias>
                    </AliasGroup>
                    <AliasGroup isActive="no" isFolder="yes">
                        <name>Deathknight</name>
                        <script></script>
                        <command></command>
                        <packageName></packageName>
                        <regex></regex>
                        <Alias isActive="yes" isFolder="no">
                            <name>bloodscent off bsoff</name>
                            <script>local str = &quot;&quot;

str = str..&quot;hound recall&quot;..sp
str = str..&quot;hound bloodscent off&quot;

send(str)</script>
                            <command></command>
                            <packageName></packageName>
                            <regex>^bsof(f)*$</regex>
                        </Alias>
                        <Alias isActive="yes" isFolder="no">
                            <name>bloodscent on bson</name>
                            <script>local str = &quot;&quot;

str = str..&quot;hound recall&quot;..sp
str = str..&quot;hound bloodscent on&quot;

send(str)</script>
                            <command></command>
                            <packageName></packageName>
                            <regex>^bson$</regex>
                        </Alias>
                        <Alias isActive="yes" isFolder="no">
                            <name>arrows sht</name>
                            <script>local tablen = gmcp.Room.Info.exits
local str, stren = &quot;&quot;, &quot;&quot;
str = str..&quot;shoot target direction&quot;..sp

if matches[2] then
	str = string.gsub( str, &quot;target&quot;, matches[2] )
else
	str = string.gsub( str, &quot;target&quot;, target )
end

if quickdraw then
	if bow and bow[1] then
		stren = &quot;quickdraw &quot;..bow[1]..sp..stren
	else
		stren = &quot;quickdraw bow&quot;..sp..stren
	end
else
	if bow and bow[1] then
		stren = &quot;unwield left&quot;..sp..&quot;unwield right&quot;..sp..&quot;wield &quot;..bow[1]..sp
	else
		stren = &quot;unwield left&quot;..sp..&quot;unwield right&quot;..sp..&quot;wield bow&quot;..sp
	end
end

for k, v in pairs(tablen) do
	stren = stren..string.gsub( str, &quot;direction&quot;, tostring(k) )
end

send(stren)</script>
                            <command></command>
                            <packageName></packageName>
                            <regex>^sht([ ]+\w+)*$</regex>
                        </Alias>
                        <Alias isActive="yes" isFolder="no">
                            <name>decay dc</name>
                            <script>local str = &quot;&quot;
str = str..&quot;decay target&quot;..sp

if matches[2] then
	str = string.gsub( str, &quot;target&quot;, matches[2] )
else
	str = string.gsub( str, &quot;target&quot;, target )
end

send(str)</script>
                            <command></command>
                            <packageName></packageName>
                            <regex>^dc([ ]+\w+)*$</regex>
                        </Alias>
                        <Alias isActive="yes" isFolder="no">
                            <name>soulspear ssp</name>
                            <script>local tablen = gmcp.Room.Info.exits
local str, stren = &quot;&quot;, &quot;&quot;
str = str..&quot;throw soulspear at target direction&quot;..sp

if matches[2] then
	str = string.gsub( str, &quot;target&quot;, matches[2] )
else
	str = string.gsub( str, &quot;target&quot;, target )
end

stren = stren..&quot;unwield left&quot;..sp
stren = stren..&quot;wield soulspear&quot;..sp
stren = stren..&quot;relax grip&quot;..sp
for k, v in pairs(tablen) do
	stren = stren..string.gsub( str, &quot;direction&quot;, tostring(k) )
end

send(stren)</script>
                            <command></command>
                            <packageName></packageName>
                            <regex>^ssp$</regex>
                        </Alias>
                        <Alias isActive="yes" isFolder="no">
                            <name>evoke soulspear esp</name>
                            <script>local str = &quot;&quot;

str = str..&quot;get body&quot;..sp
str = str..&quot;evoke soulspear from body&quot;..sp

send(str)</script>
                            <command></command>
                            <packageName></packageName>
                            <regex>^esp$</regex>
                        </Alias>
                        <Alias isActive="yes" isFolder="no">
                            <name>gravehands gh</name>
                            <script>send(&quot;summon hands of the grave&quot;)</script>
                            <command></command>
                            <packageName></packageName>
                            <regex>^gh$</regex>
                        </Alias>
                        <Alias isActive="yes" isFolder="no">
                            <name>deathaura da</name>
                            <script>send(&quot;deathaura&quot;)</script>
                            <command></command>
                            <packageName></packageName>
                            <regex>^da$</regex>
                        </Alias>
                        <Alias isActive="yes" isFolder="no">
                            <name>hound startle hst</name>
                            <script>local str = &quot;&quot;
str = str..&quot;order hound return&quot;..sp
str = str..&quot;queue eq hound startle &quot;..target
send(str)</script>
                            <command></command>
                            <packageName></packageName>
                            <regex></regex>
                        </Alias>
                        <Alias isActive="yes" isFolder="no">
                            <name>hound observe hob</name>
                            <script>local str = &quot;&quot;
str = str..&quot;order hound return&quot;..sp
str = str..&quot;queue eq hound observe &quot;..target
send(str)</script>
                            <command></command>
                            <packageName></packageName>
                            <regex>^hob$</regex>
                        </Alias>
                        <Alias isActive="yes" isFolder="no">
                            <name>rush rup</name>
                            <script>local tablen = gmcp.Room.Info.exits
local str, stren = &quot;&quot;, &quot;&quot;
local toxin, toxin2 = deathknight.choose_toxin(target)

str = &quot;rush &quot;..target..&quot; direction &quot;..toxin..&quot; &quot;..toxin2..sp

if matches[2] then
	str = string.gsub( str, &quot;target&quot;, matches[2] )
else
	str = string.gsub( str, &quot;target&quot;, target )
end

stren = stren..&quot;mount horse&quot;..sp
for k, v in pairs(tablen) do
	stren = stren..string.gsub( str, &quot;direction&quot;, tostring(k) )
end

send(stren)</script>
                            <command></command>
                            <packageName></packageName>
                            <regex>^rup$</regex>
                        </Alias>
                        <Alias isActive="yes" isFolder="no">
                            <name>lunge lup</name>
                            <script>local str = &quot;&quot;
str = str..&quot;envenom sabre with strychnine&quot;..spp
str = str..&quot;lunge &quot;..target
send(str)</script>
                            <command></command>
                            <packageName></packageName>
                            <regex>^lup$</regex>
                        </Alias>
                        <Alias isActive="yes" isFolder="no">
                            <name>sunder sun</name>
                            <script>if class == &quot;Deathknight&quot; then
	local name = matches[2]
	local str = &quot;&quot;
	expandAlias(&quot;ac off&quot;)
	str = str..&quot;order horse return&quot;..sp
	str = str..&quot;mount horse&quot;..sp
	if name ~= nil then
		str = str..&quot;sunder &quot;..name
	else
		str = str..&quot;sunder &quot;..target
	end
	send(str)
end</script>
                            <command></command>
                            <packageName></packageName>
                            <regex>^sun([ ]+\w+)*$</regex>
                        </Alias>
                        <Alias isActive="yes" isFolder="no">
                            <name>cleave clv</name>
                            <script>if class == &quot;Deathknight&quot; then

	local tablen = {
		&quot;YOU SHALL NOT PASS!!&quot;,
		&quot;You can't handle the truth!!&quot;,
		&quot;Tonight, we dine in hell!!&quot;,
		&quot;Yippee-ki-yay!!&quot;,
		&quot;How do you plead?!!&quot;,
		&quot;Go ahead, make my day!!&quot;,
		&quot;No fear! No pity! No REMORSE!!&quot;,
		&quot;Into the fires of battle, unto the Anvil of WAR!!&quot;,
		&quot;Last words are for fools who haven't said enough!!&quot;,
		-- &quot;I'm sorry Wilson... Wilson I'm sorry. Wilson... WIIILLLLSSSSOOOONNNN!!&quot;,
		&quot;I'm too old for this shit...&quot;,
		&quot;target, remember when I promised to kill you last? I lied&quot;,
		&quot;Do you know what happens to a toad when it's struck by lightning?&quot;,
		&quot;I'm not just a cook!!&quot;,
		&quot;Put. The bunny. Back in. The box.&quot;,
		&quot;Don't you turn your back on me, target. I want to see the light leave your eyes!!&quot;,
		&quot;Stop trying to hit me and hit me!!&quot;,
		&quot;Better to reign in Hell, than serve in Heaven!!&quot;,
		&quot;Off with his head!!&quot;,
		&quot;Shit just got real.&quot;,
		&quot;You underestimate the power of the Dark side. If you will not fight, then you will meet your destiny!!&quot;,
		&quot;Dodge this.&quot;,
		&quot;Lipstick? What lipstick? There is no lipstick.&quot;,
		&quot;How'd it get burnt...? How'd it get burnt? How'd it get burnt? HOW'D IT GET BURNT??!?&quot;,
		&quot;Stop eating my sesame cake!!&quot;,
		&quot;Then you'll see, that it is not the spoon that bends, it is only yourself. &quot;,
		&quot;Do you hear that, target? That is the sound of inevitability.&quot;,
		&quot;I'm trying to free your mind, target. But I can only show you the door. You're the one that has to walk through it.&quot;,
		&quot;You will wander Dis blind, deaf, and dumb, and all the dead will know: This is target. The fool who thought they killed &quot;..me..&quot;.&quot;,
	}

	local num = math.random( 1, #tablen )
	local stren = &quot;&quot;
	local str = matches[2]
	if matches[2] ~= nil then
		expandAlias(&quot;ac off&quot;)
		stren = &quot;say &quot;..tablen[num]..sp
		stren = stren..&quot;cleave &quot;..str
		stren = stren:gsub(&quot;target&quot;,matches[2])
		send(stren)
	else
		expandAlias(&quot;ac off&quot;)
		stren = &quot;say &quot;..tablen[num]..&quot; &quot;..sp
		stren = stren..&quot;cleave &quot;..target
		stren = stren:gsub(&quot;target&quot;,target)
		send(stren)
	end
end</script>
                            <command></command>
                            <packageName></packageName>
                            <regex>^clv[ ]*(\w+)*$</regex>
                        </Alias>
                        <Alias isActive="yes" isFolder="no">
                            <name>animate ani</name>
                            <script>if class == &quot;Deathknight&quot; then
	local tablen = {
		&quot;Someone call a medic??&quot;,
		&quot;You're alive! Did I get your arse on right?&quot;,
		&quot;Today is NOT a good day to die!!&quot;,
		&quot;Break's over! Get back to work!!&quot;,
		&quot;CLEAR!!&quot;,
		&quot;No rest for the wicked!!&quot;,
		&quot;It's just a flesh wound!!&quot;,
		&quot;Repairs complete.&quot;,
		&quot;And nothing of value was lost.&quot;,
		&quot;And with trans Necromancy, even death may die!!&quot;,
		&quot;I think I have a bandage around here somewhere...&quot;,
		&quot;You're not dead, you're UNdead!!&quot;,
		&quot;AN CORP!!&quot;,
		&quot;So what does 'OoOo oOO' mean, again?&quot;,
		&quot;So, how was the dying?&quot;,
		&quot;Permanent death, schmermanent schmeath!!&quot;,
		&quot;I'm sure none of that was your fault!!&quot;,
		&quot;Heroes die many deaths; cowards taste but one. Or something.&quot;,
		&quot;Why die, when you can reanimate??&quot;,
		&quot;RISE FROM YOUR GRAVE!!&quot;,
		&quot;Necromancy is the bestomancy!!&quot;,
		&quot;Look on the bright side! At least now, you can be considered an expert on dying.&quot;,
		&quot;Next time you die, I'm going to steal your shoes.&quot;,
		&quot;Death has many mysteries, such as: why do you keep dying?&quot;,
		&quot;I could say you're bad at this, but, you are.&quot;,
		&quot;Return to your mortal coil! And TRY to hang onto it this time.&quot;,
		&quot;I'm not saying I'm counting your deaths... but it's a lot.&quot;,
		&quot;Termination? More like restoration!!&quot;,
		&quot;Stretch your legs a bit! Rigor mortis can be tough on the joints.&quot;,
		&quot;I wouldn't worry about dying if I were you; you seem to have more problems living!!&quot;,
		&quot;Dis shall not claim you! Although it DOES seem to be trying...&quot;,
		&quot;Your body has miraculously returned from the grave! Again.&quot;,
	}

	local num = math.random( 1, #tablen )
	local str = &quot;&quot;
	str = str..&quot;animate target&quot;..sp
	str = str..&quot;say &quot;..tablen[num]..sp
	if matches[2] then
		str = str:gsub(&quot;target&quot;,matches[2])
	else
		str = str:gsub(&quot;target&quot;,target)
	end
	send(str)
end</script>
                            <command></command>
                            <packageName></packageName>
                            <regex>^ani([ ]+\w+)*$</regex>
                        </Alias>
                        <Alias isActive="yes" isFolder="no">
                            <name>bevorsay say</name>
                            <script>if class == &quot;Deathknight&quot; then
	local str = &quot;&quot;
	str = &quot;open bevor&quot;..sp
	str = str..&quot;say &quot;..matches[2]..sp
	str = str..&quot;close bevor&quot;
	send(str)
else
	send(&quot;say &quot;..matches[2])
end</script>
                            <command></command>
                            <packageName></packageName>
                            <regex>^say[ ]+(.*)$</regex>
                        </Alias>
                    </AliasGroup>
                </AliasGroup>
                <AliasGroup isActive="yes" isFolder="yes">
                    <name>magick</name>
                    <script></script>
                    <command></command>
                    <packageName></packageName>
                    <regex></regex>
                    <AliasGroup isActive="no" isFolder="yes">
                        <name>Bard</name>
                        <script></script>
                        <command></command>
                        <packageName></packageName>
                        <regex></regex>
                        <AliasGroup isActive="yes" isFolder="yes">
                            <name>[me]</name>
                            <script></script>
                            <command></command>
                            <packageName></packageName>
                            <regex></regex>
                            <Alias isActive="yes" isFolder="no">
                                <name>battlemarch btl</name>
                                <script>send(&quot;sing battlemarch me&quot;)</script>
                                <command></command>
                                <packageName></packageName>
                                <regex>^btl$</regex>
                            </Alias>
                            <Alias isActive="yes" isFolder="no">
                                <name>contortionism cont</name>
                                <script>send(&quot;contortionism&quot;)</script>
                                <command></command>
                                <packageName></packageName>
                                <regex>^cont$</regex>
                            </Alias>
                            <Alias isActive="yes" isFolder="no">
                                <name>corescate cor</name>
                                <script>send(&quot;sing corescate me&quot;)</script>
                                <command></command>
                                <packageName></packageName>
                                <regex>^cor$</regex>
                            </Alias>
                            <Alias isActive="yes" isFolder="no">
                                <name>empower emp</name>
                                <script>send(&quot;sing empower me&quot;)</script>
                                <command></command>
                                <packageName></packageName>
                                <regex>^emp$</regex>
                            </Alias>
                            <Alias isActive="yes" isFolder="no">
                                <name>enliven enl</name>
                                <script>send(&quot;sing enliven me&quot;)</script>
                                <command></command>
                                <packageName></packageName>
                                <regex>^enl$</regex>
                            </Alias>
                            <Alias isActive="yes" isFolder="no">
                                <name>fortification fort</name>
                                <script>send(&quot;sing fortify me&quot;)</script>
                                <command></command>
                                <packageName></packageName>
                                <regex>^fort$</regex>
                            </Alias>
                            <Alias isActive="yes" isFolder="no">
                                <name>restoration res</name>
                                <script>send(&quot;sing restoration me&quot;)</script>
                                <command></command>
                                <packageName></packageName>
                                <regex>^res$</regex>
                            </Alias>
                            <Alias isActive="yes" isFolder="no">
                                <name>requiem req</name>
                                <script>send(&quot;sing requiem me&quot;)</script>
                                <command></command>
                                <packageName></packageName>
                                <regex>^req$</regex>
                            </Alias>
                            <Alias isActive="yes" isFolder="no">
                                <name>therapeutics thr</name>
                                <script>send(&quot;sing therapeutics me&quot;)</script>
                                <command></command>
                                <packageName></packageName>
                                <regex>^thr$</regex>
                            </Alias>
                            <Alias isActive="yes" isFolder="no">
                                <name>ward war</name>
                                <script>send(&quot;sing ward me&quot;)</script>
                                <command></command>
                                <packageName></packageName>
                                <regex>^war$</regex>
                            </Alias>
                            <Alias isActive="yes" isFolder="no">
                                <name>awakening awa</name>
                                <script>send(&quot;sing awakening me&quot;)</script>
                                <command></command>
                                <packageName></packageName>
                                <regex>^awa$</regex>
                            </Alias>
                            <Alias isActive="yes" isFolder="no">
                                <name>flight fli</name>
                                <script>send(&quot;sing flight me&quot;)</script>
                                <command></command>
                                <packageName></packageName>
                                <regex>^fli$</regex>
                            </Alias>
                            <Alias isActive="yes" isFolder="no">
                                <name>elusiveness elu</name>
                                <script>send(&quot;elusiveness on&quot;)</script>
                                <command></command>
                                <packageName></packageName>
                                <regex>^elu$</regex>
                            </Alias>
                            <Alias isActive="yes" isFolder="no">
                                <name>songbird bird</name>
                                <script>send(&quot;order songbird follow me&quot;..sp..&quot;songbird sing me&quot;)</script>
                                <command></command>
                                <packageName></packageName>
                                <regex>^bird$</regex>
                            </Alias>
                            <Alias isActive="yes" isFolder="no">
                                <name>elusiveness off eluo</name>
                                <script>send(&quot;elusiveness off&quot;)</script>
                                <command></command>
                                <packageName></packageName>
                                <regex>^eluo$</regex>
                            </Alias>
                            <Alias isActive="yes" isFolder="no">
                                <name>befuddle bef</name>
                                <script>send(&quot;befuddle on&quot;)</script>
                                <command></command>
                                <packageName></packageName>
                                <regex>^bef$</regex>
                            </Alias>
                            <Alias isActive="yes" isFolder="no">
                                <name>befuddle off befo</name>
                                <script>send(&quot;befuddle off&quot;)</script>
                                <command></command>
                                <packageName></packageName>
                                <regex>^befo$</regex>
                            </Alias>
                        </AliasGroup>
                        <Alias isActive="yes" isFolder="no">
                            <name>revelation rev</name>
                            <script>local str = &quot;sing revelation target&quot;

if matches[2] then
	str = str:gsub(&quot;target&quot;,matches[2])
else
	str = str:gsub(&quot;target&quot;,target)
end

send(str)</script>
                            <command></command>
                            <packageName></packageName>
                            <regex>^rev([ ]+\w+)*$</regex>
                        </Alias>
                        <Alias isActive="yes" isFolder="no">
                            <name>bedazzle bed</name>
                            <script>local str = &quot;sing bedazzlement target&quot;

if matches[2] then
	str = str:gsub(&quot;target&quot;,matches[2])
else
	str = str:gsub(&quot;target&quot;,target)
end

send(str)</script>
                            <command></command>
                            <packageName></packageName>
                            <regex>^bed([ ]+\w+)*$</regex>
                        </Alias>
                    </AliasGroup>
                    <AliasGroup isActive="no" isFolder="yes">
                        <name>Mage</name>
                        <script></script>
                        <command></command>
                        <packageName></packageName>
                        <regex></regex>
                        <AliasGroup isActive="yes" isFolder="yes">
                            <name>Defense</name>
                            <script></script>
                            <command></command>
                            <packageName></packageName>
                            <regex></regex>
                            <Alias isActive="yes" isFolder="no">
                                <name>spin crystal spc</name>
                                <script>local str = &quot;&quot;
str = str..&quot;call crystal&quot;..sp
str = str..&quot;queue eqbal spin crystal&quot;..sp

send(str)</script>
                                <command></command>
                                <packageName></packageName>
                                <regex>^spc$</regex>
                            </Alias>
                            <Alias isActive="yes" isFolder="no">
                                <name>windveil wve</name>
                                <script>send(&quot;cast windveil&quot;)</script>
                                <command></command>
                                <packageName></packageName>
                                <regex>^wve$</regex>
                            </Alias>
                            <Alias isActive="yes" isFolder="no">
                                <name>stoneskin ssk</name>
                                <script>send(&quot;cast stoneskin&quot;)</script>
                                <command></command>
                                <packageName></packageName>
                                <regex>^ssk$</regex>
                            </Alias>
                        </AliasGroup>
                        <Alias isActive="yes" isFolder="no">
                            <name>flamepillar fp</name>
                            <script>send(&quot;cast flamepillar&quot;)</script>
                            <command></command>
                            <packageName></packageName>
                            <regex>^fp$</regex>
                        </Alias>
                        <Alias isActive="yes" isFolder="no">
                            <name>charge crystal instant x 5</name>
                            <script>local str = &quot;&quot;

str = str..&quot;charge crystal instant&quot;..sp
str = str..&quot;charge crystal instant&quot;..sp
str = str..&quot;charge crystal instant&quot;..sp
str = str..&quot;charge crystal instant&quot;..sp
str = str..&quot;charge crystal instant&quot;..sp

send(str)</script>
                            <command></command>
                            <packageName></packageName>
                            <regex>^mx$</regex>
                        </Alias>
                        <AliasGroup isActive="yes" isFolder="yes">
                            <name>Pyroglacia</name>
                            <script></script>
                            <command></command>
                            <packageName></packageName>
                            <regex></regex>
                            <Alias isActive="yes" isFolder="no">
                                <name>submerge dr</name>
                                <script>local name = string.trim(matches[2]) or target

expandAlias(&quot;ac off&quot;)
send(&quot;cast submersion at &quot;..name)</script>
                                <command></command>
                                <packageName></packageName>
                                <regex>^dr([ ]+\w+)*$</regex>
                            </Alias>
                            <Alias isActive="yes" isFolder="no">
                                <name>lavablast lb</name>
                                <script>local name = string.trim(matches[2]) or target
local str = &quot;&quot;
local fc = has(name,&quot;firecircle&quot;)
local charges = mage.charges

if fc then fc = &quot;heat&quot; else fc = &quot;batter&quot; end
if charges &gt; 0 then charges = &quot;penetration&quot; else charges = &quot;&quot; end

str = str..&quot;trueassess &quot;..name..sp
str = str..&quot;cast &quot;..charges..&quot; lavablast &quot;..fc..&quot; at &quot;..name..sp
str = str..&quot;trueassess &quot;..name..sp

send(str)</script>
                                <command></command>
                                <packageName></packageName>
                                <regex>^lb([ ]+\w+)*$</regex>
                            </Alias>
                            <Alias isActive="yes" isFolder="no">
                                <name>fire gain fr</name>
                                <script>local name = string.trim(matches[2]) or target

local str = &quot;&quot;
str = str..&quot;cast firewreathe heat at &quot;..name..sp

send(str)</script>
                                <command></command>
                                <packageName></packageName>
                                <regex>^fr([ ]+\w+)*$</regex>
                            </Alias>
                            <Alias isActive="yes" isFolder="no">
                                <name>fire gain w bloodboil fra</name>
                                <script>local name = string.trim(matches[2]) or target

local str = &quot;&quot;
str = str..&quot;cast firewreathe bloodboil heat at &quot;..name..sp

send(str)</script>
                                <command></command>
                                <packageName></packageName>
                                <regex>^fra([ ]+\w+)*$</regex>
                            </Alias>
                        </AliasGroup>
                        <Alias isActive="yes" isFolder="no">
                            <name>earth ea</name>
                            <script>local name = string.trim(matches[2]) or target

local str = &quot;&quot;
str = str..&quot;cast earthwreathe tremors at &quot;..name..sp

send(str)</script>
                            <command></command>
                            <packageName></packageName>
                            <regex>^ea([ ]+\w+)*$</regex>
                        </Alias>
                    </AliasGroup>
                </AliasGroup>
            </AliasGroup>
            <AliasGroup isActive="yes" isFolder="yes">
                <name>Utility</name>
                <script></script>
                <command></command>
                <packageName></packageName>
                <regex></regex>
                <Alias isActive="yes" isFolder="no">
                    <name>assumes fitness fit</name>
                    <script>trax.take(target,&quot;asthma&quot;)</script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^fit$</regex>
                </Alias>
                <Alias isActive="yes" isFolder="no">
                    <name>bypass byp</name>
                    <script>local str = &quot;focus moradeim target bypass&quot;

if matches[2] then
	str = str:gsub(&quot;target&quot;, matches[2])
else
	str = str:gsub(&quot;target&quot;, eden.target)
end
expandAlias(&quot;ac off&quot;)
send(str)</script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^byp([ ]+\w+)*$</regex>
                </Alias>
                <Alias isActive="yes" isFolder="no">
                    <name>clear queue cq</name>
                    <script>send(&quot;queue reset all&quot;)</script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^cq$</regex>
                </Alias>
                <Alias isActive="yes" isFolder="no">
                    <name>commit health</name>
                    <script>if matches[2] then
	send(&quot;commit &quot;..matches[2]..&quot; health&quot;)
else
	send(&quot;commit 100 health&quot;)
end</script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^ch([ ]+\d+)*$</regex>
                </Alias>
                <Alias isActive="yes" isFolder="no">
                    <name>commit mana</name>
                    <script>if matches[2] then
	send(&quot;commit &quot;..matches[2]..&quot; mana&quot;)
else
	send(&quot;commit 100 mana&quot;)
end</script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^cm([ ]+\d+)*$</regex>
                </Alias>
                <Alias isActive="yes" isFolder="no">
                    <name>diagnose other dge</name>
                    <script>
local t,str = &quot;&quot;,&quot;&quot;
if matches[2] then t = matches[2] else t = target end
str = str..&quot;wear spectacles&quot;..sp
str = str..&quot;diagnose target&quot;..sp

str = string.gsub( str, &quot;target&quot;, t )

send(str)

-- Allow this next section to naturally fail with partial names

local affs = {}
local level = 0.30

local output = &quot;&quot;

-- Show me what is already on, so I can do comparative analysis -- 
if config and config.trax == 2 then
	affs = ecopy(dbp.players_[t].affs_)
	for k,v in pairs(affs) do
		if v &gt;= level then
			local n = string.format(&quot;%.2f&quot;,v)
			output = output..&quot; +&quot;..k..&quot; (&quot;..n..&quot;),&quot;
		end
	end
else
	affs = ecopy(dbp.players_[t].affs)
	for k,v in pairs(affs) do
		if v then
			output = output..&quot; +&quot;..k..&quot;,&quot;
		end
	end
end

if output == &quot;&quot; then output = &quot;Nil known.&quot; end
cecho(sysfix..&quot; Estimated afflictions: &quot;..output)
</script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^dge([ ]+\w+)*$</regex>
                </Alias>
                <Alias isActive="yes" isFolder="no">
                    <name>disrupt disr</name>
                    <script>local str, stren = &quot;&quot;, &quot;queue eqbal shard disrupt direction &quot;

if matches[2] then
	str = stren:gsub(&quot;direction&quot;,matches[2])
else
	local tablen = gmcp.Room.Info.exits

	for k, v in pairs(tablen) do
		local mix = stren
		mix = mix:gsub(&quot;direction&quot;,tostring(k))
		str = str..mix..sp
	end
end

send(str)</script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^disr([ ]+\w+)*$</regex>
                </Alias>
                <Alias isActive="yes" isFolder="no">
                    <name>follow</name>
                    <script>send(&quot;follow &quot;..matches[2])</script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^f[ ]+(\w+)$</regex>
                </Alias>
                <Alias isActive="yes" isFolder="no">
                    <name>gaze gz</name>
                    <script>local str = &quot;&quot;

expandAlias(&quot;ac off&quot;)

str = str..&quot;gaze &quot;

if matches[2] == &quot;m&quot; then
	str = str..&quot;moradeim&quot;
elseif matches[2] == &quot;a&quot; then
	str = str..&quot;aryana&quot;
elseif matches[2] == &quot;s&quot; then
	str = str..&quot;sukhder&quot;
else
	str = str..&quot;aryana&quot;
	-- str = str..&quot;moradeim&quot;
end

send(str)
tempTimer( 10, function() eden.send(&quot;autocuring rebounding on&quot;) end )</script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^gz( \w+)*$</regex>
                </Alias>
                <Alias isActive="yes" isFolder="no">
                    <name>^gmembers$</name>
                    <script>send(&quot;config pagelength 250&quot;)
send(&quot;gmembers&quot;)
send(&quot;config pagelength 30&quot;)
gmembers = {}
enableTrigger(&quot;gmember trigger&quot;)
tempTimer(1,function() disableTrigger(&quot;gmember trigger&quot;) end)</script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^gmembers$</regex>
                </Alias>
                <Alias isActive="yes" isFolder="no">
                    <name>harvest shard</name>
                    <script>send(&quot;harvest shard&quot;)</script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^hs$</regex>
                </Alias>
                <Alias isActive="yes" isFolder="no">
                    <name>landsense lse</name>
                    <script>send(&quot;landsense all&quot;)</script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^lse$</regex>
                </Alias>
                <Alias isActive="yes" isFolder="no">
                    <name>location me</name>
                    <script>local str = &quot;&quot;

str = str..&quot;I am at &quot;..gmcp.Room.Info.num..&quot; - &quot;..gmcp.Room.Info.name

local t = {
	[&quot;Argain&quot;] = &quot;Argain&quot;,
	[&quot;Auonab Island&quot;] = &quot;Auonab&quot;,
	[&quot;Bodah Island&quot;] = &quot;Bodah&quot;,
	[&quot;Kau'lathu Island&quot;] = &quot;Kaulathu&quot;,
	[&quot;Ki'lathu Island&quot;] = &quot;Kilathu&quot;,
	[&quot;Koakoa Island&quot;] = &quot;Koakoa&quot;,
	[&quot;Lithi Island&quot;] = &quot;Lithi&quot;,
	[&quot;Lysha Isle&quot;] = &quot;Lysha&quot;,
	[&quot;Takum Island&quot;] = &quot;Takum&quot;,
}

if t[gmcp.Room.Info.area] then
	str = str..&quot; [&quot;..t[gmcp.Room.Info.area]..&quot;]&quot;
end

report(str)</script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^me$</regex>
                </Alias>
                <Alias isActive="yes" isFolder="no">
                    <name>passive pass</name>
                    <script>send(&quot;order loyals passive&quot;)</script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^pass$</regex>
                </Alias>
                <Alias isActive="yes" isFolder="no">
                    <name>passive g</name>
                    <script>local str = &quot;&quot;
str = str..matches[2]
str = str..&quot; frak &quot;
if matches[3] then
	str = str..matches[3]
end

expandAlias(str)</script>
                    <command></command>
                    <packageName></packageName>
                    <regex>(.*)[ ]+rape(.*)*</regex>
                </Alias>
                <Alias isActive="yes" isFolder="no">
                    <name>path find</name>
                    <script>local str = &quot;&quot;

str = &quot;path find &quot;..matches[3]..sp

if matches[2] == &quot;g&quot; then
	str = str..&quot;path go&quot;..sp
end

send(str)</script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^pf(g)*[ ]+(.*)$</regex>
                </Alias>
                <Alias isActive="yes" isFolder="no">
                    <name>path shortest psg</name>
                    <script>local str = &quot;&quot;

str = &quot;path shortest &quot;..matches[3]..sp

if matches[2] == &quot;g&quot; then
	str = str..&quot;path go&quot;..sp
end

send(str)</script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^ps(g)*[ ]+(.*)$</regex>
                </Alias>
                <Alias isActive="yes" isFolder="no">
                    <name>powercall pcl</name>
                    <script>local str = &quot;&quot;

str = &quot;powercall &quot;..matches[2]..sp

expandAlias(&quot;ac off&quot;)
send(str)
</script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^pcl[ ]+(.*)$</regex>
                </Alias>
                <Alias isActive="yes" isFolder="no">
                    <name>powercall list plist</name>
                    <script>send(&quot;powercall list&quot;)</script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^plist$</regex>
                </Alias>
                <Alias isActive="yes" isFolder="no">
                    <name>sacrifice prs</name>
                    <script>send(&quot;perform ritual sacrifice&quot;..sp..&quot;sect faith&quot;..sp..&quot;sect belief&quot;)</script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^prs$</regex>
                </Alias>
                <Alias isActive="yes" isFolder="no">
                    <name>share on/off/full</name>
                    <script>local str = &quot;&quot;
if matches[2] then
	if matches[2] == &quot;on&quot; then
		config.share = true
		config.share_full = false
		str = str..&quot;&lt;red&gt;Sharing is &lt;green&gt;ON&lt;red&gt;.&quot;
	elseif matches[2] == &quot;off&quot; then
		config.share = false
		config.share_full = false
		str = str..&quot;&lt;green&gt;Sharing is &lt;red&gt;OFF&lt;red&gt;.&quot;
	else -- assuming == &quot;full&quot;
		config.share = true
		config.share_full = true
		str = str..&quot;&lt;red&gt;Sharing is &lt;green&gt;FULL&lt;red&gt;.&quot;
	end
else
	config.share = true
	config.share_full = false
	str = str..&quot;&lt;red&gt;Sharing is &lt;green&gt;ON&lt;red&gt;.&quot;
end

str = sysfix..str
cecho(str)

</script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^share(?:\s*)(on|off|full)*$</regex>
                </Alias>
                <Alias isActive="yes" isFolder="no">
                    <name>shield ts</name>
                    <script>send(&quot;touch shield&quot;)</script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^ts$</regex>
                </Alias>
                <Alias isActive="yes" isFolder="no">
                    <name>spyglass pis(d)</name>
                    <script>if matches[2] then
	send(&quot;peer in spyglass distant&quot;)
else
	send(&quot;peer in spyglass&quot;)
end</script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^pis(d)*$</regex>
                </Alias>
                <Alias isActive="yes" isFolder="no">
                    <name>switch profession sprof</name>
                    <script>local str = &quot;&quot;
str = str..&quot;switch profession &quot;..matches[2]..sp
str = str..&quot;agree&quot;..sp

send(str)</script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^sprof[ ]+(\w+)$</regex>
                </Alias>
                <Alias isActive="yes" isFolder="no">
                    <name>trueassess</name>
                    <script>if matches[2] then
	send(&quot;trueassess &quot;..matches[2])
else
	send(&quot;trueassess &quot;..target)
end</script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^ta( \w+)*$</regex>
                </Alias>
                <Alias isActive="yes" isFolder="no">
                    <name>try</name>
                    <script>
local str = &quot;&quot;
local tablen = {
	&quot;push&quot;,
	&quot;pull&quot;,
	&quot;touch&quot;,
	&quot;open&quot;,
	&quot;unlock&quot;,
	&quot;light&quot;,
	&quot;kick&quot;,
	&quot;twist&quot;,
}

for _, style in ipairs(tablen) do
	str = str..style..&quot; &quot;..matches[2]..sp
end

send(str) </script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^try[ ]+(.*)$</regex>
                </Alias>
                <Alias isActive="yes" isFolder="no">
                    <name>unlock unl</name>
                    <script>local tablen = {
	n = &quot;south&quot;,
	s = &quot;north&quot;,
	e = &quot;west&quot;,
	w = &quot;east&quot;,
	u = &quot;down&quot;,
	d = &quot;up&quot;,
	[&quot;in&quot;] = &quot;out&quot;,
	out = &quot;in&quot;,
	ne = &quot;sw&quot;,
	nw = &quot;se&quot;,
	se = &quot;nw&quot;,
	sw = &quot;ne&quot;,
}

local str = &quot;&quot;
str = str..&quot;unlock door &quot;..matches[2]..sp
str = str..&quot;open door &quot;..matches[2]..sp
str = str..matches[2]..sp
str = str..&quot;close door &quot;..tablen[matches[2]]..sp
str = str..&quot;lock door &quot;..tablen[matches[2]]..sp
send(str)
</script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^unl (\w+)$</regex>
                </Alias>
                <Alias isActive="yes" isFolder="no">
                    <name>vialbelt vbs</name>
                    <script>send(&quot;vialbelt summary&quot;)</script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^vbs$</regex>
                </Alias>
                <Alias isActive="yes" isFolder="no">
                    <name>vote</name>
                    <script>cecho(&quot;&lt;white&gt;(&lt;royal_blue&gt;Voting&quot;)
downloadFile(getMudletHomeDir()..&quot;/votePage.html&quot;, &quot;http://www.topmudsites.com/vote-avasyu.html&quot;)</script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^vote$</regex>
                </Alias>
                <AliasGroup isActive="yes" isFolder="yes">
                    <name>who group no imap</name>
                    <script></script>
                    <command></command>
                    <packageName>who group no imap</packageName>
                    <regex></regex>
                    <AliasGroup isActive="yes" isFolder="yes">
                        <name>who_grouping_aliases</name>
                        <script></script>
                        <command></command>
                        <packageName></packageName>
                        <regex></regex>
                        <Alias isActive="yes" isFolder="no">
                            <name>who group main</name>
                            <script>who_A = 0
who_M = 0
who_D = 0
who_list = {}
send(&quot;config pagelength 250&quot;)
send(&quot;who&quot;)
send(&quot;config pagelength 30&quot;)
enableTrigger(&quot;who_grouping&quot;)</script>
                            <command></command>
                            <packageName></packageName>
                            <regex>^whog$</regex>
                        </Alias>
                        <Alias isActive="yes" isFolder="no">
                            <name>grouping output</name>
                            <script>cecho(&quot;&lt;grey&gt;\n----------Groups----------\n&quot;)
for k,v in pairs(who_list) do
    if (#v.names &gt; 1) then
        echo(v.roomname)
        cecho(string.rep(&quot; &quot;,25-string.len(v.roomname))..&quot; has &lt;red&gt;&quot;..#v.names..&quot;&lt;grey&gt; people. (&lt;purple&gt;&quot;)
        for _,name in ipairs(v.names) do echo(&quot; &quot;..name) end
        echo(&quot; )\n&quot;)
    end
end</script>
                            <command></command>
                            <packageName></packageName>
                            <regex>^groups$</regex>
                        </Alias>
                        <Alias isActive="yes" isFolder="no">
                            <name>find invididual</name>
                            <script>matches[2] = string.title(matches[2])
echo(&quot;\n-----------Find-----------\n&quot;)
for k,v in pairs(who_list) do
    for _,current in pairs(v.names) do
        if (current == matches[2]) then
            echo(v.roomname)
            cecho(string.rep(&quot; &quot;,25-string.len(v.roomname))..&quot; has &lt;red&gt;&quot;..#v.names..&quot;&lt;grey&gt; people. (&lt;purple&gt;&quot;)
            for _,name in ipairs(v.names) do echo(&quot; &quot;..name) end
            echo(&quot; )\n&quot;)
        end
    end
end</script>
                            <command></command>
                            <packageName></packageName>
                            <regex>^find (\w+)$</regex>
                        </Alias>
                        <Alias isActive="yes" isFolder="no">
                            <name>individuals</name>
                            <script>cecho(&quot;&lt;grey&gt;\n----------Groups----------\n&quot;)
for k,v in pairs(who_list) do
    if (#v.names == 1) then
        echo(v.roomname)
        cecho(string.rep(&quot; &quot;,25-string.len(v.roomname))..&quot; has &lt;red&gt;&quot;..#v.names..&quot;&lt;grey&gt; people. (&lt;purple&gt;&quot;)
        for _,name in ipairs(v.names) do echo(&quot; &quot;..name) end
        echo(&quot; )\n&quot;)
    end
end</script>
                            <command></command>
                            <packageName></packageName>
                            <regex>^alone$</regex>
                        </Alias>
                    </AliasGroup>
                </AliasGroup>
                <AliasGroup isActive="yes" isFolder="yes">
                    <name>echo</name>
                    <script></script>
                    <command></command>
                    <packageName>echo</packageName>
                    <regex></regex>
                    <Alias isActive="yes" isFolder="no">
                        <name>`echo</name>
                        <script>local s = matches[2]

s = string.gsub(s, &quot;+n&quot;, &quot;\n&quot;)
feedTriggers(&quot;\n&quot; .. s .. &quot;\n&quot;)
echo(&quot;\n&quot;)</script>
                        <command></command>
                        <packageName></packageName>
                        <regex>`echo (.+)</regex>
                    </Alias>
                </AliasGroup>
                <AliasGroup isActive="yes" isFolder="yes">
                    <name>run-lua-code-v4</name>
                    <script></script>
                    <command></command>
                    <packageName>run-lua-code-v4</packageName>
                    <regex></regex>
                    <Alias isActive="yes" isFolder="no">
                        <name>run lua code</name>
                        <script>local f,e = loadstring(&quot;return &quot;..matches[2])
if not f then
	f,e = assert(loadstring(matches[2]))
end

local r = f()
if r ~= nil then display(r) end</script>
                        <command></command>
                        <packageName></packageName>
                        <regex>^lua (.*)$</regex>
                    </Alias>
                </AliasGroup>
                <AliasGroup isActive="yes" isFolder="yes">
                    <name>quotes qstart</name>
                    <script></script>
                    <command></command>
                    <packageName></packageName>
                    <regex></regex>
                    <Alias isActive="yes" isFolder="no">
                        <name>quote qstart</name>
                        <script>quote.start()</script>
                        <command></command>
                        <packageName></packageName>
                        <regex>^qstart$</regex>
                    </Alias>
                </AliasGroup>
                <AliasGroup isActive="yes" isFolder="yes">
                    <name>emgr</name>
                    <script></script>
                    <command></command>
                    <packageName></packageName>
                    <regex></regex>
                    <Alias isActive="yes" isFolder="no">
                        <name>enemy non-circle in room</name>
                        <script>local str = &quot;&quot;

str = str..&quot;unenemy all&quot;..sp

if overmind then
	for i=1,#overmind.players do
		local name = overmind.players[i]
		if dbp.gcirc(me) ~= dbp.gcirc(name) then
			str = str..&quot;enemy &quot;..name..sp
		end
	end
end

msend(str)</script>
                        <command></command>
                        <packageName></packageName>
                        <regex>^eall$</regex>
                    </Alias>
                </AliasGroup>
            </AliasGroup>
            <AliasGroup isActive="yes" isFolder="yes">
                <name>Accessory</name>
                <script></script>
                <command></command>
                <packageName></packageName>
                <regex></regex>
                <AliasGroup isActive="yes" isFolder="yes">
                    <name>bash</name>
                    <script></script>
                    <command></command>
                    <packageName></packageName>
                    <regex></regex>
                    <Alias isActive="yes" isFolder="no">
                        <name>^bash([ ]+on)*$</name>
                        <script>bash.turn_on()</script>
                        <command></command>
                        <packageName></packageName>
                        <regex>^bash([ ]+on)*$</regex>
                    </Alias>
                    <Alias isActive="yes" isFolder="no">
                        <name>^bash[ ]+off$</name>
                        <script>bash.turn_off()</script>
                        <command></command>
                        <packageName></packageName>
                        <regex>^bash[ ]+off$</regex>
                    </Alias>
                    <Alias isActive="yes" isFolder="no">
                        <name>^bash[ ]+r$</name>
                        <script>bash.reset()</script>
                        <command></command>
                        <packageName></packageName>
                        <regex>^bash[ ]+r(eset)*$</regex>
                    </Alias>
                    <Alias isActive="yes" isFolder="no">
                        <name>^bash[ ]+n$</name>
                        <script>bash.skip()</script>
                        <command></command>
                        <packageName></packageName>
                        <regex>^bash[ ]+n$</regex>
                    </Alias>
                </AliasGroup>
                <AliasGroup isActive="yes" isFolder="yes">
                    <name>arrows</name>
                    <script></script>
                    <command></command>
                    <packageName></packageName>
                    <regex></regex>
                    <Alias isActive="yes" isFolder="no">
                        <name>^arrow[ ]+make[ ]+(\d+)[ ]+(q(?:uiver(?:s)*)*[ ]+)*(?:of[ ]+)*(\w+)$</name>
                        <script>local quiver = matches[3]
if quiver == &quot;&quot; then quiver = false else quiver = true end
arrows.make( matches[4], matches[2], quiver )</script>
                        <command></command>
                        <packageName></packageName>
                        <regex>^arrow[ ]+make[ ]+(\d+)[ ]+(q(?:uiver(?:s)*)*[ ]+)*(?:of[ ]+)*(\w+)$</regex>
                    </Alias>
                    <Alias isActive="yes" isFolder="no">
                        <name>^arrow[ ]+add[ ]+(\d+)[ ]+(q(?:uiver(?:s)*)*[ ]+)*(?:of[ ]+)*(\w+)$</name>
                        <script>local quiver = matches[3]
if quiver == &quot;&quot; then quiver = false else quiver = true end
arrows.add( matches[4], matches[2], quiver )</script>
                        <command></command>
                        <packageName></packageName>
                        <regex>^arrow[ ]+add[ ]+(\d+)[ ]+(q(?:uiver(?:s)*)*[ ]+)*(?:of[ ]+)*(\w+)$</regex>
                    </Alias>
                    <Alias isActive="yes" isFolder="no">
                        <name>^reset[ ]+arrow(s)*$</name>
                        <script>arrows.reset()</script>
                        <command></command>
                        <packageName></packageName>
                        <regex>^reset[ ]+arrow(s)*$</regex>
                    </Alias>
                    <Alias isActive="yes" isFolder="no">
                        <name>^arrowq$</name>
                        <script>arrows.display()</script>
                        <command></command>
                        <packageName></packageName>
                        <regex>^arrowq$</regex>
                    </Alias>
                </AliasGroup>
                <AliasGroup isActive="yes" isFolder="yes">
                    <name>crits</name>
                    <script></script>
                    <command></command>
                    <packageName></packageName>
                    <regex></regex>
                    <Alias isActive="yes" isFolder="no">
                        <name>^crits$</name>
                        <script>crits.display()</script>
                        <command></command>
                        <packageName></packageName>
                        <regex>^crits$</regex>
                    </Alias>
                    <Alias isActive="yes" isFolder="no">
                        <name>^crit[ ]+r$</name>
                        <script>attackCounter = 0
critX2 = 0
critX4 = 0
critX8 = 0
critX16 = 0
critX32 = 0
totalCrits = 0
crits.reset()</script>
                        <command></command>
                        <packageName></packageName>
                        <regex>^crit[ ]+r$</regex>
                    </Alias>
                    <Alias isActive="yes" isFolder="no">
                        <name>^crit[ ]+on$</name>
                        <script>crits.on = true
cecho(&quot;\n&lt;green&gt;Crits ON&quot;)</script>
                        <command></command>
                        <packageName></packageName>
                        <regex>^crit[ ]+on$</regex>
                    </Alias>
                    <Alias isActive="yes" isFolder="no">
                        <name>^crit[ ]+off$</name>
                        <script>crits.on = false
cecho(&quot;\n&lt;red&gt;Crits OFF&quot;)</script>
                        <command></command>
                        <packageName></packageName>
                        <regex>^crit[ ]+off$</regex>
                    </Alias>
                </AliasGroup>
                <AliasGroup isActive="yes" isFolder="yes">
                    <name>smithing</name>
                    <script></script>
                    <command></command>
                    <packageName></packageName>
                    <regex></regex>
                    <Alias isActive="yes" isFolder="no">
                        <name>smith on/off</name>
                        <script>if matches[2] == &quot;on&quot; then
	smithing.on = true
	cecho(&quot;\n&lt;green&gt;Now Smithing.&quot;)
	smithing.reset()
elseif matches[2] == &quot;off&quot; then
	smithing.on = false
	cecho(&quot;\n&lt;red&gt;Stopped Smithing&quot;)
	smithing.reset()
end</script>
                        <command></command>
                        <packageName></packageName>
                        <regex>^smith[ ]+(on|off)$</regex>
                    </Alias>
                    <Alias isActive="yes" isFolder="no">
                        <name>^smith[ ]+make[ ]+(\d+)[ ]+(\w+)([ ]+.*)*$</name>
                        <script>if smithing.on then

	local valid_ingots = {
		&quot;rahnse&quot;,	
		&quot;sinn&quot;,
		&quot;isan&quot;,
		&quot;cuhpfehr&quot;,
		&quot;stehl&quot;,
		&quot;veritum&quot;,
		&quot;orichalcum&quot;,
		&quot;bone&quot;,
		&quot;crystehl&quot;,
	}
	local number = matches[2]
	local item = matches[3]
	local ingots, ingot_table, output = &quot;&quot;, {}, {}

	if matches[4] then
		ingots  = matches[4]
		ingot_table = string.split(ingots, &quot;%s+&quot;)
		for i=1, #ingot_table do
			if table.contains( valid_ingots, ingot_table[i] ) then
				output[ingot_table[i]] = tonumber( ingot_table[i-1] )
			end
		end
	end

	if output ~= {} then
		smithing.make( item, number, output )
	else
		smithing.make( item, number )
	end

else

	cecho(&quot;&lt;red&gt;Turn Smithing On First&quot;)

end</script>
                        <command></command>
                        <packageName></packageName>
                        <regex>^smith[ ]+make[ ]+(\d+)[ ]+(\w+)([ ]+.*)*$</regex>
                    </Alias>
                    <Alias isActive="yes" isFolder="no">
                        <name>^smith[ ]+add[ ]+(\d+)[ ]+(\w+)([ ]+.*)*$</name>
                        <script>if smithing.on then

	local valid_ingots = {
		&quot;rahnse&quot;,	
		&quot;sinn&quot;,
		&quot;isan&quot;,
		&quot;cuhpfehr&quot;,
		&quot;stehl&quot;,
		&quot;veritum&quot;,
		&quot;orichalcum&quot;,
		&quot;bone&quot;,
		&quot;crystehl&quot;,
	}
	local number = matches[2]
	local item = matches[3]
	local ingots, ingot_table, output = &quot;&quot;, {}, {}

	if matches[4] then
		ingots  = matches[4]
		ingot_table = string.split(ingots, &quot;%s+&quot;)
		for i=1, #ingot_table do
			if table.contains( valid_ingots, ingot_table[i] ) then
				output[ingot_table[i]] = tonumber( ingot_table[i-1] )
			end
		end
	end

	if output ~= {} then
		smithing.add( item, number, output )
	else
		smithing.add( item, number )
	end

else

	cecho(&quot;&lt;red&gt;Turn Smithing On First&quot;)

end</script>
                        <command></command>
                        <packageName></packageName>
                        <regex>^smith[ ]+add[ ]+(\d+)[ ]+(\w+)([ ]+.*)*$</regex>
                    </Alias>
                    <Alias isActive="yes" isFolder="no">
                        <name>^reset[ ]+smith(ing)*$</name>
                        <script>smithing.reset()</script>
                        <command></command>
                        <packageName></packageName>
                        <regex>^reset[ ]+smith(ing)*$</regex>
                    </Alias>
                    <Alias isActive="yes" isFolder="no">
                        <name>^smithq$</name>
                        <script>smithing.display()</script>
                        <command></command>
                        <packageName></packageName>
                        <regex>^smithq$</regex>
                    </Alias>
                    <Alias isActive="yes" isFolder="no">
                        <name>^smitho$</name>
                        <script>smithing.options()</script>
                        <command></command>
                        <packageName></packageName>
                        <regex>^smitho$</regex>
                    </Alias>
                </AliasGroup>
            </AliasGroup>
            <AliasGroup isActive="yes" isFolder="yes">
                <name>Iniar specific aliases!</name>
                <script></script>
                <command></command>
                <packageName></packageName>
                <regex></regex>
                <Alias isActive="yes" isFolder="no">
                    <name>point wand pw</name>
                    <script>local str = &quot;&quot;

if share then
	str = str..&quot;rt portal --&gt; target&quot;..sp
end
str = str..&quot;point 223304 at target&quot;

if matches[2] then
	str = str:gsub(&quot;target&quot;, matches[2])
else
	str = str:gsub(&quot;target&quot;, target)
end

send(str)</script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^pw( \w+)*$</regex>
                </Alias>
                <Alias isActive="yes" isFolder="no">
                    <name>undonate</name>
                    <script>if me == &quot;Iniar&quot; then
	local list = {
		6944,
		64774,
		93908,
		81585,
		68386,
		160296,
		92003,
		11960,
		62953,
		21350,
		199772,
		218544,
		167774,
		305970,
		168859,
		-- 223304,
	}

	local str = &quot;beckon artifacts&quot;..sp

	for i=1,#list do
		str = str..&quot;wear &quot;..list[i]..sp
	end
	send(str)
end
</script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^undon$</regex>
                </Alias>
                <Alias isActive="yes" isFolder="no">
                    <name>donate</name>
                    <script>if me == &quot;Iniar&quot; then
	local list = {
		6944,
		64774,
		93908,
		81585,
		68386,
		160296,
		92003,
		11960,
		62953,
		21350,
		199772,
		218544,
		167774,
		305970,
		168859,
		223304,
	}

	local str = &quot;beckon artifacts&quot;..sp

	for i=1,#list do
		str = str..&quot;remove &quot;..list[i]..sp
	end
	for i=1,#list do
		str = str..&quot;give &quot;..list[i]..&quot; to &quot;..matches[2]..sp
	end
	send(str)
end
</script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^donate[ ]+(\w+)*$</regex>
                </Alias>
                <Alias isActive="yes" isFolder="no">
                    <name>screendump</name>
                    <script>local filename = matches[2]
local path = &quot;&quot;

if os.getenv(&quot;HOME&quot;) == nil then
	path = invokeFileDialog(false, &quot;Where do you want to save the log?&quot;)
else
	path = os.getenv(&quot;HOME&quot;)
end

if path ~= &quot;&quot; then
  logScreen(path, filename)
end</script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^screendump (.+)$</regex>
                </Alias>
                <Alias isActive="yes" isFolder="no">
                    <name>doslaves</name>
                    <script>quests = quests or {}
quests.slaves = quests.slaves or {}
quests.slaves.on = quests.slaves.on or true

quests.slaves.loc = {
	-- 6243, -- amulet
	-- 4611, -- amulet
	303,
	339,
	3017,
	2979,
	2442,
	2444,
	8471,
	1615,
	13114,
}

quest.slaves.pointer = quest.slaves.pointer or 1

quests.slaves.next = function(num)
	local room = gmcp.Room.Info.num
	local goto = 0
	if not num then
		goto = quests.slaves.loc[1]
	else
		if quests.slaves.loc[num] then
			goto = quests.slaves.loc[num]
			goto = goto + 1
			goto = quests.slaves.loc[goto]
		end
	end
	local str = &quot;say follow me&quot;..sp
	str = str..&quot;path find &quot;..goto..sp
	str = str..&quot;path go&quot;..sp	

	tempTimer(2.5, function() send(str) end)
end

quests.slaves.next()
</script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^doslaves$</regex>
                </Alias>
                <AliasGroup isActive="yes" isFolder="yes">
                    <name>quests</name>
                    <script></script>
                    <command></command>
                    <packageName></packageName>
                    <regex></regex>
                    <Alias isActive="yes" isFolder="no">
                        <name>questsON q on</name>
                        <script>quest.on = true
cecho(&quot;\n&lt;white&gt;Quests &lt;green&gt;ON&lt;white&gt;&quot;)</script>
                        <command></command>
                        <packageName></packageName>
                        <regex>^q on$</regex>
                    </Alias>
                    <Alias isActive="yes" isFolder="no">
                        <name>questsOFF q off</name>
                        <script>quest.on = false
cecho(&quot;\n&lt;white&gt;Quests &lt;red&gt;OFF&lt;white&gt;&quot;)</script>
                        <command></command>
                        <packageName></packageName>
                        <regex>^q off$</regex>
                    </Alias>
                    <Alias isActive="yes" isFolder="no">
                        <name>^q permissions$</name>
                        <script>cecho(&quot;\n&lt;white&gt;Quest Permissions&quot;)
cecho(&quot;\n&lt;white&gt;-----------------&quot;)
for i=1,#quest.register do
	local str = &quot;&quot;
	local color = &quot;&quot;
	
	if quest[quest.register[i]].on then
		color = &quot;&lt;green&gt;&quot;
	else
		color = &quot;&lt;red&gt;&quot;
	end

	cecho(&quot;\n&lt;white&gt; - &quot;..color..quest.register[i]..&quot;&lt;white&gt;&quot;)
end</script>
                        <command></command>
                        <packageName></packageName>
                        <regex>^q permissions$</regex>
                    </Alias>
                    <Alias isActive="yes" isFolder="no">
                        <name>^q (\w+) on$</name>
                        <script>if quest[matches[2]] then
	quest[matches[2]].on = true
	cecho(&quot;\n&lt;white&gt; - Turning &lt;green&gt;ON&lt;white&gt; &quot;..matches[2])
end</script>
                        <command></command>
                        <packageName></packageName>
                        <regex>^q (\w+) on$</regex>
                    </Alias>
                    <Alias isActive="yes" isFolder="no">
                        <name>^q (\w+) off$</name>
                        <script>if quest[matches[2]] then
	quest[matches[2]].on = false
	cecho(&quot;\n&lt;white&gt; - Turning &lt;red&gt;OFF&lt;white&gt; &quot;..matches[2])
end</script>
                        <command></command>
                        <packageName></packageName>
                        <regex>^q (\w+) off$</regex>
                    </Alias>
                </AliasGroup>
                <Alias isActive="yes" isFolder="no">
                    <name>drown in spring dis</name>
                    <script>expandAlias(&quot;ac off&quot;)
send(&quot;drown in spring&quot;)</script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^dis$</regex>
                </Alias>
                <Alias isActive="yes" isFolder="no">
                    <name>dig grave</name>
                    <script>expandAlias(&quot;ac off&quot;)
send(&quot;dig grave&quot;)</script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^dg$</regex>
                </Alias>
                <Alias isActive="yes" isFolder="no">
                    <name>^cms$</name>
                    <script>local str = &quot;&quot;
local t = {
	&quot;Kragge&quot;,
	&quot;Cetara&quot;,
	&quot;Trevka&quot;,
	&quot;Anonna&quot;,
	&quot;Blackthorne&quot;,
}

for k,v in orderedPairs(t) do
	str = str..&quot;city mat&quot;..v..sp
end</script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^cms$</regex>
                </Alias>
                <Alias isActive="yes" isFolder="no">
                    <name>panick pc</name>
                    <script>
cecho( &quot;\n&lt;red&gt;PANICKING!&quot; )
cecho( &quot;\n&lt;red&gt;PANICKING!&quot; )
cecho( &quot;\n&lt;red&gt;PANICKING!&quot; )
local tablen = gmcp.Room.Info.exits

if class == &quot;Assassin&quot; or class == &quot;Predator&quot; then
	local str = &quot;dismount&quot;..sp
	for k, v in pairs(tablen) do
		send( str..&quot;evade &quot;..tostring(k) )
	end
elseif class == &quot;Mage&quot; then
	for k, v in pairs(tablen) do
		send( &quot;cast blink &quot;..tostring(k) )
	end
else
	for k, v in pairs(tablen) do
		send( tostring(k) )
	end
end</script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^pc$</regex>
                </Alias>
                <Alias isActive="yes" isFolder="no">
                    <name>pk reminder rg</name>
                    <script>if me == &quot;Iniar&quot; then
	local str = &quot;&quot;
	local date = os.date()

	str = str..&quot;message &quot;..me..&quot; &quot;
	str = str..&quot;[PK]: &quot;..string.title(string.lower(matches[2]))..&quot; &quot;
	str = str..date..&quot; &quot;
	str = str..matches[3]

	send(str)
end</script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^rg[ ]+(\w+)[ ]+(.*)$</regex>
                </Alias>
                <Alias isActive="yes" isFolder="no">
                    <name>statue stap</name>
                    <script>local str = &quot;&quot;

str = str..&quot;unwield left&quot;..sp
str = str..&quot;wield statue&quot;..sp
str = str..&quot;throw statue at ground&quot;..sp

send(str)</script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^stap$</regex>
                </Alias>
                <Alias isActive="yes" isFolder="no">
                    <name>^selth$</name>
                    <script>local str = &quot;&quot;

for k,v in pairs(targets) do
	str = str..v..&quot;, &quot;
end

str = &quot;rt seek &quot;..str

send(str)</script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^selth$</regex>
                </Alias>
                <Alias isActive="yes" isFolder="no">
                    <name>room trueassess rta</name>
                    <script>local str = &quot;&quot;
for k,v in pairs(overmind.players) do
	str = str..&quot;trueassess &quot;..v..sp
end

send(str)</script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^rta$</regex>
                </Alias>
                <Alias isActive="yes" isFolder="no">
                    <name>use with care ^check$</name>
                    <script>dbp.screen()</script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^check$</regex>
                </Alias>
                <Alias isActive="yes" isFolder="no">
                    <name>preserve tox toxin vialbelt</name>
                    <script>send(&quot;preserve toxin &quot;..matches[2]..&quot; in &quot;..matches[3])</script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^tox[ ]+(\w+)[ ]+(\d+)$</regex>
                </Alias>
                <Alias isActive="yes" isFolder="no">
                    <name>toxit vb</name>
                    <script>toxit.make(matches[2])</script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^toxit[ ]+(\d+)$</regex>
                </Alias>
                <Alias isActive="yes" isFolder="no">
                    <name>behead bh</name>
                    <script>expandAlias(&quot;ac off&quot;)
if matches[2] then
	send(&quot;behead &quot;..matches[2])
else
	send(&quot;behead &quot;..target)
end</script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^bh([ ]+\w+)*$</regex>
                </Alias>
                <Alias isActive="yes" isFolder="no">
                    <name>^s1$</name>
                    <script>if me == &quot;Iniar&quot; then
	local str = &quot;&quot;

	str = str..&quot;quickdraw 63436&quot;..sp
	str = str..&quot;swing 63436&quot;..sp

	send(str)
end</script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^s1$</regex>
                </Alias>
                <Alias isActive="yes" isFolder="no">
                    <name>^s2$</name>
                    <script>if me == &quot;Iniar&quot; then
	local str = &quot;&quot;

	str = str..&quot;quickdraw 126327&quot;..sp
	str = str..&quot;swing 126327&quot;..sp

	send(str)
end</script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^s2$</regex>
                </Alias>
            </AliasGroup>
        </AliasGroup>
        <AliasGroup isActive="yes" isFolder="yes">
            <name>autocuring</name>
            <script></script>
            <command></command>
            <packageName></packageName>
            <regex></regex>
            <Alias isActive="yes" isFolder="no">
                <name>mana health acpm/h</name>
                <script>if matches[2] == &quot;m&quot; then
	send(&quot;autocuring priority mana&quot;)
else
	send(&quot;autocuring priority health&quot;)
end</script>
                <command></command>
                <packageName></packageName>
                <regex>^acp(m|h)$</regex>
            </Alias>
            <Alias isActive="yes" isFolder="no">
                <name>ac on/off</name>
                <script>if matches[2] == &quot;off&quot; then
	pause = true
	send(&quot;autocuring off&quot;)
else
	pause = false
	send(&quot;autocuring on&quot;)
end</script>
                <command></command>
                <packageName></packageName>
                <regex>^ac (on|off)$</regex>
            </Alias>
            <AliasGroup isActive="yes" isFolder="yes">
                <name>prios</name>
                <script></script>
                <command></command>
                <packageName></packageName>
                <regex></regex>
                <Alias isActive="yes" isFolder="no">
                    <name>a1 &lt;insert&gt;</name>
                    <script>local str = &quot;&quot;

str = &quot;autocuring queue insert 1 &quot;
str = str..matches[2]

send(str)</script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^a1 (.*)$</regex>
                </Alias>
                <Alias isActive="yes" isFolder="no">
                    <name>neutral</name>
                    <script>ac.prio = &quot;neutral&quot;
local str = &quot;&quot;

str = str..&quot;autocuring priority health&quot;..sp
str = str..&quot;autocuring priority reset&quot;..sp
str = str..&quot;autocuring priority impatience 1&quot;..sp
str = str..&quot;autocuring priority penance 1&quot;..sp
str = str..&quot;autocuring priority stupidity 1&quot;..sp
str = str..&quot;autocuring priority slickness 1&quot;..sp
str = str..&quot;autocuring priority hemotoxin 2&quot;..sp

send(str)</script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^neutral$</regex>
                </Alias>
                <Alias isActive="yes" isFolder="no">
                    <name>prio +</name>
                    <script>send(&quot;autocuring priority &quot;..matches[2]..&quot; 1&quot;)</script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^prio[ ]+(\w+)$</regex>
                </Alias>
                <Alias isActive="yes" isFolder="no">
                    <name>^antimagick$</name>
                    <script></script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^antimagick$</regex>
                </Alias>
                <Alias isActive="yes" isFolder="no">
                    <name>^demonic$</name>
                    <script></script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^demonic$</regex>
                </Alias>
                <Alias isActive="yes" isFolder="no">
                    <name>^magick$</name>
                    <script></script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^magick$</regex>
                </Alias>
                <AliasGroup isActive="yes" isFolder="yes">
                    <name>antimagick</name>
                    <script></script>
                    <command></command>
                    <packageName></packageName>
                    <regex></regex>
                    <Alias isActive="yes" isFolder="no">
                        <name>outrider</name>
                        <script>ac.prio = &quot;outrider&quot;
local str = &quot;&quot;

str = str..&quot;autocuring priority reset&quot;..sp
str = str..&quot;autocuring priority impatience 1&quot;..sp
str = str..&quot;autocuring priority intense hypothermia 1&quot;..sp
str = str..&quot;autocuring priority severe hypothermia 1&quot;..sp
str = str..&quot;autocuring priority moderate hypothermia 1&quot;..sp
str = str..&quot;autocuring priority mild hypothermia 1&quot;..sp
str = str..&quot;autocuring priority nausea 1&quot;..sp
str = str..&quot;autocuring priority dryblood 1&quot;..sp
str = str..&quot;autocuring priority recurring freezing 1&quot;..sp
str = str..&quot;autocuring priority frostbite 1&quot;..sp
str = str..&quot;autocuring priority haemophilia 2&quot;..sp
str = str..&quot;autocuring priority butisol 2&quot;..sp
str = str..&quot;autocuring priority ablaze 2&quot;..sp
str = str..&quot;autocuring rebounding on&quot;..sp

send(str)</script>
                        <command></command>
                        <packageName></packageName>
                        <regex>^outrider$</regex>
                    </Alias>
                </AliasGroup>
                <AliasGroup isActive="yes" isFolder="yes">
                    <name>demonic</name>
                    <script></script>
                    <command></command>
                    <packageName></packageName>
                    <regex></regex>
                    <Alias isActive="yes" isFolder="no">
                        <name>summoner</name>
                        <script>ac.prio = &quot;summoner&quot;
local str = &quot;&quot;

str = str..&quot;autocuring priority reset&quot;..sp
str = str..&quot;autocuring priority impatience 1&quot;..sp
str = str..&quot;autocuring priority madness 1&quot;..sp
str = str..&quot;autocuring priority addiction 1&quot;..sp
str = str..&quot;autocuring priority burning nerves 1&quot;..sp
str = str..&quot;autocuring priority masochism 2&quot;..sp
str = str..&quot;autocuring priority hallucinations 2&quot;..sp
str = str..&quot;autocuring priority justice 3&quot;..sp
str = str..&quot;autocuring rebounding on&quot;..sp

send(str)</script>
                        <command></command>
                        <packageName></packageName>
                        <regex>^summoner$</regex>
                    </Alias>
                    <Alias isActive="yes" isFolder="no">
                        <name>^diabolist$</name>
                        <script>ac.prio = &quot;outrider&quot;
local str = &quot;&quot;

str = str..&quot;autocuring priority reset&quot;..sp
str = str..&quot;autocuring priority impatience 1&quot;..sp
str = str..&quot;autocuring priority slickness 1&quot;..sp
str = str..&quot;autocuring priority asthma 1&quot;..sp
str = str..&quot;autocuring priority hemotoxin 1&quot;..sp
str = str..&quot;autocuring priority stupidity 1&quot;..sp
str = str..&quot;autocuring rebounding on&quot;..sp

send(str)</script>
                        <command></command>
                        <packageName></packageName>
                        <regex>^diabolist$</regex>
                    </Alias>
                </AliasGroup>
                <AliasGroup isActive="yes" isFolder="yes">
                    <name>magick</name>
                    <script></script>
                    <command></command>
                    <packageName></packageName>
                    <regex></regex>
                    <Alias isActive="yes" isFolder="no">
                        <name>bard</name>
                        <script>ac.prio = &quot;bard&quot;
local str = &quot;&quot;

str = str..&quot;autocuring priority reset&quot;..sp
str = str..&quot;autocuring priority impatience 1&quot;..sp
str = str..&quot;autocuring priority recklessness 1&quot;..sp
str = str..&quot;autocuring priority numbness 1&quot;..sp
str = str..&quot;autocuring priority masochism 2&quot;..sp
str = str..&quot;autocuring priority confusion 2&quot;..sp
str = str..&quot;autocuring priority dizziness 3&quot;..sp

send(str)</script>
                        <command></command>
                        <packageName></packageName>
                        <regex>^bard$</regex>
                    </Alias>
                    <Alias isActive="yes" isFolder="no">
                        <name>hunter</name>
                        <script>ac.prio = &quot;hunter&quot;
local str = &quot;&quot;

str = str..&quot;autocuring priority reset&quot;..sp
str = str..&quot;autocuring priority impatience 1&quot;..sp
str = str..&quot;autocuring priority peace 1&quot;..sp
str = str..&quot;autocuring priority poisoned mind 1&quot;..sp
str = str..&quot;autocuring priority poisoned blood 1&quot;..sp
str = str..&quot;autocuring priority numbness 1&quot;..sp
str = str..&quot;autocuring priority hallucinations 2&quot;..sp
str = str..&quot;autocuring priority recklessness 2&quot;..sp

send(str)</script>
                        <command></command>
                        <packageName></packageName>
                        <regex>^hunter$</regex>
                    </Alias>
                    <Alias isActive="yes" isFolder="no">
                        <name>druid</name>
                        <script></script>
                        <command></command>
                        <packageName></packageName>
                        <regex>^druid$</regex>
                    </Alias>
                    <Alias isActive="yes" isFolder="no">
                        <name>mage</name>
                        <script></script>
                        <command></command>
                        <packageName></packageName>
                        <regex>^mage$</regex>
                    </Alias>
                    <Alias isActive="yes" isFolder="no">
                        <name>runeguard</name>
                        <script></script>
                        <command></command>
                        <packageName></packageName>
                        <regex>^runeguard$</regex>
                    </Alias>
                </AliasGroup>
            </AliasGroup>
        </AliasGroup>
        <AliasGroup isActive="yes" isFolder="yes">
            <name>Queues</name>
            <script></script>
            <command></command>
            <packageName></packageName>
            <regex></regex>
            <Alias isActive="yes" isFolder="no">
                <name>qbard - v Bard </name>
                <script>q_type = &quot;vBard&quot;</script>
                <command></command>
                <packageName></packageName>
                <regex>^qbard$</regex>
            </Alias>
            <Alias isActive="yes" isFolder="no">
                <name>qmen - v Mental</name>
                <script>q_type = &quot;vMental&quot;</script>
                <command></command>
                <packageName></packageName>
                <regex>^qmen$</regex>
            </Alias>
            <Alias isActive="yes" isFolder="no">
                <name>qphy - v Physical</name>
                <script>q_type = &quot;vPhysical&quot;</script>
                <command></command>
                <packageName></packageName>
                <regex>^qphy$</regex>
            </Alias>
            <Alias isActive="yes" isFolder="no">
                <name>qn - Default</name>
                <script>q_type = &quot;Normal&quot;</script>
                <command></command>
                <packageName></packageName>
                <regex>^qn$</regex>
            </Alias>
            <Alias isActive="yes" isFolder="no">
                <name>qwa - W Afflictor </name>
                <script>q_type = &quot;wAfflictor&quot;</script>
                <command></command>
                <packageName></packageName>
                <regex>^qwa$</regex>
            </Alias>
            <Alias isActive="yes" isFolder="no">
                <name>qwsum - W Summoner</name>
                <script>q_type = &quot;wSummoner&quot;</script>
                <command></command>
                <packageName></packageName>
                <regex>^qwsum$</regex>
            </Alias>
            <Alias isActive="yes" isFolder="no">
                <name>qwdk - W Deathknight</name>
                <script>q_type = &quot;wDeathknight&quot;</script>
                <command></command>
                <packageName></packageName>
                <regex>^qwdk$</regex>
            </Alias>
        </AliasGroup>
        <Alias isActive="yes" isFolder="no">
            <name>quickdraw qd</name>
            <script>local l,r = &quot;&quot;,&quot;&quot;

if _l ~= &quot;&quot; then l = _l
else
	l = &quot;shield&quot;
end
if _r ~= &quot;&quot; then r = _r
else
	-- default here
end
r = &quot; &quot;..r

if quickdraw then
	send(&quot;quickdraw &quot;..l..r)
else
	send(&quot;unwield left&quot;..sp..&quot;unwield right&quot;..sp..&quot;wield &quot;..l..sp..&quot;wield &quot;..r)
end</script>
            <command></command>
            <packageName></packageName>
            <regex>^qd$</regex>
        </Alias>
        <Alias isActive="yes" isFolder="no">
            <name>^qd1$</name>
            <script>if class == &quot;Deathknight&quot; then
	send(&quot;quickdraw claymore&quot;)
end</script>
            <command></command>
            <packageName></packageName>
            <regex>^qd1$</regex>
        </Alias>
        <Alias isActive="yes" isFolder="no">
            <name>^qd2$</name>
            <script>send(&quot;quickdraw broadsword shield&quot;)</script>
            <command></command>
            <packageName></packageName>
            <regex>^qd2$</regex>
        </Alias>
        <AliasGroup isActive="no" isFolder="yes">
            <name>Assassin</name>
            <script></script>
            <command></command>
            <packageName></packageName>
            <regex></regex>
            <AliasGroup isActive="yes" isFolder="yes">
                <name>defences</name>
                <script></script>
                <command></command>
                <packageName></packageName>
                <regex></regex>
                <Alias isActive="yes" isFolder="no">
                    <name>harden har</name>
                    <script>send(&quot;harden&quot;)</script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^har$</regex>
                </Alias>
                <Alias isActive="yes" isFolder="no">
                    <name>hide hid</name>
                    <script>send(&quot;hide&quot;)</script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^hid$</regex>
                </Alias>
                <Alias isActive="yes" isFolder="no">
                    <name>weaving wvg</name>
                    <script>send(&quot;weaving on&quot;)</script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^wvg$</regex>
                </Alias>
                <Alias isActive="yes" isFolder="no">
                    <name>weaving off wvgo</name>
                    <script>send(&quot;weaving off&quot;)</script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^wvgo$</regex>
                </Alias>
                <Alias isActive="yes" isFolder="no">
                    <name>ghost gho</name>
                    <script>send(&quot;conjure ghost&quot;)</script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^gho$</regex>
                </Alias>
            </AliasGroup>
            <AliasGroup isActive="yes" isFolder="yes">
                <name>hypnosis</name>
                <script></script>
                <command></command>
                <packageName></packageName>
                <regex></regex>
                <Alias isActive="yes" isFolder="no">
                    <name>hypnotise hyp</name>
                    <script>if matches[2] then
	send(&quot;hypnotise &quot;..matches[2])
else
	send(&quot;hypnotise &quot;..target)
end</script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^hyp([ ]+\w+)*$</regex>
                </Alias>
                <Alias isActive="yes" isFolder="no">
                    <name>^r(\d)$</name>
                    <script>local str = &quot;&quot;
local d = tonumber(matches[2])
local t = {
	&quot;impatience&quot;,
	&quot;hypochondria&quot;,
	&quot;deadening&quot;,
	&quot;hallucinations&quot;,
	&quot;claustrophobia&quot;,
	&quot;masochism&quot;,
	&quot;lethargy&quot;,
	&quot;confusion&quot;,
}
str = str..&quot;suggest target aff&quot;..sp
if t[d] then
	str = str:gsub(&quot;aff&quot;,t[d])
else
	str = str:gsub(&quot;aff&quot;,&quot;hypochondria&quot;)
end
if d == 0 then
	if matches[3] then
		str = &quot;seal target 1&quot;..sp
	else
		str = &quot;seal target 3&quot;..sp
	end
end

str = str:gsub(&quot;target&quot;,target)
send(str)
</script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^r(\d)([ ]+\d+)*$</regex>
                </Alias>
                <Alias isActive="yes" isFolder="no">
                    <name>snap rn</name>
                    <script>if matches[2] then
	send(&quot;snap &quot;..matches[2])
else
	send(&quot;snap &quot;..target)
end</script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^rn([ ]+\w+)*$</regex>
                </Alias>
            </AliasGroup>
            <AliasGroup isActive="yes" isFolder="yes">
                <name>spatium</name>
                <script></script>
                <command></command>
                <packageName></packageName>
                <regex></regex>
                <Alias isActive="yes" isFolder="no">
                    <name>volcano vol</name>
                    <script>local str = &quot;&quot;

str = str..&quot;worm create&quot;..sp
str = str..&quot;queue eqbal worm attach volcano&quot;

send(str)</script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^vol$</regex>
                </Alias>
                <Alias isActive="yes" isFolder="no">
                    <name>demonic dem</name>
                    <script>local str = &quot;&quot;

str = str..&quot;worm create&quot;..sp
str = str..&quot;queue eqbal worm attach demonic&quot;
send(str)</script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^dem$</regex>
                </Alias>
                <Alias isActive="yes" isFolder="no">
                    <name>tundra tun</name>
                    <script>local str = &quot;&quot;

str = str..&quot;worm create&quot;..sp
str = str..&quot;queue eqbal worm attach tundra&quot;
send(str)</script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^tun$</regex>
                </Alias>
                <Alias isActive="yes" isFolder="no">
                    <name>circular cir</name>
                    <script>local str = &quot;&quot;

str = str..&quot;worm create&quot;..sp
str = str..&quot;queue eqbal worm attach circular&quot;
send(str)</script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^cir$</regex>
                </Alias>
                <Alias isActive="yes" isFolder="no">
                    <name>rashirmir dre</name>
                    <script>local str = &quot;&quot;

str = str..&quot;worm create&quot;..sp
str = str..&quot;queue eqbal worm attach rashirmir&quot;
send(str)</script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^dre$</regex>
                </Alias>
                <Alias isActive="yes" isFolder="no">
                    <name>engulf eng</name>
                    <script>local str, name = &quot;&quot;, &quot;&quot;

if matches[2] then
	name = matches[2]
else
	name = target
end

str = str..&quot;worm engulf target&quot;..sp
str = str:gsub(&quot;target&quot;, name)

send(str)</script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^eng([ ]+\w+)*$</regex>
                </Alias>
                <Alias isActive="yes" isFolder="no">
                    <name>demon protect pro</name>
                    <script>send(&quot;demon protect&quot;)</script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^pro$</regex>
                </Alias>
                <Alias isActive="yes" isFolder="no">
                    <name>demon return dr</name>
                    <script>send(&quot;queue eqbal demon return&quot;)</script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^dr$</regex>
                </Alias>
                <Alias isActive="yes" isFolder="no">
                    <name>demon explode dex</name>
                    <script>send(&quot;queue eqbal demon explode&quot;)</script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^dex$</regex>
                </Alias>
                <Alias isActive="yes" isFolder="no">
                    <name>demon scent ds</name>
                    <script>send(&quot;queue eqbal demon scent&quot;)</script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^ds$</regex>
                </Alias>
                <Alias isActive="yes" isFolder="no">
                    <name>summon demon sud</name>
                    <script>send(&quot;queue eq worm summon demon&quot;)</script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^sud$</regex>
                </Alias>
            </AliasGroup>
            <Alias isActive="yes" isFolder="no">
                <name>arrows sht</name>
                <script>local tablen = gmcp.Room.Info.exits
local str, stren = &quot;&quot;, &quot;&quot;
str = str..&quot;snipe target direction&quot;..sp

if matches[2] then
	str = string.gsub( str, &quot;target&quot;, matches[2] )
else
	str = string.gsub( str, &quot;target&quot;, target )
end

if quickdraw then
	if bow and bow[1] then
		stren = &quot;quickdraw &quot;..bow[1]..sp..stren
	else
		stren = &quot;quickdraw bow&quot;..sp..stren
	end
else
	if bow and bow[1] then
		stren = &quot;unwield left&quot;..sp..&quot;unwield right&quot;..sp..&quot;wield &quot;..bow[1]..sp
	else
		stren = &quot;unwield left&quot;..sp..&quot;unwield right&quot;..sp..&quot;wield bow&quot;..sp
	end
end

for k, v in pairs(tablen) do
	stren = stren..string.gsub( str, &quot;direction&quot;, tostring(k) )
end

send(stren)</script>
                <command></command>
                <packageName></packageName>
                <regex>^sht([ ]+\w+)*$</regex>
            </Alias>
            <Alias isActive="yes" isFolder="no">
                <name>backstab bk</name>
                <script>local str = &quot;&quot;
str = str..&quot;autocuring rebounding off&quot;..sp
if matches[2] then
	str = str..&quot;backstab &quot;..matches[2]
else
	str = str..&quot;backstab &quot;..target
end
send(str)</script>
                <command></command>
                <packageName></packageName>
                <regex>^bk([ ]+\w+)*$</regex>
            </Alias>
            <Alias isActive="yes" isFolder="no">
                <name>bind bd</name>
                <script>local str = &quot;&quot;

str = str..&quot;bind target&quot;

if matches[2] then
	str = str:gsub(&quot;target&quot;,matches[2])
else
	str = str:gsub(&quot;target&quot;,target)
end</script>
                <command></command>
                <packageName></packageName>
                <regex>^bd([ ]+\w+)*$</regex>
            </Alias>
            <Alias isActive="yes" isFolder="no">
                <name>block bl</name>
                <script>send(&quot;block &quot;..matches[2])</script>
                <command></command>
                <packageName></packageName>
                <regex>^bl[ ]+(\w+)$</regex>
            </Alias>
            <Alias isActive="yes" isFolder="no">
                <name>cloak clk</name>
                <script>send(&quot;conjure cloak&quot;)</script>
                <command></command>
                <packageName></packageName>
                <regex>^clk$</regex>
            </Alias>
            <Alias isActive="yes" isFolder="no">
                <name>cyanide cy</name>
                <script>local str = &quot;&quot;

if player( target ) then

	if has(target,&quot;shield&quot;) then 
		str = str..&quot;touch hammer target&quot;..sp
		str = str..&quot;suggest target whisper&quot;..sp
	elseif has(target,&quot;rebounding&quot;) then
		str = str..&quot;flay target aura&quot;
	else
		str = str..&quot;dstab target cyanide bromine&quot;..sp
		str = str..&quot;suggest target whisper&quot;..sp
	end
else
	str = &quot;dstab target cyanide bromine&quot;..sp
	str = str..&quot;suggest target whisper&quot;..sp
end	
	
str = str:gsub(&quot;target&quot;,target)
send(str)</script>
                <command></command>
                <packageName></packageName>
                <regex>^cy$</regex>
            </Alias>
            <Alias isActive="yes" isFolder="no">
                <name>cyanide ca</name>
                <script>local str = &quot;&quot;
local name = target

if matches[2] then name = matches[2] end

local toxin, toxin2 = assassin.choose_toxin(name)
_hload(name)

if has(name,&quot;rebounding&quot;) then
	str = str..&quot;flay target aura&quot;..sp
elseif has(name, &quot;shield&quot;) then
	str = str..&quot;touch hammer target&quot;..sp
else
	str = str..&quot;dstab target cyanide &quot;..toxin2..sp
end	

str = str..&quot;worm shadowplant target kelp&quot;..sp

str = str:gsub(&quot;target&quot;,name)
send(str)

</script>
                <command></command>
                <packageName></packageName>
                <regex>^ca([ ]+\w+)*$</regex>
            </Alias>
            <Alias isActive="yes" isFolder="no">
                <name>envenom dart ed</name>
                <script>local dir, poi = &quot;&quot;,&quot;&quot;

dir = matches[2]
if matches[3] then poi = matches[3] else
	poi = &quot;ciguatoxin&quot;
end

send(&quot;envenom dart &quot;..dir..&quot; with &quot;..poi)</script>
                <command></command>
                <packageName></packageName>
                <regex>^ed[ ]+(\w+)([ ]+\w+)*$</regex>
            </Alias>
            <Alias isActive="yes" isFolder="no">
                <name>lay dart ld</name>
                <script>send(&quot;lay dart &quot;..matches[2])</script>
                <command></command>
                <packageName></packageName>
                <regex>^ld[ ]+(\w+)$</regex>
            </Alias>
            <Alias isActive="yes" isFolder="no">
                <name>lay snare ls</name>
                <script>send(&quot;lay snare &quot;..matches[2])</script>
                <command></command>
                <packageName></packageName>
                <regex>^ls[ ]+(\w+)$</regex>
            </Alias>
            <Alias isActive="yes" isFolder="no">
                <name>illusion hax</name>
                <script>local str = &quot;conjure illusion &quot;

if matches[2] then
	str = str..matches[2]
else
	str = str..&quot;all&quot;
end

str = str..&quot; $ME slowly raises his head and you see his eyes glowing bright white.&quot;
str = str..&quot;\\n&quot;
str = str..&quot;$ME begins tumbling towards the up.&quot;

local t = {
	&quot;$ME quickly eats a piece of kelp.&quot;,
	&quot;$ME takes a long drag off his pipe, exhaling a thick, musty smoke.&quot;,
	&quot;$ME touches a tree of life tattoo.&quot;,
	&quot;$ME concentrates on purging toxins from his body.&quot;,
	&quot;A look of extreme focus crosses the face of $ME.&quot;,

}

local count = 2

if dbp.gcirc(me) then
	local circ = dbp.gcirc(me)
	for k,v in pairs(overmind.players) do
		if player(v) then
			if dbp.gcirc(v) and circ == dbp.gcirc(v) then
				count = count - 1
				str = str..&quot;\\n&quot;
				str = str..&quot;You have slain &quot;..v..&quot;.&quot;
			end
		end
	end
end

if count &gt; 1 then
for i=count,1,-1 do
	local num = math.random( 1, #t )
	local arg = t[num]

	str = str..&quot;\\n&quot;
	str = str..arg

	table.remove(t,num)
end
end

send(str)</script>
                <command></command>
                <packageName></packageName>
                <regex>^hax([ ]+\w+)*$</regex>
            </Alias>
            <Alias isActive="yes" isFolder="no">
                <name>summon cobra cob</name>
                <script>local str = &quot;&quot;

str = str..&quot;summon cobra&quot;..sp
str = str..&quot;queue eqbal order loyals follow me&quot;..sp

send(str)</script>
                <command></command>
                <packageName></packageName>
                <regex>^cob$</regex>
            </Alias>
            <Alias isActive="yes" isFolder="no">
                <name>traps tp</name>
                <script>send(&quot;traps&quot;)</script>
                <command></command>
                <packageName></packageName>
                <regex>^tp$</regex>
            </Alias>
            <Alias isActive="yes" isFolder="no">
                <name>traps all tal</name>
                <script>send(&quot;traps all&quot;)</script>
                <command></command>
                <packageName></packageName>
                <regex>^tal$</regex>
            </Alias>
            <Alias isActive="yes" isFolder="no">
                <name>worm rescue wr</name>
                <script>send(&quot;worm rescue &quot;..matches[2])</script>
                <command></command>
                <packageName></packageName>
                <regex>^wr[ ]+(\w+)$</regex>
            </Alias>
        </AliasGroup>
        <Alias isActive="yes" isFolder="no">
            <name>City Report cpt</name>
            <script>-- Funds
local str = &quot;&quot;
str = str..&quot; Ministry       |  Funds  &quot;
str = str..&quot;\n&quot;
str = str..&quot;----------------------------&quot;
str = str..&quot;\n&quot;

for k,v in orderedPairs(city.funds) do
	str = str..&quot; o &quot;..string.rpad(string.title(k),13,&quot; &quot;)..&quot;| &quot;..string.lpad(tostring(v),10,&quot; &quot;)..&quot; gold \n&quot;
end

-- Materials
str = str..city.materials

-- Aides
str = str..&quot;\n&quot;
str = str..&quot; Ministry        |  Aides  &quot;
str = str..&quot;\n&quot;
str = str..&quot;------------------------------&quot;
str = str..&quot;\n&quot;
for k,v in orderedPairs(city.aides) do
	local name = &quot;&quot;
	if city.ministers[k] then name = city.ministers[k] end
	str = str..&quot; o &quot;..string.rpad(k,20,&quot; &quot;) -- Ministry
	str = str..string.rpad(&quot;(&quot;..name..&quot;)&quot;,14,&quot; &quot;) -- Person
	for i,j in pairs(city.mins) do if j== k then display(i) display(city.funds[i]) end
		if j == k and city.funds[i] then
			-- str = str..&quot;| &quot;..string.lpad(tostring(city.funds[i]),10,&quot; &quot;)..&quot; gold&quot;
		end
	end
	str = str..&quot;| &quot;..table.concat(v,&quot;, &quot;)..&quot; \n&quot; -- Aides
end

cecho(str)</script>
            <command></command>
            <packageName></packageName>
            <regex>^cpt$</regex>
        </Alias>
        <Alias isActive="yes" isFolder="no">
            <name>city aides+ caid</name>
            <script>city.aides = {}
for k,v in orderedPairs(city.mins) do
	send(&quot;aides &quot;..k)
end</script>
            <command></command>
            <packageName></packageName>
            <regex>^caid$</regex>
        </Alias>
        <Alias isActive="yes" isFolder="no">
            <name>townes+ cityt</name>
            <script>enableTrigger(&quot;townes+&quot;)

city.townes = {}
local t = {&quot;Kragge&quot;, &quot;Cetara&quot;, &quot;Trevka&quot;, &quot;Annona&quot;, &quot;Blackthorne&quot;}

for k,v in orderedPairs(t) do
	send(&quot;help &quot;..v)
end</script>
            <command></command>
            <packageName></packageName>
            <regex>^cityt$</regex>
        </Alias>
        <Alias isActive="yes" isFolder="no">
            <name>^city$</name>
            <script>enableTrigger(&quot;ministers+&quot;)
expandAlias(&quot;help stavenn&quot;)

expandAlias(&quot;funds&quot;)
expandAlias(&quot;cms&quot;)
expandAlias(&quot;caid&quot;)

expandAlias(&quot;cityt&quot;)

tempTimer(1.5, function() 
		disableTrigger(&quot;townes+&quot;)
		expandAlias(&quot;cpt&quot;) 
	end)</script>
            <command></command>
            <packageName></packageName>
            <regex>^city$</regex>
        </Alias>
        <AliasGroup isActive="yes" isFolder="yes">
            <name>caravan</name>
            <script></script>
            <command></command>
            <packageName></packageName>
            <regex></regex>
            <Alias isActive="yes" isFolder="no">
                <name>caravan</name>
                <script>-- enableTrigger(&quot;caravan&quot;)
path = {}
send(&quot;path find &quot;..matches[2])</script>
                <command></command>
                <packageName></packageName>
                <regex>^cto (\d+)$</regex>
            </Alias>
            <Alias isActive="yes" isFolder="no">
                <name>caravango cgo</name>
                <script>send(&quot;lead caravan &quot;..path[1])</script>
                <command></command>
                <packageName></packageName>
                <regex>^cgo$</regex>
            </Alias>
            <Alias isActive="yes" isFolder="no">
                <name>^cms$</name>
                <script>if caravan and caravan.capture then caravan.capture = {} end
local tablen = {
	Antioch = {&quot;Anhir&quot;, &quot;El'jazira&quot;, &quot;Tylaran&quot;, &quot;Whistlerock&quot;, &quot;Arkaskarr&quot;},
	Ithaqua = {&quot;Pol'pera&quot;, &quot;Aherindale&quot;, &quot;Kadar&quot;, &quot;En'aruna&quot;, &quot;Agirni&quot;},
	Khandava = {&quot;Gadan&quot;, &quot;Mylani&quot;, &quot;Aori&quot;, &quot;Kibaya&quot;, &quot;Kaln&quot;},
	Stavenn = {&quot;Kragge&quot;, &quot;Cetara&quot;, &quot;Trevka&quot;, &quot;Annona&quot;, &quot;Blackthorne&quot;},
	Celidon = {&quot;Ssyra&quot;, &quot;Sintcega&quot;, &quot;Trabine&quot;, &quot;Kipos&quot;, &quot;Dakker&quot;},
	Kinsarmar = {&quot;Kaark'krazul&quot;, &quot;Tirhin&quot;, &quot;Velin&quot;, &quot;Pabin'aquinumi&quot;, &quot;Tayar&quot;},
}
local str = &quot;&quot;
str = str..&quot;city mat summary towne&quot;..sp

local stren = &quot;&quot;
local _city = &quot;&quot;

for k,v in pairs(tablen) do
	if gmcp.Char.Status.city:match(k) then
		_city = tostring(k)
	end
end

for i=1, #tablen[_city] do
	stren = stren..str:gsub(&quot;towne&quot;,tablen[_city][i])
end
send(stren)</script>
                <command></command>
                <packageName></packageName>
                <regex>^cms$</regex>
            </Alias>
            <Alias isActive="yes" isFolder="no">
                <name>^cart$</name>
                <script>local str = &quot;&quot;
if string.match(gmcp.Char.Status.city,&quot;Stavenn&quot;) then
	str = str..&quot;\nStavenn (11807)&quot;
	str = str..&quot;\n------------------------&quot;
	str = str..&quot;\n&quot;
	str = str..&quot;\n&quot;..string.rpad(&quot;Annona&quot;,20,&quot; &quot;)..&quot;6510&quot;
	str = str..&quot;\n&quot;..string.rpad(&quot;Blackthorne&quot;,20,&quot; &quot;)..&quot;7460&quot;
	str = str..&quot;\n&quot;..string.rpad(&quot;Cetara&quot;,20,&quot; &quot;)..&quot;6628&quot;
	str = str..&quot;\n&quot;..string.rpad(&quot;Kragge&quot;,20,&quot; &quot;)..&quot;6549&quot;
	str = str..&quot;\n&quot;..string.rpad(&quot;Trevka&quot;,20,&quot; &quot;)..&quot;176&quot;
end
cecho(str)</script>
                <command></command>
                <packageName></packageName>
                <regex>^cart$</regex>
            </Alias>
        </AliasGroup>
        <AliasGroup isActive="yes" isFolder="yes">
            <name>mudlet-mapper</name>
            <script></script>
            <command></command>
            <packageName>mudlet-mapper</packageName>
            <regex></regex>
            <AliasGroup isActive="yes" isFolder="yes">
                <name>Mudlet Mapper</name>
                <script>mudlet = mudlet or {}; mudlet.mapper_script = true</script>
                <command></command>
                <packageName></packageName>
                <regex></regex>
                <Alias isActive="yes" isFolder="no">
                    <name>Go to ID or area</name>
                    <script>local where = matches[2]:lower()
local gallop
if command:ends(&quot;gallop&quot;) then
  gallop = &quot;gallop&quot;
  where = where:sub(1, -8)
elseif command:ends(&quot;sprint&quot;) then
  gallop = &quot;sprint&quot;
  where = where:sub(1, -8)
elseif command:ends(&quot;dash&quot;) then
  gallop = &quot;dash&quot;
  where = where:sub(1, -6)
elseif command:ends(&quot;runaway&quot;) then
  gallop = &quot;runaway&quot;
  where = where:sub(1, -9)
elseif command:ends(&quot;glide&quot;) then
  gallop = &quot;glide&quot;
  where = where:sub(1, -7)
end

if mmp.debug then
  mmp.gotoPerf = mmp.gotoPerf or createStopWatch()
  startStopWatch(mmp.gotoPerf)
end

-- goto room ID
if tonumber(where) then
	mmp.gotoRoom(where, gallop)
else
	-- goto area
    local split = where:split(&quot; &quot;)
    if tonumber(split[#split]) then
        mmp.gotoArea(where:sub(1, -#(split[#split])-2), tonumber(split[#split]), gallop)
    else
        mmp.gotoArea(where, nil, gallop)
    end
end

if mmp.debug then
  mmp.echo(&quot;goto alias took &quot;..stopStopWatch(mmp.gotoPerf)..&quot;s to run.&quot;)
end</script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^goto (.+)$</regex>
                </Alias>
                <Alias isActive="yes" isFolder="no">
                    <name>View roomID or area</name>
                    <script>local where = matches[2]

if not where then
	centerview(mmp.currentroom)
elseif tonumber(where) then -- view a room ID
	centerview(where)
else -- view an area
	mmp.viewArea (where)
end</script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^mmap ?(.+)?$</regex>
                </Alias>
                <Alias isActive="yes" isFolder="no">
                    <name>Toggle pause</name>
                    <script>mmp.pause(matches[2])</script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^mpp(?:\s?(on|off))?$</regex>
                </Alias>
                <Alias isActive="yes" isFolder="no">
                    <name>Stop walking</name>
                    <script>mmp.stop()</script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^mstop$</regex>
                </Alias>
                <Alias isActive="yes" isFolder="no">
                    <name>Option</name>
                    <script>if not matches[2] then
	mmp.settings:showAllOptions()
	return
end

local val = matches[4]
if val == &quot;true&quot; or val == &quot;yes&quot; or val == &quot;on&quot; then val = true end
if val == &quot;false&quot; or val == &quot;no&quot; or val == &quot;off&quot; then val = false end

mmp.settings:setOption(matches[3], val)</script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^mconfig( (\w+) (.*))?$</regex>
                </Alias>
                <Alias isActive="yes" isFolder="no">
                    <name>Display area for lock/unlock</name>
                    <script>mmp.doLockArea(matches[2])</script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^arealock(?: (.*))?$</regex>
                </Alias>
                <Alias isActive="yes" isFolder="no">
                    <name>Add a room label</name>
                    <script>mmp.roomLabel(matches[2])</script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^room label (.+)$</regex>
                </Alias>
                <Alias isActive="yes" isFolder="no">
                    <name>View/delete area labels</name>
                    <script>mmp.areaLabels(matches[2])</script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^area labels ?(.+)?$</regex>
                </Alias>
                <Alias isActive="yes" isFolder="no">
                    <name>Room find</name>
                    <script>mmp.roomFind(matches[2])</script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^(?:rf|room find) (.+)$</regex>
                </Alias>
                <Alias isActive="yes" isFolder="no">
                    <name>Room look</name>
                    <script>mmp.roomLook(matches[2])</script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^(?:rl|room look)(?: (.+))?$</regex>
                </Alias>
                <Alias isActive="yes" isFolder="no">
                    <name>Room list</name>
                    <script>mmp.echoRoomList(matches[2] or mmp.areatabler[getRoomArea(mmp.currentroom)])</script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^room list(?: (.+))?$</regex>
                </Alias>
                <Alias isActive="yes" isFolder="no">
                    <name>Area list</name>
                    <script>mmp.echoAreaList()</script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^area list$</regex>
                </Alias>
                <AliasGroup isActive="yes" isFolder="yes">
                    <name>mm Mapping</name>
                    <script></script>
                    <command></command>
                    <packageName></packageName>
                    <regex></regex>
                    <Alias isActive="yes" isFolder="no">
                        <name>Manually set the room coordinates</name>
                        <script>-- want the current room, but we're lost
if matches[2] == '' and (not mmp.currentroom or not mmp.roomexists(mmp.currentroom)) then mmp.echo(&quot;Don't know where we are at the moment.&quot;) return end

-- want another room, but it doesn't actually exist
if matches[2] ~= '' and not mmp.roomexists(matches[2]) then mmp.echo(&quot;v&quot;..matches[2]..&quot; doesn't exist.&quot;) return end

local m = matches[3]
local rid, rname = (matches[2] ~= &quot;&quot; and matches[2] or mmp.currentroom),
  (matches[2] ~= &quot;&quot; and getRoomName(matches[2]) or mmp.currentroomname)
local x,y,z

local function set() -- small func to set things
  setRoomCoordinates(rid, x, y, z)
  mmp.echo(string.format(&quot;%s (%d) is now at %dx, %dy, %dz.\n&quot;, rname, rid, x,y,z))
  centerview(rid)
end

-- let's be flexible and allow several ways if giving an arg
-- rc x y z
x,y,z = string.match(m, &quot;(%-?%d+) (%-?%d+) (%-?%d+)&quot;)
if x then
  set(); return
end

-- rc xx? yy? zz?
x,y,z = string.match(m, &quot;(%-?%d+)x&quot;), string.match(m, &quot;(%-?%d+)y&quot;), string.match(m, &quot;(%-?%d+)z&quot;)
if x or y or z then
  -- merge w/ old coords if any are missing
  local ox, oy, oz = getRoomCoordinates(rid)
  x = x or ox; y = y or oy; z = z or oz
  set(); return
end

-- rc left/west, right/east, ...
local ox, oy, oz = getRoomCoordinates(rid)
local has = table.contains
for w in string.gmatch(m, &quot;%a+&quot;) do
  if has({&quot;west&quot;, &quot;left&quot;, &quot;w&quot;, &quot;l&quot;}, w) then
    x = (x or ox) - 1; y = (y or oy); z = (z or oz)
  elseif has({&quot;east&quot;, &quot;right&quot;, &quot;e&quot;, &quot;r&quot;}, w) then
    x = (x or ox) + 1; y = (y or oy); z = (z or oz)
  elseif has({&quot;north&quot;, &quot;top&quot;, &quot;n&quot;, &quot;t&quot;}, w) then
    x = (x or ox); y = (y or oy) + 1; z = (z or oz)
  elseif has({&quot;south&quot;, &quot;bottom&quot;, &quot;s&quot;, &quot;b&quot;}, w) then
    x = (x or ox); y = (y or oy) - 1; z = (z or oz)
  elseif has({&quot;northwest&quot;, &quot;topleft&quot;, &quot;nw&quot;, &quot;tl&quot;}, w) then
    x = (x or ox) - 1; y = (y or oy) + 1; z = (z or oz)
  elseif has({&quot;northeast&quot;, &quot;topright&quot;, &quot;ne&quot;, &quot;tr&quot;}, w) then
    x = (x or ox) + 1; y = (y or oy) + 1; z = (z or oz)
  elseif has({&quot;southeast&quot;, &quot;bottomright&quot;, &quot;se&quot;, &quot;br&quot;}, w) then
    x = (x or ox) + 1; y = (y or oy) - 1; z = (z or oz)
  elseif has({&quot;southwest&quot;, &quot;bottomleft&quot;, &quot;sw&quot;, &quot;bl&quot;}, w) then
    x = (x or ox) - 1; y = (y or oy) - 1; z = (z or oz)
  elseif has({&quot;up&quot;, &quot;u&quot;}, w) then
    x = (x or ox); y = (y or oy); z = (z or oz) + 1
  elseif has({&quot;down&quot;, &quot;d&quot;}, w) then
    x = (x or ox); y = (y or oy); z = (z or oz) - 1
  end

end
if x then set(); return end

mmp.echo([[Where do you want to move the room to?
  You can use direct coordinates or relative directions.]])</script>
                        <command></command>
                        <packageName></packageName>
                        <regex>^(?:rc|room coords) (?:v(\d+) )?(.+)$</regex>
                    </Alias>
                    <Alias isActive="yes" isFolder="no">
                        <name>Add a special exit</name>
                        <script>-- spe clear and spe list match on this
if matches[2] == &quot;clear&quot; or matches[2] == &quot;list&quot; then return end

-- need the current room, but we're lost
if not mmp.currentroom or not mmp.roomexists(mmp.currentroom) then mmp.echo(&quot;Don't know where we are at the moment.&quot;) return end

local otherroom = tonumber(matches[2]) or mmp.relativeroom(mmp.currentroom, matches[2])

-- need the another room, but it doesn't actually exist
if not otherroom or not mmp.roomexists(otherroom) then mmp.echo(matches[2]..&quot; doesn't exist.&quot;) return end

addSpecialExit(mmp.currentroom, tonumber(otherroom), matches[3])
addSpecialExit(mmp.currentroom, tonumber(otherroom), matches[3])
mmp.echo(string.format(&quot;Added special exit with command '%s' to %s (%d).&quot;, matches[3], getRoomName(otherroom), otherroom))
centerview(mmp.currentroom)</script>
                        <command></command>
                        <packageName></packageName>
                        <regex>^(?:spe|exit special) (\w+) (.+)$</regex>
                    </Alias>
                    <Alias isActive="yes" isFolder="no">
                        <name>Add a special exit from one remote room to another</name>
                        <script>local room1, room2 = tonumber(matches[2]), tonumber(matches[3])

if not room1 or not mmp.roomexists(room1) then
  mmp.echo(&quot;Room #&quot;..matches[2]..&quot; doesn't exist - create it first, or make sure you got the room ID right?&quot;)
  return
end

if not room2 or not mmp.roomexists(room2) then
  mmp.echo(&quot;Room #&quot;..matches[3]..&quot; doesn't exist - create it first, or make sure you got the room ID right?&quot;)
  return
end

addSpecialExit(room1, room2, matches[4])
mmp.echo(string.format(&quot;Added special exit with command '%s' to from %s (%d) to %s (%d).&quot;, matches[4], getRoomName(room1), room1, getRoomName(room2), room2))</script>
                        <command></command>
                        <packageName></packageName>
                        <regex>^spev (\d+) (\d+) (.+)$</regex>
                    </Alias>
                    <Alias isActive="yes" isFolder="no">
                        <name>List special exits</name>
                        <script>mmp.listSpecialExits(matches[2])</script>
                        <command></command>
                        <packageName></packageName>
                        <regex>^spe list(?: (.+))?$</regex>
                    </Alias>
                    <Alias isActive="yes" isFolder="no">
                        <name>Clear all special exits</name>
                        <script>-- want the current room, but we're lost
if not matches[2] and (not mmp.currentroom or not mmp.roomexists(mmp.currentroom)) then mmp.echo(&quot;Don't know where we are at the moment.&quot;) return end

-- want another room, but it doesn't exist
if matches[2] and tonumber(matches[2]) and not mmp.roomexists(matches[2]) then mmp.echo(&quot;v&quot;..matches[2]..&quot; doesn't exist.&quot;) return end

-- or a relative one
if matches[2] and not tonumber(matches[2]) and not mmp.relativeroom(mmp.currentroom, matches[2]) then mmp.echo(&quot;There is no room &quot;..matches[2].. &quot; of us.&quot;) return end

local rid = (not matches[2] and mmp.currentroom or (tonumber(matches[2]) or mmp.relativeroom(mmp.currentroom, matches[2])))

clearSpecialExits(rid)
mmp.echo(string.format(&quot;Cleared all special exits in %s (%d).\n&quot;, getRoomName(rid), rid))</script>
                        <command></command>
                        <packageName></packageName>
                        <regex>^(?:spe clear|exit special clear) ?(\w+)?$</regex>
                    </Alias>
                    <Alias isActive="yes" isFolder="no">
                        <name>Create a room</name>
                        <script>local m = matches[2]
local rid, rname
if mmp.roomexists(mmp.currentroom) then
  rid, rname = mmp.currentroom, mmp.currentroomname
end
local x,y,z

local function set(newid) -- small func to set things
  local rid = newid or createRoomID()
  addRoom(rid)
  setRoomCoordinates(rid, x, y, z)
  if mmp.roomexists(mmp.currentroom) then setRoomArea(rid, getRoomArea(mmp.currentroom)) end
  if mmp.roomexists(mmp.currentroom) then setRoomEnv(rid, getRoomEnv(mmp.currentroom)) end
  setExit(mmp.currentroom, rid, m)
  mmp.echo(string.format(&quot;Created new room (%d) at %dx, %dy, %dz.\n&quot;, rid, x,y,z))
  centerview(mmp.roomexists(mmp.currentroom) and mmp.currentroom or rid)
  if not mmp.roomexists(mmp.currentroom) then mmp.currentroom = rid; mmp.currentroomname = &quot;&quot; end
end

-- let's be flexible and allow several ways if giving an arg
-- rc v# x y z
newid, x,y,z = string.match(m, &quot;v(%d+) (%-?%d+) (%-?%d+) (%-?%d+)&quot;)
if x then
  set(newid); return
end

-- rc x y z
x,y,z = string.match(m, &quot;(%-?%d+) (%-?%d+) (%-?%d+)&quot;)
if x then
  set(); return
end


if not rid then
  mmp.echo(&quot;Don't know where we are at the moment in order to use relative coordinates.&quot;)
  return
end

-- rc xx? yy? zz?
x,y,z = string.match(m, &quot;(%-?%d+)x&quot;), string.match(m, &quot;(%-?%d+)y&quot;), string.match(m, &quot;(%-?%d+)z&quot;)
if x or y or z then
  -- merge w/ old coords if any are missing
  local ox, oy, oz = getRoomCoordinates(rid)
  x = x or ox; y = y or oy; z = z or oz
  set(); return
end

-- rc left/west, right/east, ...
local ox, oy, oz = getRoomCoordinates(rid)
local has = table.contains
for w in string.gmatch(m, &quot;%a+&quot;) do
  if has({&quot;west&quot;, &quot;left&quot;, &quot;w&quot;, &quot;l&quot;}, w) then
    x = (x or ox) - 1; y = (y or oy); z = (z or oz)
  elseif has({&quot;east&quot;, &quot;right&quot;, &quot;e&quot;, &quot;r&quot;}, w) then
    x = (x or ox) + 1; y = (y or oy); z = (z or oz)
  elseif has({&quot;north&quot;, &quot;top&quot;, &quot;n&quot;, &quot;t&quot;}, w) then
    x = (x or ox); y = (y or oy) + 1; z = (z or oz)
  elseif has({&quot;south&quot;, &quot;bottom&quot;, &quot;s&quot;, &quot;b&quot;}, w) then
    x = (x or ox); y = (y or oy) - 1; z = (z or oz)
  elseif has({&quot;northwest&quot;, &quot;topleft&quot;, &quot;nw&quot;, &quot;tl&quot;}, w) then
    x = (x or ox) - 1; y = (y or oy) + 1; z = (z or oz)
  elseif has({&quot;northeast&quot;, &quot;topright&quot;, &quot;ne&quot;, &quot;tr&quot;}, w) then
    x = (x or ox) + 1; y = (y or oy) + 1; z = (z or oz)
  elseif has({&quot;southeast&quot;, &quot;bottomright&quot;, &quot;se&quot;, &quot;br&quot;}, w) then
    x = (x or ox) + 1; y = (y or oy) - 1; z = (z or oz)
  elseif has({&quot;southwest&quot;, &quot;bottomleft&quot;, &quot;sw&quot;, &quot;bl&quot;}, w) then
    x = (x or ox) - 1; y = (y or oy) - 1; z = (z or oz)
  elseif has({&quot;up&quot;, &quot;u&quot;}, w) then
    x = (x or ox); y = (y or oy); z = (z or oz) + 1
  elseif has({&quot;down&quot;, &quot;d&quot;}, w) then
    x = (x or ox); y = (y or oy); z = (z or oz) - 1
  end

end
if x then set(); return end

mmp.echo([[Where do you want to move the room to?
  You can use direct coordinates or relative directions.]])</script>
                        <command></command>
                        <packageName></packageName>
                        <regex>^(?:rlc|room create) (.+)?$</regex>
                    </Alias>
                    <Alias isActive="yes" isFolder="no">
                        <name>Create a link between two rooms</name>
                        <script>-- need the current room, but we're lost
if not mmp.currentroom or not mmp.roomexists(mmp.currentroom) then mmp.echo(&quot;Don't know where we are at the moment.&quot;) return end

-- make sure the dir is valid
local dir = mmp.anytolong(matches[3])
if not dir then mmp.echo(matches[3]..&quot; isn't a valid normal exit.&quot;) return end

-- if we don't give a room number, then we want to auto-locate an appropriate room nearby.
local otherroom
if matches[2] == &quot;&quot; then
  local w = matches[3]
  local ox, oy, oz, x,y,z = getRoomCoordinates(mmp.currentroom)
  local has = table.contains
  if has({&quot;west&quot;, &quot;left&quot;, &quot;w&quot;, &quot;l&quot;}, w) then
    x = (x or ox) - 1; y = (y or oy); z = (z or oz)
  elseif has({&quot;east&quot;, &quot;right&quot;, &quot;e&quot;, &quot;r&quot;}, w) then
    x = (x or ox) + 1; y = (y or oy); z = (z or oz)
  elseif has({&quot;north&quot;, &quot;top&quot;, &quot;n&quot;, &quot;t&quot;}, w) then
    x = (x or ox); y = (y or oy) + 1; z = (z or oz)
  elseif has({&quot;south&quot;, &quot;bottom&quot;, &quot;s&quot;, &quot;b&quot;}, w) then
    x = (x or ox); y = (y or oy) - 1; z = (z or oz)
  elseif has({&quot;northwest&quot;, &quot;topleft&quot;, &quot;nw&quot;, &quot;tl&quot;}, w) then
    x = (x or ox) - 1; y = (y or oy) + 1; z = (z or oz)
  elseif has({&quot;northeast&quot;, &quot;topright&quot;, &quot;ne&quot;, &quot;tr&quot;}, w) then
    x = (x or ox) + 1; y = (y or oy) + 1; z = (z or oz)
  elseif has({&quot;southeast&quot;, &quot;bottomright&quot;, &quot;se&quot;, &quot;br&quot;}, w) then
    x = (x or ox) + 1; y = (y or oy) - 1; z = (z or oz)
  elseif has({&quot;southwest&quot;, &quot;bottomleft&quot;, &quot;sw&quot;, &quot;bl&quot;}, w) then
    x = (x or ox) - 1; y = (y or oy) - 1; z = (z or oz)
  elseif has({&quot;up&quot;, &quot;u&quot;}, w) then
    x = (x or ox); y = (y or oy); z = (z or oz) + 1
  elseif has({&quot;down&quot;, &quot;d&quot;}, w) then
    x = (x or ox); y = (y or oy); z = (z or oz) - 1
  end

  local carea = getRoomArea(mmp.currentroom)
  if not carea then mmp.echo(&quot;Don't know what area are we in.&quot;) return end

  otherroom = select(2, next(getRoomsByPosition(carea,x,y,z)))

  if not otherroom then
    mmp.echo(&quot;There isn't a room to the &quot;..w..&quot; that I see - try with an exact room id.&quot;) return
  end

else
  if not mmp.roomexists(matches[2]) then -- check that an explicit other room ID is valid
    mmp.echo(&quot;A room with id &quot;..matches[2].. &quot; doesn't exist.&quot;) return
  else
    otherroom = tonumber(matches[2])
  end
end

if setExit(mmp.currentroom, otherroom, matches[3]) then
  if not matches[4] then setExit(otherroom, mmp.currentroom, mmp.ranytolong(matches[3])) end

  mmp.echo(string.format(&quot;Linked %s (%d) to %s (%d) via a %s%s exit.&quot;,
    (getRoomName(mmp.currentroom) ~= &quot;&quot; and getRoomName(mmp.currentroom) or &quot;''&quot;), mmp.currentroom, (getRoomName(otherroom) ~= &quot;&quot; and getRoomName(otherroom) or &quot;''&quot;), otherroom, (matches[4] and &quot;one-way &quot; or ''), matches[3]))
else
  mmp.echo(&quot;Couldn't create an exit.&quot;)
end
centerview(mmp.currentroom)</script>
                        <command></command>
                        <packageName></packageName>
                        <regex>^(?:rlk|room link) ?(\d+)? (\w+)( one)?$</regex>
                    </Alias>
                    <Alias isActive="yes" isFolder="no">
                        <name>Delete a room</name>
                        <script>-- want the current room, but we're lost
if not matches[2] and (not mmp.currentroom or not mmp.roomexists(mmp.currentroom)) then mmp.echo(&quot;Don't know where we are at the moment.&quot;) return end

-- want another room, but it doesn't exist
if matches[2] and tonumber(matches[2]) and not mmp.roomexists(matches[2]) then mmp.echo(&quot;v&quot;..matches[2]..&quot; doesn't exist.&quot;) return end

-- or a relative one
if matches[2] and not tonumber(matches[2]) and not mmp.relativeroom(mmp.currentroom, matches[2]) then mmp.echo(&quot;There is no room &quot;..matches[2].. &quot; of us.&quot;) return end

local rid = (not matches[2] and mmp.currentroom or (tonumber(matches[2]) or mmp.relativeroom(mmp.currentroom, matches[2])))

local n = getRoomName(rid)
deleteRoom(rid)
mmp.echo(string.format(&quot;Deleted the %s (%d) room.\n&quot;, (n ~= &quot;&quot; and n or &quot;''&quot;), rid))
centerview(mmp.currentroom)</script>
                        <command></command>
                        <packageName></packageName>
                        <regex>^(?:rld|room delete) ?(\w+)?$</regex>
                    </Alias>
                    <Alias isActive="yes" isFolder="no">
                        <name>Delete a link</name>
                        <script>-- need the current room, but we're lost
if not mmp.currentroom or not mmp.roomexists(mmp.currentroom) then mmp.echo(&quot;Don't know where we are at the moment.&quot;) return end

-- make sure the dir is valid
local dir = mmp.anytolong(matches[2])
if not dir then mmp.echo(matches[2]..&quot; isn't a valid normal exit.&quot;) return end

-- gone already?
if not getRoomExits(mmp.currentroom)[dir] then mmp.echo(dir..&quot; link doesn't exist already.&quot;) end

-- locate the room on the other end, so we can unlink it from there as well if necessary
local otherroom
if getRoomExits(getRoomExits(mmp.currentroom)[dir])[mmp.ranytolong(dir)] then
  otherroom = getRoomExits(mmp.currentroom)[dir]
end

if setExit(mmp.currentroom, -1, dir) then
  if otherroom then
    if setExit(otherroom, -1, mmp.ranytolong(dir)) then
      mmp.echo(string.format(&quot;Deleted the %s exit from %s (%d).&quot;,
        dir, getRoomName(mmp.currentroom), mmp.currentroom))
     else mmp.echo(&quot;Couldn't delete the incoming exit.&quot;) end
  else
    mmp.echo(string.format(&quot;Deleted the one-way %s exit from %s (%d).&quot;,
      dir, getRoomName(mmp.currentroom), mmp.currentroom))
  end
else
  mmp.echo(&quot;Couldn't delete the outgoing exit.&quot;)
end
centerview(mmp.currentroom)</script>
                        <command></command>
                        <packageName></packageName>
                        <regex>^(?:urlk|room unlink) (\w+)$</regex>
                    </Alias>
                    <Alias isActive="yes" isFolder="no">
                        <name>Move room to another area</name>
                        <script>mmp.roomArea(matches[2], matches[3])</script>
                        <command></command>
                        <packageName></packageName>
                        <regex>^room area (?:v(\d+) )?(.+)$</regex>
                    </Alias>
                    <Alias isActive="yes" isFolder="no">
                        <name>Set a room character</name>
                        <script>local room = matches[3] or mmp.currentroom
room = tonumber(room) or mmp.relativeroom(mmp.currentroom, room)
if not room or not mmp.roomexists(room) then
  mmp.echo(&quot;Sorry - which room do you want to put this character in? I don't know where you are at the moment, if you want to do the current room.&quot;)
  return
end

local char = matches[2]

if char == &quot;clear&quot; then
  setRoomChar(room, ' ')
  mmp.echo(&quot;Cleared the character from &quot;..room..&quot; (&quot;..getRoomName(room)..&quot;)&quot;)
else
  setRoomChar(room, char)
  mmp.echo(&quot;Set the &quot;..char:sub(1,1)..&quot; character on &quot;..room..&quot; (&quot;..getRoomName(room)..&quot;)&quot;)
end
centerview(mmp.currentroom)</script>
                        <command></command>
                        <packageName></packageName>
                        <regex>^rcc ([^ ]+)(?: (\w+))?$</regex>
                    </Alias>
                    <Alias isActive="yes" isFolder="no">
                        <name>Set room weight</name>
                        <script>local weight = tonumber(matches[3]), room
if matches[2] == '' then room = mmp.currentroom
else
  room = tonumber(matches[2]) or mmp.relativeroom(mmp.currentroom, matches[2])
end

if not room or not mmp.roomexists(room) then
  mmp.echo(&quot;Sorry - which room do you want to set the weight on? I don't know where you are at the moment, if you want to do the current room.&quot;)
  return
end

if not weight then
  mmp.echo(&quot;What weight do you want to set on #&quot;..room..&quot;?&quot;)
end

local oldweight = getRoomWeight(room)
setRoomWeight(room, weight)

if weight &gt; oldweight then
  mmp.echo(&quot;Increased the room weight on #&quot;..room..&quot; (&quot;..getRoomName(room)..&quot;) by &quot;..(weight-oldweight)..&quot; to &quot;..weight..&quot; - making it less desirable to travel through.&quot;)
elseif weight &lt; oldweight then
  mmp.echo(&quot;Decreased the room weight on #&quot;..room..&quot; (&quot;..getRoomName(room)..&quot;) by &quot;..(oldweight-weight)..&quot; to &quot;..weight..&quot; - making it more desirable to travel through.&quot;)
else
  mmp.echo(&quot;The room weight on #&quot;..room..&quot; (&quot;..getRoomName(room)..&quot;) is already &quot;..weight..&quot;.&quot;)
end</script>
                        <command></command>
                        <packageName></packageName>
                        <regex>^rw(?: (\w+))? (\d+)$</regex>
                    </Alias>
                    <Alias isActive="yes" isFolder="no">
                        <name>Set exit weight</name>
                        <script>local room = (matches[2] ~= &quot;&quot; and tonumber(matches[2]) or mmp.currentroom)

local weight, exit = tonumber(matches[3]), matches[4]

if not roomExists(room) then mmp.echo(&quot;Room &quot;..room..&quot; doesn't exist. It has to before we can set weights on exits.&quot;) return end

setExitWeight(room, exit, weight)

mmp.echo(string.format(&quot;Set the weight on the %d room going %s to %s. If it's a two-way exit, please set the reverse exit as well.&quot;, room, exit, weight))</script>
                        <command></command>
                        <packageName></packageName>
                        <regex>^rwe(?: (\d+))? (\d+) (.+)$</regex>
                    </Alias>
                    <Alias isActive="yes" isFolder="no">
                        <name>Add/delete doors</name>
                        <script>local room = (matches[2] ~= &quot;&quot; and tonumber(matches[2]) or mmp.currentroom)

local direction, status = matches[3], matches[4]

if not roomExists(room) then mmp.echo(&quot;Room &quot;..room..&quot; doesn't exist. It has to before we can make doors in it.&quot;) return end

local validdirs = {'e', 's', 'w', 'n', 'ne', 'se', 'sw', 'nw', 'in', 'out', 'up', 'down'}

if not table.contains(validdirs, direction) then
  mmp.echo(&quot;Can't make a door in the '&quot;..direction..&quot;' direction - available choices are:\n  &quot;..table.concat(validdirs, ', '))
  return
end

local statusnum

if status == &quot;&quot; or status == &quot;open&quot; or status == &quot;o&quot; then
  statusnum = 1
elseif status == &quot;closed&quot; or status ==  &quot;c&quot; then
  statusnum = 2
elseif status == &quot;locked&quot; or status ==  &quot;l&quot; then
  statusnum = 3
elseif status == &quot;clear&quot; or status == &quot;gone&quot; then
  statusnum = 0
end

if not statusnum then mmp.echo(&quot;Unrecognized option - a door can be open, closed, locked or gone.&quot;) return end

setDoor(room, direction, statusnum)

if statusnum == 0 then
  mmp.echo(&quot;OK, door removed.&quot;)
else
  mmp.echo(&quot;OK, door added/adjusted.&quot;)
end</script>
                        <command></command>
                        <packageName></packageName>
                        <regex>^rd(?: (\d+))? (\w+)(?: (\w+))?$</regex>
                    </Alias>
                    <Alias isActive="no" isFolder="no">
                        <name>-- (area functions)</name>
                        <script></script>
                        <command></command>
                        <packageName></packageName>
                        <regex></regex>
                    </Alias>
                    <Alias isActive="yes" isFolder="no">
                        <name>Create an area</name>
                        <script>local t = getAreaTable(); local tr = {}; for k,v in pairs(t) do tr[v] = k end
local newid = table.maxn(tr) + 1

setAreaName( newid, matches[2] )
mmp.echo(string.format(&quot;Created new area %s (%d)&quot;, matches[2], newid))
centerview(mmp.currentroom)
raiseEvent(&quot;mmp areas changed&quot;)</script>
                        <command></command>
                        <packageName></packageName>
                        <regex>^area add (.+)$</regex>
                    </Alias>
                    <Alias isActive="yes" isFolder="no">
                        <name>Delete an area</name>
                        <script>mmp.deleteArea(matches[2])</script>
                        <command></command>
                        <packageName></packageName>
                        <regex>^area delete (.+)$</regex>
                    </Alias>
                    <Alias isActive="yes" isFolder="no">
                        <name>Cancel area deletion</name>
                        <script>if not mmp.deletingarea then mmp.echo(&quot;I wasn't deleting any areas already.&quot;) return end

local areaname = mmp.deletingarea.areaname
mmp.deletingarea = nil

mmp.echo(&quot;Stopped deleting rooms in the '&quot;..areaname..&quot;'. The area is partially missing its rooms now, you'll want to restart the process to finish it.&quot;)</script>
                        <command></command>
                        <packageName></packageName>
                        <regex>^cancel area deletion$</regex>
                    </Alias>
                    <Alias isActive="yes" isFolder="no">
                        <name>Rename an area</name>
                        <script>mmp.renameArea(matches[2])</script>
                        <command></command>
                        <packageName></packageName>
                        <regex>^area rename (.+)$</regex>
                    </Alias>
                    <Alias isActive="yes" isFolder="no">
                        <name>List continents</name>
                        <script>local tmp = getRoomUserData(1, &quot;areaContinents&quot;)
local continents = {}

if tmp ~= &quot;&quot; then
  continents = yajl.to_value(tmp)
end

if not next(continents) then mmp.echo(&quot;No continents known.&quot;)
else
  for continent, areadata in pairs(continents) do
    mmp.echo(continent..&quot; continent:&quot;)

    for _, areaid in ipairs(areadata) do
      cecho(&quot;  &quot;..getRoomAreaName(areaid)..&quot;\n&quot;)
    end
  end
end</script>
                        <command></command>
                        <packageName></packageName>
                        <regex>^(?:acl|area continents)$</regex>
                    </Alias>
                    <Alias isActive="yes" isFolder="no">
                        <name>Add area to continent</name>
                        <script>-- ac continent [optional area]

local continent = matches[2]:title()
local area
if not matches[3] then area = getRoomArea(mmp.currentroom)
elseif tonumber(matches[3]) then
  area = tonumber(matches[3])
  if getRoomAreaName(area) == -1 then area = nil end
else
  local areas = getAreaTable()

  for karea, id in pairs(areas) do if karea:lower():find(matches[3]:lower(), 1, true) then area = id break end end
end

if not area then mmp.echo(matches[3]..&quot; isn't a known area. Which one do you want to set?&quot;) return end

local tmp = getRoomUserData(1, &quot;areaContinents&quot;)
local continents = {}

if tmp ~= &quot;&quot; then
  continents = yajl.to_value(tmp)
end


if not continents[continent] and mmp.addingcontinent ~= continent then
  mmp.addingcontinent = continent
  mmp.echo(&quot;Continent &quot;..continent..&quot; isn't known so far - would you like to make a new one? Do this command again if so.&quot;)
  return
end

mmp.addingcontinent = nil

continents[continent] = continents[continent] or {}

-- have to use this instead of contains and index_of, because those count keys as well - and we don't want that
local function index_of(data, areaID)
  for i = 1, #data do
    if data[i] == areaID then return i end
  end

  return -1
end

if index_of(continents[continent], area) ~= -1 then
  mmp.echo(getRoomAreaName(area)..&quot; is already known as being on the &quot;..continent..&quot; continent.&quot;)
  return
else
  continents[continent][#continents[continent]+1] = area -- not a key, because yajl will put a ton of null's.
  mmp.echo(&quot;Recorded that &quot;..getRoomAreaName(area)..&quot; is on the &quot;..continent..&quot; continent.&quot;)

  -- remove from other areas if moving
  for kcontinent, data in pairs(continents) do
    if kcontinent ~= continent then
      local i = index_of(continents[kcontinent], area)
      if i ~= -1 then
        table.remove(continents[kcontinent], i)
        if not next(continents[kcontinent]) then continents[kcontinent] = nil end
        mmp.echo(&quot;De-listed &quot;..getRoomAreaName(area)..&quot; from the &quot;..kcontinent..&quot; continent.&quot;)
      end
    end
  end
end

local toserialize = yajl.to_string(continents)
setRoomUserData(1, &quot;areaContinents&quot;, toserialize)</script>
                        <command></command>
                        <packageName></packageName>
                        <regex>^ac ([\w']+)(?: (.+))?$</regex>
                    </Alias>
                    <Alias isActive="yes" isFolder="no">
                        <name>Add/remove a ferry room</name>
                        <script>local room = tonumber(matches[2])

-- load the ferry rooms if they haven't been already
if not mmp.ferry_rooms then
  local tmp = getRoomUserData(1, &quot;ferry rooms&quot;)

  mmp.ferry_rooms = {}
  if tmp ~= &quot;&quot; then
    for _, i in ipairs(yajl.to_value(tmp)) do
      mmp.ferry_rooms[i] = true
    end
  end
end

if matches[3] == &quot;add&quot; then
  if mmp.ferry_rooms[room] then
    mmp.echo(&quot;Ferry room #&quot;..room..&quot; is already recorded as such.&quot;) return
  else
    mmp.ferry_rooms[room] = true; mmp.echo(&quot;Added #&quot;..room..&quot; to be a ferry room.&quot;)
  end
else
  if not mmp.ferry_rooms[room] then
    mmp.echo(&quot;Room #&quot;..room..&quot; isn't a ferry one already.&quot;) return
  else
    mmp.ferry_rooms[room] = nil; mmp.echo(&quot;Removed #&quot;..room..&quot; from being a ferry room.&quot;)
  end
end

local keys = {}; for k,_ in pairs(mmp.ferry_rooms) do keys[#keys+1] = k end

setRoomUserData(1, &quot;ferry rooms&quot;, yajl.to_string(keys))</script>
                        <command></command>
                        <packageName></packageName>
                        <regex>^fr (\d+) (add|remove)$</regex>
                    </Alias>
                    <Alias isActive="yes" isFolder="no">
                        <name>Show ferry rooms</name>
                        <script>if not mmp.ferry_rooms then
  local tmp = getRoomUserData(1, &quot;ferry rooms&quot;)

  mmp.ferry_rooms = {}
  if tmp ~= &quot;&quot; then
    for _, i in ipairs(yajl.to_value(tmp)) do
      mmp.ferry_rooms[i] = true
    end
  end
end

mmp.echo(&quot;Ferry rooms available:&quot;)
if not next(mmp.ferry_rooms) then  mmp.echo(&quot;(none)&quot;) return end

for k, _ in pairs(mmp.ferry_rooms) do
  mmp.echo(string.format(&quot;  (%d) - %s\n&quot;, k, getRoomName(k)))
end</script>
                        <command></command>
                        <packageName></packageName>
                        <regex>^fr show$</regex>
                    </Alias>
                    <Alias isActive="yes" isFolder="no">
                        <name>Weight ferry exits</name>
                        <script>  local c = 0
  local weight = 200
  for area in pairs(mmp.areatabler) do
    local rooms = getAreaRooms(area) or {}
    for i = 0, #rooms do
      local exits = getSpecialExits(rooms[i] or 0)

       if exits and next(exits) then
         for exit, cmd in pairs(exits) do
           if type(cmd) == &quot;table&quot; then cmd = next(cmd) end

           if (cmd:lower():find(&quot;buy passage to&quot;, 1, true)) then
				setExitWeight(rooms[i], cmd, weight)
				mmp.echo(&quot;Weighted &quot;..cmd..&quot; going to &quot;..rooms[i]..&quot; (&quot;..getRoomName(rooms[i])..&quot;).&quot;)
             c = c + 1
           end
         end
       end
    end
  end

  mmp.echo(string.format(&quot;%s ferry exits weighted to %s (so we don't take them over too short distances).&quot;, c, weight))</script>
                        <command></command>
                        <packageName></packageName>
                        <regex>^weight ferry exits$</regex>
                    </Alias>
                    <Alias isActive="no" isFolder="no">
                        <name>-- (dangerous functions)</name>
                        <script></script>
                        <command></command>
                        <packageName></packageName>
                        <regex></regex>
                    </Alias>
                    <Alias isActive="yes" isFolder="no">
                        <name>Clear the map completely</name>
                        <script>if not mmp.map_delete_warning then
  mmp.echo(&quot;Are you really, really, really sure you want to delete all of the map to go to a blank state? Do the command again if you're certain.&quot;)
  mmp.map_delete_warning = true
  return
end

mmp.echo(&quot;Okay, deleting...&quot;)

tempTimer(.1, function()
  for name, id in pairs(getAreaTable()) do
    deleteArea(tonumber(id))
  end

  mmp.echo(&quot;Deleted everything. It's all gone.&quot;)
  mmp.map_delete_warning = nil
  centerview(1)
end)</script>
                        <command></command>
                        <packageName></packageName>
                        <regex>^map delete all$</regex>
                    </Alias>
                    <Alias isActive="yes" isFolder="no">
                        <name>Delete shop stockroom exits</name>
                        <script>mmp.echo(&quot;Deleting all known stockroom exits (rooms with $ and a down exit)&quot;)
local c = 0

for area, areaname in pairs(mmp.areatabler) do
  local rooms = getAreaRooms(area) or {}
  for i = 0, #rooms do
    local char = getRoomChar(rooms[i] or 0)
    if char == '$' then
      local exits = getRoomExits(rooms[i] or 0) -- retrieve after $, more efficient

      if exits.down then
        setExit(rooms[i], -1, 'down')
        mmp.echo(string.format(&quot;Deleted the stockroom exit at %s (#%d in %s)&quot;, getRoomName(rooms[i]), rooms[i], mmp.areatabler[getRoomArea(rooms[i])]))
        c = c + 1
      end
    end

  end
end

mmp.echo(string.format(&quot;Deleted %s known stockroom exit%s.&quot;, c, (c ~= 1 and 's' or '')))
centerview(mmp.currentroom)</script>
                        <command></command>
                        <packageName></packageName>
                        <regex>^delete known stockrooms$</regex>
                    </Alias>
                    <Alias isActive="yes" isFolder="no">
                        <name>Clear continent data</name>
                        <script>if not mmp.wipingcontinents then
  mmp.wipingcontinents = true
  mmp.echo(&quot;Are you sure you want to wipe all continent data? If yes, do this again.&quot;)
  return
end
mmp.wipingcontinents = nil

local toserialize = yajl.to_string{}
setRoomUserData(1, &quot;areaContinents&quot;, toserialize)
mmp.echo(&quot;Wiped all continents data.&quot;)</script>
                        <command></command>
                        <packageName></packageName>
                        <regex>^clear continent data$</regex>
                    </Alias>
                    <Alias isActive="yes" isFolder="no">
                        <name>Delete suffixed periods</name>
                        <script>mmp.echo(&quot;Deleting removing all periods at the end of room names...&quot;)
local c = 0

for area, areaname in pairs(mmp.areatabler) do
  local rooms = getAreaRooms(area) or {}
  for i = 0, #rooms do
    local name = getRoomName(rooms[i] or 0)
    if string.ends(name, &quot;.&quot;) then
      name = string.sub(name, 1, (#name-1))
      setRoomName(rooms[i], name)
      mmp.echo(string.format(&quot;Patched up room #%s - '%s'&quot;, rooms[i], name))
      c = c + 1
    end
  end
end

mmp.echo(string.format(&quot;Fixed up %s room%s.&quot;, c, (c ~= 1 and 's' or '')))</script>
                        <command></command>
                        <packageName></packageName>
                        <regex>^delete suffixed periods$</regex>
                    </Alias>
                    <Alias isActive="yes" isFolder="no">
                        <name>Find single exits</name>
                        <script>local c = 0

local getAreaRooms, getRoomExits, contains, echoLink, getRoomEnv, envidsr =
  getAreaRooms, getRoomExits, table.contains, echoLink, getRoomEnv, mmp.envidsr

for area, id in pairs(getAreaTable()) do
  for _, roomid in pairs(getAreaRooms(id)) do
    local exits = getRoomExits(roomid)
    for dir, otherroom in pairs(exits) do
      local otherexits = getRoomExits(otherroom) or {}
      if not contains(otherexits, roomid) then
        echoLink(string.format(&quot;%s -&gt; %s is oneway (%s-&gt;%s type)\n&quot;, roomid, otherroom,
          (envidsr and envidsr[getRoomEnv(roomid)] or &quot;?&quot;),
          (envidsr and envidsr[getRoomEnv(otherroom)] or &quot;?&quot;)),
        [[mmp.gotoRoom(]]..roomid..[[)]], &quot;Click to go to the start room &quot;..roomid, true)
        c = c + 1
     end
    end
  end
end

mmp.echo(string.format(&quot;Found %s oneways.%s&quot;, c, (c &gt; 10 and &quot; Have fun. Click on lines to go to the rooms.&quot; or &quot;&quot;)))</script>
                        <command></command>
                        <packageName></packageName>
                        <regex>^find single exits$</regex>
                    </Alias>
                    <Alias isActive="yes" isFolder="no">
                        <name>Show char marks</name>
                        <script>local c = 0
local m = {}
local areas = getAreaTable()
local show_area = table.size(areas) &gt; 1 and true or false

for area, id in pairs(areas) do
  for _, roomid in pairs(getAreaRooms(id)) do
    local c = getRoomChar(roomid)
    if c ~= '' and c ~= ' ' then
      m[c] = m[c] or {}
      m[c][#m[c]+1] = roomid
    end
  end
end

if not next(m) then mmp.echo(&quot;This map has no char marks on it. Do mc on and rcc &lt;mark&gt; in a room to add them!&quot;) return end

for letter, rooms in pairs(m) do
  table.sort(rooms)
  mmp.echo(&quot;Rooms with the &lt;blue&gt;&quot;..letter..&quot;&lt;reset&gt; character on them:&quot;)
  for i = 1, #rooms do
    if not show_area then
      cecho(string.format(&quot;  &lt;sea_green&gt;%-5s&lt;reset&gt; %s\n&quot;, rooms[i], getRoomName(rooms[i])))
    else
      cecho(string.format(&quot;  &lt;sea_green&gt;%-5s&lt;reset&gt; %-35s &lt;dim_grey&gt;(in&lt;reset&gt; %s&lt;dim_grey&gt;)\n&quot;, rooms[i], getRoomName(rooms[i]), mmp.areatabler[getRoomArea(rooms[i])]))
    end
  end
end</script>
                        <command></command>
                        <packageName></packageName>
                        <regex>^show char marks$</regex>
                    </Alias>
                    <Alias isActive="yes" isFolder="no">
                        <name>Delete all special exits across a map</name>
                        <script>mmp.delSpecialExits(matches[2])</script>
                        <command></command>
                        <packageName></packageName>
                        <regex>^spe delete all(?: (.+))?$</regex>
                    </Alias>
                </AliasGroup>
                <Alias isActive="yes" isFolder="no">
                    <name>Toggle mapping mode</name>
                    <script>if (matches[2] and matches[2] == &quot;on&quot;) or (not matches[2] and not mmp.editing) then
  mmp.editing = true
  enableAlias(&quot;mm Mapping&quot;)

  mmp_regenerate_areas()
  mmp.highlight_unfinished_rooms()

  mmp.echo(&quot;Mapping mode enabled. Happy mapping!&quot;)
elseif (matches[2] and matches[2] == &quot;off&quot;) or (not matches[2] and mmp.editing) then
  mmp.editing = false
  disableAlias(&quot;mm Mapping&quot;)
  mmp.echo(&quot;Mapping mode disabled.&quot;)
end</script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^(?:mc|map create) ?(on|off)?$</regex>
                </Alias>
                <Alias isActive="yes" isFolder="no">
                    <name>Save a map</name>
                    <script>local function s(loc)
    if not saveMap(loc) then
      mmp.echo(&quot;Couldn't save the map :(&quot;)
    else
      if loc ~= &quot;&quot; then mmp.echo(&quot;Map saved.&quot;) else mmp.echo(&quot;Saved the default map.&quot;) end
    end
end

if not saveMap then
  mmp.echo(&quot;Your Mudlet can't save maps. Please upgrade it!&quot;)
else
  if matches[2] and matches[2] == &quot;custom&quot; then
    s(invokeFileDialog(false, &quot;Please select the folder to save the map in and hit Open&quot;)..&quot;/Mudlet map from &quot;..os.date(&quot;%A %d, %b '%y&quot;)..&quot;.dat&quot;)
  elseif matches[2] then
	s(getMudletHomeDir()..&quot;/map/&quot;..matches[2])
  else
    s(&quot;&quot;)
  end
end</script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^map save(?: (.+))?$</regex>
                </Alias>
                <Alias isActive="yes" isFolder="no">
                    <name>Load a map</name>
                    <script>local function s(loc)
    if not loadMap(loc) then
      mmp.echo(&quot;Couldn't save the map :(&quot;)
    else
      mmp.lockWormholes(); mmp.lockSewers(); mmp.lockPebble();
      if mmp.settings.waterwalk then mmp.enableWaterWalk() else mmp.disableWaterWalk() end

      if loc ~= &quot;&quot; then mmp.echo(&quot;Map loaded.&quot;) else mmp.echo(&quot;Loaded the default map.&quot;) end
      raiseEvent(&quot;mmapper updated map&quot;)
    end
end

if not loadMap then
  mmp.echo(&quot;Your Mudlet can't load maps. Please upgrade it!&quot;)
else
  if matches[2] and matches[2] == &quot;custom&quot; then
    s(invokeFileDialog(true, &quot;Please select the map file and click Open to load it&quot;))
  elseif matches[2] then
	s(getMudletHomeDir()..&quot;/map/&quot;..matches[2])
  else
    s(&quot;&quot;)
  end
end</script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^map load(?: (.+))?$</regex>
                </Alias>
                <Alias isActive="yes" isFolder="no">
                    <name>Get dirs</name>
                    <script>if not matches[2] and not matches[3] then
  mmp.echo(&quot;Where do you want to showpath to?&quot;)
elseif matches[2] and not matches[3] then
  mmp.echoPath(mmp.currentroom, matches[2])
else
  mmp.echoPath(matches[2], matches[3])
end</script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^showpath(?: (\d+))?(?: (\d+))?$</regex>
                </Alias>
                <Alias isActive="yes" isFolder="no">
                    <name>Check wholist</name>
                    <script>enableTrigger(&quot;Parse wholist&quot;)
send(&quot;who b&quot;)
tempTimer(10, [[disableTrigger'Parse wholist']])</script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^who b$</regex>
                </Alias>
                <Alias isActive="yes" isFolder="no">
                    <name>Add Room Mark</name>
                    <script>local tmp = getRoomUserData(1, &quot;gotoMapping&quot;)
local maptable = {}

if tmp ~= &quot;&quot; then
  maptable = yajl.to_value(tmp)
end

local location, markname
if tonumber(matches[2]) then
  location = matches[2]; markname = matches[3]
else
  location = matches[3]; markname = matches[2]
end

-- can't allow mark name to ne a number - yajl then generates a giant table of null's
if tonumber(markname) then
  mmp.echo(&quot;The mark name can't be a number.&quot;) return
end

maptable[markname] = location
local tmp2 = yajl.to_string(maptable)

if not mmp.roomexists(1) then
  addRoom(1)
end

setRoomUserData(1, &quot;gotoMapping&quot;, tmp2)
mmp.echo(string.format(&quot;Room mark for '%s' set to room %s.&quot;, markname, location))</script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^room mark (\w+) (\w+)$</regex>
                </Alias>
                <Alias isActive="yes" isFolder="no">
                    <name>Remove Room Mark</name>
                    <script>local tmp= getRoomUserData(1, &quot;gotoMapping&quot;)
if tmp~=&quot;&quot; then
  local maptable=yajl.to_value(tmp)
  if not maptable[matches[2]] then mmp.echo(&quot;Don't have such a mark in the db.&quot;) return end

  maptable[matches[2]]=nil
  local tmp2=yajl.to_string(maptable)
  setRoomUserData(1, &quot;gotoMapping&quot;, tmp2)
  mmp.echo(&quot;Removed the &quot;..matches[2]..&quot; mark.&quot;)
else
  mmp.echo(&quot;We don't have any marks stored anyway.&quot;)
end</script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^room unmark (\w+)$</regex>
                </Alias>
                <Alias isActive="yes" isFolder="no">
                    <name>Display Room Marks</name>
                    <script>local tmp= getRoomUserData(1, &quot;gotoMapping&quot;)
if tmp~=&quot;&quot; then
	local maptable = yajl.to_value(tmp) or {}
    local sortedkeys = {}
    for k in pairs(maptable) do sortedkeys[#sortedkeys+1] = k end
    table.sort(sortedkeys)

    mmp.echo(&quot;Known marks in this map:&quot;)
    if next(maptable) then
      for i = 1, #sortedkeys do echo(string.format(&quot;  %-21s  %s\n&quot;, tostring(sortedkeys[i]), tostring(maptable[sortedkeys[i]]))) end
    else
      echo(&quot;  (none)\n&quot;)
    end
else
	mmp.echo(&quot;No marks are recorded in this map.&quot;)
end</script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^room marks$</regex>
                </Alias>
                <Alias isActive="yes" isFolder="no">
                    <name>Toggle map sizes</name>
                    <script>local size = matches[2]

if size == &quot;biggest&quot; then
  mapper = Geyser.Mapper:new({
    name = &quot;mapper&quot;,
    x = 0, y = 0,
    width = &quot;100%&quot;, height = &quot;97%&quot;
  })
  mmp.echo(&quot;Map size set to pretty damn big.&quot;)

elseif size == &quot;small&quot; then
  mapper = Geyser.Mapper:new({
    x = &quot;70%&quot;, y = 0,
    width = &quot;28%&quot;, height = &quot;50%&quot;
  })
  mmp.echo(&quot;Map size set to comfortable.&quot;)

elseif size == &quot;big&quot; then
  local window_width, window_height = getMainWindowSize()
  local used_width = getMainConsoleWidth()

  local available_space = window_width - used_width

  if matches[3] then available_space = available_space - tonumber(matches[3]) end

  mapper = Geyser.Mapper:new({
    x = available_space*-1, y = 0,
    width = available_space, height = &quot;100%&quot;
  })

  mmp.echo(&quot;Set the map size to big - it'll cover all of the space on the right that game text isn't using. You'll want to call this alias again if you resize the window to update.&quot;)
end</script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^(small|big|biggest)map(?: (\d+))?$</regex>
                </Alias>
                <Alias isActive="yes" isFolder="no">
                    <name>^make maps$</name>
                    <script>local c = 0
for _, id in pairs(getAreaTable()) do
  tempTimer(c*.5, [[exportAreaImage(]]..id..[[)]])
  c = c + 1
end
mmp.echo(&quot;Done!&quot;)</script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^make maps$</regex>
                </Alias>
                <Alias isActive="yes" isFolder="no">
                    <name>Set debug mode</name>
                    <script>if matches[2] == &quot;on&quot; then
  mmp.debug = true
else
  mmp.debug = false
end

mmp.echo(&quot;Debug &amp; performance telemetry &quot;..(mmp.debug and &quot;enabled&quot; or &quot;disabled&quot;)..&quot;.&quot;)</script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^(?:mdg|mdebug) (on|off)$</regex>
                </Alias>
                <Alias isActive="yes" isFolder="no">
                    <name>measure getPath()</name>
                    <script>mmp = mmp or {}

mmp.getPathPerf = mmp.getPathPerf or createStopWatch()
startStopWatch(mmp.getPathPerf)

local from, to = tonumber(matches[2]), tonumber(matches[3])

getPath(from, to)

mmp.echon = mmp.echon or echo
mmp.echon(&quot;a new getPath() from &quot;..from..&quot; to &quot;..to..&quot; took &quot;..stopStopWatch(mmp.getPathPerf)..&quot;s. There are &quot;..#speedWalkPath..&quot; rooms to visit in it.&quot;)
echo(&quot; &quot;)
echoLink(&quot;[unhighlight]&quot;, [[
  for room in pairs(mmp.getpathhighlights) do
    unHighlightRoom(room)
  end
]], &quot;Click me to remove highlighting from getpath&quot;)

mmp.getpathhighlights = mmp.getpathhighlights or {}

for room in pairs(mmp.getpathhighlights) do
  unHighlightRoom(room)
end

mmp.getpathhighlights = {}

local r,g,b = unpack(color_table.yellow)
local br,bg,bb = unpack(color_table.yellow)
-- add the first room to the speedWalkPath, as we'd like it highlighted as well
table.insert(speedWalkPath, 1, from)
for i = 1, #speedWalkPath do
  local room = speedWalkPath[i]
  highlightRoom(room, r,g,b,br,bg,bb, 1, 255, 255)
  mmp.getpathhighlights[room] = true
end

centerview(from)</script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^getpath (?:from )?(\d+) (?:to )?(\d+)$</regex>
                </Alias>
            </AliasGroup>
        </AliasGroup>
    </AliasPackage>
    <ActionPackage/>
    <ScriptPackage>
        <ScriptGroup isActive="yes" isFolder="yes">
            <name>Eden</name>
            <packageName></packageName>
            <script>-- 1134</script>
            <eventHandlerList/>
            <Script isActive="yes" isFolder="no">
                <name>Features</name>
                <packageName></packageName>
                <script>-- Features

-- Core System Competencies
---------------------------
-- [x] Automatic updates
-- [x] Multi-character support
-- [x] Multi-targetting
-- [ ] Partial name matching
-- [x] Toggleable highlights, by circle, [by profession]
-- [x] Player database management
-- [x] HUD management
-- [x] Multi-channel broadcast
-- [ ] Switch management
-- [x] Chat Window
-- [x] Map Window

-- Core Combat Competencies
---------------------------
-- [ ] Autocurer
--     [x] Autosipper
--     [x] Autoclotter
--     [ ] Herbs
--     [ ] Smoke
--     [ ] Purge
--     [ ] Tree
--     [ ] Focus
--     [ ] Class specific
-- [x] Affliction tracker
-- [x] Limb tracker

-- QoL Competencies
-------------------
-- [x] Autobasher
-- [ ] Autologger
-- [ ] Autosmithing
-- [ ] Autocrafting
-- [ ] Autofishing
-- [ ] Autoharvesting
-- [ ] Auto-Shard Harvesting
-- [ ] Shopkeeping
-- [x] Quotes
-- [x] RSS

-- download prof when do HONORS
</script>
                <eventHandlerList/>
            </Script>
            <ScriptGroup isActive="yes" isFolder="yes">
                <name>System [d]</name>
                <packageName></packageName>
                <script>sysfix = &quot;\n&lt;medium_aquamarine&gt;[[ &lt;dark_turquoise&gt;Eden&lt;medium_aquamarine&gt; ]]:&lt;grey&gt; &quot;

me = me or &quot;Iniar&quot;
diagnose = me
sp = &quot;|&quot;

health = 0.90
mana = 0.90
toadstool = 0.78
gold = &quot;letter&quot; -- &quot;227522&quot; -- &quot;letter&quot; -- 50187 --   -- 

shield = 56320
share = true

-- Channels
heal = &quot;medium_sea_green&quot;
says = &quot;cyan&quot;
tellin = &quot;gold&quot;
tellout = &quot;goldenrod&quot;
ring = &quot;dark_orange&quot;
market = &quot;medium_aquamarine&quot;
newbie = &quot;forest_green&quot;

-- Clans
military = &quot;red&quot;
bellatores = &quot;burlywood&quot;
pkmn = &quot;dark_sea_green&quot;
batcave = &quot;orange&quot;
guards = &quot;navy_blue&quot;
null = &quot;light_sea_green&quot;
dpk = &quot;dark_violet&quot;

-- Guilds
noctusari = &quot;olive_drab&quot; 	coruscates = &quot;lime_green&quot;
revenants = &quot;olive_drab&quot;		
tzolkin = &quot;olive_drab&quot;		
saboteurs = &quot;olive_drab&quot;		

bards = &quot;olive_drab&quot;
vindicators = &quot;olive_drab&quot;
animists = &quot;olive_drab&quot;
spectres = &quot;olive_drab&quot;
hunters = &quot;olive_drab&quot;
silvari = &quot;olive_drab&quot;
stormweavers = &quot;olive_drab&quot;

avengers = &quot;olive_drab&quot; 
crusaders = &quot;olive_drab&quot; 
dunestriders = &quot;olive_drab&quot;
wardancers = &quot;olive_drab&quot; 	jundi = &quot;lime_green&quot;

wardens = &quot;olive_drab&quot; 
idras = &quot;olive_drab&quot; 
sentinels = &quot;olive_drab&quot; 

-- Cities, Councils
khandava = &quot;dark_khaki&quot;
stavenn = &quot;dark_khaki&quot;
antioch = &quot;dark_khaki&quot;
ithaqua = &quot;dark_khaki&quot;
celidon = &quot;dark_khaki&quot;
kinsarmar = &quot;dark_khaki&quot;

-- Symbols
ch_symbols = {
	says = &quot;S&quot;,
	tellin = &quot;-&gt;&quot;,
	tellout = &quot;&lt;-&quot;,
	ring = &quot;R&quot;,
	market = &quot;M&quot;,
	newbie = &quot;N&quot;,

	-- Clans
	military = &quot;Mil&quot;,
	bellatores = &quot;Bel&quot;,
	pkmn = &quot;Pkm&quot;,
	batcave = &quot;Btc&quot;,
	guards = &quot;Gds&quot;,
	null = &quot;NUL&quot;,
	dpk = &quot;dPK&quot;,

	-- Guilds
	noctusari = &quot;G&quot;, coruscates = &quot;GN&quot;,
	revenants = &quot;G&quot;,
	tzolkin = &quot;G&quot;, 
	saboteurs = &quot;G&quot;,

	bards = &quot;G&quot;,
	vindicators = &quot;G&quot;,
	animists = &quot;G&quot;,
	spectres = &quot;G&quot;,
	hunters = &quot;G&quot;,
	silvari = &quot;G&quot;,
	stormweavers = &quot;G&quot;,

	avengers = &quot;G&quot;, 
	crusaders = &quot;G&quot;, 
	dunestriders = &quot;G&quot;, 
	wardancers = &quot;G&quot;, jundi = &quot;GN&quot;,
	wardens = &quot;G&quot;,
	idras = &quot;G&quot;,
	sentinels = &quot;G&quot;,

	-- Cities, Councils
	khandava = &quot;C&quot;,
	stavenn = &quot;C&quot;,
	antioch = &quot;C&quot;,
	ithaqua = &quot;C&quot;,
	celidon = &quot;C&quot;,
	kinsarmar = &quot;C&quot;,
}

cdamage = {
	[&quot;asphyxiation&quot;] = &quot;gold&quot;,
	[&quot;asphyxiation, mental&quot;] = &quot;gold&quot;,
	[&quot;blunt&quot;] = &quot;burlywood&quot;,
	[&quot;blunt, physical&quot;] = &quot;tomato&quot;,
	[&quot;blunt, mental&quot;] = &quot;red&quot;,
	[&quot;cold&quot;] = &quot;aquamarine&quot;,
	[&quot;cold, mental&quot;] = &quot;aquamarine&quot;,
	[&quot;cold, physical&quot;] = &quot;aquamarine&quot;,
	[&quot;cutting&quot;] = &quot;dark_goldenrod&quot;,
	[&quot;cutting, physical&quot;] = &quot;indian_red&quot;,
	[&quot;cutting, mental&quot;] = &quot;indian_red&quot;,
	[&quot;electricity&quot;] = &quot;yellow&quot;,
	[&quot;electricity, mental&quot;] = &quot;yellow&quot;,
	[&quot;fire&quot;] = &quot;violet_red&quot;,
	[&quot;fire, mental&quot;] = &quot;orange_red&quot;,
	[&quot;magickal&quot;] = &quot;cyan&quot;,
	[&quot;magickal, mental&quot;] = &quot;cyan&quot;,
	[&quot;poison&quot;] = &quot;green_yellow&quot;,
	[&quot;poison, mental&quot;] = &quot;green_yellow&quot;,
	[&quot;psychic&quot;] = &quot;purple&quot;,
	[&quot;psychic, physical&quot;] = &quot;purple&quot;,
	[&quot;psychic, mental&quot;] = &quot;purple&quot;,
	[&quot;unblockable&quot;] = &quot;royal_blue&quot;,
	[&quot;unblockable, physical&quot;] = &quot;royal_blue&quot;,
}

channel = 1
channel_clan = &quot;guards&quot;
channels = {
	&quot;rt&quot;,
	&quot;at&quot;,
	&quot;clan &quot;..channel_clan..&quot; tell&quot;,
}
	 
c = {
	A = &quot;dark_goldenrod&quot;,
	D = &quot;maroon&quot;,
	M = &quot;steel_blue&quot;,
	N = &quot;pale_green&quot;,
	E = &quot;cyan&quot;,
}

chime_path = getMudletHomeDir()..&quot;/tell.mp3&quot;
sf_path = getMudletHomeDir()..&quot;/sfall.mp3&quot;
death_path = getMudletHomeDir()..&quot;/death.flac&quot;</script>
                <eventHandlerList/>
                <Script isActive="yes" isFolder="no">
                    <name>_config</name>
                    <packageName></packageName>
                    <script>config = config or {}

_config = function(arg)
	config.sp = &quot;|&quot;
	config.prompt = &quot;*h&amp;d[%h&amp;d] *m&amp;d[%m&amp;d] *b *i &amp;d*B *s &amp;d*x *w&amp;n&quot;
	config.hl = true
	config.trax = 1
	config.hload = 0.35
	config.ui_left = 0
	config.ui_right = 0
	config.ui_top = 0
	config.ui_bottom = 0
	config.ui_mapper_width = 0.25
	config.ui_mapper_height = 0.40

	config.share = true
	config.share_full = false
	config.sub_special = true
	config.gag = true

	-- Initialize globals

	width,height = getMainWindowSize()
	left,right = &quot;&quot;,&quot;&quot;
	
	if not arg then arg = &quot;Default&quot; end
	if 	gmcp and 
		gmcp.Char and
		gmcp.Char.Status and
		gmcp.Char.Status.name then
		arg = gmcp.Char.Status.name
	end

	if arg and type(_G[arg]) == &quot;table&quot; then
		local count,count_config = 0,0
		for k,v in pairs(_G[arg]) do
			if k == &quot;config&quot; then
				for m,n in pairs(v) do
					config[m] = n
					count_config = count_config + 1
				end
			else
				_G[k] = v 
				count = count + 1

				if tostring(k) == &quot;wields&quot; then
					for i,j in pairs(v) do
						if tostring(i) == class then
							_l = j[1]
							_r = j[2]
						end
					end
				end
			end
		end
		mecho(&quot;&lt;white&gt;Loaded &quot;..count..&quot; global variables...&quot;)
		mecho(&quot;&lt;white&gt;Changed &quot;..count_config..&quot; configurations.&quot;) 
	end
end

_config()</script>
                    <eventHandlerList/>
                </Script>
                <Script isActive="yes" isFolder="no">
                    <name>disconnect</name>
                    <packageName></packageName>
                    <script>disconnect = function()
	dbp.load()
	for i=1, #classes do
		local mclass = string.lower(classes[i])

		if _G[mclass] and _G[mclass].reset then _G[mclass].reset() end
	end
end</script>
                    <eventHandlerList>
                        <string>sysDisconnectionEvent</string>
                    </eventHandlerList>
                </Script>
                <Script isActive="yes" isFolder="no">
                    <name>variables</name>
                    <packageName></packageName>
                    <script>target = target or &quot;Septus&quot;
left = left or &quot;&quot;
right = right or &quot;&quot;
_l = _l or &quot;&quot;
_r = _r or &quot;&quot;
_a = _a or &quot;&quot;
eqbal = eqbal or &quot;&quot;
eqbal_time = eqbal_time or 0

path = path or {}
rift = rift or {}
pause = pause or false

q_type = q_type or &quot;Normal&quot;
q_color = {
	Normal = &quot;grey&quot;,
	vBard = &quot;goldenrod&quot;,
	vMental = &quot;cornflower_blue&quot;,
	vPhysical = &quot;sandy_brown&quot;,
	
	wAfflictor = &quot;deep_pink&quot;,
	wSummoner = &quot;dark_orchid&quot;,
	wDeathknight = &quot;light_sea_green&quot;,
}

ac = ac or {}
ac.on = ac.on or false
ac.p = ac.p or &quot;health&quot;
ac.prio = ac.prio or &quot;neutral&quot;
ac.rebounding = ac.rebounding or false

e = e or {}
e.name = e.name or &quot;&quot;
e.hp = e.hp or 0
e.mhp = e.mhp or 0
e.mp = e.mp or 0
e.mxmp = e.mxmp or 0
e.time = e.time or 0
e.diff = 3

evalid = function()
	local time = os.time()
	local etime = 0

	if e.time ~= 0 then
		etime = time - e.time
		if etime &lt; e.diff then
			return true
		else
			return false
		end
	end
	return false
end

classes = {
-- antimagick
	&quot;Amazon&quot;,
	&quot;Monk&quot;,
	&quot;Outrider&quot;,
	&quot;Predator&quot;,
	&quot;Priest&quot;,
	&quot;Ranger&quot;,
	&quot;Templar&quot;,
	&quot;Wardancer&quot;,
-- magick
	&quot;Bard&quot;,
	&quot;Druid&quot;,
	&quot;Hunter&quot;,
	&quot;Mage&quot;,
	&quot;Renegade&quot;,
	&quot;Runeguard&quot;,
-- demonic
	&quot;Assassin&quot;,
	&quot;Deathknight&quot;,
	&quot;Defiler&quot;,
	&quot;Diabolist&quot;,
	&quot;Summoner&quot;,
	&quot;Wytch&quot;,
}</script>
                    <eventHandlerList/>
                </Script>
                <ScriptGroup isActive="yes" isFolder="yes">
                    <name>mx</name>
                    <packageName></packageName>
                    <script>mx = mx or {}

mx.ver = 2.2
mx.time = 3600
mx.check = true
mx.check_timer = mx.check_timer or 0

mx.test_flag = false</script>
                    <eventHandlerList/>
                    <Script isActive="yes" isFolder="no">
                        <name>mx.done</name>
                        <packageName></packageName>
                        <script>mx.done = function(_, filename)
	if not io.exists(filename) then return end

	if filename == tostring( mx.v ) then
		local f,s = io.open(filename) 
		if f then s = f:read(&quot;*a&quot;); io.close(f) end
		local v = tonumber( string.match( s, &quot;Version: ([0-9.]+)&quot; ) )
		local str = sysfix

		if mx.ver == v then
			cecho(str..&quot; &lt;green&gt;UP TO DATE&lt;grey&gt;.&quot;)
		elseif mx.ver &lt; v then
			cecho(str..&quot; LATEST VERSION IS &lt;red&gt;&quot;..v..&quot;&lt;grey&gt;, KINDLY UPDATE.&quot;)
		elseif mx.ver &gt; v then
			cecho(str..&quot; Developer version. Update the website.&quot;)
		end
		os.remove(filename)

		if mx.test_flag then
			cecho(sysfix..&quot; MX:Update() and Done() check complete.&quot;)
		end
		mx.test_flag = false
	end
end</script>
                        <eventHandlerList>
                            <string>sysDownloadDone</string>
                        </eventHandlerList>
                    </Script>
                    <Script isActive="yes" isFolder="no">
                        <name>mx.update</name>
                        <packageName></packageName>
                        <script>mx.update = function(arg)
	if mx.check then
		mx.v = getMudletHomeDir()..&quot;/version&quot;

		if not downloadFile then
			cecho(&quot;&lt;white&gt;\n - EDEN - Your version of Mudlet doesn't support downloading files - please upgrade to 2.0+&quot;)
		else
			downloadFile( mx.v, &quot;http://www.zebibites.com/eden.html&quot;)
		end
		
		if arg then
			if mx.check_timer then killTimer( mx.check_timer ) end
			mx.check_timer = tempTimer( arg, function()
				mx.update(arg)
			end)
		end
	end
end
</script>
                        <eventHandlerList/>
                        <Script isActive="yes" isFolder="no">
                            <name>mx.report</name>
                            <packageName></packageName>
                            <script>mx.trig = mx.trig or &quot;&quot;
mx.strip = mx.strip or &quot;msg boss [Eden]: Version &quot;..mx.ver
mx.strip = mx.strip:gsub(&quot;boss&quot;,&quot;Iniar&quot;)

if mx.trig then killTrigger(mx.trig) end
mx.trig = tempRegexTrigger(&quot;^[ ]+(\\d+).*Iniar.*[ ]+Report\.[ ]*$&quot;, [[
	send(&quot;delmsg &quot;..matches[2])
	send(']]..mx.strip..[[')
	]])</script>
                            <eventHandlerList/>
                        </Script>
                    </Script>
                    <Script isActive="yes" isFolder="no">
                        <name>mx.test</name>
                        <packageName></packageName>
                        <script>mx.test = function()
	cecho(sysfix..&quot; MX:Version is &quot;..mx.ver)
	cecho(sysfix..&quot; MX:Check is &quot;..mx.time..&quot; seconds&quot;)
	cecho(sysfix..&quot; MX:Check is &quot;..tostring(mx.check))
	cecho(sysfix..&quot; MX:Timer is &quot;..tostring(mx.check_timer))
	cecho(sysfix..&quot; Checking MX.update...&quot;)
	mx.test_flag = true
	mx.update(mx.time)
	return false
end</script>
                        <eventHandlerList/>
                    </Script>
                </ScriptGroup>
                <ScriptGroup isActive="yes" isFolder="yes">
                    <name>ui</name>
                    <packageName></packageName>
                    <script>ui = ui or {}</script>
                    <eventHandlerList/>
                    <Script isActive="yes" isFolder="no">
                        <name>[d]</name>
                        <packageName></packageName>
                        <script>ui.left = 0.14
ui.right = 0
ui.top = 0
ui.bottom = 0
ui.main = 0.6
ui.font_size = 11
ui.map_width = 0.25
ui.map_height = 0.4

ui.map_ui = true

-- ui elements

-- in room players
-- class stem
-- map
-- aff enemy
-- aff me
-- chat window

ui.class_ui = true
ui.classes = {
	&quot;Amazon&quot;,
	&quot;Monk&quot;,
	&quot;Outrider&quot;,
	&quot;Predator&quot;,
	&quot;Priest&quot;,
	&quot;Ranger&quot;,
	&quot;Templar&quot;,
	&quot;Wardancer&quot;,

	&quot;Bard&quot;,
	&quot;Druid&quot;,
	&quot;Hunter&quot;,
	&quot;Mage&quot;,
	&quot;Renegade&quot;,
	&quot;Runeguard&quot;,

	&quot;Assassin&quot;,
	&quot;Deathknight&quot;,
	&quot;Defiler&quot;,
	&quot;Diabolist&quot;,
	&quot;Summoner&quot;,
	&quot;Wytch&quot;,
}</script>
                        <eventHandlerList/>
                    </Script>
                    <Script isActive="yes" isFolder="no">
                        <name>ui.draw</name>
                        <packageName></packageName>
                        <script>ui.draw = function()

	local left, right = ui.left, ui.right
	local top, bottom = ui.top, ui.bottom
	width, height = getMainWindowSize()

	if dbp and not dbp.left then left = 0 end

	setBorderColor(0, 0, 0)
	setBorderLeft(left * width)
	setBorderRight(right * width)
	setBorderTop(top * height)
	setBorderBottom(bottom * height)

	local fsize = ui.font_size --adjust this value to your font size settings
	local fwidth, fheight = calcFontSize( fsize )
	local main = ui.main * width / fwidth

	if main &lt; 80 then main = 80 end
		
	setWindowWrap( &quot;main&quot;, main )
	cecho(&quot;\nSetting Window Wrap to &quot;..main)

	cfx.ui_make()

	overmind.ui_make()
	overmind.ui_refresh()
	vw:create()
	ui.map()
end

-- comment out on deployment
ui.draw()</script>
                        <eventHandlerList/>
                    </Script>
                    <Script isActive="yes" isFolder="no">
                        <name>ui.resize</name>
                        <packageName></packageName>
                        <script>ui.lockout = ui.lockout or false
ui.lockout_timer = ui.lockout_timer or 0

ui.resize = function()
	width, height = getMainWindowSize()

	if not ui.lockout then
		ui.lockout = true
		if ui.lockout_timer ~= 0 then killTimer(ui.lockout_timer) end
		ui.lockout_timer = tempTimer( 1.5, function() ui.draw() end)
		tempTimer( 2, function()
			if ui.lockout_timer and ui.lockout then
				killTimer( ui.lockout_timer )
				ui.lockout = false
			end
		end)
	end
end</script>
                        <eventHandlerList>
                            <string>sysWindowResizeEvent</string>
                        </eventHandlerList>
                    </Script>
                    <Script isActive="yes" isFolder="no">
                        <name>ui.map</name>
                        <packageName></packageName>
                        <script>ui.map = function()

	if not ui.map_ui then
		createMapper(0,0,0,0)
	else
		width, height = getMainWindowSize()

		local fsize = ui.font_size --adjust this value to your font size settings
		local fwidth, fheight = calcFontSize( fsize )

		local mapWidth, mapHeight = ui.map_width * width, ui.map_height * height
		createMapper( width - mapWidth - 15, height - mapHeight - 6*fheight, mapWidth, mapHeight )
	end
end</script>
                        <eventHandlerList/>
                    </Script>
                    <Script isActive="yes" isFolder="no">
                        <name>ui.test</name>
                        <packageName></packageName>
                        <script>ui.test = function()
	cecho(sysfix..&quot; UI:Left is &quot;..ui.left)
	cecho(sysfix..&quot; UI:Right is &quot;..ui.right)
	cecho(sysfix..&quot; UI:Top is &quot;..ui.top)
	cecho(sysfix..&quot; UI:Bottom is &quot;..ui.bottom)
	cecho(sysfix..&quot; UI:Main ratio is &quot;..ui.main)
	cecho(sysfix..&quot; UI:Font Size is &quot;..ui.font_size)
	cecho(sysfix..&quot; UI:Map width is &quot;..ui.map_width)
	cecho(sysfix..&quot; UI:Map height is &quot;..ui.map_height)
	cecho(sysfix..&quot; UI:Map UI is &quot;..tostring(ui.map_ui))
	cecho(sysfix..&quot; UI:Class UI is &quot;..tostring(ui.class_ui))
	cecho(sysfix..&quot; Checking UI.draw...&quot;)
	ui.draw()
	cecho(sysfix..&quot; UI:Draw() check complete&quot;)
	return false
end</script>
                        <eventHandlerList/>
                    </Script>
                </ScriptGroup>
                <ScriptGroup isActive="yes" isFolder="yes">
                    <name>overmind</name>
                    <packageName></packageName>
                    <script>overmind = overmind or {}</script>
                    <eventHandlerList/>
                    <Script isActive="yes" isFolder="no">
                        <name>[d]</name>
                        <packageName></packageName>
                        <script>overmind.allow = true
overmind.players = overmind.players or {}</script>
                        <eventHandlerList/>
                    </Script>
                    <Script isActive="yes" isFolder="no">
                        <name>ui_make</name>
                        <packageName></packageName>
                        <script>overmind.ui_make = function()
	local h = 3
	local width, height = getMainWindowSize()
	local fsize = fsize or 11
	local fwidth,fheight = calcFontSize(fsize)

	overmind.ui = Geyser.MiniConsole:new({
		name=&quot;overmind_ui&quot;,
		x= 0,
		y= 0,
		width= 0, 
		height= 0,
	})
	overmind.ui:setFontSize(10)
	overmind.ui:setColor(0,0,0,0)

	local x = 0
	if dbp and dbp.left then
		x = ui.left*width
	end
	overmind.ui:move(x,height-(h*fheight))
	overmind.ui:resize(width,h*fheight)
end
</script>
                        <eventHandlerList/>
                    </Script>
                    <Script isActive="yes" isFolder="no">
                        <name>ui_refresh</name>
                        <packageName></packageName>
                        <script>overmind.ui_refresh = function()
	clearWindow(&quot;overmind_ui&quot;)
	local str = &quot;&quot;
	local my_circle = dbp.gcirc(me)
	local n = &quot;&lt;dim_grey&gt;&quot;

	local a,b,u = n..&quot;\nE: &quot;, n..&quot;\nA: &quot;, n..&quot;\nU: &quot;

	if share then b = n..&quot;\n&lt;cyan&gt;A: &quot;..n else b = n..&quot;\n&lt;red&gt;A: &quot;..n end

	if overmind then
		for i=1,#overmind.players do
			local name = overmind.players[i]
			local circ = dbp.gcirc(name)
			local color = &quot;&lt;grey&gt;&quot;
			local t = &quot;&quot;
	
			-- check for unique highlight

			-- check for circle highlight
			if c[circ] then 
				color = &quot;&lt;&quot;..c[circ]..&quot;&gt;&quot;
			end				
			if name == target then color = &quot;&lt;red&gt;&quot; end

			if targets and table.contains(targets,name) then
				t = revlookup(name,targets)
				t = &quot; (&lt;grey&gt;&quot;..t..color..&quot;)&quot;
			elseif _target then
				_target(name,&quot;a&quot;)
				t = revlookup(name,targets)
				t = &quot; (&lt;grey&gt;&quot;..t..color..&quot;)&quot;
			end

			if circ == &quot;&quot; then
				if player(name) then
					color = &quot;&lt;pale_green&gt;&quot;
				end
				u = u..color..name..t..n..&quot;, &quot;
			elseif circ == my_circle then
				b = b..color..name..t..n..&quot;, &quot;
			else
				a = a..color..name..t..n..&quot;, &quot;
			end
		end
	end
	str = a..b..u

	cecho(&quot;overmind_ui&quot;,str)
end</script>
                        <eventHandlerList/>
                    </Script>
                    <Script isActive="yes" isFolder="no">
                        <name>overmind.test</name>
                        <packageName></packageName>
                        <script>overmind.test = function()
	cecho(sysfix..&quot; OVERMIND:Allow is &quot;..tostring(overmind.allow))
	cecho(sysfix..&quot; Current OVERMIND:Players are:- &quot;)
	for k,v in pairs(overmind.players) do
		cecho(&quot;\n   &quot;..v..&quot;.&quot;)
	end
	cecho(sysfix..&quot; Checking OVERMIND.UI_make...&quot;)
	overmind.ui_make()
	cecho(sysfix..&quot; OVERMIND:ui_make() check complete&quot;)
	cecho(sysfix..&quot; ...&quot;)
	cecho(sysfix..&quot; Checking OVERMIND.UI_refresh...&quot;)
	overmind.ui_refresh()
	cecho(sysfix..&quot; OVERMIND:ui_refresh() check complete&quot;)

	return false

end</script>
                        <eventHandlerList/>
                    </Script>
                </ScriptGroup>
                <ScriptGroup isActive="yes" isFolder="yes">
                    <name>utility</name>
                    <packageName></packageName>
                    <script></script>
                    <eventHandlerList/>
                    <Script isActive="yes" isFolder="no">
                        <name>report</name>
                        <packageName></packageName>
                        <script>report = function(arg,chan)
	local str, tablen = &quot;&quot;, {}
	local to = channels[channel]..&quot; &quot;
	if chan then to = channels[chan]..&quot; &quot; end

	if string.match(arg,sp) then
		tablen = string.split(arg,&quot;|&quot;) 
		for i=1,#tablen do
			if tablen[i] ~= &quot;&quot; then
				str = str..to..tablen[i]..sp
			end
		end
	else
		str = str..to..arg
	end

	if not pause then
		if not share then
			cecho(&quot;\n&lt;sandy_brown&gt;[Not Shared]: &lt;tomato&gt;&quot;..str)
		else
			send(str)
		end
	else
		cecho(&quot;\n&lt;red&gt;[Eden PAUSED]: &lt;tomato&gt;&quot;..str)
	end
end</script>
                        <eventHandlerList/>
                    </Script>
                    <Script isActive="yes" isFolder="no">
                        <name>ecopy</name>
                        <packageName></packageName>
                        <script>ecopy = function(ref)
	local tablen = {}
	for k, v in pairs(ref) do
		if type(v) == &quot;table&quot; then
			tablen[k] = ecopy(v)
		else
			tablen[k] = v
		end
	end
	return tablen
end</script>
                        <eventHandlerList/>
                    </Script>
                    <Script isActive="yes" isFolder="no">
                        <name>sub</name>
                        <packageName></packageName>
                        <script>sub = function(msg)
	-- if it's a table, it will sub in Channel style
	if type(msg) == &quot;table&quot; then
		local channel, person, text = msg[2], msg[3], msg[4]
		local sym = &quot;x&quot;
		channel = string.lower(channel)
		if ch_symbols[channel] then sym = ch_symbols[channel] end
		channel = _G[channel] or &quot;red&quot;
		channel = &quot;&lt;&quot;..channel..&quot;&gt;&quot;
		sym = &quot;(&quot;..channel..sym..&quot;&lt;grey&gt;): &quot;
		person = sym..person
		selectString(line,1)
		replace(&quot;&quot;)
		-- cecho(channel..person..text)
		local exclude = { 
			&quot;Ring&quot;, &quot;Market&quot;, 
			&quot;tellin&quot;, &quot;tellout&quot;,
			&quot;Noctusari&quot;, &quot;Wardancers&quot;, 
			&quot;Coruscates&quot;,
		}
		if table.contains(exclude,msg[2]) then
			cecho(person)
		else
			cechoLink(person, [[send(&quot;clan switch ]]..msg[2]..[[&quot;)]], &quot;Clan Switch&quot;, true)
		end
		cecho(', '..channel..'&quot;'..text)
	else
	-- otherwise it's a string style
		selectString(line,1)
		replace(&quot;&quot;)
		local color = &quot;&quot;
		if config and config.sub_special then
			if string.match(msg,target) then
				color = &quot;&lt;tomato&gt;&quot;
			elseif string.match(msg,&quot;you&quot;) then
				color = &quot;&lt;rosy_brown&gt;&quot;
			else
				color = &quot;&lt;dim_grey&gt;&quot;
			end
		end
		msg = color..msg..&quot;&lt;grey&gt;&quot;
		msg = msg:gsub(&quot;&lt;stop&gt;&quot;,color)
		cecho(msg)
	end
end</script>
                        <eventHandlerList/>
                    </Script>
                    <Script isActive="yes" isFolder="no">
                        <name>concise</name>
                        <packageName></packageName>
                        <script>concise = function(tablen,size)
	if not table.is_empty(tablen) then
		local size = size or 50
		local output = {}
		for i=1, size do
			if tablen[i] then
				table.insert(output,tablen[i])
			end
		end
		return output
	end
end</script>
                        <eventHandlerList/>
                    </Script>
                    <Script isActive="yes" isFolder="no">
                        <name>string.rpad</name>
                        <packageName></packageName>
                        <script>string.rpad = function(str, len, char)
    if char == nil then char = ' ' end
    return str .. string.rep(char, len - #str)
end</script>
                        <eventHandlerList/>
                    </Script>
                    <Script isActive="yes" isFolder="no">
                        <name>string.lpad</name>
                        <packageName></packageName>
                        <script>string.lpad = function(str, len, char)
    if char == nil then char = ' ' end
    return string.rep(char, len - #str)..str
end</script>
                        <eventHandlerList/>
                    </Script>
                    <Script isActive="yes" isFolder="no">
                        <name>lookup</name>
                        <packageName></packageName>
                        <script>lookup = function( arg, arg2 ) --&gt; arg2 is the skill table
	for k, v in pairs( arg2 ) do
		if k == arg then return tostring(v) end
	end
	return arg
end
</script>
                        <eventHandlerList/>
                    </Script>
                    <Script isActive="yes" isFolder="no">
                        <name>revlookup</name>
                        <packageName></packageName>
                        <script>revlookup = function( arg, arg2 ) --&gt;
	for k, v in pairs( arg2	) do
		if v == arg then return tostring(k) end
	end
	return arg
end</script>
                        <eventHandlerList/>
                    </Script>
                    <Script isActive="yes" isFolder="no">
                        <name>inroom</name>
                        <packageName></packageName>
                        <script>inroom = function(name)
	for k,v in pairs(gmcp.Room.Players) do
		if v.name == name then
			return true
		end
	end
	return false
end</script>
                        <eventHandlerList/>
                    </Script>
                    <Script isActive="yes" isFolder="no">
                        <name>downloaded</name>
                        <packageName></packageName>
                        <script>function downloaded(_, filename)
	if not io.exists(filename) then return end
  if filename:match(&quot;votePage&quot;, 1, true) then
    cecho(&quot;&lt;white&gt;.&quot;)
    io.input(filename)
    local s = io.read(&quot;*all&quot;)
   -- local pzzzqaaz = string.match(s,'&lt;input name=&quot;pzzzqaaz&quot; type=&quot;hidden&quot; value=&quot;(%x+)&quot;&gt;')
    local oldhash = string.match(s, '&lt;input name=&quot;oldhash&quot; type=&quot;hidden&quot; value=&quot;(%x+)&quot;&gt;')
    cecho(&quot;&lt;white&gt;.&quot;)
    local testid = string.match(s,'&lt;input name=&quot;testid&quot; type=&quot;hidden&quot; value=&quot;(%x+)&quot;&gt;')
    cecho(&quot;&lt;white&gt;.&quot;)
    local votehash = string.match(s,'&lt;input type=&quot;hidden&quot; name=&quot;votehash&quot; value=&quot;(%x+)&quot;&gt;')
    cecho(&quot;&lt;white&gt;.&quot;)
    local mudid = string.match(s,'&lt;input type=&quot;hidden&quot; name=&quot;mudid&quot; value=&quot;(%d+)&quot;&gt;')
    cecho(&quot;&lt;white&gt;.&quot;)
    local votestring = &quot;http://www.topmudsites.com/vote.php?do=in&quot; ..&quot;&amp;oldhash=&quot; ..oldhash .. &quot;&amp;testid=&quot; .. testid .. &quot;&amp;mudid=&quot; .. mudid .. &quot;&amp;votehash=&quot; .. votehash
    cecho(&quot;.&quot;)
    downloadFile(getMudletHomeDir()..&quot;/voteDone.html&quot;, votestring)
  elseif filename:match(&quot;voteDone&quot;, 1, true) then
    cecho(&quot;&lt;lime_green&gt;Successful!&lt;white&gt;)\n&quot;)
    send(&quot;voted&quot;, false)
  end
end 

-- &lt;input type=&quot;hidden&quot; name=&quot;votehash&quot; value=&quot;424b25706071ece9c90f17880661cb77&quot;&gt;</script>
                        <eventHandlerList>
                            <string>sysDownloadDone</string>
                        </eventHandlerList>
                    </Script>
                    <Script isActive="yes" isFolder="no">
                        <name>orderedPairs</name>
                        <packageName></packageName>
                        <script>-- ordered sort
function __genOrderedIndex( t )
    local orderedIndex = {}
    for key in pairs(t) do
        table.insert( orderedIndex, key )
    end
    table.sort( orderedIndex )
    return orderedIndex
end

function orderedNext(t, state)
    -- Equivalent of the next function, but returns the keys in the alphabetic
    -- order. We use a temporary ordered key table that is stored in the
    -- table being iterated.

    --print(&quot;orderedNext: state = &quot;..tostring(state) )
    if state == nil then
        -- the first time, generate the index
        t.__orderedIndex = __genOrderedIndex( t )
        key = t.__orderedIndex[1]
        return key, t[key]
    end
    -- fetch the next value
    key = nil
    for i = 1,table.getn(t.__orderedIndex) do
        if t.__orderedIndex[i] == state then
            key = t.__orderedIndex[i+1]
        end
    end

    if key then
        return key, t[key]
    end

    -- no more value to return, cleanup
    t.__orderedIndex = nil
    return
end

function orderedPairs(t)
    -- Equivalent of the pairs() function on tables. Allows to iterate
    -- in order
    return orderedNext, t, nil
end</script>
                        <eventHandlerList/>
                    </Script>
                </ScriptGroup>
                <ScriptGroup isActive="yes" isFolder="yes">
                    <name>gmcp</name>
                    <packageName></packageName>
                    <script>gm = gm or {}

gm.room = gm.room or 0</script>
                    <eventHandlerList/>
                    <Script isActive="yes" isFolder="no">
                        <name>gm.status</name>
                        <packageName></packageName>
                        <script>function gm.status()
	if class and class ~= gmcp.Char.Status.prof then
		local c = string.lower(gmcp.Char.Status.prof)
		if _G[c] and _G[c].reset then
			_G[c].reset()
		end
	end
	if me and me ~= gmcp.Char.Status.name then
		if _G[gmcp.Char.Status.name] then
			_config()
		end
	end
	class = gmcp.Char.Status.prof
	me = gmcp.Char.Status.name
	sect = gmcp.Char.Status.sect

	enableAlias(class)
	
	local professions = {
		&quot;Bard&quot;,
		&quot;Druid&quot;,
		&quot;Hunter&quot;,
		&quot;Renegade&quot;,
		&quot;Assassin&quot;,
		&quot;Summoner&quot;,
		&quot;Deathknight&quot;,
		&quot;Wytch&quot;,
		&quot;Diabolist&quot;,
		&quot;Templar&quot;,
		&quot;Monk&quot;,
		&quot;Priest&quot;,
		&quot;Wardancer&quot;,
		&quot;Ranger&quot;,
		&quot;Outrider&quot;,
		&quot;Amazon&quot;,
		&quot;Mage&quot;,
		&quot;Defiler&quot;,
		&quot;Predator&quot;,
		&quot;Runeguard&quot;,
		
	}
	for i=1,#professions do
		if professions[i] ~= class then
			disableAlias(professions[i])
		end
	end
	
	if not player(me) then dbp.load() end
	if not player(me) and dbp then
		dbp.make(me)
		dbp.download(me)
	end

	if _G[me] and _G[me].wields and _G[me].wields[class] then
		local t = _G[me].wields[class]
		if t[1] then _r = t[1] end
		if t[2] then _l = t[2] end
		if t[3] then _a = t[3] end
	end
end

</script>
                        <eventHandlerList>
                            <string>gmcp.Char.Status</string>
                        </eventHandlerList>
                    </Script>
                    <Script isActive="yes" isFolder="no">
                        <name>gm.vitals</name>
                        <packageName></packageName>
                        <script>function gm.vitals()
	hp = math.floor(gmcp.Char.Vitals.hp/11)
	mhp = math.floor(gmcp.Char.Vitals.maxhp/11)
	mp = math.floor(gmcp.Char.Vitals.mp/11)
	mxmp = math.floor(gmcp.Char.Vitals.maxmp/11)

	eq = tonumber(gmcp.Char.Vitals.eq)
	bal = tonumber(gmcp.Char.Vitals.bal)

	bleed = math.floor(gmcp.Char.Vitals.bleed/11)

	-- deaf = tonumber(gmcp.Char.Vitals.deaf)
	-- blind = tonumber(gmcp.Char.Vitals.blind)
end</script>
                        <eventHandlerList>
                            <string>gmcp.Char.Vitals</string>
                        </eventHandlerList>
                    </Script>
                    <Script isActive="yes" isFolder="no">
                        <name>gm.players</name>
                        <packageName></packageName>
                        <script>gm.players = function()
	if overmind then
		overmind.players = {}
		for k,v in pairs(gmcp.Room.Players) do
			table.insert(overmind.players, v.name)
			if not player(v.name) then
				if dbp then dbp.make(v.name) end
			end
		end
		if overmind.allow then overmind.ui_refresh() end
	end
end</script>
                        <eventHandlerList>
                            <string>gmcp.Room.Players</string>
                        </eventHandlerList>
                    </Script>
                    <Script isActive="yes" isFolder="no">
                        <name>gm.addPlayer</name>
                        <packageName></packageName>
                        <script>gm.addPlayer = function()
	local name = gmcp.Room.AddPlayer.name

	if overmind then
		if not table.contains(overmind.players, name) then
			table.insert(overmind.players, name)
		end
		if not player(name) then
			if dbp then dbp.make(name) end
		end
		if overmind.allow then overmind.ui_refresh() end
	end
end</script>
                        <eventHandlerList>
                            <string>gmcp.Room.AddPlayer</string>
                        </eventHandlerList>
                    </Script>
                    <Script isActive="yes" isFolder="no">
                        <name>gm.remPlayer</name>
                        <packageName></packageName>
                        <script>gm.remPlayer = function()
	local name = gmcp.Room.RemovePlayer

	if overmind then
		if table.contains(overmind.players, name) then
			table.remove(overmind.players, table.index_of(overmind.players,name))
		end
		if not player(name) then
			if dbp then dbp.make(name) end
		end
		if overmind.allow then overmind.ui_refresh() end
	end
end</script>
                        <eventHandlerList>
                            <string>gmcp.Room.RemovePlayer</string>
                        </eventHandlerList>
                    </Script>
                    <Script isActive="yes" isFolder="no">
                        <name>gm.item_here</name>
                        <packageName></packageName>
                        <script>gm.item_here = function()
	gm.contents = {}
	gm.contents = gmcp.Char.Items.List.items
	if dbp then
		dbp.ui_refresh()
		dbp.ui_refresh_()
	end
end</script>
                        <eventHandlerList>
                            <string>gmcp.Char.Items.List</string>
                        </eventHandlerList>
                    </Script>
                    <Script isActive="yes" isFolder="no">
                        <name>gm.item_remove</name>
                        <packageName></packageName>
                        <script>gm.item_remove = function()
	for k,v in pairs(gm.contents) do
		if gmcp.Char.Items.Remove.item.id == v.id and gmcp.Char.Items.Remove.item.name == v.name then
			table.remove(gm.contents, k)
		end
	end
	if dbp then 
		dbp.ui_refresh() 
		dbp.ui_refresh_()
	end
end

</script>
                        <eventHandlerList>
                            <string>gmcp.Char.Items.Remove</string>
                        </eventHandlerList>
                    </Script>
                    <Script isActive="yes" isFolder="no">
                        <name>gm.item_add</name>
                        <packageName></packageName>
                        <script>gm.item_add = function()
	for k,v in pairs(gm.contents) do
		if gmcp.Char.Items.Remove.item.id == v.id then
			table.remove(gm.contents, k) 
		end
	end
	if table.contains(gm.contents, gmcp.Char.Items.Add.item.id) then -- do nothing
	elseif gmcp.Char.Items.Add.item.attrib ~= &quot;mdt&quot; then
		table.insert(gm.contents, gmcp.Char.Items.Add.item) 
	end
	if dbp then 
		dbp.ui_refresh() 
		dbp.ui_refresh_()
	end
end</script>
                        <eventHandlerList>
                            <string>gmcp.Char.Items.Add</string>
                        </eventHandlerList>
                    </Script>
                    <Script isActive="yes" isFolder="no">
                        <name>gm.room_</name>
                        <packageName></packageName>
                        <script>gm.room_ = function()
	if gm.room ~= gmcp.Room.Info.num then
		gm.contents = gmcp.Char.Items.List.items
	end
	gm.room = gmcp.Room.Info.num
	if dbp then 
		dbp.ui_refresh() 
		dbp.ui_refresh_()
	end
end</script>
                        <eventHandlerList>
                            <string>gmcp.Room.Info</string>
                        </eventHandlerList>
                    </Script>
                    <Script isActive="yes" isFolder="no">
                        <name>gm.channel</name>
                        <packageName></packageName>
                        <script>gm.channel = function()
	-- display(gmcp.Comm.Channel.Text)
end</script>
                        <eventHandlerList>
                            <string>gmcp.Comm.Channel.Text</string>
                        </eventHandlerList>
                    </Script>
                    <Script isActive="yes" isFolder="no">
                        <name>gm.skill</name>
                        <packageName></packageName>
                        <script>-- elements from Demmonic's
gm.skill = function()
	local group = gmcp.Char.Skills.List.group
	local list = gmcp.Char.Skills.List.list

	if group then
		if not gm.skills then gm.skills = {} end
		gm.skills[group] = list
	end

	if gmcp.Char.Skills.List.group == &quot;weaponry&quot; then
		if table.contains( gmcp.Char.Skills.List.list, &quot;Quickdraw&quot; ) then
			quickdraw = true
		else
			quickdraw = false
		end
	end
end</script>
                        <eventHandlerList>
                            <string>gmcp.Char.Skills.List</string>
                        </eventHandlerList>
                    </Script>
                </ScriptGroup>
                <ScriptGroup isActive="yes" isFolder="yes">
                    <name>viewer</name>
                    <packageName></packageName>
                    <script></script>
                    <eventHandlerList/>
                    <Script isActive="yes" isFolder="no">
                        <name>[d] vw</name>
                        <packageName></packageName>
                        <script>vw = vw or {}
vw.tabs = vw.tabs or {}
vw.windows = vw.windows or {}
vw.tabsToBlink = vw.tabsToBlink or {}

vw.config = vw.config or {}
vw.config.activeColors = vw.config.activeColors or {}
vw.config.inactiveColors = vw.config.inactiveColors or {}

--This is where you tell it to use tabbed chat.
vw.use = true

--[[
The timestamp option is set here.
]]
vw.config.timestamp = false -- &quot;hh:mm:ss.zzz&quot;
vw.config.timestampCustomColor = true
vw.config.timestampFG = &quot;red&quot;
vw.config.timestampBG = &quot;black&quot;
vw.config.location = &quot;topright&quot;
vw.config.Alltab = &quot;All&quot;
vw.config.channels = {
  &quot;All&quot;,
  &quot;Org&quot;,
  &quot;Guild&quot;,
  &quot;Clans&quot;,
  &quot;Tells&quot;,
  &quot;Says&quot;,
  &quot;Misc&quot;,
}
vw.config.blink = true
vw.config.blinkTime = 3
vw.config.blinkFromAll = false
vw.config.fontSize = 9
vw.config.preserveBackground = false
vw.config.gag = false
vw.config.lines = 25
vw.config.width = 88
vw.config.activeColors = {
  r = 0,
  g = 180,
  b = 0,
}
vw.config.inactiveColors = {
  r = 60,
  g = 60,
  b = 60,
}
vw.config.windowColors = {
  r = 0,
  g = 0,
  b = 0,
}
vw.config.activeTabText = &quot;purple&quot;
vw.config.inactiveTabText = &quot;white&quot;
vw.currentTab = vw.currentTab or vw.config.Alltab or vw.config.channels[1]
</script>
                        <eventHandlerList/>
                    </Script>
                    <Script isActive="yes" isFolder="no">
                        <name>[d] utility</name>
                        <packageName></packageName>
                        <script>-- Geyser.MiniConsole:clear()
-- Geyser.MiniConsole:append()
-- align(str,options)
-- calign(str,options)
-- dalign(str,options)

function Geyser.MiniConsole:clear()
   clearWindow(self.name)
end

function Geyser.MiniConsole:append()
  appendBuffer(self.name)
end

function align(str,options) --str is a string, options is a table
--[[ If they sent anything but a table as the second argument, return useful
info. But if they didn't send a second argument then that's ok, the defaults
will be enough to get by and just center the txt
]]--
  if (type(options) ~= &quot;table&quot;) and (options ~= nil) then return &quot;You call this with align(\&quot;some text to format\&quot;, &lt;table of options&gt;. Pls check comments for what options and usage information&quot; end
  options = options or {} --if they sent options, don't overwrite them
  options.width = options.width or 80 --default line length of 80
  options.alignment = options.alignment or &quot;center&quot; --if we don't specify, it's centered
  options.cap = options.cap or &quot;&quot; --default endcap of nothing (an empty string, technically)
  options.spacer = options.spacer or &quot; &quot; --default spacer is.. well.. space
  options.inside = options.inside or false --by default, when centering, formation as spacers|cap|text|cap|spacers
  if not options.mirror == false then options.mirror = options.mirror or true end--by default, we do want to use mirroring for the caps
  local strLen = string.len(str)
  local leftCap = options.cap
  local rightCap = options.cap
  local leftPadLen = math.floor((options.width - strLen)/2,1) - 1
  local rightPadLen = leftPadLen + ((options.width - strLen)%2)
  local maxPad = 0
  local capLen = string.len(options.cap)
  if capLen &gt; leftPadLen then --if the cap is bigger than the left total padding
    options.cap = options.cap:sub(1, leftPadLen) -- trim it up right!
    capLen = string.len(options.cap)
  end --otherwise, don't mess with it

 
  if options.alignment == &quot;center&quot; then --we're going to center something
    leftPadLen = math.floor((options.width - strLen)/2,1) - 1 --get the padding needed on the left
    rightPadLen = leftPadLen + ((options.width - strLen)%2) --and on the right
    if options.mirror then --if we're reversing the left cap and the right cap (IE {{[[ turns into ]]}} )
      rightCap = string.gsub(rightCap, &quot;&lt;&quot;, &quot;&gt;&quot;)
      rightCap = string.gsub(rightCap, &quot;%[&quot;, &quot;%]&quot;)
      rightCap = string.gsub(rightCap, &quot;{&quot;, &quot;}&quot;)
      rightCap = string.gsub(rightCap, &quot;%(&quot;, &quot;%)&quot;)
      rightCap = string.reverse(rightCap)
    end --otherwise, they'll be the same, so don't do anything
    str = string.format(&quot; %s &quot;, str)
   
  elseif options.alignment == &quot;right&quot; then --we'll right-align the text
    leftPadLen = options.width - strLen - 1
    rightPadLen = 0
    rightCap = &quot;&quot;
    str = string.format(&quot; %s&quot;, str)
   
  else --Ok, so if it's not center or right, we assume it's left. We don't do justified. Sorry.
    leftPadLen = 0
    rightPadLen = options.width - strLen -1
    leftCap = &quot;&quot;
    str = string.format(&quot;%s &quot;, str)
  end--that's it, took care of both left, right, and center formattings, now to output the durn thing.
 
  if options.inside then
  --if we're placing the repated spacer inside
  --&quot;=====endcap some text endcap=====&quot;
  --&quot;=====endcap some text pacdne=====&quot;
  --&quot;=================endcap some text&quot;
  --&quot;some text endcap=================&quot;
    return leftCap .. string.rep(options.spacer, (leftPadLen - capLen)) .. str ..string.rep(options.spacer, (rightPadLen - capLen)).. rightCap
  else
  --otherwise, it''s be the spaces on the 'inside'
  -- &quot;endcap===== some text =====endcap&quot;
  -- &quot;endcap===== some text =====pacdne&quot;
  -- &quot;endcap================= some text&quot;
  -- &quot;some text =================endcap&quot;
    return string.rep(options.spacer, (leftPadLen - capLen)) .. leftCap .. str .. rightCap .. string.rep(options.spacer, (rightPadLen - capLen))
  end
end


function calign(str,options) --str is a string, options is a table
--[[ If they sent anything but a table as the second argument, return useful 
info. But if they didn't send a second argument then that's ok, the defaults 
will be enough to get by and just center the txt
]]--
  if (not type(options) == &quot;table&quot;) and (not options == nil) then return &quot;You call this with align(\&quot;some text to format\&quot;, &lt;table of options&gt;. Pls check comments for what options and usage information&quot; end 
  options = options or {} --if they sent options, don't overwrite them
  options.width = options.width or 80 --default line length of 80
  options.alignment = options.alignment or &quot;center&quot; --if we don't specify, it's centered
  options.cap = options.cap or &quot;&quot; --default endcap of nothing (an empty string, technically)
  options.spacer = options.spacer or &quot; &quot; --default spacer is.. well.. space
  options.inside = options.inside or false --by default, when centering, formation as spacers|cap|text|cap|spacers
  options.capColor = options.capColor or &quot;&lt;white&gt;&quot;--by default, don't change the color of the caps
  options.spacerColor = options.spacerColor or &quot;&lt;white&gt;&quot;
  options.textColor = options.textColor or &quot;&lt;white&gt;&quot;--or the text
  if not options.mirror == false then options.mirror = options.mirror or true end--by default, we do want to use mirroring for the caps
  local strLen = string.len(str)
  local leftCap = options.cap
  local rightCap = options.cap
  local leftPadLen = math.floor((options.width - strLen)/2,1) - 1
  local rightPadLen = leftPadLen + ((options.width - strLen)%2)
  local maxPad = 0
  local capLen = string.len(options.cap)
  if capLen &gt; leftPadLen then --if the cap is bigger than the left total padding
    options.cap = options.cap:sub(1, leftPadLen) -- trim it up right!
    capLen = string.len(options.cap)
  end --otherwise, don't mess with it

  
  if options.alignment == &quot;center&quot; then --we're going to center something
    leftPadLen = math.floor((options.width - strLen)/2,1) - 1 --get the padding needed on the left
    rightPadLen = leftPadLen + ((options.width - strLen)%2) --and on the right
    if options.mirror then --if we're reversing the left cap and the right cap (IE {{[[ turns into ]]}} )
      rightCap = string.gsub(rightCap, &quot;&lt;&quot;, &quot;&gt;&quot;)
      rightCap = string.gsub(rightCap, &quot;%[&quot;, &quot;%]&quot;)
      rightCap = string.gsub(rightCap, &quot;{&quot;, &quot;}&quot;)
      rightCap = string.gsub(rightCap, &quot;%(&quot;, &quot;%)&quot;)
      rightCap = string.reverse(rightCap)
    end --otherwise, they'll be the same, so don't do anything
    str = string.format(&quot; %s &quot;, str)
    
  elseif options.alignment == &quot;right&quot; then --we'll right-align the text
    leftPadLen = options.width - strLen - 1
    rightPadLen = 0
    rightCap = &quot;&quot;
    str = string.format(&quot; %s&quot;, str)
    
  else --Ok, so if it's not center or right, we assume it's left. We don't do justified. Sorry.
    leftPadLen = 0
    rightPadLen = options.width - strLen -1
    leftCap = &quot;&quot;
    str = string.format(&quot;%s &quot;, str)
  end--that's it, took care of both left, right, and center formattings, now to output the durn thing. 
  
  if options.inside then 
  --if we're placing the repated spacer inside
  --&quot;=====endcap some text endcap=====&quot; 
  --&quot;=====endcap some text pacdne=====&quot;
  --&quot;=================endcap some text&quot; 
  --&quot;some text endcap=================&quot;
    return options.capColor .. leftCap .. options.spacerColor.. string.rep(options.spacer, (leftPadLen - capLen)) .. options.textColor .. str .. options.spacerColor ..string.rep(options.spacer, (rightPadLen - capLen)) .. options.capColor .. rightCap
  else 
  --otherwise, it''s be the spaces on the 'inside'
  -- &quot;endcap===== some text =====endcap&quot;
  -- &quot;endcap===== some text =====pacdne&quot; 
  -- &quot;endcap================= some text&quot; 
  -- &quot;some text =================endcap&quot;
    return options.spacerColor .. string.rep(options.spacer, (leftPadLen - capLen)) .. options.capColor .. leftCap .. options.textColor .. str .. options.capColor .. rightCap .. options.spacerColor .. string.rep(options.spacer, (rightPadLen - capLen))
  end
end

function dalign(str,options) --str is a string, options is a table
--[[ If they sent anything but a table as the second argument, return useful 
info. But if they didn't send a second argument then that's ok, the defaults 
will be enough to get by and just center the txt
]]--
  if (not type(options) == &quot;table&quot;) and (not options == nil) then return &quot;You call this with align(\&quot;some text to format\&quot;, &lt;table of options&gt;. Pls check comments for what options and usage information&quot; end 
  options = options or {} --if they sent options, don't overwrite them
  options.width = options.width or 80 --default line length of 80
  options.alignment = options.alignment or &quot;center&quot; --if we don't specify, it's centered
  options.cap = options.cap or &quot;&quot; --default endcap of nothing (an empty string, technically)
  options.spacer = options.spacer or &quot; &quot; --default spacer is.. well.. space
  options.inside = options.inside or false --by default, when centering, formation as spacers|cap|text|cap|spacers
  options.capColor = options.capColor or &quot;&lt;255,255,255&gt;&quot;--by default, don't change the color of the caps
  options.spacerColor = options.spacerColor or &quot;&lt;255,255,255&gt;&quot; 
  options.textColor = options.textColor or &quot;&lt;255,255,255&gt;&quot;--or the text
  if not options.mirror == false then options.mirror = options.mirror or true end--by default, we do want to use mirroring for the caps
  local strLen = string.len(str)
  local leftCap = options.cap
  local rightCap = options.cap
  local leftPadLen = math.floor((options.width - strLen)/2,1) - 1
  local rightPadLen = leftPadLen + ((options.width - strLen)%2)
  local maxPad = 0
  local capLen = string.len(options.cap)
  if capLen &gt; leftPadLen then --if the cap is bigger than the left total padding
    options.cap = options.cap:sub(1, leftPadLen) -- trim it up right!
    capLen = string.len(options.cap)
  end --otherwise, don't mess with it

  
  if options.alignment == &quot;center&quot; then --we're going to center something
    leftPadLen = math.floor((options.width - strLen)/2,1) - 1 --get the padding needed on the left
    rightPadLen = leftPadLen + ((options.width - strLen)%2) --and on the right
    if options.mirror then --if we're reversing the left cap and the right cap (IE {{[[ turns into ]]}} )
      rightCap = string.gsub(rightCap, &quot;&lt;&quot;, &quot;&gt;&quot;)
      rightCap = string.gsub(rightCap, &quot;%[&quot;, &quot;%]&quot;)
      rightCap = string.gsub(rightCap, &quot;{&quot;, &quot;}&quot;)
      rightCap = string.gsub(rightCap, &quot;%(&quot;, &quot;%)&quot;)
      rightCap = string.reverse(rightCap)
    end --otherwise, they'll be the same, so don't do anything
    str = string.format(&quot; %s &quot;, str)
    
  elseif options.alignment == &quot;right&quot; then --we'll right-align the text
    leftPadLen = options.width - strLen - 1
    rightPadLen = 0
    rightCap = &quot;&quot;
    str = string.format(&quot; %s&quot;, str)
    
  else --Ok, so if it's not center or right, we assume it's left. We don't do justified. Sorry.
    leftPadLen = 0
    rightPadLen = options.width - strLen -1
    leftCap = &quot;&quot;
    str = string.format(&quot;%s &quot;, str)
  end--that's it, took care of both left, right, and center formattings, now to output the durn thing. 
  
  if options.inside then 
  --if we're placing the repated spacer inside
  --&quot;=====endcap some text endcap=====&quot; 
  --&quot;=====endcap some text pacdne=====&quot;
  --&quot;=================endcap some text&quot; 
  --&quot;some text endcap=================&quot;
    return options.capColor .. leftCap .. options.spacerColor.. string.rep(options.spacer, (leftPadLen - capLen)) .. options.textColor .. str .. options.spacerColor ..string.rep(options.spacer, (rightPadLen - capLen)) .. options.capColor .. rightCap
  else 
  --otherwise, it''s be the spaces on the 'inside'
  -- &quot;endcap===== some text =====endcap&quot;
  -- &quot;endcap===== some text =====pacdne&quot; 
  -- &quot;endcap================= some text&quot; 
  -- &quot;some text =================endcap&quot;
    return options.spacerColor .. string.rep(options.spacer, (leftPadLen - capLen)) .. options.capColor .. leftCap .. options.textColor .. str .. options.capColor .. rightCap .. options.spacerColor .. string.rep(options.spacer, (rightPadLen - capLen))
  end
end

function halign(str,options) --str is a string, options is a table
--[[ If they sent anything but a table as the second argument, return useful 
info. But if they didn't send a second argument then that's ok, the defaults 
will be enough to get by and just center the txt
]]--
  if (not type(options) == &quot;table&quot;) and (not options == nil) then return &quot;You call this with align(\&quot;some text to format\&quot;, &lt;table of options&gt;. Pls check comments for what options and usage information&quot; end 
  options = options or {} --if they sent options, don't overwrite them
  options.width = options.width or 80 --default line length of 80
  options.alignment = options.alignment or &quot;center&quot; --if we don't specify, it's centered
  options.cap = options.cap or &quot;&quot; --default endcap of nothing (an empty string, technically)
  options.spacer = options.spacer or &quot; &quot; --default spacer is.. well.. space
  options.inside = options.inside or false --by default, when centering, formation as spacers|cap|text|cap|spacers
  options.capColor = options.capColor or &quot;|cFFFFFF&quot;--by default, don't change the color of the caps
  options.spacerColor = options.spacerColor or &quot;|cFFFFFF&quot; 
  options.textColor = options.textColor or &quot;|cFFFFFF&quot;--or the text
  if not options.mirror == false then options.mirror = options.mirror or true end--by default, we do want to use mirroring for the caps
  local strLen = string.len(str)
  local leftCap = options.cap
  local rightCap = options.cap
  local leftPadLen = math.floor((options.width - strLen)/2,1) - 1
  local rightPadLen = leftPadLen + ((options.width - strLen)%2)
  local maxPad = 0
  local capLen = string.len(options.cap)
  if capLen &gt; leftPadLen then --if the cap is bigger than the left total padding
    options.cap = options.cap:sub(1, leftPadLen) -- trim it up right!
    capLen = string.len(options.cap)
  end --otherwise, don't mess with it

  
  if options.alignment == &quot;center&quot; then --we're going to center something
    leftPadLen = math.floor((options.width - strLen)/2,1) - 1 --get the padding needed on the left
    rightPadLen = leftPadLen + ((options.width - strLen)%2) --and on the right
    if options.mirror then --if we're reversing the left cap and the right cap (IE {{[[ turns into ]]}} )
      rightCap = string.gsub(rightCap, &quot;&lt;&quot;, &quot;&gt;&quot;)
      rightCap = string.gsub(rightCap, &quot;%[&quot;, &quot;%]&quot;)
      rightCap = string.gsub(rightCap, &quot;{&quot;, &quot;}&quot;)
      rightCap = string.gsub(rightCap, &quot;%(&quot;, &quot;%)&quot;)
      rightCap = string.reverse(rightCap)
    end --otherwise, they'll be the same, so don't do anything
    str = string.format(&quot; %s &quot;, str)
    
  elseif options.alignment == &quot;right&quot; then --we'll right-align the text
    leftPadLen = options.width - strLen - 1
    rightPadLen = 0
    rightCap = &quot;&quot;
    str = string.format(&quot; %s&quot;, str)
    
  else --Ok, so if it's not center or right, we assume it's left. We don't do justified. Sorry.
    leftPadLen = 0
    rightPadLen = options.width - strLen -1
    leftCap = &quot;&quot;
    str = string.format(&quot;%s &quot;, str)
  end--that's it, took care of both left, right, and center formattings, now to output the durn thing. 
  
  if options.inside then 
  --if we're placing the repated spacer inside
  --&quot;=====endcap some text endcap=====&quot; 
  --&quot;=====endcap some text pacdne=====&quot;
  --&quot;=================endcap some text&quot; 
  --&quot;some text endcap=================&quot;
    return options.capColor .. leftCap .. options.spacerColor.. string.rep(options.spacer, (leftPadLen - capLen)) .. options.textColor .. str .. options.spacerColor ..string.rep(options.spacer, (rightPadLen - capLen)) .. options.capColor .. rightCap
  else 
  --otherwise, it''s be the spaces on the 'inside'
  -- &quot;endcap===== some text =====endcap&quot;
  -- &quot;endcap===== some text =====pacdne&quot; 
  -- &quot;endcap================= some text&quot; 
  -- &quot;some text =================endcap&quot;
    return options.spacerColor .. string.rep(options.spacer, (leftPadLen - capLen)) .. options.capColor .. leftCap .. options.textColor .. str .. options.capColor .. rightCap .. options.spacerColor .. string.rep(options.spacer, (rightPadLen - capLen))
  end
end
 </script>
                        <eventHandlerList/>
                    </Script>
                    <Script isActive="yes" isFolder="no">
                        <name>vw function</name>
                        <packageName></packageName>
                        <script>--[[
If the label callbacks ever decide to start taking a function which is part of a table, 0then this will change.
Or if it's modified to take actual functions. Anonymouse function clickcallback would be awfully nice.
]]

function vwViewerSwitch(chat)
  local r = vw.config.inactiveColors.r
  local g = vw.config.inactiveColors.g
  local b = vw.config.inactiveColors.b
  local newr = vw.config.activeColors.r
  local newg = vw.config.activeColors.g
  local newb = vw.config.activeColors.b
  local oldchat = vw.currentTab
  if vw.currentTab ~= chat then
    vw.windows[oldchat]:hide()
    vw.tabs[oldchat]:setColor(r,g,b)
    vw.tabs[oldchat]:echo(oldchat, vw.config.inactiveTabText, &quot;c&quot;)
    if vw.config.blink and vw.tabsToBlink[chat] then
      vw.tabsToBlink[chat] = nil
    end
    if vw.config.blink and chat == vw.config.Alltab then
      vw.tabsToBlink = {}
    end
  end
  vw.tabs[chat]:setColor(newr,newg,newb)
  vw.tabs[chat]:echo(chat, vw.config.activeTabText, &quot;c&quot;)
  vw.windows[chat]:show()
  vw.currentTab = chat
end

function vw:resetUI()
  vw.container = Geyser.Container:new(vw[vw.config.location]())
  vw.tabBox = Geyser.HBox:new({
    x=0,
    y=0,
    width = &quot;100%&quot;,
    height = &quot;25px&quot;,
    name = &quot;vwViewerTabs&quot;,
  },vw.container)

end

function vw:create()
  if vw.use then
  --reset the UI
  vw:resetUI()
  --Set some variables locally to increase readability
  local r = vw.config.inactiveColors.r
  local g = vw.config.inactiveColors.g
  local b = vw.config.inactiveColors.b
  local winr = vw.config.windowColors.r
  local wing = vw.config.windowColors.g
  local winb = vw.config.windowColors.b

  --iterate the table of channels and create some windows and tabs
  for i,tab in ipairs(vw.config.channels) do 
    vw.tabs[tab] = Geyser.Label:new({
      name=string.format(&quot;tab%s&quot;, tab),
    }, vw.tabBox)
    vw.tabs[tab]:echo(tab, vw.config.inactiveTabText, &quot;c&quot;)
    vw.tabs[tab]:setColor(r,g,b)
    vw.tabs[tab]:setClickCallback(&quot;vwViewerSwitch&quot;, tab)
    vw.windows[tab] = Geyser.MiniConsole:new({
--      fontSize = demonnic.chat.config.fontSize,
      x = 0,
      y = 25,
      height = &quot;100%&quot;,
      width = &quot;100%&quot;,
      name = string.format(&quot;win%s&quot;, tab),
    }, vw.container)
    vw.windows[tab]:setFontSize(vw.config.fontSize)
    vw.windows[tab]:setColor(winr,wing,winb)
    vw.windows[tab]:setWrap(vw.config.width)
    vw.windows[tab]:hide()
  end
  local showme = vw.config.Alltab or vw.config.channels[1]
  vwViewerSwitch(showme) 
  --start the blink timers, if enabled     
  if vw.config.blink and not vw.blinkTimerOn then
    vw:blink()
  end
  else
	if vw.container then
		vw.container:move(0,0)
		vw.container:resize(0,0)
	end
  end
end

function vw:append(chat)

  local r = vw.config.windowColors.r
  local g = vw.config.windowColors.g
  local b = vw.config.windowColors.b
  selectCurrentLine()
  local ofr,ofg,ofb = getFgColor()
  local obr,obg,obb = getBgColor()
  if vw.config.preserveBackground then
    setBgColor(r,g,b)
  end 

  copy() 

  if vw.config.timestamp then
    local timestamp = getTime(true, vw.config.timestamp)
    local tsfg = {}
    local tsbg = {}
    local colorLeader = &quot;&quot;
    if vw.config.timestampCustomColor then
      if type(vw.config.timestampFG) == &quot;string&quot; then
        tsfg = color_table[vw.config.timestampFG]
      else
        tsfg = vw.config.timestampFG
      end
      if type(vw.config.timestampBG) == &quot;string&quot; then
        tsbg = color_table[vw.config.timestampBG]
      else
        tsbg = vw.config.timestampBG
      end
      colorLeader = string.format(&quot;&lt;%s,%s,%s:%s,%s,%s&gt;&quot;,tsfg[1],tsfg[2],tsfg[3],tsbg[1],tsbg[2],tsbg[3])
    else
      colorLeader = string.format(&quot;&lt;%s,%s,%s:%s,%s,%s&gt;&quot;,ofr,ofg,ofb,obr,obg,obb)
    end
    local fullstamp = string.format(&quot;%s%s&quot;,colorLeader,timestamp)
      vw.windows[chat]:decho(fullstamp)
      vw.windows[chat]:echo(&quot; &quot;)
      if vw.config.Alltab then 
        vw.windows[vw.config.Alltab]:decho(fullstamp)
        vw.windows[vw.config.Alltab]:echo(&quot; &quot;)
      end
  end
  vw.windows[chat]:append()
  if vw.config.gag then 
    deleteLine() 
    tempLineTrigger(1,1, [[if isPrompt() then deleteLine() end]])
  end
  if vw.config.Alltab then appendBuffer(string.format(&quot;win%s&quot;, vw.config.Alltab)) end
  if vw.config.blink and chat ~= vw.currentTab then 
    if (vw.config.Alltab == vw.currentTab) and not vw.config.blinkOnAll then
      return
    else
      vw.tabsToBlink[chat] = true
    end
  end
end

function vw:blink()
  if vw.blinkID then killTimer(vw.blinkID) end
  if not vw.config.blink then 
    vw.blinkTimerOn = false
    return 
  end
  for tab,_ in pairs(vw.tabsToBlink) do
    vw.tabs[tab]:flash()
  end
  vw.blinkID = tempTimer(vw.config.blinkTime, function () vw:blink() end)
end

function vw:topright()
  return {
    fontSize = vw.config.fontSize,
    x=string.format(&quot;-%sc&quot;, vw.config.width + 8),
    y=0,
    width=&quot;-20px&quot;,
    height=string.format(&quot;%ic&quot;, vw.config.lines + 2),
  }
end

function vw:topleft()
  return {
    fontSize = vw.config.fontSize,
    x=0,
    y=0,
    width=string.format(&quot;%sc&quot;, vw.config.width),
    height=string.format(&quot;%ic&quot;, vw.config.lines + 2),
  }
end

function vw:bottomright()
  return {
    fontSize = vw.config.fontSize,
    x=string.format(&quot;-%sc&quot;, vw.config.width + 2),
    y=string.format(&quot;-%sc&quot;, vw.config.lines + 2),
    width=&quot;-15px&quot;,
    height=string.format(&quot;%ic&quot;, vw.config.lines + 2),
  }
end

function vw:bottomleft()
  return {
    fontSize = vw.config.fontSize,
    x=0,
    y=string.format(&quot;-%sc&quot;, vw.config.lines + 2),
    width=string.format(&quot;%sc&quot;, vw.config.width),
    height=string.format(&quot;%ic&quot;, vw.config.lines + 2),
  }
end

function vw:toggle()
	if vw.use then
		vw.container:move(0,0)
		vw.container:resize(0,0)
		vw.use = false
	else
		vw:create()
		vw.use = true
	end
end</script>
                        <eventHandlerList/>
                    </Script>
                    <Script isActive="yes" isFolder="no">
                        <name>vwViewerOnStart</name>
                        <packageName></packageName>
                        <script>function vwViewerOnStart()
  if vw.use then
    vw:create()
  end
end</script>
                        <eventHandlerList>
                            <string>sysLoadEvent</string>
                        </eventHandlerList>
                    </Script>
                    <Script isActive="yes" isFolder="no">
                        <name>vw echo</name>
                        <packageName></packageName>
                        <script>
function vw:cecho(chat, message) 
  local alltab = vw.config.Alltab
  local blink = vw.config.blink 
  cecho(string.format(&quot;win%s&quot;,chat), message)
  if alltab and chat ~= alltab then 
    cecho(string.format(&quot;win%s&quot;, alltab), message)
  end
  if blink and chat ~= vw.currentTab then
    if (alltab == vw.currentTab) and not vw.config.blinkOnAll then
      return
    else
      vw.tabsToBlink[chat] = true
    end
  end
end

function vw:decho(chat, message)
  local alltab = vw.config.Alltab
  local blink = vw.config.blink
  decho(string.format(&quot;win%s&quot;,chat), message)
  if alltab and chat ~= alltab then 
    decho(string.format(&quot;win%s&quot;, alltab), message)
  end
  if blink and chat ~= vw.currentTab then
    if (alltab == vw.currentTab) and not vw.config.blinkOnAll then
      return
    else
      vw.tabsToBlink[chat] = true
    end
  end
end

function vw:hecho(chat, message)
  local alltab = vw.config.Alltab
  local blink = vw.config.blink
  hecho(string.format(&quot;win%s&quot;,chat), message)
  if alltab and chat ~= alltab then 
    hecho(string.format(&quot;win%s&quot;, alltab), message)
  end
  if blink and chat ~= vw.currentTab then
    if (alltab == vw.currentTab) and not vw.config.blinkOnAll then
      return
    else
      vw.tabsToBlink[chat] = true
    end
  end
end

function vw:echo(chat, message)
  local alltab = vw.config.Alltab
  local blink = vw.config.blink
  echo(string.format(&quot;win%s&quot;,chat), message)
  if alltab and chat ~= alltab then 
    echo(string.format(&quot;win%s&quot;, alltab), message)
  end
  if blink and chat ~= vw.currentTab then
    if (alltab == vw.currentTab) and not vw.config.blinkOnAll then
      return
    else
      vw.tabsToBlink[chat] = true
    end
  end
end</script>
                        <eventHandlerList/>
                    </Script>
                    <Script isActive="yes" isFolder="no">
                        <name>vw report</name>
                        <packageName></packageName>
                        <script>function vw:report( chat, message, suppress )
  local tstamp = &quot;hh:mm:ss.zzz&quot; -- vw.config.timestamp

  local r = vw.config.windowColors.r
  local g = vw.config.windowColors.g
  local b = vw.config.windowColors.b
  local ofr,ofg,ofb = getFgColor()
  local obr,obg,obb = getBgColor()
  if vw.config.preserveBackground then
    setBgColor(r,g,b)
  end 

  if tstamp then
    local timestamp = getTime(true,tstamp)
    local tsfg = {}
    local tsbg = {}
    local colorLeader = &quot;&quot;
    if vw.config.timestampCustomColor then
      if type(vw.config.timestampFG) == &quot;string&quot; then
        tsfg = color_table[vw.config.timestampFG]
      else
        tsfg = vw.config.timestampFG
      end
      if type(vw.config.timestampBG) == &quot;string&quot; then
        tsbg = color_table[vw.config.timestampBG]
      else
        tsbg = vw.config.timestampBG
      end
      colorLeader = string.format(&quot;&lt;%s,%s,%s:%s,%s,%s&gt;&quot;,tsfg[1],tsfg[2],tsfg[3],tsbg[1],tsbg[2],tsbg[3])
    else
      colorLeader = string.format(&quot;&lt;%s,%s,%s:%s,%s,%s&gt;&quot;,ofr,ofg,ofb,obr,obg,obb)
    end
    local fullstamp = string.format(&quot;%s%s&quot;,colorLeader,timestamp)
      vw.windows[chat]:decho(fullstamp)
      vw.windows[chat]:echo(&quot;  &quot;)
      if vw.config.Alltab and not suppress then 
        vw.windows[vw.config.Alltab]:decho(fullstamp)
        vw.windows[vw.config.Alltab]:echo(&quot;  &quot;)
      end
  end

   message = message..&quot;\n&quot;
   cecho(string.format(&quot;win%s&quot;,chat), message)  
  if vw.config.Alltab and not suppress then cecho(string.format(&quot;win%s&quot;, vw.config.Alltab), message) end
  if vw.config.blink and chat ~= vw.currentTab then 
    if (vw.config.Alltab == vw.currentTab) and not vw.config.blinkOnAll then
      return
    else
      vw.tabsToBlink[chat] = true
    end
  end
end</script>
                        <eventHandlerList/>
                    </Script>
                    <Script isActive="yes" isFolder="no">
                        <name>vw private</name>
                        <packageName></packageName>
                        <script>function vw.private(message)
  local tstamp = &quot;hh:mm:ss.zzz&quot; -- vw.config.timestamp
  local chat = &quot;Misc&quot;

  local r = vw.config.windowColors.r
  local g = vw.config.windowColors.g
  local b = vw.config.windowColors.b
  local ofr,ofg,ofb = getFgColor()
  local obr,obg,obb = getBgColor()
  if vw.config.preserveBackground then
    setBgColor(r,g,b)
  end 

  if tstamp then
    local timestamp = getTime(true,tstamp)
    local tsfg = {}
    local tsbg = {}
    local colorLeader = &quot;&quot;
    if vw.config.timestampCustomColor then
      if type(vw.config.timestampFG) == &quot;string&quot; then
        tsfg = color_table[vw.config.timestampFG]
      else
        tsfg = vw.config.timestampFG
      end
      if type(vw.config.timestampBG) == &quot;string&quot; then
        tsbg = color_table[vw.config.timestampBG]
      else
        tsbg = vw.config.timestampBG
      end
      colorLeader = string.format(&quot;&lt;%s,%s,%s:%s,%s,%s&gt;&quot;,tsfg[1],tsfg[2],tsfg[3],tsbg[1],tsbg[2],tsbg[3])
    else
      colorLeader = string.format(&quot;&lt;%s,%s,%s:%s,%s,%s&gt;&quot;,ofr,ofg,ofb,obr,obg,obb)
    end
    local fullstamp = string.format(&quot;%s%s&quot;,colorLeader,timestamp)
      vw.windows[chat]:decho(fullstamp)
      vw.windows[chat]:echo(&quot;  &quot;)
  end

   message = message..&quot;\n&quot;
   cecho(string.format(&quot;win%s&quot;,chat), message)  
  if vw.config.blink and chat ~= vw.currentTab then 
    if (vw.config.Alltab == vw.currentTab) and not vw.config.blinkOnAll then
      return
    else
      vw.tabsToBlink[chat] = true
    end
  end
end</script>
                        <eventHandlerList/>
                    </Script>
                </ScriptGroup>
            </ScriptGroup>
            <ScriptGroup isActive="yes" isFolder="yes">
                <name>Player System</name>
                <packageName></packageName>
                <script></script>
                <eventHandlerList/>
                <ScriptGroup isActive="yes" isFolder="yes">
                    <name>dba, dbax, emgr</name>
                    <packageName></packageName>
                    <script>dba = dba or {}
dban = dban or {}
dbax = dbax or {}

-- when modifying dbax code, be careful you do not override the trigger names prior to deleting them

dban.toxin_dictionary = {
	anorexia = &quot;bromine&quot;,
	asthma = &quot;mercury&quot;,
	butisol = &quot;butisol&quot;,
	calotropis = &quot;calotropis&quot;,
	clumsiness = &quot;ether&quot;,
	[&quot;crippled right arm&quot;] = &quot;benzene&quot;,
	[&quot;crippled left arm&quot;] = &quot;benzene&quot;,
	[&quot;crippled right leg&quot;] = &quot;benzedrine&quot;,
	[&quot;crippled left leg&quot;] = &quot;benzedrine&quot;,
	cyanide = &quot;cyanide&quot;,
	disloyalty = &quot;vitriol&quot;,
	dizziness = &quot;lindane&quot;,
	hemotoxin = &quot;hemotoxin&quot;,
	ignorance = &quot;avidya&quot;,
	metrazol = &quot;metrazol&quot;,
	nausea = &quot;botulinum&quot;,
	numbness = &quot;ciguatoxin&quot;,
	recklessness = &quot;atropine&quot;,
	[&quot;slow balance&quot;] = &quot;noctec&quot;,
	[&quot;slow elixirs&quot;] = &quot;luminal&quot;,
	[&quot;slow equilibrium&quot;] = &quot;mebaral&quot;,
	[&quot;slow herbs&quot;] = &quot;mazanor&quot;,
	sensitivity = &quot;strychnine&quot;,
	shyness = &quot;digitalis&quot;,
	slickness = &quot;iodine&quot;,
	stupidity = &quot;aconite&quot;,
	sunallergy = &quot;xeroderma&quot;,
	weariness = &quot;arsenic&quot;,
	[&quot;withered throat&quot;] = &quot;ketamine&quot;,
}

-- Manager
emgr = emgr or {}

emgr.a = emgr.a or {}
emgr.e = emgr.e or {}</script>
                    <eventHandlerList/>
                    <ScriptGroup isActive="yes" isFolder="yes">
                        <name>dba afflictions</name>
                        <packageName></packageName>
                        <script></script>
                        <eventHandlerList/>
                        <Script isActive="yes" isFolder="no">
                            <name>ablaze</name>
                            <packageName></packageName>
                            <script>dba.ablaze = {
	p = 9,
	p_herb = false,
	p_tree = 20,
	p_focus = false,
	p_purge = false,
	p_skin = 4,
	p_smoke = false,
	p_writhe = false,
	physical = true,
	mental = false,
	hypno = false,
	madness = false,
	name = &quot;ablaze&quot;,
	m_give = &quot;Flames leap around (\\w+), melting hair and charring (?:his|her) flesh\.&quot;,
	m_take = &quot;The raging fire about (\\w+)'s skin is put out\.&quot;,
	m_diag = &quot;ablaze.&quot;,
	me_give = &quot;&quot;,
	me_take = &quot;The raging fire about your skin is put out.&quot;,
	me_diag = &quot;ablaze.&quot;,
	desc = &quot;You are on fire and periodically receive damage.&quot;,
}</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>addiction</name>
                            <packageName></packageName>
                            <script>dba.addiction = {
	p = 4,
	p_wormwood = 3,
	p_tree = 8,
	p_focus = 5,
	p_purge = false,
	p_salve = false,
	p_smoke = false,
	p_writhe = false,
	physical = true,
	mental = false,
	hypno = true,
	madness = true,
	name = &quot;addiction&quot;,
	m_give = &quot;&quot;,
	m_take = &quot;&quot;,
	m_diag = &quot;addicted to elixirs.&quot;,
	me_give = &quot;&quot;,
	me_take = &quot;Your terrible addiction to lovely elixirs seems to wane.&quot;,
	me_diag = &quot;addicted to elixirs.&quot;,
	desc = &quot;When sipping a health or mana elixir, causes you to sip the one that you need less.&quot;,
}</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>aeon</name>
                            <packageName></packageName>
                            <script>dba.aeon = {	
	p = 1,
	p_herb = false,
	p_tree = 20,
	p_focus = false,
	p_purge = false,
	p_salve = false,
	p_laurel = 2,
	p_writhe = false,
	physical = true,
	mental = false,
	hypno = false,
	madness = false,
	name = &quot;aeon&quot;,
	m_give = &quot;&quot;,
	m_take = &quot;&quot;,
	m_diag = &quot;afflicted with the curse of the Aeon.&quot;,
	me_give = &quot;As the card reaches you, a premonition floods your mind as the curse of Aeon descends upon you.&quot;,
	me_take = &quot;The curse of the Aeon wears off and you return to the normal timestream.&quot;,
	me_diag = &quot;afflicted with the curse of the Aeon.&quot;,
	desc = &quot;All damage received while under effect will relapse again after 4 seconds. Reduced by 75% if cured by then.&quot;,
}</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>agoraphobia</name>
                            <packageName></packageName>
                            <script>dba.agoraphobia = {
	p = 1,
	p_orphine = 4,
	p_tree = 20,
	p_focus = 10,
	p_purge = false,
	p_salve = false,
	p_smoke = false,
	p_writhe = false,
	physical = true,
	mental = true,
	hypno = true,
	madness = true,
	name = &quot;agoraphobia&quot;,
	m_give = &quot;(\\w+) is gripped with fear, staring out with terrified eyes.&quot;,
	m_take = &quot;&quot;,
	m_diag = &quot;agoraphobic.&quot;,
	me_give = &quot;Terror descends upon you and your head swims \- you must find shelter!&quot;,
	me_take = &quot;You can handle the idea of open spaces again.&quot;,
	me_diag = &quot;agoraphobic.&quot;,
	desc = &quot;Causes you to periodically run around in fear while outdoors.&quot;,
}</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>anorexia</name>
                            <packageName></packageName>
                            <script>dba.anorexia = {
	p = 1,
	p_herb = false,
	p_tree = 5,
	p_focus = 5,
	p_purge = 6,
	p_epidermal = 1,
	p_skin = 1,
	p_smoke = false,
	p_writhe = false,
	physical = true,
	mental = false,
	hypno = true,
	madness = false,
	name = &quot;anorexia&quot;,
	m_give = &quot;(\\w+) suddenly look(s)* nauseous.&quot;,
	m_take = &quot;&quot;,
	m_diag = &quot;anorexic.&quot;,
	me_give = &quot;The idea of eating or drinking is repulsive to you.&quot;,
	me_take = &quot;Food is no longer repulsive to you.&quot;,
	me_diag = &quot;anorexic.&quot;,
	desc = &quot;Causes you to be unable to eat or drink anything.&quot;,
}</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>asthma</name>
                            <packageName></packageName>
                            <script>dba.asthma = {
	p = 1,
	p_kelp = 2,
	p_tree = 5,
	p_focus = false,
	p_purge = 6,
	p_salve = false,
	p_smoke = false,
	p_writhe = false,
	physical = true,
	mental = false,
	hypno = false,
	madness = false,
	name = &quot;asthma&quot;,
	m_give = &quot;&quot;,
	m_take = &quot;&quot;,
	m_diag = &quot;afflicted by horrible asthma.&quot;,
	me_give = &quot;Your lungs tighten and it becomes hard to breathe.&quot;,
	me_take = &quot;Your lungs relax and you can breathe easy once again.&quot;,
	me_diag = &quot;afflicted by horrible asthma.&quot;,
	desc = &quot;Makes you unable to smoke pipes.&quot;,
}</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>blackblood</name>
                            <packageName></packageName>
                            <script>dba.blackblood = {
	p = 8,
	p_toadstool = 3,
	p_tree = 20,
	p_focus = false,
	p_purge = false,
	p_salve = false,
	p_smoke = false,
	p_writhe = false,
	physical = false,
	mental = false,
	hypno = false,
	madness = false,
	name = &quot;blackblood&quot;,
	m_give = &quot;&quot;,
	m_take = &quot;&quot;,
	m_diag = &quot;has blackened blood.&quot;,
	me_give = &quot;&quot;,
	me_take = &quot;Your blood loses its blackish color.&quot;,
	me_diag = &quot;has blackened blood.&quot;,
	desc = &quot;See AB PREDATION LARTOSIS. Used by Predators.&quot;,
}</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>bloodtears</name>
                            <packageName></packageName>
                            <script>dba.bloodtears = {
	p = 5,
	p_herb = false,
	p_tree = 20,
	p_focus = false,
	p_purge = false,
	p_head = 3,
	p_smoke = false,
	p_writhe = false,
	physical = true,
	mental = false,
	hypno = false,
	madness = false,
	name = &quot;bloodtears&quot;,
	m_give = &quot;&quot;,
	m_take = &quot;&quot;,
	m_diag = &quot;shedding tears of blood.&quot;,
	me_give = &quot;&quot;,
	me_take = &quot;Your eyes have stopped shedding tears of blood.&quot;,
	me_diag = &quot;shedding tears of blood.&quot;,
	desc = &quot;Causes periodic damage. Used by Defilers.&quot;,
}</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>burning nerves</name>
                            <packageName></packageName>
                            <script>dba[&quot;burning nerves&quot;] = {
	p = 6,
	p_nightshade = 6,
	p_tree = 5,
	p_focus = false,
	p_purge = false,
	p_salve = false,
	p_smoke = false,
	p_writhe = false,
	physical = true,
	mental = false,
	hypno = false,
	madness = false,
	name = &quot;burning nerves&quot;,
	m_give = &quot;(\\w+)'s body starts twitching uncontrollably, as if (?:his|her) nerves were on fire\.$&quot;,
	m_take = &quot;&quot;,
	m_diag = &quot;has burning nerves.&quot;,
	me_give = &quot;&quot;,
	me_take = &quot;Your nerves are no longer on fire.&quot;,
	me_diag = &quot;has burning nerves.&quot;,
	desc = &quot;Causes damage when using the purge blood and focus abilities. Used by Mages and Summoners.&quot;,
}</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>butisol</name>
                            <packageName></packageName>
                            <script>dba.butisol = {
	p = 3,
	p_kelp = 4,
	p_tree = 5,
	p_focus = false,
	p_purge = 10,
	p_salve = false,
	p_smoke = false,
	p_writhe = false,
	physical = true,
	mental = false,
	hypno = false,
	madness = false,
	name = &quot;butisol&quot;,
	m_give = &quot;(\\w+) appears flushed, (?:his|her) skin sweating heavily.&quot;,
	m_take = &quot;(\\w+)'s skin color returns to normal and (?:his|her) sweating subsides.&quot;,
	m_diag = &quot;afflicted with poor salve absorption.&quot;,
	me_give = &quot;You begin sweating heavily, your skin heating to unnatural temperatures.&quot;,
	me_take = &quot;Your sweating subsides and your skin temperature returns to normal.&quot;,
	me_diag = &quot;afflicted with poor salve absorption.&quot;,
	desc = &quot;Increases the time needed to regain salve balance by 2 seconds.&quot;,
}</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>calotropis</name>
                            <packageName></packageName>
                            <script>dba.calotropis = {
	p = 1,
	p_herb = false,
	p_tree = 10,
	p_focus = false,
	p_purge = 20,
	p_epidermal = 2,
	p_smoke = false,
	p_writhe = false,
	physical = true,
	mental = false,
	hypno = false,
	madness = false,
	name = &quot;calotropis&quot;,
	m_give = &quot;(\\w+)'s skin suddenly turns pale and (?:he|she) begins sweating profusely.&quot;,
	m_take = &quot;&quot;,
	m_diag = &quot;unable to digest herbs properly.&quot;,
	me_give = &quot;A cold sweat overtakes you, your skin suddenly turning pale and clammy.&quot;,
	me_take = &quot;Your skin warms, restoring health and vitality.&quot;,
	me_diag = &quot;unable to digest herbs properly.&quot;,
	desc = &quot;Causes all plant cures to have a 33% chance to fail.&quot;,
}</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>carved rune</name>
                            <packageName></packageName>
                            <script>dba[&quot;carved rune&quot;] = {
	p = 8,
	p_herb = false,
	p_tree = 15,
	p_focus = false,
	p_purge = false,
	p_skin = 4,
	p_smoke = false,
	p_writhe = false,
	physical = false,
	mental = false,
	hypno = false,
	madness = false,
	name = &quot;carved rune&quot;,
	m_give = &quot;&quot;,
	m_take = &quot;&quot;,
	m_diag = &quot;marred by a bloody rune carved into (?:his|her) chest.&quot;,
	me_give = &quot;&quot;,
	me_take = &quot;The gaping wound on your chest stops bleeding.&quot;,
	me_diag = &quot;marred by a bloody rune carved into (?:his|her) chest\.&quot;,
	desc = &quot;A rune carved into your flesh periodically affects you with its usual effect. Used by Runeguards.&quot;,
}</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>choked by a root</name>
                            <packageName></packageName>
                            <script>dba[&quot;choked by a root&quot;] = {
	p = 3,
	p_herb = false,
	p_tree = false,
	p_focus = false,
	p_purge = false,
	p_salve = false,
	p_smoke = false,
	p_writhe = &quot;root&quot;,
	physical = false,
	mental = false,
	hypno = false,
	madness = false,
	name = &quot;choked by a root&quot;,
	m_give = &quot;&quot;,
	m_take = &quot;&quot;,
	m_diag = &quot;choked by an animated root.&quot;,
	me_give = &quot;^(\\w+) points (?:his|her) quarterstaff at you and an animated hawthorn root leaps at your throat and squeezes tightly, attempting to choke the life out of you.&quot;,
	me_take = &quot;You have escaped from the choking grasp of the animated root.&quot;,
	me_diag = &quot;choked by an animated root.&quot;,
	desc = &quot;A form of entanglement, prevents movement and using most attacks. Takes longer to writhe from than basic entanglement types. Used by Druids.&quot;,
}</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>claustrophobia</name>
                            <packageName></packageName>
                            <script>dba.claustrophobia = {
	p = 9,
	p_orphine = 3,
	p_tree = 20,
	p_focus = 11,
	p_purge = false,
	p_salve = false,
	p_smoke = false,
	p_writhe = false,
	physical = false,
	mental = true,
	hypno = true,
	madness = false,
	name = &quot;claustrophobia&quot;,
	m_give = &quot;(\\w+) begins to pant in terror\.$&quot;,
	m_take = &quot;&quot;,
	m_diag = &quot;claustrophobic.&quot;,
	me_give = &quot;&quot;,
	me_take = &quot;Small spaces no longer frighten you.&quot;,
	me_diag = &quot;claustrophobic.&quot;,
	desc = &quot;Causes you to periodically run around in fear while indoors.&quot;,
}</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>clumsiness</name>
                            <packageName></packageName>
                            <script>dba.clumsiness = {
	p = 1,
	p_kelp = 3,
	p_tree = 15,
	p_focus = 3,
	p_purge = 11,
	p_salve = false,
	p_smoke = false,
	p_writhe = false,
	physical = true,
	mental = false,
	hypno = true,
	madness = false,
	name = &quot;clumsiness&quot;,
	m_give = &quot;(\\w+) shakes (?:his|her) head dizzily.&quot;,
	m_take = &quot;&quot;,
	m_diag = &quot;afflicted with clumsiness.&quot;,
	me_give = &quot;You stumble and it becomes very difficult to concentrate on your coordination.&quot;,
	me_take = &quot;You feel coordinated once more.&quot;,
	me_diag = &quot;afflicted with clumsiness.&quot;,
	desc = &quot;Gives you a significant chance to miss your target with various attacks.&quot;,
}</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>confusion</name>
                            <packageName></packageName>
                            <script>dba.confusion = {
	p = 7,
	p_wormwood = 6,
	p_tree = 10,
	p_focus = 2,
	p_purge = false,
	p_salve = false,
	p_smoke = false,
	p_writhe = false,
	physical = false,
	mental = true,
	hypno = true,
	madness = true,
	name = &quot;confusion&quot;,
	m_give = &quot;(\\w+)'s eyes grow vacant and (?:his|her) jaw hangs open.&quot;,
	m_take = &quot;&quot;,
	m_diag = &quot;confused.&quot;,
	me_give = &quot;&quot;,
	me_take = &quot;The confusion lifts from your mind and it is clear once again.&quot;,
	me_diag = &quot;confused.&quot;,
	desc = &quot;Doubles the time needed to regain equilibrium, and prevents you from using the CONCENTRATE command.&quot;,
}</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>crippled left arm</name>
                            <packageName></packageName>
                            <script>dba[&quot;crippled left arm&quot;] = {
	p = 3,
	p_herb = false,
	p_tree = 20,
	p_focus = false,
	p_purge = false,
	p_arms = 3,
	p_smoke = false,
	p_writhe = false,
	physical = true,
	mental = false,
	hypno = false,
	madness = false,
	name = &quot;crippled left arm&quot;,
	m_give = &quot;(\\w+)'s left arm has been mutilated.&quot;,
	m_take = &quot;&quot;,
	m_diag = &quot;afflicted by a crippled left arm.&quot;,
	me_give = &quot;&quot;,
	me_take = &quot;Your left arm becomes functional as the bones quickly mend.&quot;,
	me_diag = &quot;afflicted by a crippled left arm.&quot;,
	desc = &quot;Prevents some attacks. More actions are prevented if both arms are broken.&quot;,
}
</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>crippled right arm</name>
                            <packageName></packageName>
                            <script>dba[&quot;crippled right arm&quot;] = {
	p = 3,
	p_herb = false,
	p_tree = 20,
	p_focus = false,
	p_purge = false,
	p_arms = 4,
	p_smoke = false,
	p_writhe = false,
	physical = true,
	mental = false,
	hypno = false,
	madness = false,
	name = &quot;crippled right arm&quot;,
	m_give = &quot;(\\w+)'s right arm has been mutilated.&quot;,
	m_take = &quot;&quot;,
	m_diag = &quot;afflicted by a crippled right arm.&quot;,
	me_give = &quot;&quot;,
	me_take = &quot;Your right arm becomes functional as the bones quickly mend.&quot;,
	me_diag = &quot;afflicted by a crippled right arm.&quot;,
	desc = &quot;Prevents some attacks. More actions are prevented if both arms are broken.&quot;,
}</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>crippled left leg</name>
                            <packageName></packageName>
                            <script>dba[&quot;crippled left leg&quot;] = {
	p = 4,
	p_herb = false,
	p_tree = 20,
	p_focus = false,
	p_purge = false,
	p_legs = 4,
	p_smoke = false,
	p_writhe = false,
	physical = true,
	mental = false,
	hypno = false,
	madness = false,
	name = &quot;crippled left leg&quot;,
	m_give = &quot;(\\w+)'s left leg has been mutilated.&quot;,
	m_take = &quot;&quot;,
	m_diag = &quot;afflicted by a crippled left leg.&quot;,
	me_give = &quot;&quot;,
	me_take = &quot;Your left leg becomes functional as the bones quickly mend.&quot;,
	me_diag = &quot;afflicted by a crippled left leg.&quot;,
	desc = &quot;Prevents standing up and some attacks. Makes walking slower, or impossible if both legs are broken.&quot;,
}</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>crippled right leg</name>
                            <packageName></packageName>
                            <script>dba[&quot;crippled right leg&quot;] = {
	p = 4,
	p_herb = false,
	p_tree = 20,
	p_focus = false,
	p_purge = false,
	p_legs = 4,
	p_smoke = false,
	p_writhe = false,
	physical = true,
	mental = false,
	hypno = false,
	madness = false,
	name = &quot;crippled right leg&quot;,
	m_give = &quot;(\\w+)'s right leg has been mutilated.&quot;,
	m_take = &quot;&quot;,
	m_diag = &quot;afflicted by a crippled right leg.&quot;,
	me_give = &quot;&quot;,
	me_take = &quot;Your right leg becomes functional as the bones quickly mend.&quot;,
	me_diag = &quot;afflicted by a crippled right leg.&quot;,
	desc = &quot;Prevents standing up and some attacks. Makes walking slower, or impossible if both legs are broken.&quot;,
}</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>damaged head</name>
                            <packageName></packageName>
                            <script>dba[&quot;damaged head&quot;] = {
	p = 3,
	p_herb = false,
	p_tree = 20,
	p_focus = false,
	p_purge = false,
	p_head = 2,
	p_smoke = false,
	p_writhe = false,
	physical = false,
	mental = false,
	hypno = false,
	madness = false,
	name = &quot;damaged right arm&quot;,
	m_give = &quot;&quot;,
	m_take = &quot;&quot;,
	m_diag = &quot;has a partially damaged right arm.&quot;,
	me_give = &quot;&quot;,
	me_take = &quot;Your right arm feels stronger and healthier.&quot;,
	me_diag = &quot;has a partially damaged right arm.&quot;,
	desc = &quot;Effects are similar to a crippled arm, but this one takes longer to cure. Given by receiving multiple attacks targetted at one's left arm.&quot;,
}</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>damaged left arm</name>
                            <packageName></packageName>
                            <script>dba[&quot;damaged left arm&quot;] = {
	p = 3,
	p_herb = false,
	p_tree = 20,
	p_focus = false,
	p_purge = false,
	p_arms = 2,
	p_smoke = false,
	p_writhe = false,
	physical = false,
	mental = false,
	hypno = false,
	madness = false,
	name = &quot;damaged left arm&quot;,
	m_give = &quot;(\\w+)'s left arm has been mutilated.&quot;,
	m_take = &quot;&quot;,
	m_diag = &quot;has a partially damaged left arm.&quot;,
	me_give = &quot;&quot;,
	me_take = &quot;Your left arm feels stronger and healthier.&quot;,
	me_diag = &quot;has a partially damaged left arm.&quot;,
	desc = &quot;Effects are similar to a crippled arm, but this one takes longer to cure. Given by receiving multiple attacks targetted at one's left arm.&quot;,
}</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>damaged right arm</name>
                            <packageName></packageName>
                            <script>dba[&quot;damaged right arm&quot;] = {
	p = 3,
	p_herb = false,
	p_tree = 20,
	p_focus = false,
	p_purge = false,
	p_arms = 2,
	p_smoke = false,
	p_writhe = false,
	physical = false,
	mental = false,
	hypno = false,
	madness = false,
	name = &quot;damaged right arm&quot;,
	m_give = &quot;(\\w+)'s right arm has been mutilated.&quot;,
	m_take = &quot;&quot;,
	m_diag = &quot;has a partially damaged right arm.&quot;,
	me_give = &quot;&quot;,
	me_take = &quot;Your right arm feels stronger and healthier.&quot;,
	me_diag = &quot;has a partially damaged right arm.&quot;,
	desc = &quot;Effects are similar to a crippled arm, but this one takes longer to cure. Given by receiving multiple attacks targetted at one's right arm.&quot;,
}</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>damaged left leg</name>
                            <packageName></packageName>
                            <script>dba[&quot;damaged left leg&quot;] = {
	p = 3,
	p_herb = false,
	p_tree = 20,
	p_focus = false,
	p_purge = false,
	p_legs = 2,
	p_smoke = false,
	p_writhe = false,
	physical = false,
	mental = false,
	hypno = false,
	madness = false,
	name = &quot;damaged left leg&quot;,
	m_give = &quot;(\\w+)'s left leg has been mutilated.&quot;,
	m_take = &quot;&quot;,
	m_diag = &quot;has a partially damaged left leg.&quot;,
	me_give = &quot;&quot;,
	me_take = &quot;Your left leg feels stronger and healthier.&quot;,
	me_diag = &quot;has a partially damaged left leg.&quot;,
	desc = &quot;Effects are similar to a crippled leg, but this one takes longer to cure. Given by receiving multiple attacks targetted at one's left leg.&quot;,
}

</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>damaged right leg</name>
                            <packageName></packageName>
                            <script>dba[&quot;damaged right leg&quot;] = {
	p = 3,
	p_herb = false,
	p_tree = 20,
	p_focus = false,
	p_purge = false,
	p_legs = 2,
	p_smoke = false,
	p_writhe = false,
	physical = false,
	mental = false,
	hypno = false,
	madness = false,
	name = &quot;damaged right leg&quot;,
	m_give = &quot;(\\w+)'s right leg has been mutilated.&quot;,
	m_take = &quot;&quot;,
	m_diag = &quot;has a partially damaged right leg.&quot;,
	me_give = &quot;&quot;,
	me_take = &quot;Your right leg feels stronger and healthier.&quot;,
	me_diag = &quot;has a partially damaged right leg.&quot;,
	desc = &quot;Effects are similar to a crippled leg, but this one takes longer to cure. Given by receiving multiple attacks targetted at one's left leg.&quot;,
}

</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>deadening</name>
                            <packageName></packageName>
                            <script>dba.deadening = {
	p = 6,
	p_mandrake = 4,
	p_tree = 20,
	p_focus = 13,
	p_purge = false,
	p_salve = false,
	p_smoke = false,
	p_writhe = false,
	physical = false,
	mental = true,
	hypno = true,
	madness = false,
	name = &quot;deadening&quot;,
	m_give = &quot;(\\w+) looks about with a dazed expression on (?:his|her) face.&quot;,
	m_take = &quot;&quot;,
	m_diag = &quot;&quot;,
	me_give = &quot;&quot;,
	me_take = &quot;Your mind is no longer deadened.&quot;,
	me_diag = &quot;of a deadened mind.&quot;,
	desc = &quot;Speeds up the effects of Assassin/Renegade hypnosis and Monk mind locks.&quot;,
}</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>dementia</name>
                            <packageName></packageName>
                            <script>dba.dementia = {
	p = 9,
	p_wormwood = 5,
	p_tree = 20,
	p_focus = 20,
	p_purge = false,
	p_salve = false,
	p_smoke = false,
	p_writhe = false,
	physical = false,
	mental = true,
	hypno = true,
	madness = true,
	name = &quot;dementia&quot;,
	m_give = &quot;(\\w+) stares about (?:him|her)self frenziedly, wild-eyed.&quot;,
	m_take = &quot;&quot;,
	m_diag = &quot;demented.&quot;,
	me_give = &quot;&quot;,
	me_take = &quot;Sanity returns to you and you are no longer demented.&quot;,
	me_diag = &quot;demented.&quot;,
	desc = &quot;Makes you unable to see the direction in which players enter or leave, and causes LOOK/QL to show random rooms instead of your real one.&quot;,
}</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>disfigurement</name>
                            <packageName></packageName>
                            <script>dba.disfigurement = {
	p = 5,
	p_herb = false,
	p_tree = 15,
	p_focus = false,
	p_purge = false,
	p_epidermal = 4,
	p_skin = 3,
	p_smoke = false,
	p_writhe = false,
	physical = true,
	mental = false,
	hypno = false,
	madness = false,
	name = &quot;disfigurement&quot;,
	m_give = &quot;(\\w+)'s body seems to weaken and appears more primitive\.$&quot;,
	m_take = &quot;&quot;,
	m_diag = &quot;disfigured beyond recognition.&quot;,
	me_give = &quot;&quot;,
	me_take = &quot;Your horribly disfigured body is restored.&quot;,
	me_diag = &quot;disfigured beyond recognition.&quot;,
	desc = &quot;Periodically causes the disloyalty affliction.&quot;,
}</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>disloyalty</name>
                            <packageName></packageName>
                            <script>dba.disloyalty = {
	p = 3,
	p_herb = false,
	p_tree = 15,
	p_focus = 8,
	p_purge = 18,
	p_salve = false,
	p_lovage = 3,
	p_writhe = false,
	physical = false,
	mental = true,
	hypno = false,
	madness = false,
	name = &quot;disloyalty&quot;,
	m_give = &quot;&quot;,
	m_take = &quot;&quot;,
	m_diag = &quot;inspiring disloyalty in those nearby.&quot;,
	me_give = &quot;&quot;,
	me_take = &quot;You no longer will inspire disloyalty among friends.&quot;,
	me_diag = &quot;inspiring disloyalty in those nearby.&quot;,
	desc = &quot;Prevents you from giving orders to loyal entities and animals. If uncured for a few seconds, also causes all your loyals to attack you.&quot;,
}</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>dissonance</name>
                            <packageName></packageName>
                            <script>dba.dissonance = {
	p = 6,
	p_mandrake = 4,
	p_tree = 20,
	p_focus = false,
	p_purge = false,
	p_salve = false,
	p_smoke = false,
	p_writhe = false,
	physical = true,
	mental = false,
	hypno = false,
	madness = false,
	name = &quot;dissonance&quot;,
	m_give = &quot;&quot;,
	m_take = &quot;&quot;,
	m_diag = &quot;has a dissonant nature.&quot;,
	me_give = &quot;&quot;,
	me_take = &quot;Your dissonant nature becomes harmonious.&quot;,
	me_diag = &quot;has a dissonant nature.&quot;,
	desc = &quot;Causes periodic loss of defences. Used by Mages.&quot;,
}</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>dizziness</name>
                            <packageName></packageName>
                            <script>dba.dizziness = {
	p = 9,
	p_mandrake = 6,
	p_tree = 20,
	p_focus = 14,
	p_purge = 8,
	p_salve = false,
	p_smoke = false,
	p_writhe = false,
	physical = false,
	mental = true,
	hypno = false,
	madness = false,
	name = &quot;dizziness&quot;,
	m_give = &quot;&quot;,
	m_take = &quot;(\\w+) appears less dizzy\.&quot;,
	m_diag = &quot;overcome by dizziness.&quot;,
	me_give = &quot;&quot;,
	me_take = &quot;Stability returns and you are no longer dizzy.&quot;,
	me_diag = &quot;overcome by dizziness.&quot;,
	desc = &quot;Causes you to move in random directions of fall while trying to move.&quot;,
}</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>dryblood</name>
                            <packageName></packageName>
                            <script>dba.dryblood = {
	p = 5,
	p_nightshade = 5,
	p_tree = 20,
	p_focus = false,
	p_purge = false,
	p_salve = false,
	p_smoke = false,
	p_writhe = false,
	physical = true,
	mental = false,
	hypno = false,
	madness = false,
	name = &quot;dryblood&quot;,
	m_give = &quot;&quot;,
	m_take = &quot;&quot;,
	m_diag = &quot;suffering from unnaturally dry blood.&quot;,
	me_give = &quot;&quot;,
	me_take = &quot;Your blood regains its natural consistency.&quot;,
	me_diag = &quot;suffering from unnaturally dry blood.&quot;,
	desc = &quot;Causes blood to clot faster, but also causes damage upon each CLOT attempt. Used by Defilers.&quot;,
}</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>entropy</name>
                            <packageName></packageName>
                            <script>dba.entropy = {
	p = 5,
	p_wormwood = 4,
	p_tree = 20,
	p_focus = 4,
	p_purge = false,
	p_salve = false,
	p_smoke = false,
	p_writhe = false,
	physical = false,
	mental = true,
	hypno = false,
	madness = false,
	name = &quot;entropy&quot;,
	m_give = &quot;&quot;,
	m_take = &quot;&quot;,
	m_diag = &quot;afflicted by periodic fear.&quot;,
	me_give = &quot;&quot;,
	me_take = &quot;Your thoughts become much less chaotic.&quot;,
	me_diag = &quot;afflicted by periodic fear.&quot;,
	desc = &quot;Gives periodic fear. Used by Defilers.&quot;,
}</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>epilepsy</name>
                            <packageName></packageName>
                            <script>dba.epilepsy = {
	p = 1,
	p_herb = false,
	p_tree = 5,
	p_focus = 6,
	p_purge = 4,
	p_salve = false,
	p_laurel = 2,
	p_writhe = false,
	physical = false,
	mental = true,
	hypno = true,
	madness = false,
	name = &quot;epilepsy&quot;,
	m_give = &quot;(\\w+) begins to jerk and shake violently, foaming at the mouth\.&quot;,
	m_take = &quot;&quot;,
	m_diag = &quot;suffering from epilepsy.&quot;,
	me_give = &quot;&quot;,
	me_take = &quot;Your nerves suddenly calm down.&quot;,
	me_diag = &quot;suffering from epilepsy.&quot;,
	desc = &quot;Causes you to periodically lose balance.&quot;,
}</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>fear</name>
                            <packageName></packageName>
                            <script>dba.fear = {
	p = 6,
	p_herb = false,
	p_tree = false,
	p_focus = false,
	p_purge = false,
	p_salve = false,
	p_smoke = false,
	p_writhe = false,
	physical = false,
	mental = false,
	hypno = false,
	madness = false,
	name = &quot;fear&quot;,
	m_give = &quot;&quot;,
	m_take = &quot;&quot;,
	m_diag = &quot;afflicted by fear.&quot;,
	me_give = &quot;&quot;,
	me_take = &quot;You no longer feel fear.&quot;,
	me_diag = &quot;afflicted by fear.&quot;,
	desc = &quot;Causes you to run around in fear.&quot;,
}</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>frostbite</name>
                            <packageName></packageName>
                            <script>dba.frostbite = {
	p = 8,
	p_maidenhair = 6,
	p_tree = 15,
	p_focus = false,
	p_purge = false,
	p_salve = false,
	p_smoke = false,
	p_writhe = false,
	physical = true,
	mental = false,
	hypno = false,
	madness = false,
	name = &quot;frostbite&quot;,
	m_give = &quot;&quot;,
	m_take = &quot;&quot;,
	m_diag = &quot;suffering from frostbite.&quot;,
	me_give = &quot;&quot;,
	me_take = &quot;The strength-sapping frostbite recedes.&quot;,
	me_diag = &quot;suffering from frostbite.&quot;,
	desc = &quot;Increases times needed to regain equilibrium and balance by 33%.&quot;,
}</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>frozen</name>
                            <packageName></packageName>
                            <script>dba.frozen = {
	p = 8,
	p_maidenhair = 1,
	p_tree = 15,
	p_focus = false,
	p_purge = false,
	p_skin = 5,
	p_smoke = false,
	p_writhe = false,
	physical = true,
	mental = false,
	hypno = false,
	madness = false,
	name = &quot;frozen&quot;,
	m_give = &quot;&quot;,
	m_take = &quot;&quot;,
	m_diag = &quot;frozen stiff.&quot;,
	me_give = &quot;&quot;,
	me_take = &quot;Though still shivering, you are no longer gripped in icy paralysis.&quot;,
	me_diag = &quot;frozen stiff.&quot;,
	desc = &quot;Makes it difficult to move, on top of the effects of shivering. Counts as hindered for the purposes of various attacks.&quot;,
}</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>generosity</name>
                            <packageName></packageName>
                            <script>dba.generosity = {
	p = 10,
	p_galingale = 5,
	p_tree = 20,
	p_focus = 15,
	p_purge = false,
	p_salve = false,
	p_smoke = false,
	p_writhe = false,
	physical = false,
	mental = true,
	hypno = true,
	madness = false,
	name = &quot;generosity&quot;,
	m_give = &quot;(\\w+)'s eyes gleam with generosity.&quot;,
	m_take = &quot;&quot;,
	m_diag = &quot;extremely generous.&quot;,
	me_give = &quot;&quot;,
	me_take = &quot;Ahhhh. The freedom to be stingy again!&quot;,
	me_diag = &quot;extremely generous.&quot;,
	desc = &quot;Causes you to randomly give away various items.&quot;,
}</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>gutwyrm</name>
                            <packageName></packageName>
                            <script>dba.gutwyrm = {
	p = 4,
	p_ginger = 2,
	p_galingale = 5,
	p_tree = 20,
	p_focus = false,
	p_purge = false,
	p_salve = false,
	p_smoke = false,
	p_writhe = false,
	physical = true,
	mental = false,
	hypno = false,
	madness = false,
	name = &quot;gutwyrm&quot;,
	m_give = &quot;&quot;,
	m_take = &quot;^The gutwyrm screams in rage deep inside (\\w+) as (?:he|she) swallows the plant.&quot;,
	m_diag = &quot;tormented by a gutwyrm.&quot;,
	me_give = &quot;&quot;,
	me_take = &quot;The gutwyrm screams in rage deep inside you as you swallow the plant. Then, it is no more.&quot;,
	me_diag = &quot;tormented by a gutwyrm.&quot;,
	desc = &quot;See AB TORMENT GUTWYRM. Given by Defilers.&quot;,
}</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>haemophilia</name>
                            <packageName></packageName>
                            <script>dba.haemophilia = {
	p = 8,
	p_nightshade = 5,
	p_tree = 20,
	p_focus = false,
	p_purge = false,
	p_salve = false,
	p_smoke = false,
	p_writhe = false,
	physical = true,
	mental = false,
	hypno = false,
	madness = false,
	name = &quot;haemophilia&quot;,
	m_give = &quot;&quot;,
	m_take = &quot;&quot;,
	m_diag = &quot;unable to clot properly.&quot;,
	me_give = &quot;&quot;,
	me_take = &quot;Your blood regains its ability to clot.&quot;,
	me_diag = &quot;unable to clot properly.&quot;,
	desc = &quot;Causes you to be unable to clot bleeding wounds.&quot;,
}</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>hallucinations</name>
                            <packageName></packageName>
                            <script>dba.hallucinations = {
	p = 6,
	p_wormwood = 4,
	p_tree = 10,
	p_focus = 3,
	p_purge = false,
	p_salve = false,
	p_smoke = false,
	p_writhe = false,
	physical = false,
	mental = true,
	hypno = true,
	madness = true,
	name = &quot;hallucinations&quot;,
	m_give = &quot;(\\w+) looks around (?:herself|himself) with feverish eyes, (?:his|her) eyes focusing on something that is not there.&quot;,
	m_take = &quot;&quot;,
	m_diag = &quot;hallucinating.&quot;,
	me_give = &quot;&quot;,
	me_take = &quot;Your hallucinations cease to plague you.&quot;,
	me_diag = &quot;hallucinating.&quot;,
	desc = &quot;Periodically gives you hallucinations that can stun, give fear, or cause you to dive to the ground.&quot;,
}</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>healthleech</name>
                            <packageName></packageName>
                            <script>dba.healthleech = {
	p = 8,
	p_kelp = 5,
	p_tree = 15,
	p_focus = false,
	p_purge = false,
	p_salve = false,
	p_smoke = false,
	p_writhe = false,
	physical = true,
	mental = false,
	hypno = false,
	madness = false,
	name = &quot;healthleech&quot;,
	m_give = &quot;&quot;,
	m_take = &quot;&quot;,
	m_diag = &quot;a victim of healthleech.&quot;,
	me_give = &quot;&quot;,
	me_take = &quot;Your aching, pain-wracked body is soothed and calmed.&quot;,
	me_diag = &quot;a victim of healthleech.&quot;,
	desc = &quot;Periodically drains your health.&quot;,
}</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>hellsight</name>
                            <packageName></packageName>
                            <script>dba.hellsight = {
	p = 4,
	p_maidenhair = 1,
	p_tree = 10,
	p_focus = 7,
	p_purge = false,
	p_salve = false,
	p_laurel = 3,
	p_writhe = false,
	physical = false,
	mental = true,
	hypno = false,
	madness = false,
	name = &quot;hellsight&quot;,
	m_give = &quot;&quot;,
	m_take = &quot;&quot;,
	m_diag = &quot;catching glimpses of Hell.&quot;,
	me_give = &quot;&quot;,
	me_take = &quot;Thankfully, the visions of Hell have left you.&quot;,
	me_diag = &quot;catching glimpses of Hell.&quot;,
	desc = &quot;Periodically gives you various afflictions.&quot;,
}</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>hemotoxin</name>
                            <packageName></packageName>
                            <script>dba.hemotoxin = {
	p = 1,
	p_kelp = 1,
	p_tree = 10,
	p_focus = false,
	p_purge = false,
	p_salve = false,
	p_smoke = false,
	p_writhe = false,
	physical = true,
	mental = false,
	hypno = false,
	madness = false,
	name = &quot;hemotoxin&quot;,
	m_give = &quot;(\\w+) pales suddenly and slumps perceptibly.&quot;,
	m_take = &quot;(\\w+)'s colour returns to (?:his|her) face.&quot;,
	m_diag = &quot;plagued with a weakened immune system.&quot;,
	me_give = &quot;An attack on your immune system causes your body to feel weak.&quot;,
	me_take = &quot;Your immune system feels stronger.&quot;,
	me_diag = &quot;plagued with a weakened immune system.&quot;,
	desc = &quot;Prevents you from using the PURGE BLOOD ability (HELP ANTIDOTES).&quot;,
}</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>heroism</name>
                            <packageName></packageName>
                            <script>dba.heroism = {
	p = 8,
	p_mandrake = 3,
	p_tree = 10,
	p_focus = 22,
	p_purge = false,
	p_salve = false,
	p_smoke = false,
	p_writhe = false,
	physical = false,
	mental = true,
	hypno = true,
	madness = false,
	name = &quot;heroism&quot;,
	m_give = &quot;(\\w+) stands upright and flexes (?:his|her) muscles.&quot;,
	m_take = &quot;&quot;,
	m_diag = &quot;feeling like a true hero.&quot;,
	me_give = &quot;&quot;,
	me_take = &quot;You realise that perhaps you are not a hero after all.&quot;,
	me_diag = &quot;feeling like a true hero.&quot;,
	desc = &quot;Prevents you from using shield tattoos and similar effects.&quot;,
}</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>hypersomnia</name>
                            <packageName></packageName>
                            <script>dba.hypersomnia = {
	p = 9,
	p_wormwood = 6,
	p_tree = 10,
	p_focus = 19,
	p_purge = false,
	p_salve = false,
	p_smoke = false,
	p_writhe = false,
	physical = false,
	mental = true,
	hypno = true,
	madness = true,
	name = &quot;hypersomnia&quot;,
	m_give = &quot;(\\w+)'s eyes grow heavy and start to close.&quot;,
	m_take = &quot;&quot;,
	m_diag = &quot;hypersomnic.&quot;,
	me_give = &quot;&quot;,
	me_take = &quot;You feel a bit more alert and awake.&quot;,
	me_diag = &quot;hypersomnic.&quot;,
	desc = &quot;Prevents you from using the Insomnia ability (AB SURVIVAL INSOMNIA) and the violet plant.&quot;,
}</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>hypochondria</name>
                            <packageName></packageName>
                            <script>dba.hypochondria = {
	p = 7,
	p_mandrake = 2,
	p_tree = 10,
	p_focus = false,
	p_purge = false,
	p_salve = false,
	p_smoke = false,
	p_writhe = false,
	physical = true,
	mental = false,
	hypno = true,
	madness = true,
	name = &quot;hypochondria&quot;,
	m_give = &quot;&quot;,
	m_take = &quot;&quot;,
	m_diag = &quot;a certified hypochondriac.&quot;,
	me_give = &quot;&quot;,
	me_take = &quot;My, you feel healthier than you have in years.&quot;,
	me_diag = &quot;a certified hypochondriac.&quot;,
	desc = &quot;Periodically gives you various mental afflictions. Used by Assassins and Renegades.&quot;,
}</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>ignorance</name>
                            <packageName></packageName>
                            <script>dba.ignorance = {
	p = 8,
	p_mandrake = 3,
	p_tree = 20,
	p_focus = 5,
	p_purge = 9,
	p_salve = false,
	p_smoke = false,
	p_writhe = false,
	physical = false,
	mental = true,
	hypno = false,
	madness = false,
	name = &quot;ignorance&quot;,
	m_give = &quot;&quot;,
	m_take = &quot;&quot;,
	m_diag = &quot;an ignorant fool.&quot;,
	me_give = &quot;A feeling of blissful ignorance overcomes you.&quot;,
	me_take = &quot;You no longer are an ignorant fool.&quot;,
	me_diag = &quot;an ignorant fool.&quot;,
	desc = &quot;Decreases magickal and mental damage that you inflict by 33%.&quot;,
}</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>impatience</name>
                            <packageName></packageName>
                            <script>dba.impatience = {
	p = 5,
	p_mandrake = 1,
	p_tree = 3,
	p_focus = false,
	p_purge = false,
	p_salve = false,
	p_smoke = false,
	p_writhe = false,
	physical = false,
	mental = true,
	hypno = true,
	madness = true,
	name = &quot;impatience&quot;,
	m_give = &quot;(\\w+) shuffles (?:his|her) feet in boredom.&quot;,
	m_take = &quot;&quot;,
	m_diag = &quot;impatient.&quot;,
	me_give = &quot;You shuffle your feet noisily, suddenly bored.&quot;,
	me_take = &quot;You are patient once again.&quot;,
	me_diag = &quot;impatient.&quot;,
	desc = &quot;Prevents you from meditating and using the Focus ability.&quot;,
}</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>intense hypothermia</name>
                            <packageName></packageName>
                            <script>dba[&quot;intense hypothermia&quot;] = {
	p = 3,
	p_herb = false,
	p_tree = 15,
	p_focus = false,
	p_purge = false,
	p_legs = 2,
	p_smoke = false,
	p_writhe = false,
	physical = false,
	mental = false,
	hypno = false,
	madness = false,
	name = &quot;intense hypothermia&quot;,
	m_give = &quot;&quot;,
	m_take = &quot;&quot;,
	m_diag = &quot;&quot;,
	me_give = &quot;&quot;,
	me_take = &quot;Your body warms slightly, barely fighting off the most extreme depths of hypothermia.&quot;,
	me_diag = &quot;ruined by intense hypothermia.&quot;,
	desc = &quot;Causes an intense weakness to cold damage. Allows the Shatter instant kill. Used by Outriders.&quot;,
}</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>justice</name>
                            <packageName></packageName>
                            <script>dba.justice = {
	p = 8,
	p_galingale = 3,
	p_tree = 5,
	p_focus = false,
	p_purge = false,
	p_salve = false,
	p_smoke = false,
	p_writhe = false,
	physical = false,
	mental = false,
	hypno = false,
	madness = false,
	name = &quot;justice&quot;,
	m_give = &quot;A set of scales appears above (\\w+)'s head and one side of the scale quickly descends.&quot;,
	m_take = &quot;&quot;,
	m_diag = &quot;surrounded by the aura of justice.&quot;,
	me_give = &quot;&quot;,
	me_take = &quot;The curse of justice leaves you.&quot;,
	me_diag = &quot;surrounded by the aura of justice.&quot;,
	desc = &quot;Whenever you inflict damage to another player, you will be hit for the same amount yourself as well.&quot;,
}</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>lethargy</name>
                            <packageName></packageName>
                            <script>dba.lethargy = {
	p = 7,
	p_nightshade = 5,
	p_tree = 15,
	p_focus = false,
	p_purge = false,
	p_salve = false,
	p_smoke = false,
	p_writhe = false,
	physical = true,
	mental = false,
	hypno = true,
	madness = false,
	name = &quot;lethargy&quot;,
	m_give = &quot;(\\w+) suddenly slumps down wearily.&quot;,
	m_take = &quot;&quot;,
	m_diag = &quot;feeling rather lethargic.&quot;,
	me_give = &quot;&quot;,
	me_take = &quot;The lethargy evaporates, leaving you full of energy.&quot;,
	me_diag = &quot;feeling rather lethargic.&quot;,
	desc = &quot;Increases time needed to regain balance or equilibrium by 40%.&quot;,
}</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>loneliness</name>
                            <packageName></packageName>
                            <script>dba.loneliness = {
	p = 9,
	p_orphine = 6,
	p_tree = 20,
	p_focus = 12,
	p_purge = false,
	p_salve = false,
	p_smoke = false,
	p_writhe = false,
	physical = false,
	mental = true,
	hypno = true,
	madness = true,
	name = &quot;loneliness&quot;,
	m_give = &quot;(\\w+) glances nervously around the room.&quot;,
	m_take = &quot;&quot;,
	m_diag = &quot;very lonely.&quot;,
	me_give = &quot;&quot;,
	me_take = &quot;You feel lonely no longer.&quot;,
	me_diag = &quot;very lonely.&quot;,
	desc = &quot;Causes you to periodically run around in fear if you are alone.&quot;,
}</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>lovers</name>
                            <packageName></packageName>
                            <script>dba.lovers = {
	p = 8,
	p_galingale = 1,
	p_tree = 20,
	p_focus = 16,
	p_purge = false,
	p_salve = false,
	p_smoke = false,
	p_writhe = false,
	physical = false,
	mental = true,
	hypno = false,
	madness = true,
	name = &quot;lovers&quot;,
	m_give = &quot;As the Lovers tarot strikes true, a look of compassion crosses (\\w+)'s face.&quot;,
	m_take = &quot;&quot;,
	m_diag = &quot;desperately in love with (\\w+).&quot;,
	me_give = &quot;&quot;,
	me_take = &quot;You shake your head, wondering what you ever saw in (\\w+).&quot;,
	me_diag = &quot;desperately in love with (\\w+).&quot;,
	desc = &quot;Causes you to be unable to attack the player that gave you the affliction.&quot;,
}</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>madness</name>
                            <packageName></packageName>
                            <script>dba.madness = {
	p = 2,
	p_herb = false,
	p_tree = false,
	p_focus = 1,
	p_purge = false,
	p_salve = false,
	p_laurel = 1,
	p_writhe = false,
	physical = false,
	mental = true,
	hypno = false,
	madness = false,
	name = &quot;madness&quot;,
	m_give = &quot;&quot;,
	m_take = &quot;&quot;,
	m_diag = &quot;hearing whispers of madness.&quot;,
	me_give = &quot;&quot;,
	me_take = &quot;The whispering in your mind subsides.&quot;,
	me_diag = &quot;hearing whispers of madness.&quot;,
	desc = &quot;Prevents curing many mental afflictions.&quot;,
}</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>manaleech</name>
                            <packageName></packageName>
                            <script>dba.manaleech = {
	p = 5,
	p_herb = false,
	p_tree = 15,
	p_focus = false,
	p_purge = false,
	p_salve = false,
	p_lovage = 3,
	p_writhe = false,
	physical = true,
	mental = false,
	hypno = false,
	madness = false,
	name = &quot;manaleech&quot;,
	m_give = &quot;&quot;,
	m_take = &quot;&quot;,
	m_diag = &quot;a victim of manaleech.&quot;,
	me_give = &quot;&quot;,
	me_take = &quot;Your rapidly weakening mind is stabilized.&quot;,
	me_diag = &quot;a victim of manaleech.&quot;,
	desc = &quot;Periodically drains your mana.&quot;,
}</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>mangled left arm</name>
                            <packageName></packageName>
                            <script>dba[&quot;mangled left arm&quot;] = {
	p = 2,
	p_herb = false,
	p_tree = 20,
	p_focus = false,
	p_purge = false,
	p_arms = 1,
	p_smoke = false,
	p_writhe = false,
	physical = false,
	mental = false,
	hypno = false,
	madness = false,
	name = &quot;mangled left arm&quot;,
	m_give = &quot;&quot;,
	m_take = &quot;&quot;,
	m_diag = &quot;has a mangled left arm.&quot;,
	me_give = &quot;&quot;,
	me_take = &quot;Your left arm is greatly healed, but still damaged.&quot;,
	me_diag = &quot;has a mangled left arm.&quot;,
	desc = &quot;Effects are similar to a crippled arm, but this one takes much longer to cure. Given by receiving multiple attacks targetted at one's left arm, while already having a damaged left arm.&quot;,
}</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>mangled right arm</name>
                            <packageName></packageName>
                            <script>dba[&quot;mangled right arm&quot;] = {
	p = 2,
	p_herb = false,
	p_tree = 20,
	p_focus = false,
	p_purge = false,
	p_arms = 1,
	p_smoke = false,
	p_writhe = false,
	physical = false,
	mental = false,
	hypno = false,
	madness = false,
	name = &quot;mangled right arm&quot;,
	m_give = &quot;&quot;,
	m_take = &quot;&quot;,
	m_diag = &quot;has a mangled right arm.&quot;,
	me_give = &quot;&quot;,
	me_take = &quot;Your right arm is greatly healed, but still damaged.&quot;,
	me_diag = &quot;has a mangled right arm.&quot;,
	desc = &quot;Effects are similar to a crippled arm, but this one takes much longer to cure. Given by receiving multiple attacks targetted at one's right arm, while already having a damaged right arm.&quot;,
}</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>mangled left leg</name>
                            <packageName></packageName>
                            <script>dba[&quot;mangled left leg&quot;] = {
	p = 1,
	p_herb = false,
	p_tree = 15,
	p_focus = false,
	p_purge = false,
	p_legs = 1,
	p_smoke = false,
	p_writhe = false,
	physical = false,
	mental = false,
	hypno = false,
	madness = false,
	name = &quot;mangled left leg&quot;,
	m_give = &quot;&quot;,
	m_take = &quot;&quot;,
	m_diag = &quot;has a mangled left leg.&quot;,
	me_give = &quot;&quot;,
	me_take = &quot;Your left leg is greatly healed, but still damaged.&quot;,
	me_diag = &quot;has a mangled left leg.&quot;,
	desc = &quot;Effects are similar to a crippled leg, but this one takes much longer to cure. Given by receiving multiple attacks targetted at one's left leg, while already having a damaged left leg.&quot;,
}</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>mangled right leg</name>
                            <packageName></packageName>
                            <script>dba[&quot;mangled right leg&quot;] = {
	p = 1,
	p_herb = false,
	p_tree = 15,
	p_focus = false,
	p_purge = false,
	p_legs = 1,
	p_smoke = false,
	p_writhe = false,
	physical = false,
	mental = false,
	hypno = false,
	madness = false,
	name = &quot;mangled right leg&quot;,
	m_give = &quot;&quot;,
	m_take = &quot;&quot;,
	m_diag = &quot;has a mangled right leg.&quot;,
	me_give = &quot;&quot;,
	me_take = &quot;Your right leg is greatly healed, but still damaged.&quot;,
	me_diag = &quot;has a mangled right leg.&quot;,
	desc = &quot;Effects are similar to a crippled leg, but this one takes much longer to cure. Given by receiving multiple attacks targetted at one's right leg, while already having a damaged right leg.&quot;,
}</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>masochism</name>
                            <packageName></packageName>
                            <script>dba.masochism = {
	p = 8,
	p_orphine = 6,
	p_tree = 10,
	p_focus = 5,
	p_purge = false,
	p_salve = false,
	p_smoke = false,
	p_writhe = false,
	physical = false,
	mental = true,
	hypno = true,
	madness = true,
	name = &quot;masochism&quot;,
	m_give = &quot;An odd expression flits quickly upon (\\w+)'s face.&quot;,
	m_take = &quot;&quot;,
	m_diag = &quot;masochistic.&quot;,
	me_give = &quot;&quot;,
	me_take = &quot;You no longer enjoy pain.&quot;,
	me_diag = &quot;masochistic.&quot;,
	desc = &quot;Delivers periodic damage.&quot;,
}</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>metrazol</name>
                            <packageName></packageName>
                            <script>dba.metrazol = {
	p = 1,
	p_maidenhair = 1,
	p_tree = 5,
	p_focus = false,
	p_purge = 16,
	p_salve = false,
	p_smoke = false,
	p_writhe = false,
	physical = true,
	mental = false,
	hypno = false,
	madness = false,
	name = &quot;metrazol&quot;,
	m_give = &quot;(\\w+)'s (\\w+) arm and .* leg suddenly goes limp.&quot;,
	m_take = &quot;&quot;,
	m_diag = &quot;has a paralysed \\w+ arm and \\w+ leg.&quot;,
	me_give = &quot;A numbness seizes you, and your .* and .* goes limp.&quot;,
	me_take = &quot;You feel a tingling sensation run through your limbs as the paralysis fades.&quot;,
	me_diag = &quot;has a paralysed \\w+ arm and \\w+ leg.&quot;,
	desc = &quot;Causes you to be unable to use two of your limbs.&quot;,
}</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>mild hypothermia</name>
                            <packageName></packageName>
                            <script>dba[&quot;mild hypothermia&quot;] = {
	p = 8,
	p_herb = false,
	p_tree = 15,
	p_focus = false,
	p_purge = false,
	p_skin = 7,
	p_smoke = false,
	p_writhe = false,
	physical = false,
	mental = false,
	hypno = false,
	madness = false,
	name = &quot;mild hypothermia&quot;,
	m_give = &quot;&quot;,
	m_take = &quot;&quot;,
	m_diag = &quot;suffering from mild hypothermia.&quot;,
	me_give = &quot;&quot;,
	me_take = &quot;Your skin warms, free of hypothermia.&quot;,
	me_diag = &quot;suffering from mild hypothermia.&quot;,
	desc = &quot;Causes a mild weakness to cold damage. Used by Outriders.&quot;,
}</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>moderate hypothermia</name>
                            <packageName></packageName>
                            <script>dba[&quot;moderate hypothermia&quot;] = {
	p = 7,
	p_herb = false,
	p_tree = 15,
	p_focus = false,
	p_purge = false,
	p_skin = 4,
	p_smoke = false,
	p_writhe = false,
	physical = false,
	mental = false,
	hypno = false,
	madness = false,
	name = &quot;moderate hypothermia&quot;,
	m_give = &quot;&quot;,
	m_take = &quot;&quot;,
	m_diag = &quot;suffering from moderate hypothermia.&quot;,
	me_give = &quot;&quot;,
	me_take = &quot;Your hypothermia has subsided to a moderate level, but your body still craves warmth.&quot;,
	me_diag = &quot;suffering from moderate hypothermia.&quot;,
	desc = &quot;Causes a moderate weakness to cold damage. Used by Outriders.&quot;,
}</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>nausea</name>
                            <packageName></packageName>
                            <script>dba.nausea = {
	p = 5,
	p_nightshade = 2,
	p_tree = 15,
	p_focus = false,
	p_purge = 14,
	p_salve = false,
	p_smoke = false,
	p_writhe = false,
	physical = true,
	mental = false,
	hypno = false,
	madness = false,
	name = &quot;nausea&quot;,
	m_give = &quot;^(\\w+) doubles over, vomiting violently.&quot;,
	m_take = &quot;&quot;,
	m_diag = &quot;violently ill.&quot;,
	me_give = &quot;A sense of extreme nausea washes over you.&quot;,
	me_take = &quot;Your stomach becalms itself.&quot;,
	me_diag = &quot;violently ill.&quot;,
	desc = &quot;Causes periodic vomiting, which does damage and increases hunger.&quot;,
}</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>numbness</name>
                            <packageName></packageName>
                            <script>dba.numbness = {
	p = 1,
	p_maidenhair = 1,
	p_tree = false,
	p_focus = false,
	p_purge = 1,
	p_salve = false,
	p_smoke = false,
	p_writhe = false,
	physical = true,
	mental = false,
	hypno = false,
	madness = false,
	name = &quot;numbness&quot;,
	m_give = &quot;(\\w+) appears terrified as (?:his|her) muscles seem to become difficult to control\.$&quot;,
	m_take = &quot;&quot;,
	m_diag = &quot;has numb muscles.&quot;,
	me_give = &quot;Terror takes hold, as a numb sensation overcomes your body.&quot;,
	me_take = &quot;Your muscles are no longer so numb.&quot;,
	me_diag = &quot;has numb muscles.&quot;,
	desc = &quot;Prevents touching tattoos and using many channeled actions. Can lead to paralysis if left untreated.&quot;,
}</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>paralysis</name>
                            <packageName></packageName>
                            <script>dba.paralysis = {
	p = 1,
	p_maidenhair = 1,
	p_tree = false,
	p_focus = false,
	p_purge = 2,
	p_salve = false,
	p_smoke = false,
	p_writhe = false,
	physical = true,
	mental = false,
	hypno = false,
	madness = false,
	name = &quot;paralysis&quot;,
	m_give = &quot;(\\w+)'s muscles lock up in paralysis.&quot;,
	m_take = &quot;&quot;,
	m_diag = &quot;^paralysed.&quot;,
	me_give = &quot;Having been numb for too long, you feel your muscles lock up in paralysis.&quot;,
	me_take = &quot;Your paralysis fades and you can move once more.&quot;,
	me_diag = &quot;^paralysed.&quot;,
	desc = &quot;Prevents you from attacking and moving.&quot;,
}</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>paranoia</name>
                            <packageName></packageName>
                            <script>dba.paranoia = {
	p = 8,
	p_wormwood = 5,
	p_tree = 20,
	p_focus = 21,
	p_purge = false,
	p_salve = false,
	p_smoke = false,
	p_writhe = false,
	physical = false,
	mental = true,
	hypno = true,
	madness = true,
	name = &quot;paranoia&quot;,
	m_give = &quot;(\\w+) narrows (?:his|her) eyes at you unnervingly.&quot;,
	m_take = &quot;&quot;,
	m_diag = &quot;paranoid.&quot;,
	me_give = &quot;&quot;,
	me_take = &quot;Aaaahhh. No one is out to get you after all.&quot;,
	me_diag = &quot;paranoid.&quot;,
	desc = &quot;Causes you to consider every player to be your enemy.&quot;,
}</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>peace</name>
                            <packageName></packageName>
                            <script>dba.peace = {
	p = 3,
	p_galingale = 1,
	p_tree = 20,
	p_focus = 17,
	p_purge = false,
	p_salve = false,
	p_smoke = false,
	p_writhe = false,
	physical = false,
	mental = true,
	hypno = true,
	madness = false,
	name = &quot;peace&quot;,
	m_give = &quot;(\\w+) smiles, a look of radiant peace spread across (?:his|her) features.&quot;,
	m_take = &quot;&quot;,
	m_diag = &quot;feeling unnaturally tranquil.&quot;,
	me_give = &quot;Your will to harm anything leaves you.&quot;,
	me_take = &quot;The unnatural feeling of peace leaves you.&quot;,
	me_diag = &quot;feeling unnaturally tranquil.&quot;,
	desc = &quot;Causes you to be unable to perform any aggressive actions.&quot;,
}</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>penance</name>
                            <packageName></packageName>
                            <script>dba.penance = {
	p = 3,
	p_herb = false,
	p_tree = 10,
	p_focus = false,
	p_purge = false,
	p_salve = false,
	p_laurel = 3,
	p_writhe = false,
	physical = true,
	mental = false,
	hypno = false,
	madness = false,
	name = &quot;penance&quot;,
	m_give = &quot;&quot;,
	m_take = &quot;&quot;,
	m_diag = &quot;repenting sins.&quot;,
	me_give = &quot;&quot;,
	me_take = &quot;You realise that you aren't a sinner after all.&quot;,
	me_diag = &quot;repenting sins.&quot;,
	desc = &quot;Periodically gives you various afflictions.&quot;,
}</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>prone</name>
                            <packageName></packageName>
                            <script>dba.prone = {
	p = 4,
	p_herb = false,
	p_tree = false,
	p_focus = false,
	p_purge = false,
	p_salve = false,
	p_smoke = false,
	p_writhe = false,
	physical = false,
	mental = false,
	hypno = false,
	madness = false,
	name = &quot;prone&quot;,
	m_give = &quot;&quot;,
	m_take = &quot;(\\w+) stands up and stretches \\w+ arms out wide.&quot;,
	m_diag = &quot;sprawled on the ground.&quot;,
	me_give = &quot;&quot;,
	me_take = &quot;You stand up and stretch your arms out wide.&quot;,
	me_diag = &quot;sprawled on the ground.&quot;,
	desc = &quot;On the floor.&quot;,
}</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>poisoned blood</name>
                            <packageName></packageName>
                            <script>dba[&quot;poisoned blood&quot;] = {
	p = 6,
	p_ginger = 3,
	p_tree = 20,
	p_focus = false,
	p_purge = false,
	p_salve = false,
	p_smoke = false,
	p_writhe = false,
	physical = false,
	mental = false,
	hypno = false,
	madness = false,
	name = &quot;poisoned blood&quot;,
	m_give = &quot;&quot;,
	m_take = &quot;&quot;,
	m_diag = &quot;beleaguered by poisoned blood.&quot;,
	me_give = &quot;&quot;,
	me_take = &quot;Your body has rid its blood of Wyvern poison.&quot;,
	me_diag = &quot;beleaguered by poisoned blood.&quot;,
	desc = &quot;Increases damage of stinging attacks used by Hunters. This affliction can be stacked up to 4 times. If stacked to the 3rd level or higher, allows the Rupture instant kill.&quot;,
}</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>poisoned mind</name>
                            <packageName></packageName>
                            <script>dba[&quot;poisoned mind&quot;] = {
	p = 4,
	p_mandrake = 1,
	p_tree = 20,
	p_focus = 4,
	p_purge = false,
	p_salve = false,
	p_smoke = false,
	p_writhe = false,
	physical = false,
	mental = true,
	hypno = false,
	madness = false,
	name = &quot;poisoned mind&quot;,
	m_give = &quot;&quot;,
	m_take = &quot;&quot;,
	m_diag = &quot;addled by a poisoned mind.&quot;,
	me_give = &quot;&quot;,
	me_take = &quot;Your brain's chemistry corrects itself.&quot;,
	me_diag = &quot;addled by a poisoned mind.&quot;,
	desc = &quot;Causes the ginger plant to cure a random mental affliction instead of curing the bloodpoison affliction. Used by Hunters.&quot;,
}</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>recklessness</name>
                            <packageName></packageName>
                            <script>dba.recklessness = {
	p = 1,
	p_mandrake = 3,
	p_tree = 8,
	p_focus = 3,
	p_purge = 3,
	p_salve = false,
	p_smoke = false,
	p_writhe = false,
	physical = false,
	mental = true,
	hypno = true,
	madness = true,
	name = &quot;recklessness&quot;,
	m_give = &quot;(\\w+) grits (?:his|her) teeth and a resolve flashes fiercely across (?:his|her) features.&quot;,
	m_take = &quot;&quot;,
	m_diag = &quot;reckless.&quot;,
	me_give = &quot;None may stand in your way! You are invincible!&quot;,
	me_take = &quot;Prudence rules your psyche once again.&quot;,
	me_diag = &quot;reckless.&quot;,
	desc = &quot;Causes you to be unable to perform any aggressive actions.&quot;,
}</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>recurring freezing</name>
                            <packageName></packageName>
                            <script>dba[&quot;recurring freezing&quot;] = {
	p = 5,
	p_nightshade = 3,
	p_tree = 20,
	p_focus = false,
	p_purge = false,
	p_salve = false,
	p_smoke = false,
	p_writhe = false,
	physical = true,
	mental = false,
	hypno = false,
	madness = false,
	name = &quot;recurring freezing&quot;,
	m_give = &quot;&quot;,
	m_take = &quot;&quot;,
	m_diag = &quot;poisoned by a freezing toxin.&quot;,
	me_give = &quot;&quot;,
	me_take = &quot;Your body warms, free of the chilling toxin.&quot;,
	me_diag = &quot;poisoned by a freezing toxin.&quot;,
	desc = &quot;Attempts to freeze you every 3 seconds.&quot;,
}</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>rigidity</name>
                            <packageName></packageName>
                            <script>dba.rigidity = {
	p = 6,
	p_kelp = 4,
	p_tree = 15,
	p_focus = false,
	p_purge = false,
	p_salve = false,
	p_smoke = false,
	p_writhe = false,
	physical = true,
	mental = false,
	hypno = false,
	madness = false,
	name = &quot;rigidity&quot;,
	m_give = &quot;&quot;,
	m_take = &quot;(\\w+)'s limbs no longer look so rigid.&quot;,
	m_diag = &quot;slowed down by rigid limbs.&quot;,
	me_give = &quot;&quot;,
	me_take = &quot;Your limbs no longer feel so rigid.&quot;,
	me_diag = &quot;slowed down by rigid limbs.&quot;,
	desc = &quot;Slows down your movement speed and prevents curing implantation if you have any other writhe-cured afflictions. Used by Defilers.&quot;,
}</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>scars</name>
                            <packageName></packageName>
                            <script>dba.scars = {
	p = 8,
	p_herb = false,
	p_tree = 20,
	p_focus = false,
	p_purge = false,
	p_mending = 3,
	p_head = 3,
	p_smoke = false,
	p_writhe = false,
	physical = true,
	mental = false,
	hypno = false,
	madness = false,
	name = &quot;scars&quot;,
	m_give = &quot;&quot;,
	m_take = &quot;&quot;,
	m_diag = &quot;horribly scarred.&quot;,
	me_give = &quot;&quot;,
	me_take = &quot;The terrible scars on your face fade away.&quot;,
	me_diag = &quot;horribly scarred.&quot;,
	desc = &quot;Prevents curing disloyalty.&quot;,
}</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>sensitivity</name>
                            <packageName></packageName>
                            <script>dba.sensitivity = {
	p = 7,
	p_maidenhair = 5,
	p_tree = 15,
	p_focus = false,
	p_purge = 7,
	p_salve = false,
	p_smoke = false,
	p_writhe = false,
	physical = true,
	mental = false,
	hypno = false,
	madness = false,
	name = &quot;sensitivity&quot;,
	m_give = &quot;&quot;,
	m_take = &quot;&quot;,
	m_diag = &quot;sensitive to pain.&quot;,
	me_give = &quot;A prickly, stinging sensation spreads through your body.&quot;,
	me_take = &quot;The stinging feeling fades.&quot;,
	me_diag = &quot;sensitive to pain.&quot;,
	desc = &quot;Increases all received damage by 33%.&quot;,
}</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>severe hypothermia</name>
                            <packageName></packageName>
                            <script>dba[&quot;severe hypothermia&quot;] = {
	p = 4,
	p_herb = false,
	p_tree = 15,
	p_focus = false,
	p_purge = false,
	p_legs = 7,
	p_smoke = false,
	p_writhe = false,
	physical = false,
	mental = false,
	hypno = false,
	madness = false,
	name = &quot;severe hypothermia&quot;,
	m_give = &quot;&quot;,
	m_take = &quot;&quot;,
	m_diag = &quot;suffering from severe hypothermia.&quot;,
	me_give = &quot;&quot;,
	me_take = &quot;Your body warms, but the hypothermia remains quite severe.&quot;,
	me_diag = &quot;suffering from severe hypothermia.&quot;,
	desc = &quot;Causes a severe weakness to cold damage. Allows the Shatter instant kill. Used by Outriders.&quot;,
}</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>shivering</name>
                            <packageName></packageName>
                            <script>dba.shivering = {
	p = 8,
	p_herb = false,
	p_tree = 15,
	p_focus = false,
	p_purge = false,
	p_skin = 5,
	p_smoke = false,
	p_writhe = false,
	physical = true,
	mental = false,
	hypno = false,
	madness = false,
	name = &quot;shivering&quot;,
	m_give = &quot;Suddenly (\\w+) shivers intensely.&quot;,
	m_take = &quot;&quot;,
	m_diag = &quot;shivering.&quot;,
	me_give = &quot;&quot;,
	me_take = &quot;Your body warms up and you stop shivering.&quot;,
	me_diag = &quot;shivering.&quot;,
	desc = &quot;Periodically gives the disruption affliction.&quot;,
}</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>shyness</name>
                            <packageName></packageName>
                            <script>dba.shyness = {
	p = 8,
	p_mandrake = 9,
	p_tree = 20,
	p_focus = 15,
	p_purge = 23,
	p_salve = false,
	p_smoke = false,
	p_writhe = false,
	physical = false,
	mental = true,
	hypno = false,
	madness = false,
	name = &quot;shyness&quot;,
	m_give = &quot;&quot;,
	m_take = &quot;&quot;,
	m_diag = &quot;afflicted by unbearable shyness.&quot;,
	me_give = &quot;&quot;,
	me_take = &quot;You can now face the world boldly, shy no more.&quot;,
	me_diag = &quot;afflicted by unbearable shyness.&quot;,
	desc = &quot;Causes you to run away in fear if you are not alone.&quot;,
}</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>slickness</name>
                            <packageName></packageName>
                            <script>dba.slickness = {
	p = 3,
	p_maidenhair = 3,
	p_tree = 5,
	p_focus = false,
	p_purge = 3,
	p_salve = false,
	p_lovage = 2,
	p_writhe = false,
	physical = true,
	mental = false,
	hypno = false,
	madness = false,
	name = &quot;slickness&quot;,
	m_give = &quot;&quot;,
	m_take = &quot;&quot;,
	m_diag = &quot;extremely oily.&quot;,
	me_give = &quot;A strange smelling substance begins to leak from your pores.&quot;,
	me_take = &quot;Your pores cease secreting the oily substance.&quot;,
	me_diag = &quot;extremely oily.&quot;,
	desc = &quot;Prevents you from applying salves and fenugreek plants.&quot;,
}</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>slow balance</name>
                            <packageName></packageName>
                            <script>dba[&quot;slow balance&quot;] = {
	p = 4,
	p_herb = false,
	p_tree = 15,
	p_focus = false,
	p_purge = 19,
	p_salve = false,
	p_lovage = 1,
	p_writhe = false,
	physical = true,
	mental = false,
	hypno = false,
	madness = false,
	name = &quot;slow balance&quot;,
	m_give = &quot;(\\w+) stumbles and appears off balance.&quot;,
	m_take = &quot;&quot;,
	m_diag = &quot;unable to regain balance quickly.&quot;,
	me_give = &quot;Motion trails appear before your eyes, and your ability to balance seems off.&quot;,
	me_take = &quot;You are able to focus your senses once more.&quot;,
	me_diag = &quot;unable to regain balance quickly.&quot;,
	desc = &quot;Slows down your balance recovery times by 2 seconds.&quot;,
}</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>slow elixirs</name>
                            <packageName></packageName>
                            <script>dba[&quot;slow elixirs&quot;] = {
	p = 6,
	p_herb = false,
	p_tree = 15,
	p_focus = false,
	p_purge = 21,
	p_skin = 3,
	p_smoke = false,
	p_writhe = false,
	physical = true,
	mental = false,
	hypno = false,
	madness = false,
	name = &quot;slow elixirs&quot;,
	m_give = &quot;(\\w+) grimaces, gripping at (?:his|her) throat.&quot;,
	m_take = &quot;&quot;,
	m_diag = &quot;unable to process healing elixirs efficiently.&quot;,
	me_give = &quot;Your ability to digest elixirs seems off for some reason.&quot;,
	me_take = &quot;Your ability to digest elixirs stabilizes.&quot;,
	me_diag = &quot;unable to process healing elixirs efficiently.&quot;,
	desc = &quot;Increases the time needed to regain elixlir balance by 50%.&quot;,
}</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>slow equilibrium</name>
                            <packageName></packageName>
                            <script>dba[&quot;slow equilibrium&quot;] = {
	p = 4,
	p_herb = false,
	p_tree = 15,
	p_focus = false,
	p_purge = 17,
	p_salve = false,
	p_laurel = 4,
	p_writhe = false,
	physical = true,
	mental = false,
	hypno = false,
	madness = false,
	name = &quot;slow equilibrium&quot;,
	m_give = &quot;(\\w+) appears confused.&quot;,
	m_take = &quot;&quot;,
	m_diag = &quot;unable to regain equilibrium quickly.&quot;,
	me_give = &quot;You suddenly find it hard to focus your senses.&quot;,
	me_take = &quot;You are able to focus your senses once more.&quot;,
	me_diag = &quot;unable to regain equilibrium quickly.&quot;,
	desc = &quot;Slows down your equilibrium recovery times by 2 seconds.&quot;,
}</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>slow herbs</name>
                            <packageName></packageName>
                            <script>dba[&quot;slow herbs&quot;] = {
	p = 3,
	p_herb = false,
	p_tree = 15,
	p_focus = false,
	p_purge = 22,
	p_skin = 3,
	p_smoke = false,
	p_writhe = false,
	physical = true,
	mental = false,
	hypno = false,
	madness = false,
	name = &quot;slow herbs&quot;,
	m_give = &quot;(\\w+) appears hungry.&quot;,
	m_take = &quot;&quot;,
	m_diag = &quot;afflicted with slow herb digestion.&quot;,
	me_give = &quot;&quot;,
	me_take = &quot;Your stomach ceases grumbling.&quot;,
	me_diag = &quot;afflicted with slow herb digestion.&quot;,
	desc = &quot;Increases the time needed to regain herb balance by 1.25 seconds.&quot;,
}</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>stupidity</name>
                            <packageName></packageName>
                            <script>dba.stupidity = {
	p = 5,
	p_orphine = 3,
	p_tree = 10,
	p_focus = 3,
	p_purge = 3,
	p_salve = false,
	p_smoke = false,
	p_writhe = false,
	physical = false,
	mental = true,
	hypno = true,
	madness = true,
	name = &quot;stupidity&quot;,
	m_give = &quot;A glazed look descends over the features of (\\w+).&quot;,
	m_take = &quot;(\\w+)'s expression no longer looks so vacant\.&quot;,
	m_diag = &quot;unnaturally stupid.&quot;,
	me_give = &quot;Strange, everything doesn't quite seem so simple anymore.&quot;,
	me_take = &quot;Ahh, you feel able to reason once more.&quot;,
	me_diag = &quot;unnaturally stupid.&quot;,
	desc = &quot;Causes 25% of your commands to instead execute a random action.&quot;,
}</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>stuttering</name>
                            <packageName></packageName>
                            <script>dba.stuttering = {
	p = 11,
	p_herb = false,
	p_tree = 20,
	p_focus = 18,
	p_purge = false,
	p_salve = false,
	p_smoke = false,
	p_writhe = false,
	physical = false,
	mental = true,
	hypno = true,
	madness = false,
	name = &quot;stuttering&quot;,
	m_give = &quot;(\\w+) makes an oddly stuttered sound.&quot;,
	m_take = &quot;&quot;,
	m_diag = &quot;a stuttering fool.&quot;,
	me_give = &quot;&quot;,
	me_take = &quot;Your tongue will finally obey your commands properly.&quot;,
	me_diag = &quot;a stuttering fool.&quot;,
	desc = &quot;Causes you to randomly give away various items.&quot;,
}</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>sulfonal</name>
                            <packageName></packageName>
                            <script>dba.sulfonal = {
	p = 2,
	p_nightshade = 2,
	p_tree = 15,
	p_focus = false,
	p_purge = 14,
	p_salve = false,
	p_smoke = false,
	p_writhe = false,
	physical = true,
	mental = false,
	hypno = false,
	madness = false,
	name = &quot;sulfonal&quot;,
	m_give = &quot;&quot;,
	m_take = &quot;&quot;,
	m_diag = &quot;afflicted by thin blood.&quot;,
	me_give = &quot;&quot;,
	me_take = &quot;You feel your blood thickening.&quot;,
	me_diag = &quot;afflicted by thin blood.&quot;,
	desc = &quot;Causes all toxins to relapse after a short while, inflicting their effect again. Used by Assassins and Renegades.&quot;,
}</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>sunallergy</name>
                            <packageName></packageName>
                            <script>dba.sunallergy = {
	p = 3,
	p_nightshade = 3,
	p_tree = 5,
	p_focus = false,
	p_purge = 4,
	p_salve = false,
	p_smoke = false,
	p_writhe = false,
	physical = true,
	mental = false,
	hypno = false,
	madness = false,
	name = &quot;sunallergy&quot;,
	m_give = &quot;(\\w+) winces slightly as (?:his|her) skin reddens.&quot;,
	m_take = &quot;(\\w+) looks relieved as (?:his|her) skin loses its reddish hue.&quot;,
	m_diag = &quot;allergic to sunlight.&quot;,
	me_give = &quot;Your skin tingles as the light grows in intensity, eventually growing into a dull burn.&quot;,
	me_take = &quot;No longer will the sunlight harm you.&quot;,
	me_diag = &quot;allergic to sunlight.&quot;,
	desc = &quot;Causes periodic damage while standing in sunlight, eventually leading to death if uncured.&quot;,
}</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>taint attunement</name>
                            <packageName></packageName>
                            <script>dba[&quot;taint attunement&quot;] = {
	p = 4,
	p_nightshade = 4,
	p_tree = 10,
	p_focus = false,
	p_purge = false,
	p_salve = false,
	p_smoke = false,
	p_writhe = false,
	physical = true,
	mental = false,
	hypno = false,
	madness = false,
	name = &quot;taint attunement&quot;,
	m_give = &quot;&quot;,
	m_take = &quot;&quot;,
	m_diag = &quot;&quot;,
	me_give = &quot;&quot;,
	me_take = &quot;You are no longer attuned to demonic taint.&quot;,
	me_diag = &quot;attuned to demonic taint.&quot;,
	desc = &quot;Doubles the gain of aura taint. Used by Summoners.&quot;,
}</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>transfixed</name>
                            <packageName></packageName>
                            <script>dba.transfixed = {
	p = 5,
	p_herb = false,
	p_tree = false,
	p_focus = false,
	p_purge = false,
	p_salve = false,
	p_smoke = false,
	p_writhe = 1,
	physical = false,
	mental = false,
	hypno = false,
	madness = false,
	name = &quot;transfixed&quot;,
	m_give = &quot;&quot;,
	m_take = &quot;&quot;,
	m_diag = &quot;transfixed.&quot;,
	me_give = &quot;&quot;,
	me_take = &quot;You have writhed free of your state of transfixation.&quot;,
	me_diag = &quot;transfixed.&quot;,
	desc = &quot;A form of entanglement, prevents movement and using most attacks. Prevented by blindness. Takes longer to writhe from than basic entanglement types.&quot;,
}</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>unblind</name>
                            <packageName></packageName>
                            <script>dba.unblind = {
	p = 7,
	p_hyssop = 1,
	p_tree = false,
	p_focus = false,
	p_purge = false,
	p_salve = false,
	p_smoke = false,
	p_writhe = false,
	physical = false,
	mental = false,
	hypno = false,
	madness = false,
	name = &quot;unblind&quot;,
	m_give = &quot;&quot;,
	m_take = &quot;&quot;,
	m_diag = &quot;&quot;,
	me_give = &quot;&quot;,
	me_take = &quot;&quot;,
	me_diag = &quot;&quot;,
	desc = &quot;&quot;,
}</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>undeaf</name>
                            <packageName></packageName>
                            <script>dba.undeaf = {
	p = 7,
	p_juniper = 1,
	p_tree = false,
	p_focus = false,
	p_purge = false,
	p_salve = false,
	p_smoke = false,
	p_writhe = false,
	physical = false,
	mental = false,
	hypno = false,
	madness = false,
	name = &quot;undeaf&quot;,
	m_give = &quot;&quot;,
	m_take = &quot;&quot;,
	m_diag = &quot;&quot;,
	me_give = &quot;&quot;,
	me_take = &quot;&quot;,
	me_diag = &quot;&quot;,
	desc = &quot;&quot;,
}</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>vertigo</name>
                            <packageName></packageName>
                            <script>dba.vertigo = {
	p = 9,
	p_orphine = 6,
	p_tree = 20,
	p_focus = 9,
	p_purge = false,
	p_salve = false,
	p_smoke = false,
	p_writhe = false,
	physical = false,
	mental = true,
	hypno = true,
	madness = false,
	name = &quot;vertigo&quot;,
	m_give = &quot;(\\w+) stumbles suddenly, unable to catch (?:his|her) balance.&quot;,
	m_take = &quot;&quot;,
	m_diag = &quot;afraid of heights.&quot;,
	me_give = &quot;&quot;,
	me_take = &quot;You can control your fear of heights.&quot;,
	me_diag = &quot;afraid of heights.&quot;,
	desc = &quot;Prevents you from flying or climbing into the trees, if you can do either. Also causes you to fall down if you are flying.&quot;,
}</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>weariness</name>
                            <packageName></packageName>
                            <script>dba.weariness = {
	p = 6,
	p_kelp = 6,
	p_tree = 20,
	p_focus = false,
	p_purge = 12,
	p_salve = false,
	p_smoke = false,
	p_writhe = false,
	physical = true,
	mental = false,
	hypno = false,
	madness = false,
	name = &quot;weariness&quot;,
	m_give = &quot;(\\w+) slumps with a weary groan.&quot;,
	m_take = &quot;&quot;,
	m_diag = &quot;wearied in body.&quot;,
	me_give = &quot;Your limbs grow heavy and you groan feebly as weakness overcomes your body.&quot;,
	me_take = &quot;You feel strength return to your limbs.&quot;,
	me_diag = &quot;wearied in body.&quot;,
	desc = &quot;Decreases cutting and blunt damage that you inflict by 30%.&quot;,
}</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>wisp poison</name>
                            <packageName></packageName>
                            <script>dba[&quot;wisp poison&quot;] = {
	p = 5,
	p_toadstool = 1,
	p_tree = false,
	p_focus = false,
	p_purge = false,
	p_salve = false,
	p_smoke = false,
	p_writhe = false,
	physical = false,
	mental = false,
	hypno = false,
	madness = false,
	name = &quot;wisp poison&quot;,
	m_give = &quot;&quot;,
	m_take = &quot;&quot;,
	m_diag = &quot;poisoned by a wisp.&quot;,
	me_give = &quot;A poisonous wisp flies at you and stings you painfully. An odd burning sensation floods your veins.&quot;,
	me_take = &quot;The wisp poison has been cleared from your body.&quot;,
	me_diag = &quot;poisoned by a wisp.&quot;,
	desc = &quot;Causes the next successful attempt to eat a toadstool to inflict damage instead of curing health or mana. Used by Druids. Lapses after 10 seconds.&quot;,
}</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>withered throat</name>
                            <packageName></packageName>
                            <script>dba[&quot;withered throat&quot;] = {
	p = 11,
	p_herb = false,
	p_tree = 20,
	p_focus = false,
	p_purge = 23,
	p_skin = 5,
	p_smoke = false,
	p_writhe = false,
	physical = true,
	mental = false,
	hypno = false,
	madness = false,
	name = &quot;withered throat&quot;,
	m_give = &quot;(\\w+) panics, grasping at (?:his|her) shriveling throat.&quot;,
	m_take = &quot;(\\w+) breathes in relief as (?:his|her) withered throat is restored.&quot;,
	m_diag = &quot;stricken with a withered throat.&quot;,
	me_give = &quot;&quot;,
	me_take = &quot;Your throat is restored as the withering fades.&quot;,
	me_diag = &quot;stricken with a withered throat.&quot;,
	desc = &quot;Causes you to be unable to speak.&quot;,
}</script>
                            <eventHandlerList/>
                        </Script>
                    </ScriptGroup>
                    <Script isActive="yes" isFolder="no">
                        <name>dbax.me_give</name>
                        <packageName></packageName>
                        <script>dbax.me_give = function()
	for aff, val in pairs(dba) do
		if val.me_give ~= &quot;&quot; then
			if not dban[aff] then dban[aff] = {} end
			if dban[aff].me_give_trig then killTrigger(dban[aff].me_give_trig) end
			dban[aff].me_give_trig = tempRegexTrigger( &quot;^&quot;..val.me_give, [[
				trax.give(me, ']]..aff..[[')
			]])
		end
	end
end</script>
                        <eventHandlerList/>
                    </Script>
                    <Script isActive="yes" isFolder="no">
                        <name>dbax.me_take</name>
                        <packageName></packageName>
                        <script>dbax.me_take = function()
	for aff, val in pairs(dba) do
		if val.me_take ~= &quot;&quot; then
			if not dban[aff] then dban[aff] = {} end
			if dban[aff].me_take_trig then killTrigger(dban[aff].me_take_trig) end
			dban[aff].me_take_trig = tempRegexTrigger( &quot;^&quot;..val.me_take, [[
				trax.take(me, ']]..aff..[[')
				-- some code to delete the last pending cure
				-- some prettification, ensure you CONFIG AFFMESSAGES on
				deleteLine()
			]])
		end
	end
end</script>
                        <eventHandlerList/>
                    </Script>
                    <Script isActive="yes" isFolder="no">
                        <name>dbax.me_diag</name>
                        <packageName></packageName>
                        <script>dbax.me_diag = function()
	for aff, val in pairs(dba) do
		if val.me_diag ~= &quot;&quot; then
			if not dban[aff] then dbax[aff] = {} end
			if dban[aff].me_diag_trig then killTrigger(dban[aff].me_diag_trig) end
			dban[aff].me_diag_trig = tempRegexTrigger( &quot;^&quot;..val.me_diag, [[
				trax.give(diagnose, ']]..aff..[[')
			]])
		end
	end
end</script>
                        <eventHandlerList/>
                    </Script>
                    <Script isActive="yes" isFolder="no">
                        <name>dbax.m_give</name>
                        <packageName></packageName>
                        <script>dbax.m_give = function()
	for aff, val in pairs(dba) do
		if val.m_give ~= &quot;&quot; then
			if not dban[aff] then dban[aff] = {} end
			if dban[aff].m_give_trig then killTrigger(dban[aff].m_give_trig) end
			dban[aff].m_give_trig = tempRegexTrigger( &quot;^&quot;..val.m_give, [[
				trax.give(matches[2], ']]..aff..[[')
				sub(matches[2]..' &lt;green&gt;]]..aff..[[&lt;grey&gt;.')
			]])
		end
	end
end</script>
                        <eventHandlerList/>
                    </Script>
                    <Script isActive="yes" isFolder="no">
                        <name>dbax.m_take</name>
                        <packageName></packageName>
                        <script>dbax.m_take = function()
	for aff, val in pairs(dba) do
		if val.m_take ~= &quot;&quot; then
			if not dban[aff] then dban[aff] = {} end
			if dban[aff].m_take_trig then killTrigger(dban[aff].m_take_trig) end
			dban[aff].m_take_trig = tempRegexTrigger( &quot;^&quot;..val.m_take, [[
				trax.take(matches[2], ']]..aff..[[')
				trax.pending_name = ''
				trax.pending = ''
				sub(matches[2]..' &lt;orange_red&gt;]]..aff..[[&lt;grey&gt;.')
			]])
		end
	end
end</script>
                        <eventHandlerList/>
                    </Script>
                    <Script isActive="yes" isFolder="no">
                        <name>dbax.herbs</name>
                        <packageName></packageName>
                        <script>dbax.herbs = function()
	local tablen = {
		&quot;maidenhair&quot;,
		&quot;kelp&quot;,
		&quot;wormwood&quot;,
		&quot;mandrake&quot;,
		&quot;orphine&quot;,
		&quot;nightshade&quot;,
		&quot;galingale&quot;,
		&quot;ginger&quot;,
		&quot;juniper&quot;,
		&quot;hyssop&quot;,
	}
	for i=1, #tablen do
		local short = tablen[i]
		local check = &quot;p_&quot;..tablen[i]
		if not dban[short] then dban[short] = {} end
		for k, v in pairs(dba) do
			if v[check] and not table.contains(dban[short],v.name) then 
				table.insert(dban[short], v[check], v.name)
			end
		end
		dban[short] = concise(dban[short])
	end
end</script>
                        <eventHandlerList/>
                    </Script>
                    <Script isActive="yes" isFolder="no">
                        <name>dbax.focus</name>
                        <packageName></packageName>
                        <script>dbax.focus = function()
	if not dban.focus then dban.focus = {} end
	for k, v in pairs(dba) do
		if v.p_focus and not table.contains(dban.focus,v.name) then 
			table.insert(dban.focus, v.p_focus, v.name)
		end
	end
	dban.focus = concise(dban.focus)
end</script>
                        <eventHandlerList/>
                    </Script>
                    <Script isActive="yes" isFolder="no">
                        <name>dbax.salve</name>
                        <packageName></packageName>
                        <script>dbax.salve = function()
	local tablen = {
		&quot;head&quot;,
		&quot;arms&quot;,
		&quot;skin&quot;,
		&quot;legs&quot;,
	}
	for i=1, #tablen do
		local short = tablen[i]
		local check = &quot;p_&quot;..tablen[i]
		if not dban[short] then dban[short] = {} end
		for k, v in pairs(dba) do
			if v[check] and not table.contains(dban[short],v.name) then 
				table.insert(dban[short], v[check], v.name)
			end
		end
		dban[short] = concise(dban[short])
	end
end</script>
                        <eventHandlerList/>
                    </Script>
                    <Script isActive="yes" isFolder="no">
                        <name>dbax.smoke</name>
                        <packageName></packageName>
                        <script>dbax.smoke = function()
	local tablen = {
		&quot;laurel&quot;,
		&quot;linseed&quot;,
		&quot;lovage&quot;,
	}
	for i=1, #tablen do
		local short = tablen[i]
		local check = &quot;p_&quot;..tablen[i]
		if not dban[short] then dban[short] = {} end
		for k, v in pairs(dba) do
			if v[check] and not table.contains(dban[short],v.name) then 
				table.insert(dban[short], v[check], v.name)
			end
		end
		dban[short] = concise(dban[short])
	end
end</script>
                        <eventHandlerList/>
                    </Script>
                    <Script isActive="yes" isFolder="no">
                        <name>dbax.purge</name>
                        <packageName></packageName>
                        <script>dbax.purge = function()
	if not dban.purge then dban.purge = {} end
	for k, v in pairs(dba) do
		if v.p_purge and not table.contains(dban.purge,v.name)  then 
			table.insert(dban.purge, v.p_purge, v.name)
		end
	end
	dban.purge = concise(dban.purge)
end</script>
                        <eventHandlerList/>
                    </Script>
                    <Script isActive="yes" isFolder="no">
                        <name>dbax.tree</name>
                        <packageName></packageName>
                        <script>dbax.tree = function()
	if not dban.tree then dban.tree = {} end
	for k, v in pairs(dba) do
		if v.p_tree and not table.contains(dban.tree,v.name)  then 
			table.insert(dban.tree, v.p_tree, v.name)
		end
	end
	dban.tree = concise(dban.tree)
end</script>
                        <eventHandlerList/>
                    </Script>
                    <Script isActive="yes" isFolder="no">
                        <name>dbax.all</name>
                        <packageName></packageName>
                        <script>dbax.all = function()
	if not dban.all then dban.all = {} end
	for k, v in pairs(dba) do
		if v.p and not table.contains(dban.all,v.name)  then 
			table.insert(dban.all, v.p, v.name)
		end
	end
	dban.all = concise(dban.all)
end</script>
                        <eventHandlerList/>
                    </Script>
                    <Script isActive="yes" isFolder="no">
                        <name>dbax.count</name>
                        <packageName></packageName>
                        <script>dbax.count = function(name)
	local count = 0
	for k,v in pairs(dbp.players_[name].affs) do
		if v then
			count = count + 1
		end
	end
	return count
end</script>
                        <eventHandlerList/>
                    </Script>
                    <Script isActive="yes" isFolder="no">
                        <name>dbax.reset</name>
                        <packageName></packageName>
                        <script>dbax.reset = function()
	for aff, val in pairs(dba) do
		if dban[aff] and dban[aff].me_take_trig then killTrigger(dban[aff].me_take_trig) end
		if dban[aff] and dban[aff].me_give_trig then killTrigger(dban[aff].me_give_trig) end
		if dban[aff] and dban[aff].me_diag_trig then killTrigger(dban[aff].me_diag_trig) end
		if dban[aff] and dban[aff].m_give_trig then killTrigger(dban[aff].m_give_trig) end
		if dban[aff] and dban[aff].m_take_trig then killTrigger(dban[aff].m_take_trig) end
	end

	local tablen = {
		&quot;maidenhair&quot;,
		&quot;kelp&quot;,
		&quot;wormwood&quot;,
		&quot;mandrake&quot;,
		&quot;orphine&quot;,
		&quot;nightshade&quot;,
		&quot;galingale&quot;,
		&quot;ginger&quot;,

		&quot;laurel&quot;,
		&quot;linseed&quot;,
		&quot;lovage&quot;,
	}
	for i=1, #tablen do
		dban[tablen[i]] = {}
	end
	dban.focus = {}
	dban.purge = {}
	dban.tree = {}
	dban.all = {}
	
end</script>
                        <eventHandlerList/>
                    </Script>
                    <Script isActive="yes" isFolder="no">
                        <name>hard coded</name>
                        <packageName></packageName>
                        <script>dbax.hc = function()
dban.tree = {
  &quot;slickness&quot;,
  &quot;anorexia&quot;,
  &quot;aeon&quot;,
  &quot;impatience&quot;,
  &quot;recklessness&quot;,
  &quot;metrazol&quot;,
  &quot;sunallergy&quot;,
  &quot;hellsight&quot;,
  &quot;crippled right leg&quot;,
  &quot;crippled left leg&quot;,
  &quot;crippled right arm&quot;,
  &quot;crippled left arm&quot;,
  &quot;justice&quot;,
  &quot;epilepsy&quot;,
  &quot;asthma&quot;,
  &quot;nausea&quot;,
  &quot;burning nerves&quot;,
  &quot;slow balance&quot;,
  &quot;slow equilibrium&quot;,
  &quot;stupidity&quot;,
  &quot;calotropis&quot;,
  &quot;penance&quot;,
  &quot;hallucinations&quot;,
  &quot;butisol&quot;,
  &quot;taint attunement&quot;,
  &quot;lethargy&quot;,
  &quot;slow herbs&quot;,
  &quot;addiction&quot;,
  &quot;gutwyrm&quot;,
  &quot;recurring freezing&quot;,
  &quot;poisoned blood&quot;,
  &quot;scars&quot;,
  &quot;shyness&quot;,
  &quot;sulfonal&quot;,
  &quot;carved rune&quot;,
  &quot;frostbite&quot;,
  &quot;healthleech&quot;,
  &quot;paranoia&quot;,
  &quot;dementia&quot;,
  &quot;stuttering&quot;,
  &quot;slow elixirs&quot;,
  &quot;disfigurement&quot;,
  &quot;moderate hypothermia&quot;,
  &quot;rigidity&quot;,
  &quot;deadening&quot;,
  &quot;clumsiness&quot;,
  &quot;disloyalty&quot;,
  &quot;masochism&quot;,
  &quot;lovers&quot;,
  &quot;crippled left arm&quot;,
  &quot;entropy&quot;,
  &quot;poisoned mind&quot;,
  &quot;dryblood&quot;,
  &quot;vertigo&quot;,
  &quot;weariness&quot;,
  &quot;agoraphobia&quot;,
  &quot;heroism&quot;
}
dban.purge = {
  &quot;numbness&quot;,
  &quot;paralysis&quot;,
  &quot;recklessness&quot;,
  &quot;slickness&quot;,
  &quot;asthma&quot;,
  &quot;stupidity&quot;,
  &quot;sunallergy&quot;,
  &quot;epilepsy&quot;,
  &quot;anorexia&quot;,
  &quot;sensitivity&quot;,
  &quot;dizziness&quot;,
  &quot;nausea&quot;,
  &quot;metrazol&quot;,
  &quot;ignorance&quot;,
  &quot;butisol&quot;,
  &quot;clumsiness&quot;,
  &quot;slow equilibrium&quot;,
  &quot;disloyalty&quot;,
  &quot;weariness&quot;,
  &quot;sulfonal&quot;,
  &quot;slow balance&quot;,
  &quot;withered throat&quot;,
  &quot;calotropis&quot;,
  &quot;slow elixirs&quot;,
  &quot;slow herbs&quot;,
  &quot;shyness&quot;
}
dban.focus = {
  &quot;madness&quot;,
  &quot;confusion&quot;,
  &quot;recklessness&quot;,
  &quot;hallucinations&quot;,
  &quot;anorexia&quot;,
  &quot;addiction&quot;,
  &quot;epilepsy&quot;,
  &quot;hellsight&quot;,
  &quot;disloyalty&quot;,
  &quot;ignorance&quot;,
  &quot;entropy&quot;,
  &quot;poisoned mind&quot;,
  &quot;stupidity&quot;,
  &quot;clumsiness&quot;,
  &quot;masochism&quot;,
  &quot;vertigo&quot;,
  &quot;agoraphobia&quot;,
  &quot;claustrophobia&quot;,
  &quot;loneliness&quot;,
  &quot;deadening&quot;,
  &quot;dizziness&quot;,
  &quot;shyness&quot;,
  &quot;generosity&quot;,
  &quot;lovers&quot;,
  &quot;peace&quot;,
  &quot;stuttering&quot;,
  &quot;hypersomnia&quot;,
  &quot;dementia&quot;,
  &quot;paranoia&quot;,
  &quot;heroism&quot;
}
dban.laurel = {
  &quot;madness&quot;,
  &quot;hellsight&quot;,
  &quot;aeon&quot;,
  &quot;penance&quot;,
  &quot;epilepsy&quot;,
  &quot;slow equilibrium&quot;
}
dban.lovage = {
  &quot;slickness&quot;,
  &quot;slow balance&quot;,
  &quot;manaleech&quot;,
  &quot;disloyalty&quot;
}
dban.galingale = {
  &quot;peace&quot;,
  &quot;justice&quot;,
  &quot;lovers&quot;,
  &quot;gutwyrm&quot;,
  &quot;generosity&quot;
}
dban.wormwood = {
  &quot;addiction&quot;,
  &quot;hallucinations&quot;,
  &quot;confusion&quot;,
  &quot;paranoia&quot;,
  &quot;entropy&quot;,
  &quot;dementia&quot;,
  &quot;hypersomnia&quot;
}
dban.nightshade = {
  &quot;nausea&quot;,
  &quot;sulfonal&quot;,
  &quot;taint attunement&quot;,
  &quot;burning nerves&quot;,
  &quot;recurring freezing&quot;,
  &quot;sunallergy&quot;,
  &quot;dryblood&quot;,
  &quot;lethargy&quot;,
  &quot;haemophilia&quot;,
}
dban.maidenhair = {
  &quot;numbness&quot;,
  &quot;paralysis&quot;,
  &quot;metrazol&quot;,
  &quot;slickness&quot;,
  &quot;frozen&quot;,
  &quot;hellsight&quot;,
  &quot;sensitivity&quot;,
  &quot;frostbite&quot;
}
dban.orphine = {
  &quot;stupidity&quot;,
  &quot;claustrophobia&quot;,
  &quot;agoraphobia&quot;,
  &quot;vertigo&quot;,
  &quot;masochism&quot;,
  &quot;loneliness&quot;
}
dban.kelp = {
  &quot;hemotoxin&quot;,
  &quot;asthma&quot;,
  &quot;clumsiness&quot;,
  &quot;rigidity&quot;,
  &quot;healthleech&quot;,
  &quot;butisol&quot;,
  &quot;weariness&quot;
}

end</script>
                        <eventHandlerList/>
                    </Script>
                </ScriptGroup>
                <ScriptGroup isActive="yes" isFolder="yes">
                    <name>dbp</name>
                    <packageName></packageName>
                    <script>dbp = dbp or {}
dbp.allow = dbp.allow or true
dbp.allow_ = dbp.allow_ or true
dbp.left = dbp.left or true

-- check using website data
dbp.download_ = true</script>
                    <eventHandlerList/>
                    <Script isActive="yes" isFolder="no">
                        <name>[d]</name>
                        <packageName></packageName>
                        <script>-- name, profession, circle, gender
dbp.players = dbp.players or {}

-- variables, afflictions
dbp.players_ = dbp.players_ or {}

dbp.variables = {
	{ &quot;focus&quot;, true }, { &quot;focus_time&quot;, 0 },
	{ &quot;herb&quot;, true }, { &quot;herb_time&quot;, 0 },
	{ &quot;purge&quot;, true }, { &quot;purge_time&quot;, 0 },
	{ &quot;salve&quot;, true }, { &quot;salve_time&quot;, 0 }, { &quot;salve_delay&quot;, 0 },
	{ &quot;smoke&quot;, true }, { &quot;smoke_time&quot;, 0 }, { &quot;smoke_delay&quot;, 0 },
	{ &quot;tree&quot;, true }, { &quot;tree_time&quot;, 0 },
	{ &quot;shield&quot;, false },
	{ &quot;rebounding&quot;, false },
	{ &quot;curseward&quot;, true },
	{ &quot;curseward_timer&quot;, true },
	{ &quot;prismatic&quot;, false },
	{ &quot;insomnia&quot;, true },
	{ &quot;random_affs&quot;, 0 },

	-- limbs
	{ &quot;left_arm&quot;, 0 }, { &quot;left_arm_time&quot;, 0 },
	{ &quot;right_arm&quot;, 0 }, { &quot;right_arm_time&quot;, 0 },
	{ &quot;left_leg&quot;, 0 }, { &quot;left_leg_time&quot;, 0 },
	{ &quot;right_leg&quot;, 0 }, { &quot;right_leg_time&quot;, 0 },
	{ &quot;head&quot;, 0 },	{ &quot;head_time&quot;, 0 },
	{ &quot;torso&quot;, 0 }, { &quot;torso_time&quot;, 0 },

	-- general timer
	{ &quot;peace_time&quot;, 0 },
	{ &quot;last_parry&quot;, &quot;&quot; },
	{ &quot;last_parry_time&quot;, 0 },
	-- tick watchers
	{ &quot;sunallergy_tick&quot;, 0 },
	{ &quot;masochism_tick&quot;, 0 },

	-- Assassin
		{ &quot;fenugreek&quot;, true },
		{ &quot;fenugreek_time&quot;, 0 },
		{ &quot;shadowplant&quot;, &quot;&quot; },
		{ &quot;shadowplant_state&quot;, 0 },
		{ &quot;instill&quot;, {
				hemotoxin = false,
				sunallergy = false,
			} 
		},
		{ &quot;instill_pending&quot;, &quot;&quot; },
		{ &quot;engulf&quot;, false },
		{ &quot;hypno&quot;, false },
		{ &quot;hypno_snap&quot;, false },
		{ &quot;hypno_snap_timer&quot;, 0 },
		{ &quot;hypno_queue&quot;, {
			}
		},
		{ &quot;sealed&quot;, false },
		{ &quot;ascourge&quot;, false },
		{ &quot;ascourge_time&quot;, 0 },

	-- Wytch
	{ &quot;greater&quot;, &quot;&quot; },
	{ &quot;lesser&quot;, &quot;&quot; },
	{ &quot;confound&quot;, false },
	{ &quot;confound_time&quot;, 0 },
	{ &quot;obstruct&quot;, false },

	{ &quot;nairat&quot;, false },
	{ &quot;nairat_time&quot;, 0 },
	{ &quot;nairat_active&quot;, false },
	{ &quot;nairat_active_timer&quot;, 0 },
	{ &quot;loshre&quot;, false },
	{ &quot;loshre_time&quot;, 0 },
	{ &quot;loshre_active&quot;, false },
	{ &quot;loshre_active_timer&quot;, 0 },
	{ &quot;kena&quot;, false },

	{ &quot;sowulu&quot;, false },
	{ &quot;pithakhan&quot;, false },
	{ &quot;hugalaz&quot;, false },
	{ &quot;nauthiz&quot;, false },

	{ &quot;ignite&quot;, false },

	-- Defiler
	------------
		{ &quot;splinters&quot;, {
				apple = 0,
				ash = 0,
				beech = 0,
				birch = 0,
				blackthorn = 0,
				elder = 0,
				hazel = 0,
				honeysuckle = 0,
				hawthorn = 0,
				willow = 0,
			} 
		},
		{ &quot;empowered&quot;, {
			} 
		},
		{ &quot;corrosion&quot;, {
			}
		},
		{ &quot;thornroot&quot;, false },
		{ &quot;thornroot_time&quot;, 0 },
		{ &quot;demonic_seed&quot;, 0 },
		{ &quot;demonic_seed_time&quot;, 0 },

		-- Defiler: saps
		{ &quot;asphyxiation_sap&quot;, &quot;&quot; },
		{ &quot;asphyxiation_sap_time&quot;, 0 },
		{ &quot;fire_sap&quot;, &quot;&quot; },
		{ &quot;fire_sap_time&quot;, 0 },
		{ &quot;poison_sap&quot;, &quot;&quot; },
		{ &quot;poison_sap_time&quot;, 0 },
		{ &quot;psychic_sap&quot;, &quot;&quot; },
		{ &quot;psychic_sap_time&quot;, 0 },

		-- Defiler: Shadowbinding
		{ &quot;shadow&quot;, false },
		{ &quot;shadow_time&quot;, 0 },

	-- Ranger
	{ &quot;lockup&quot;, false },
	{ &quot;lockup_time&quot;, 0 },

	-- Summoner
	{ &quot;taint&quot;, 0 },
	{ &quot;taint_time&quot;, 0 },
	{ &quot;incinerate&quot;, false },
	{ &quot;hierophant&quot;, false },
	{ &quot;hierophant_time&quot;, 0 },

	-- Diabolist

	-- Mage
	{ &quot;a_fire&quot;, 0 },
	{ &quot;a_earth&quot;, 0 },
	{ &quot;a_water&quot;, 0 },
	{ &quot;a_air&quot;, 0 },
	{ &quot;calcify&quot;, false },
	{ &quot;calcify_time&quot;, 0 },
	{ &quot;calcify_count&quot;, 0 },
	{ &quot;firecircle&quot;, false },
	{ &quot;icicles&quot;, false },
	{ &quot;scourge&quot;, false },
	{ &quot;scourge_time&quot;, 0 },
	{ &quot;scourge_count&quot;, 0 },

	--
	-- Bard
	{ &quot;bedazzlement&quot;, false }, -- 14 second ticks, 181 seconds
	{ &quot;bedazzlement_time&quot;, 0 },
	{ &quot;bedazzlement_tick&quot;, 0 },
	{ &quot;cruel_lament&quot;, false },
	{ &quot;cruel_lament_time&quot;, 0 },
	{ &quot;cruel_lament_tick&quot;, 0 },
	{ &quot;dissonance&quot;, false }, -- 6 second ticks, 226 seconds
	{ &quot;dissonance_time&quot;, 0 },
	{ &quot;dissonance_tick&quot;, 0 },
	{ &quot;lullaby&quot;, false }, -- 12 second ticks, 278 seconds
	{ &quot;lullaby_time&quot;, 0 },
	{ &quot;lullaby_tick&quot;, 0 },
	{ &quot;resonance&quot;, 0 },
	{ &quot;resonance_time&quot;, 0 },
	{ &quot;resonance_tick&quot;, 0 },
	{ &quot;revelation&quot;, false }, -- 6 second ticks, 181 seconds
	{ &quot;revelation_time&quot;, 0 },
	{ &quot;revelation_tick&quot;, 0 },
	{ &quot;yoth&quot;, false },
	{ &quot;yoth_time&quot;, 0 },
}</script>
                        <eventHandlerList/>
                    </Script>
                    <Script isActive="yes" isFolder="no">
                        <name>dbp.load</name>
                        <packageName></packageName>
                        <script>dbp.load = function()
	local path = getMudletHomeDir()..&quot;/dbp.lua&quot;
	if io.exists(path) then
		table.load( path, dbp.players )
		cecho( &quot;\n&quot;..path..&quot; loaded. Generating variables now.&quot; )
		dbp.players_ = {}
		for k in pairs( dbp.players ) do 
			dbp.players_[k] = {}
			dbp.gen(k)
			_hl(k)
		end
	else
		table.save( path, dbp.players )
		cecho( &quot;\n&quot;..path..&quot; created.&quot; )
	end
end</script>
                        <eventHandlerList/>
                    </Script>
                    <Script isActive="yes" isFolder="no">
                        <name>dbp.save</name>
                        <packageName></packageName>
                        <script>dbp.save = function(suppress)
	local path = getMudletHomeDir()..&quot;/dbp.lua&quot;
	table.save( path, dbp.players )
	if suppress then
	else
		cecho( &quot;\n&quot;..path..&quot; saved.&quot; )
	end
end</script>
                        <eventHandlerList/>
                    </Script>
                    <Script isActive="yes" isFolder="no">
                        <name>dbp.make</name>
                        <packageName></packageName>
                        <script>dbp.make = function(name,suppress)
	name = string.title(name)
	dbp.players[name]= {}
	dbp.players[name].circle = &quot;&quot;
	dbp.players[name].gender = &quot;&quot;
	dbp.players[name].profession = &quot;&quot;
	if dbp.save then dbp.save(suppress) end
	if dbp.gen then dbp.gen(name) end
end</script>
                        <eventHandlerList/>
                    </Script>
                    <Script isActive="yes" isFolder="no">
                        <name>dbp.gen</name>
                        <packageName></packageName>
                        <script>dbp.gen = function(name)
	name = string.title(name)
	dbp.players_[name] = {}
	dbp.players_[name].affs = {}
	for i=1, #dbp.variables do
		local var = dbp.variables[i][1]
		local val = dbp.variables[i][2]
		if type(val) == &quot;table&quot; then
			dbp.players_[name][var] = ecopy(val)
		else
			dbp.players_[name][var] = val
		end
	end
	for aff, info in pairs(dba) do
		dbp.players_[name].affs[aff] = false
	end

	--
	dbp.players_[name].affs_ = {}	
	for aff, info in pairs(dba) do
		dbp.players_[name].affs_[aff] = 0
	end
end</script>
                        <eventHandlerList/>
                    </Script>
                    <Script isActive="yes" isFolder="no">
                        <name>dbp.reset</name>
                        <packageName></packageName>
                        <script>dbp.reset = function()
	for k in pairs( dbp.players ) do 
		dbp.players_[k] = {}
		dbp.gen(k)
	end
end</script>
                        <eventHandlerList/>
                    </Script>
                    <Script isActive="yes" isFolder="no">
                        <name>player</name>
                        <packageName></packageName>
                        <script>player = function(name)
	if dbp.players[name] and dbp.players_[name] then return true else return false end
end</script>
                        <eventHandlerList/>
                    </Script>
                    <Script isActive="yes" isFolder="no">
                        <name>has</name>
                        <packageName></packageName>
                        <script>has = function(name,value)
	local str = &quot;&quot;
	if not player(name) then
		value = name
		name = me
	end
	if dba[value] then
		if config and config.trax == 1 then
			str = dbp.players_[name].affs[value]
		elseif config and config.trax == 2 then
			str = dbp.players_[name].affs_[value]
		else
			str = dbp.players_[name].affs[value]
		end
	elseif value:match(&quot;%.&quot;) then
		local tablen = value:split(&quot;%.&quot;) 
		local path = dbp.players_[name]
		for i=1, #tablen do 
			path = path[tablen[i]]
		end
		str = path
	else
		str = dbp.players_[name][value]
	end
	return str
end</script>
                        <eventHandlerList/>
                    </Script>
                    <Script isActive="yes" isFolder="no">
                        <name>set</name>
                        <packageName></packageName>
                        <script>-- used to set variables other than afflictions
set = function(name,value,state,state_value)
	local str = &quot;&quot; 
	if not player(name) then
		if state then state_value = state end
		if value then state = value end
		value = name
		name = me
	end 
	if type(dbp.players_[name][value]) == &quot;table&quot; then
		if state_value then 
			dbp.players_[name][value][state] = state_value
		else 
			table.insert(dbp.players_[name][value],state)
		end
	else 
		if value:match(&quot;%.&quot;) then
			local tablen = value:split(&quot;%.&quot;) 
			local path = dbp.players_[name]
			for i=1, #tablen do
				if i == #tablen then
					path[tablen[i]] = state
				else
					path = path[tablen[i]]
				end
			end
		else
			dbp.players_[name][value] = state
		end
	end
end</script>
                        <eventHandlerList/>
                    </Script>
                    <Script isActive="yes" isFolder="no">
                        <name>clear, clear_</name>
                        <packageName></packageName>
                        <script>dbp.clear = function(name)
	for aff, info in pairs(dba) do
		dbp.players_[name].affs[aff] = false
		dbp.players_[name].affs_[aff] = 0
	end
	if dbp then 
		dbp.ui_refresh() 
		dbp.ui_refresh_()
	end
end

dbp.clear_ = function(name)
	name = string.title(name)
	for i=1, #dbp.variables do
		local var = dbp.variables[i][1]
		local val = dbp.variables[i][2]
		if type(val) == &quot;table&quot; then
			dbp.players_[name][var] = ecopy(val)
		else
			dbp.players_[name][var] = val
		end
	end
	if dbp then 
		dbp.ui_refresh() 
		dbp.ui_refresh_()
	end
	cecho(&quot;\n&lt;gold&gt;Cleared all variables on &quot;..name..&quot;.&quot;)
end</script>
                        <eventHandlerList/>
                    </Script>
                    <Script isActive="yes" isFolder="no">
                        <name>count</name>
                        <packageName></packageName>
                        <script>dbp.count = function(name,type)

	local count,mcount = 0,0
	local path = dbp.players_[name].affs

	if config and config.trax == 2 then path = dbp.players_[name].affs_ end

	for aff, info in pairs(dba) do
		if dbp.players_[name].affs[aff] then
			if type and type == &quot;madness&quot; and dba[aff].madness then
				mcount = mcount + 1
			elseif type and type == &quot;hypno&quot; and dba[aff].hypno then
				local ex = {&quot;clumsiness&quot;,&quot;stupidity&quot;,&quot;recklessness&quot;,&quot;anorexia&quot;}
				if not table.contains(ex,tostring(aff)) then
					mcount = mcount + 1
				end
			elseif type and type == &quot;focus&quot; and dba[aff].p_focus then
				mcount = mcount + 1
			else
				count = count + 1 
			end
		end
	end

	if config and config.trax == 2 then
		mcount = 0
		count = 0
		for aff, info in pairs(dba) do
			if dbp.players_[name].affs_[aff] &gt;= 1 then
				if type and type == &quot;madness&quot; and dba[aff].madness then
					mcount = mcount + 1
				else
					count = count + 1
				end
			end
		end
	end

	if type == &quot;madness&quot; then count = mcount end

	return count
end</script>
                        <eventHandlerList/>
                    </Script>
                    <Script isActive="yes" isFolder="no">
                        <name>circ, gcirc, prof, gprof</name>
                        <packageName></packageName>
                        <script>dbp.circ = function(name,enc)
	if player(name) then
		dbp.players[name].circle = enc
		cecho(&quot;\n&lt;white&gt;Assigned &quot;..name..&quot; to circle &lt;cyan&gt;&quot;..enc..&quot;&lt;white&gt;!&quot;)
		dbp.save()
	end
end

dbp.gcirc = function(name)
	local circ = &quot;&quot;
	if player(name) then
		circ = dbp.players[name].circle
	end
	return circ
end

dbp.prof = function(name,profe)
	if player(name) then
		dbp.players[name].profession = profe
		cecho(&quot;\n&lt;white&gt;Assigned &quot;..name..&quot; to profession &lt;cyan&gt;&quot;..profe..&quot;&lt;white&gt;!&quot;)
		dbp.save()
	end
end

dbp.gprof = function(name)
	local prof = &quot;&quot;
	if player(name) then
		prof = dbp.players[name].profession
	end
	return prof
end</script>
                        <eventHandlerList/>
                    </Script>
                    <Script isActive="yes" isFolder="no">
                        <name>dbp.ui_make</name>
                        <packageName></packageName>
                        <script>dbp.ui_make = function()
	local width, height = getMainWindowSize()
	local fwidth,fheight = calcFontSize(11)

	local left = ui.left*width
	if not dbp.left then left = 0 end
	setBorderLeft(left)

	dbp.ui = Geyser.MiniConsole:new({
		name=&quot;dbp_ui&quot;,
		x= 0,
		y= 0,
		width= left, 
		height= &quot;40c&quot;,
	}) 
	dbp.ui:move(0,height-(33*fheight))
	dbp.ui:resize(left-20,33*fheight)
	dbp.ui:setFontSize(10)
	dbp.ui:setColor(0,0,0,50)

	local w = 3
	if not dbp.left then w = 0 end
	dbp.border = Geyser.MiniConsole:new({
		name=&quot;dbp_border&quot;,
		x=0,
		y=0,
		width= w,
		height=height,
	})
	dbp.border:move(left-7,0)
	dbp.border:setColor(38,38,38,0)

	if not dbp.left then
		dbp.ui:resize(0,0)
		dbp.border:resize(0,0)
	end
end</script>
                        <eventHandlerList/>
                    </Script>
                    <Script isActive="yes" isFolder="no">
                        <name>dbp.ui_refresh</name>
                        <packageName></packageName>
                        <script>dbp.ui_refresh = function()
	clearWindow(&quot;dbp_ui&quot;)

	local str = &quot;&quot;
	local time = os.time()

	if dbp.allow then

	-- TRAX 2
	if player(target) and config and config.trax == 2 then 
		str = str..&quot;Target: &lt;gold&gt;&quot;..target..&quot;&lt;grey&gt;&quot;
		str = str..&quot;\n&quot;

		local level = 0.30
		local count = 0
		local tablen = ecopy(dbp.players_[target].affs_)

		local lcr = { 
			[&quot;0.35&quot;] = &quot;&lt;sea_green&gt;&quot;,
			[&quot;0.55&quot;] = &quot;&lt;forest_green&gt;&quot;,
			[&quot;0.75&quot;] = &quot;&lt;lime_green&gt;&quot;,
		}
		local lfc = function(num)
						if num &lt; 0.35 then num = 0.35 
						elseif num &lt; 0.55 then num = 0.55
						elseif num &lt; 0.75 then num = 0.75
						end
						num = tostring(num)
						if lcr[num] then
							return lcr[num]
						else
							return &quot;&lt;green&gt;&quot;
						end
					end

		local lock_affs = {
			&quot;anorexia&quot;,
			&quot;asthma&quot;,
			&quot;hemotoxin&quot;,
			&quot;impatience&quot;,
			&quot;numbness&quot;,
			&quot;slickness&quot;,
		}

		local c_affs = {}

		if class == &quot;Summoner&quot; then
			for k,v in orderedPairs(dba) do
				if v.madness and not table.contains(lock_affs,k) then
					table.insert(c_affs,k)
				end
			end
		end

		if class == &quot;Assassin&quot; then
			local ex = {&quot;clumsiness&quot;,&quot;stupidity&quot;,&quot;recklessness&quot;,&quot;anorexia&quot;}
			for k,v in orderedPairs(dba) do
				if v.hypno and not table.contains(lock_affs,k) and not table.contains(ex,k) then
					table.insert(c_affs,k)
				end
			end
		end

		for i=1,#lock_affs do
			str = str..&quot;\n&quot;
			local dis,turb = &quot;&quot;, &quot;&quot;
			local aff = lock_affs[i]
			local score = has(target,lock_affs[i])

			dis = string.format(&quot;%3.2f&quot;,score)
			if score &gt;= level then 
				local k = lfc(score)
				dis = k..dis..&quot;&lt;grey&gt;&quot;
			else 
				dis = &quot;&lt;saddle_brown&gt;&quot;..dis..&quot;&lt;grey&gt;&quot; 
			end

			turb = string.rpad(aff,23,&quot; &quot;)
			if score &gt;= level then 
				local k = lfc(score)
				turb = k..turb..&quot;&lt;grey&gt;&quot; 
			else 
				turb = &quot;&lt;dim_grey&gt;&quot;..turb..&quot;&lt;grey&gt;&quot; 
			end
			str = str..&quot;[&quot;..dis..&quot;] &quot;..turb
		end

		str = str..&quot;\n&quot;
		local hypno_queue = has(target,&quot;hypno_queue&quot;)
		for i=1,#c_affs do
			str = str..&quot;\n&quot;
			local dis,turb = &quot;&quot;, &quot;&quot;
			local aff = c_affs[i]
			local score = has(target,c_affs[i])

			dis = string.format(&quot;%3.2f&quot;,score)
			if score &gt;= level then 
				local shine = lfc(score)
				dis = shine..dis..&quot;&lt;grey&gt;&quot; 
			elseif table.contains(hypno_queue,c_affs[i]) then
				dis = &quot;&lt;deep_sky_blue&gt;&quot;..dis..&quot;&lt;grey&gt;&quot;
			else 
				dis = &quot;&lt;saddle_brown&gt;&quot;..dis..&quot;&lt;grey&gt;&quot; 
			end
			turb = string.rpad(aff,23,&quot; &quot;)
			if score &gt;= level then 
				local shine = lfc(score)
				turb = shine..turb..&quot;&lt;grey&gt;&quot; 
			elseif table.contains(hypno_queue,c_affs[i]) then
				turb = &quot;&lt;deep_sky_blue&gt;&quot;..turb..&quot;&lt;grey&gt;&quot; 
			else 
				turb = &quot;&lt;dim_grey&gt;&quot;..turb..&quot;&lt;grey&gt;&quot; 
			end
			str = str..&quot;[&quot;..dis..&quot;] &quot;..turb
		end

		-- split by clusters
		local diabolist_h = {}
		if class == &quot;Diabolist&quot; then
			str = str..&quot;\n&quot;
			local cluster = {
				kelp = &quot;&lt;chocolate&gt;&quot;,
				orphine = &quot;&lt;olive_drab&gt;&quot;,
				wormwood = &quot;&lt;pale_violet_red&gt;&quot;,
			}
			for k,v in orderedPairs(cluster) do
				local pn = &quot;p_&quot;..tostring(k)
				local shine = v
				for i,j in orderedPairs(tablen) do
					if dba[i][pn] and not table.contains(lock_affs,i) and not table.contains(c_affs,i) and j &gt;= level then
						local dis,turb = &quot;&quot;, &quot;&quot;
						dis = shine..string.format(&quot;%3.2f&quot;,j)..&quot;&lt;grey&gt;&quot;
						turb = string.rpad(i,23,&quot; &quot;)
						turb = shine..turb..&quot;&lt;grey&gt;&quot;
						str = str..&quot;[&quot;..dis..&quot;] &quot;..turb..&quot;\n&quot;
						table.insert(diabolist_h,i)
					end
				end
			end
		end

		str = str..&quot;\n&quot;
		if class ~= &quot;Diabolist&quot; then
			str = str..&quot;\n&quot;
		end
		for k,v in pairs(tablen) do
			if not table.contains(lock_affs,k) and not table.contains(c_affs,k) and v &gt;= level then
				local shine = lfc(v)
				local dis,turb = &quot;&quot;, &quot;&quot;
				dis = shine..string.format(&quot;%3.2f&quot;,v)..&quot;&lt;grey&gt;&quot;
				turb = string.rpad(k,23,&quot; &quot;)
				turb = shine..turb..&quot;&lt;grey&gt;&quot;
				if class == &quot;Diabolist&quot; and table.contains(diabolist_h,k) then
				else
					str = str..&quot;[&quot;..dis..&quot;] &quot;..turb..&quot;\n&quot;
				end
			end
		end

	-- TRAX 1
	elseif player(target) then
		str = str..&quot;Target: &lt;gold&gt;&quot;..target..&quot;&lt;grey&gt;&quot;
		str = str..&quot;\n&quot;

		local count = 0
		local tablen = ecopy(dbp.players_[target].affs)

		local lock_affs = {
			&quot;anorexia&quot;,
			&quot;asthma&quot;,
			&quot;hemotoxin&quot;,
			&quot;impatience&quot;,
			&quot;numbness&quot;,
			&quot;slickness&quot;,
		}

		local c_affs = {}

		if class == &quot;Summoner&quot; then
			for k,v in orderedPairs(dba) do
				if v.madness and not table.contains(lock_affs,k) then
					table.insert(c_affs,k)
				end
			end
		end

		if class == &quot;Assassin&quot; then
			local ex = {&quot;clumsiness&quot;,&quot;stupidity&quot;,&quot;recklessness&quot;,&quot;anorexia&quot;}
			for k,v in orderedPairs(dba) do
				if v.hypno and not table.contains(lock_affs,k) and not table.contains(ex,k) then
					table.insert(c_affs,k)
				end
			end
		end

		for i=1,#lock_affs do
			str = str..&quot;\n&quot;
			local dis,turb = &quot;&quot;, &quot;&quot;
			if has(target,lock_affs[i]) then dis = &quot;&lt;green&gt;x&lt;grey&gt;&quot; else dis = &quot;&lt;saddle_brown&gt;o&lt;grey&gt;&quot; end
			turb = string.rpad(lock_affs[i],23,&quot; &quot;)
			if has(target,lock_affs[i]) then turb = &quot;&lt;green&gt;&quot;..turb..&quot;&lt;grey&gt;&quot; else turb = &quot;&lt;dim_grey&gt;&quot;..turb..&quot;&lt;grey&gt;&quot; end
			str = str..&quot;[&quot;..dis..&quot;] &quot;..turb
		end

		str = str..&quot;\n&quot;
		local hypno_queue = has(target,&quot;hypno_queue&quot;)
		for i=1,#c_affs do
			str = str..&quot;\n&quot;
			local dis,turb = &quot;&quot;, &quot;&quot;
			if has(target,c_affs[i]) then 
				dis = &quot;&lt;green&gt;x&lt;grey&gt;&quot; 
			elseif table.contains(hypno_queue,c_affs[i]) then
				dis = &quot;&lt;deep_sky_blue&gt;x&lt;grey&gt;&quot;
			else 
				dis = &quot;&lt;saddle_brown&gt;o&lt;grey&gt;&quot; 
			end
			turb = string.rpad(c_affs[i],23,&quot; &quot;)
			if has(target,c_affs[i]) then 
				turb = &quot;&lt;green&gt;&quot;..turb..&quot;&lt;grey&gt;&quot; 
			elseif table.contains(hypno_queue,c_affs[i]) then
				turb = &quot;&lt;deep_sky_blue&gt;&quot;..turb..&quot;&lt;grey&gt;&quot; 
			else 
				turb = &quot;&lt;dim_grey&gt;&quot;..turb..&quot;&lt;grey&gt;&quot; 
			end
			str = str..&quot;[&quot;..dis..&quot;] &quot;..turb
		end

		-- split by clusters
		local diabolist_h = {}
		if class == &quot;Diabolist&quot; then
			str = str..&quot;\n&quot;
			local cluster = {
				kelp = &quot;&lt;chocolate&gt;&quot;,
				orphine = &quot;&lt;olive_drab&gt;&quot;,
				wormwood = &quot;&lt;pale_violet_red&gt;&quot;,
			}
			for k,v in orderedPairs(cluster) do
				local pn = &quot;p_&quot;..tostring(k)
				local shine = v
				for i,j in orderedPairs(tablen) do
					if dba[i][pn] and not table.contains(lock_affs,i) and not table.contains(c_affs,i) and j then
						local dis,turb = &quot;&quot;, &quot;&quot;
						dis = shine..&quot;x&lt;grey&gt;&quot;
						turb = string.rpad(i,23,&quot; &quot;)
						turb = shine..turb..&quot;&lt;grey&gt;&quot;
						str = str..&quot;[&quot;..dis..&quot;] &quot;..turb..&quot;\n&quot;
						table.insert(diabolist_h,i)
					end
				end
			end
		end

		str = str..&quot;\n&quot;
		if class ~= &quot;Diabolist&quot; then
			str = str..&quot;\n&quot;
		end
		for k,v in pairs(tablen) do
			if not table.contains(lock_affs,k) and not table.contains(c_affs,k) and v then
				local shine = &quot;&lt;green&gt;&quot;
				local dis,turb = &quot;&quot;, &quot;&quot;
				dis = shine..&quot;x&lt;grey&gt;&quot;
				turb = string.rpad(k,23,&quot; &quot;)
				turb = shine..turb..&quot;&lt;grey&gt;&quot;
				if class == &quot;Diabolist&quot; and table.contains(diabolist_h,k) then
				else
					str = str..&quot;[&quot;..dis..&quot;] &quot;..turb..&quot;\n&quot;
				end
			end
		end

	-- NON PLAYER
	else
		str = str..&quot;&lt;sienna&gt; Mobiles (#&quot;..gmcp.Room.Info.num..&quot;)&quot;
		str = str..&quot;\n&lt;slate_grey&gt;-----------------------&quot;
		for k,v in pairs(gm.contents) do
			if v.attrib == &quot;m&quot; then
				str = str..&quot;\n &quot;..v.id..&quot; - &quot;..v.name
			end
			local st = {&quot;a hazeward stone&quot;,&quot;a monolith sigil&quot;}
			if table.contains(st,v.name) then
				str = str..&quot;\n &quot;..v.id..&quot; - &quot;..v.name
			end
		end

	end

	if player(target) and class == &quot;Defiler&quot; then str = defiler.dbp() end

		cecho(&quot;dbp_ui&quot;,str)
	end -- end dbp.allow
end</script>
                        <eventHandlerList/>
                    </Script>
                    <Script isActive="yes" isFolder="no">
                        <name>dbp.ui_make_, dbp.ui_refresh_</name>
                        <packageName></packageName>
                        <script>dbp.ui_make_ = function()
	local width, height = getMainWindowSize()
	local fwidth,fheight = calcFontSize(11)

	local left = ui.left*width
	if not dbp.left then left = 0 end
	setBorderLeft(left)

	dbp.ui_ = Geyser.MiniConsole:new({
		name=&quot;dbp_ui_&quot;,
		x= 0,
		y= 0,
		width= 0, -- ui.left*width, 
		height= &quot;10c&quot;,
	})
	dbp.ui_:move(0,1*fheight)
	dbp.ui_:resize(left-20,14*fheight)
	dbp.ui_:setFontSize(10)
	dbp.ui_:setColor(0,0,0,0)

	if not dbp.left then
		dbp.ui_:resize(0,0)
	end
end

dbp.ui_refresh_ = function()
	clearWindow(&quot;dbp_ui_&quot;)
	local str = &quot;&quot;

	if dbp.allow_ and player(me) then

		local count, mcount, buffer = 0, 0, 5
		local level = 0.35 -- for trax 2
		local tablen = {}

		if config and config.trax == 2 then tablen = ecopy(dbp.players_[me].affs_)
		else tablen = ecopy(dbp.players_[me].affs)
		end

		local lock_affs = {
			&quot;anorexia&quot;,
			&quot;asthma&quot;,
			&quot;hemotoxin&quot;,
			&quot;impatience&quot;,
			&quot;numbness&quot;,
			&quot;slickness&quot;,
		}

		local c_affs = {}

	if config and config.trax == 2 then

		for i=1,#lock_affs do 
			str = str..&quot;\n&quot;
			local dis,turb = &quot;&quot;, &quot;&quot;
			local score = has(me,lock_affs[i])
			local aff = lock_affs[i]

			dis = string.format(&quot;%3.2f&quot;, score)
			turb = string.rpad(aff ,23,&quot; &quot;)

			if score &gt;= level then 
				dis = &quot;&lt;green&gt;&quot;..dis..&quot;&lt;grey&gt;&quot; 
				turb = &quot;&lt;green&gt;&quot;..turb..&quot;&lt;grey&gt;&quot;
			else 
				dis = &quot;&lt;saddle_brown&gt;&quot;..dis..&quot;&lt;grey&gt;&quot;
				turb = &quot;&lt;dim_grey&gt;&quot;..turb..&quot;&lt;grey&gt;&quot;
			 end
			str = str..&quot;[&quot;..dis..&quot;] &quot;..turb
		end

		str = str..&quot;\n&quot;
		for i=1,#c_affs do
			str = str..&quot;\n&quot;
			local dis,turb = &quot;&quot;, &quot;&quot;
			local score = has(me,c_affs[i])
			local aff = c_affs[i]

			dis = string.format(&quot;%3.2f&quot;, score)
			turb = string.rpad(aff,23,&quot; &quot;)
			if score &gt;= level then 
				mcount = mcount + 1
				if mcount &gt; buffer then
				else
					dis = &quot;&lt;green&gt;&quot;..dis..&quot;&lt;grey&gt;&quot;
					turb = &quot;&lt;green&gt;&quot;..turb..&quot;&lt;grey&gt;&quot; 
					str = str..&quot;[&quot;..dis..&quot;] &quot;..turb
				end
			else 
				dis = &quot;&lt;saddle_brown&gt;&quot;..dis..&quot;&lt;grey&gt;&quot; 
				turb = &quot;&lt;dim_grey&gt;&quot;..turb..&quot;&lt;grey&gt;&quot; 
				str = str..&quot;[&quot;..dis..&quot;] &quot;..turb
			end
		end

		str = str..&quot;\n&quot;
		for k,v in pairs(tablen) do
			if not table.contains(lock_affs,k) and not table.contains(c_affs,k) and v &gt;= level then
				local dis,turb = &quot;&quot;, &quot;&quot;
				dis = &quot;&lt;green&gt;&quot;..string.format(&quot;%3.2f&quot;,v)..&quot;&lt;grey&gt;&quot;
				turb = string.rpad(k,23,&quot; &quot;)
				turb = &quot;&lt;green&gt;&quot;..turb..&quot;&lt;grey&gt;&quot;
				mcount = mcount + 1
				if mcount &gt; buffer then
				else
					str = str..&quot;\n[&quot;..dis..&quot;] &quot;..turb
				end
			end
		end

	else

		for i=1,#lock_affs do
			str = str..&quot;\n&quot;
			local dis,turb = &quot;&quot;, &quot;&quot;
			turb = string.rpad(lock_affs[i],23,&quot; &quot;)
			if has(me,lock_affs[i]) then  
				dis = &quot;&lt;green&gt;x&lt;grey&gt;&quot; 
				turb = &quot;&lt;green&gt;&quot;..turb..&quot;&lt;grey&gt;&quot;
			else 
				dis = &quot;&lt;saddle_brown&gt;o&lt;grey&gt;&quot; 
				turb = &quot;&lt;dim_grey&gt;&quot;..turb..&quot;&lt;grey&gt;&quot;
			end
			str = str..&quot;[&quot;..dis..&quot;] &quot;..turb
		end

		str = str..&quot;\n&quot;
		for i=1,#c_affs do
			str = str..&quot;\n&quot;
			local dis,turb = &quot;&quot;, &quot;&quot;
			turb = string.rpad(c_affs[i],23,&quot; &quot;)
			if has(target,c_affs[i]) then 
				mcount = mcount + 1
				if mcount &gt; buffer then
				else
					dis = &quot;&lt;green&gt;x&lt;grey&gt;&quot; 
					turb = &quot;&lt;green&gt;&quot;..turb..&quot;&lt;grey&gt;&quot; 
					str = str..&quot;[&quot;..dis..&quot;] &quot;..turb
				end
			else 
				dis = &quot;&lt;saddle_brown&gt;o&lt;grey&gt;&quot; 
				turb = &quot;&lt;dim_grey&gt;&quot;..turb..&quot;&lt;grey&gt;&quot; 
				str = str..&quot;[&quot;..dis..&quot;] &quot;..turb
			end
		end

		str = str..&quot;\n&quot;
		for k,v in pairs(tablen) do
			if not table.contains(lock_affs,k) and not table.contains(c_affs,k) and v then
				local dis,turb = &quot;&quot;, &quot;&quot;
				dis = &quot;&lt;green&gt;x&lt;grey&gt;&quot;
				turb = string.rpad(k,23,&quot; &quot;)
				turb = &quot;&lt;green&gt;&quot;..turb..&quot;&lt;grey&gt;&quot;
				mcount = mcount + 1
				if mcount &gt; buffer then
				else
					str = str..&quot;\n[&quot;..dis..&quot;] &quot;..turb
				end
			end
		end
	end

	local pre = &quot;Visual: &lt;gold&gt;&quot;..me..&quot;&lt;grey&gt;&quot;
	if mcount &gt; buffer then 
		mcount = mcount - buffer 
		pre = pre..&quot; &lt;red&gt;+(&quot;..mcount..&quot;)&lt;grey&gt;&quot;
		str = str..&quot;\n&lt;red&gt;&quot;
		for i=1,mcount do
			str = str..&quot;+&quot;
		end
	end
	pre = pre..&quot;\n&quot;
	str = pre..str..&quot;&lt;grey&gt;&quot;

	cecho(&quot;dbp_ui_&quot;,str)
	end
end</script>
                        <eventHandlerList/>
                    </Script>
                    <Script isActive="yes" isFolder="no">
                        <name>dbp.timer</name>
                        <packageName></packageName>
                        <script>dbp.timer = function()
	local time = os.time()
	if player(target) then

		_hload(target)

		-- tree
		local tree = has(target,&quot;tree&quot;)
		local tree_time = has(target,&quot;tree_time&quot;)

		if tree_time ~= 0 then
			if (time - tree_time) &gt; 18 then
				set(target,&quot;tree&quot;,true)
				set(target,&quot;tree_time&quot;,0)
				if not numbness and not paralysis then trax.cure_type(target,&quot;tree&quot;) end
			end
		end

		-- purge
		local purge = has(target,&quot;purge&quot;)
		local purge_time = has(target,&quot;purge_time&quot;)

		if purge_time ~= 0 then
			if (time - purge_time) &gt; 18 then
				set(target,&quot;purge&quot;,true)
				set(target,&quot;purge_time&quot;,0)
				if not hemotoxin then trax.cure_type(target,&quot;purge&quot;) end
			end
		end

		-- focus
		local focus = has(target,&quot;focus&quot;)
		local focus_time = has(target,&quot;focus_time&quot;)

		if focus_time ~= 0 then
			if (time - focus_time) &gt; 18 then
				set(target,&quot;focus&quot;,true)
				set(target,&quot;focus_time&quot;,0)
				if not impatience then trax.cure_type(target,&quot;focus&quot;) end
			end
		end

		-- herb
		local herb = has(target,&quot;herb&quot;)
		local herb_time = has(target,&quot;herb_time&quot;)

		if herb_time ~= 0 then
			if (time - herb_time) &gt; 2 then
				set(target,&quot;herb&quot;,true)
				set(target,&quot;herb_time&quot;,0)
			end
		end

		-- smoke
		local smoke = has(target,&quot;smoke&quot;)
		local smoke_time = has(target,&quot;smoke_time&quot;)
		local smoke_delay = tonumber(has(target,&quot;smoke_delay&quot;))

		if smoke_time ~= 0 then
			if (time - smoke_time) &gt; smoke_delay then
				set(target,&quot;smoke&quot;,true)
				set(target,&quot;smoke_time&quot;,0)
				set(target,&quot;smoke_delay&quot;,0)
				if not asthma then trax.cure_type(target,&quot;laurel&quot;) end
				if not asthma then trax.cure_type(target,&quot;lovage&quot;) end
			end
		end

		-- peace cooldown
		local peace_time = has(target,&quot;peace_time&quot;)
		
		if peace_time ~= 0 then
			if (time - peace_time) &gt; 5 then
				set(target,&quot;peace_time&quot;,0)
				cecho(sysfix..&quot; &lt;white&gt;Peace down for &quot;..target..&quot;.&quot;)
			end
		end
		
		-- tick watchers: masochism, sunallergy
		local sunallergy_tick = has(target,&quot;sunallergy_tick&quot;)
		local masochism_tick = has(target,&quot;masochism_tick&quot;)
		if sunallergy_tick ~= 0 then
			if (time - sunallergy_tick) &gt; 5 then
				trax.take(target,&quot;sunallergy&quot;)
				set(target,&quot;sunallergy_tick&quot;,0)
				cecho(sysfix..&quot; &lt;white&gt;Resetting SUNALLERGY for &quot;..target..&quot;. Tick missed.&quot;)
			end
		end
		if masochism_tick ~= 0 then
			if (time - masochism_tick) &gt; 5 then
				trax.take(target,&quot;masochism&quot;)
				set(target,&quot;masochism_tick&quot;,0)
				cecho(sysfix..&quot; &lt;white&gt;Resetting MASOCHISM for &quot;..target..&quot;. Tick missed.&quot;)
			end
		end

		if eqbal_time ~= 0 then
			if (time - eqbal_time) &gt; 10 then
				eqbal = &quot;&quot;
				eqbal_time = 0
			end
		end

		-- last parry
		local last_parry_time = has(target,&quot;last_parry_time&quot;)
		
		if last_parry_time ~= 0 then
			if (time - last_parry_time) &gt; 30 then
				set(target,&quot;last_parry&quot;, &quot;&quot;)
				set(target,&quot;last_parry_time&quot;,0)
			end
		end

	end	
end</script>
                        <eventHandlerList/>
                    </Script>
                    <ScriptGroup isActive="yes" isFolder="yes">
                        <name>website scraping</name>
                        <packageName></packageName>
                        <script>dbp.screen_current = dbp.screen_current or &quot;&quot;

dbp.time = dbp.time or 0
dbp.tablen = dbp.tablen or {}
dbp.changes = dbp.changes or 0
dbp.changes_p = dbp.changes_p or 0
dbp.data = dbp.data or 0</script>
                        <eventHandlerList/>
                        <Script isActive="yes" isFolder="no">
                            <name>dbp.screen</name>
                            <packageName></packageName>
                            <script>dbp.screen = function()
	dbp.tablen = {}
	dbp.changes = 0
	dbp.changes_p = 0
	dbp.data = 0
	dbp.time = os.time()

	for k,v in pairs(dbp.players) do
		if v.circle == &quot;&quot; or v.circle == &quot;A&quot; or v.circle == &quot;D&quot; or v.circle == &quot;M&quot; then
			table.insert(dbp.tablen, tostring(k))
		end
	end

	table.sort(dbp.tablen)
	
	local arg = dbp.tablen[1]
	table.remove(dbp.tablen,1)
	dbp.download(arg)
end

</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>dbp.download</name>
                            <packageName></packageName>
                            <script>dbp.download = function(name)
	dbp.screen_current = getMudletHomeDir()..&quot;/player&quot;
	if dbp.download_ then
		if not downloadFile then
			cecho(&quot;&lt;white&gt;\n[EDEN]: - Your version of Mudlet doesn't support downloading files. Please upgrade to 2.0+&quot;)
		else
			downloadFile( dbp.screen_current, &quot;http://www.imperian.com/game/honors/Imperian/&quot;..name )
		end
	end
end</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>dbp.done</name>
                            <packageName></packageName>
                            <script>dbp.done = function(_, filename)
	if not io.exists(filename) then return end

	if filename == tostring( dbp.screen_current ) then
		local f,s = io.open(filename)
		-- if f:seek(&quot;end&quot;) then dbp.data = dbp.data + tonumber(f:seek(&quot;end&quot;)) end
		if f then s = f:read(&quot;*a&quot;); io.close(f) end

		local c = string.match( s, &quot;City: (%w+)&quot; )
		local name = string.match( s, &quot;Name: (%w+)&quot; )
		local t = {
			Stavenn = &quot;D&quot;,
			Khandava = &quot;D&quot;,
			Kinsarmar = &quot;M&quot;,
			Celidon = &quot;M&quot;,
			Antioch = &quot;A&quot;,
			Ithaqua = &quot;A&quot;,
		}

		if t[c] then
			local circ = dbp.gcirc(name)
			if t[c] ~= circ then
				dbp.circ(name,t[c])
				dbp.changes = dbp.changes + 1
			end
		end

		local prof = string.match( s, &quot;Profession: (%w+)&quot; )
		if prof and dbp.gprof(name) ~= prof then
			dbp.prof(name,prof)
			dbp.changes_p = dbp.changes_p + 1
		end

		if next(dbp.tablen) == nil then
			local str = &quot;&quot;
			local time = os.time()

			dbp.time = time - dbp.time

			str = str..&quot;\n&lt;white&gt;[Completed Screening Protocol]&quot;
			str = str..&quot;\n&lt;white&gt; - Total circle changes made: &quot;..dbp.changes
			str = str..&quot;\n&lt;white&gt; - Total profession changes made: &quot;..dbp.changes_p
			-- str = str..&quot;\n&lt;white&gt; - Total size downloaded: &quot;..( tonumber(dbp.data) / 1000 )..&quot; kB&quot;
			str = str..&quot;\n&lt;white&gt; - Time taken: &quot;..dbp.time..&quot; seconds&quot;

			cecho(str)
			dbp.tablen = {}
			dbp.changes = 0
			dbp.changes_p = 0
			dbp.data = 0
			dbp.time = 0
		else
			cecho(&quot;\n&lt;red&gt;STARTING REVIEW FOR &quot;..dbp.tablen[1])
			local arg = dbp.tablen[1]
			table.remove(dbp.tablen,1)
			dbp.download(arg)
		end
		
		os.remove(filename)
	end
end</script>
                            <eventHandlerList>
                                <string>sysDownloadDone</string>
                            </eventHandlerList>
                        </Script>
                    </ScriptGroup>
                </ScriptGroup>
                <ScriptGroup isActive="yes" isFolder="yes">
                    <name>trax</name>
                    <packageName></packageName>
                    <script>trax = trax or {}

-- cures
trax.pending_name = trax.pending_name or &quot;&quot;
trax.pending = trax.pending or &quot;&quot;

-- toxins
trax.pending_toxin_name = trax.pending_toxin_name or &quot;&quot;
trax.pending_toxin = trax.pending_toxin or &quot;&quot;

-- limbs
trax.pending_limb_name = trax.pending_limb_name or &quot;&quot;
trax.pending_limb = trax.pending_limb or &quot;&quot;</script>
                    <eventHandlerList/>
                    <Script isActive="yes" isFolder="no">
                        <name>trax.give</name>
                        <packageName></packageName>
                        <script>trax.give = function(name,aff,suppress)
	if player(name) then
		if aff == &quot;sensitivity&quot; then
			if not has(name,&quot;undeaf&quot;) then
				aff = &quot;undeaf&quot;
			end
		end
		if name == me and config.trax == 1 and has(me,&quot;paralysis&quot;) and aff == &quot;numbness&quot; then 
		elseif name == me and config.trax == 2 and dbp.players_[name].affs_.paralysis == 1 and aff == &quot;numbness&quot; then
		else
		dbp.players_[name].affs[aff] = true
		dbp.players_[name].affs_[aff] = 1
		end
		if dbp then 
			dbp.ui_refresh() 
			dbp.ui_refresh_()
		end

		-- Handle peace internal cooldown
		if aff == &quot;peace&quot; and has(name,&quot;peace_time&quot;) == 0 then
			set(name,&quot;peace_time&quot;,os.time())
		end

		-- Handle tick watchers
		local ticks = {
			&quot;masochism&quot;,&quot;sunallergy&quot;
		}
		if table.contains(ticks,aff) then
			set(name,aff..&quot;_tick&quot;,os.time())
		end

		local t = {&quot;impatience&quot;,&quot;asthma&quot;,&quot;slickness&quot;}
		if me == &quot;Iniar&quot; then
		if config.share_full and name ~= me and not suppress then
			local str = &quot;&quot;
			-- str = str..&quot;clan military tell afflicted &quot;..name..&quot; &quot;..aff..sp
			-- send(str)
		elseif config.share and name ~= me and table.contains(t,aff) and not suppress then
			local str = &quot;&quot;
			-- str = str..&quot;clan military tell afflicted &quot;..name..&quot; &quot;..aff..sp
			-- send(str)
		end
		end
	end
end</script>
                        <eventHandlerList/>
                    </Script>
                    <Script isActive="yes" isFolder="no">
                        <name>trax.take</name>
                        <packageName></packageName>
                        <script>trax.take = function(name,aff,hide)
	if not aff then
		aff = name
		name = me
	end
	if player(name) then
		-- if it was false to begin with, then take count from random_affs
		if dbp.players_[name].affs[aff] == false then
			local random_affs = has(name,&quot;random_affs&quot;)
			if random_affs &gt; 0 then
				set(name,&quot;random_affs&quot;,random_affs - 1)
				cecho(&quot;\n&lt;white&gt;Assuming Random Aff...&quot;)
			end
		end

		-- set to false
		dbp.players_[name].affs[aff] = false
		dbp.players_[name].affs_[aff] = 0

		-- Limbs before all Things
		if aff == &quot;crippled right leg&quot; then 
			set(target,&quot;right_leg&quot;,0)
			set(target,&quot;right_legtime&quot;,0)
		end
		if aff == &quot;crippled left leg&quot; then 
			set(target,&quot;left_leg&quot;,0)
			set(target,&quot;left_leg_time&quot;,0)
		end
		if aff == &quot;crippled right arm&quot; then 
			set(target,&quot;right_arm&quot;,0)
			set(target,&quot;right_arm_time&quot;,0)
		end
		if aff == &quot;crippled left arm&quot; then 
			set(target,&quot;left_arm&quot;,0)
			set(target,&quot;left_arm_time&quot;,0)
		end

		-- Deal with Instilled
		if has(name,&quot;instill_pending&quot;) == aff then
			set(name,&quot;instill.&quot;..aff, false)
			set(name,&quot;instill_pending&quot;,&quot;&quot;)
			killTimer(instill_time)
			cecho(&quot;\n&lt;red&gt;Failure instilling &lt;green&gt;&quot;..aff..&quot;&lt;red&gt; onto &quot;..name..&quot;!&quot;)
		end
		local ex = {&quot;hemotoxin&quot;,&quot;sunallergy&quot;}
		if table.contains(ex,aff) and has(name,&quot;instill.&quot;..aff) then
			set(name,&quot;instill.&quot;..aff, false)
			cecho(&quot;\n&lt;red&gt;REMOVING INSTILLED &lt;green&gt;&quot;..aff..&quot;&lt;red&gt; FROM &quot;..name..&quot;!&quot;)
		end

		if aff == &quot;undeaf&quot; then
			dbp.players_[name].affs[&quot;sensitivity&quot;] = false
			dbp.players_[name].affs_[&quot;sensitivity&quot;] = 0
		end
			
		
		if name == me then hide = true end
		-- display
		if not hide then
		if name ~= target then
			cecho(&quot; &lt;dim_grey&gt;-&quot;..aff..&quot; (&quot;..name..&quot;) &quot;)
		else
			cecho(&quot; &lt;cornflower_blue&gt;-&quot;..aff..&quot; (&quot;..name..&quot;) &quot;)
		end
		end

		-- refresh UI
		if dbp then 
			dbp.ui_refresh() 
			dbp.ui_refresh_()
		end
	end
end</script>
                        <eventHandlerList/>
                    </Script>
                    <Script isActive="yes" isFolder="no">
                        <name>trax.cure</name>
                        <packageName></packageName>
                        <script>trax.cure = function(name,cure)
	local flag = false
	if name ~= &quot;&quot; and cure ~= &quot;&quot; and dban[cure] then -- OPEN

	if config and config.trax == 2 then
		local count = 0
		for i=1, #dban[cure] do
			if has(name,dban[cure][i]) &gt; 0 and dba[dban[cure][i]].m_take == &quot;&quot; then
				count = count + 1
				flag = true
			end
		end

		if count &gt; 0 then
			count = 1/count
			for i=1, #dban[cure] do 
				local aff = dban[cure][i]
				if has(name,aff) &gt; 0 and dba[aff].m_take == &quot;&quot; then
					local short = dbp.players_[name].affs_[aff]
					short = short - count
					if name == target then
						local str = &quot;(&quot;..name..&quot;:&quot;..cure..&quot;) &quot;
						str = str..&quot;-&quot;..string.format(&quot;%0.2f&quot;,count)..&quot; &quot;..aff..&quot; &quot;
						vw:report(&quot;Misc&quot;,str,true)
					end
					if short &lt; 0 then 
						short = 0 
						trax.take(name,aff)
					end
					dbp.players_[name].affs_[aff] = short
				end
			end
		end

		if dbp then 
			dbp.ui_refresh() 
			dbp.ui_refresh_()
		end
	else
		-- Cycle through known afflictions to cure
		for i=1, #dban[cure] do -- display(dban[cure][i])
			if has(name,dban[cure][i]) and dba[dban[cure][i]].m_take == &quot;&quot; then
				trax.take(name,dban[cure][i])
				flag = true
				break
			end
		end
	end

	end -- CLOSE

	-- If you did not cure any afflictions, take a random aff

		-- exclusion table
		local exc_t = {&quot;quince&quot;,&quot;primrose&quot;,&quot;juniper&quot;,&quot;hyssop&quot;,&quot;violet&quot;,&quot;toadstool&quot;,&quot;linseed&quot;}

	if not flag and not table.contains(exc_t,cure) then
		local random_affs = has(name,&quot;random_affs&quot;)
		if random_affs &gt; 0 then
			set(name,&quot;random_affs&quot;,random_affs - 1)
			cecho(&quot;\n&lt;white&gt;Taking Random Aff...&quot;)
		end
	end

	-- Clear the memory
	trax.pending_name = &quot;&quot;
	trax.pending = &quot;&quot;
end</script>
                        <eventHandlerList/>
                    </Script>
                    <Script isActive="yes" isFolder="no">
                        <name>trax.cure_type</name>
                        <packageName></packageName>
                        <script>trax.cure_type = function(name,type)
	if player(name) then
		for k,v in pairs(dbp.players_[name].affs) do
			if v and dba[k][&quot;p_&quot;..type] then
				trax.take(name,k)
			end
		end
		for k,v in pairs(dbp.players_[name].affs_) do
			if v &gt; 0 and dba[k][&quot;p_&quot;..type] then
				trax.take(name,k)
			end
		end
	end
end</script>
                        <eventHandlerList/>
                    </Script>
                    <Script isActive="yes" isFolder="no">
                        <name>trax.process_limb</name>
                        <packageName></packageName>
                        <script>trax.process_limb = function(name,tlimb)
	if trax.pending_limb ~= &quot;&quot; and trax.pending_limb_name ~= &quot;&quot; then
		trax.pending_limb = trax.pending_limb:gsub(&quot; &quot;,&quot;_&quot;)
		local count = tonumber(has(trax.pending_limb_name,trax.pending_limb))
		count = count + 1
		if class == &quot;Defiler&quot; and defiler.attack_type == &quot;ravage&quot; then count = count + 1 end
		set(trax.pending_limb_name,trax.pending_limb,count)
		set(trax.pending_limb_name,trax.pending_limb..&quot;_time&quot;,os.time())
	end
	trax.pending_limb_name = name
	trax.pending_limb = tlimb
end</script>
                        <eventHandlerList/>
                    </Script>
                    <Script isActive="yes" isFolder="no">
                        <name>trax.process_toxin</name>
                        <packageName></packageName>
                        <script>trax.process_toxin = function(name,toxin)
	if trax.pending_toxin_name ~= &quot;&quot; and trax.pending_toxin ~= &quot;&quot; then
		trax.pending_toxin = revlookup(trax.pending_toxin,dban.toxin_dictionary)
		if trax.pending_toxin == &quot;crippled left arm&quot; and has(trax.pending_toxin_name,&quot;crippled left arm&quot;) then
			trax.pending_toxin = &quot;crippled right arm&quot;
		elseif trax.pending_toxin == &quot;crippled right arm&quot; and has(trax.pending_toxin_name,&quot;crippled right arm&quot;) then
			trax.pending_toxin = &quot;crippled left arm&quot;
		end
		if trax.pending_toxin == &quot;crippled left leg&quot; and has(trax.pending_toxin_name,&quot;crippled left leg&quot;) then
			trax.pending_toxin = &quot;crippled right leg&quot;
		elseif trax.pending_toxin == &quot;crippled right leg&quot; and has(trax.pending_toxin_name,&quot;crippled right leg&quot;) then
			trax.pending_toxin = &quot;crippled left leg&quot;
		end

		-- handle insomnia and opium
		if player(trax.pending_toxin_name) and trax.pending_toxin == &quot;opium&quot; then
			if has(trax.pending_toxin_name,&quot;insomnia&quot;) then
				set(trax.pending_toxin_name,&quot;insomnia&quot;,false)
				trax.pending_toxin = &quot;&quot;
			else
				trax.pending_toxin = &quot;sleep&quot;
			end
		end

		trax.give(trax.pending_toxin_name, trax.pending_toxin)
		if class == &quot;Defiler&quot; then
			-- insert into
			set(trax.pending_toxin_name,&quot;corrosion.&quot;..trax.pending_toxin,os.time())
		end
	end
	trax.pending_toxin_name = name
	trax.pending_toxin = toxin
end</script>
                        <eventHandlerList/>
                    </Script>
                    <ScriptGroup isActive="yes" isFolder="yes">
                        <name>limb</name>
                        <packageName></packageName>
                        <script>limb = limb or {}
limb.target = limb.target or &quot;nothing&quot;
limb.parry = limb.parry or &quot;nothing&quot;</script>
                        <eventHandlerList/>
                        <Script isActive="yes" isFolder="no">
                            <name>limb.timer</name>
                            <packageName></packageName>
                            <script>limb.timer = function()
	local time = os.time()
	if player(target) then
		-- right arm
		local rarm = has(target,&quot;right_arm&quot;)
		local rarm_time = has(target,&quot;right_arm_time&quot;)

		if rarm_time ~= 0 then
			if (time - rarm_time) &gt; 60 then
				set(target,&quot;right_arm&quot;,0)
				set(target,&quot;right_arm_time&quot;,0)
			end
		end
		-- left arm
		local larm = has(target,&quot;left_arm&quot;)
		local larm_time = has(target,&quot;left_arm_time&quot;)

		if larm_time ~= 0 then
			if (time - larm_time) &gt; 60 then
				set(target,&quot;left_arm&quot;,0)
				set(target,&quot;left_arm_time&quot;,0)
			end
		end
		-- right leg
		local rleg = has(target,&quot;right_leg&quot;)
		local rleg_time = has(target,&quot;right_leg_time&quot;)

		if rleg_time ~= 0 then
			if (time - rleg_time) &gt; 60 then
				set(target,&quot;right_leg&quot;,0)
				set(target,&quot;right_leg_time&quot;,0)
			end
		end
		-- left leg
		local lleg = has(target,&quot;left_leg&quot;)
		local lleg_time = has(target,&quot;left_leg_time&quot;)

		if lleg_time ~= 0 then
			if (time - lleg_time) &gt; 60 then
				set(target,&quot;left_leg&quot;,0)
				set(target,&quot;left_leg_time&quot;,0)
			end
		end
		-- head
		local head = has(target,&quot;head&quot;)
		local head_time = has(target,&quot;head_time&quot;)

		if head_time ~= 0 then
			if (time - head_time) &gt; 60 then
				set(target,&quot;head&quot;,0)
				set(target,&quot;head_time&quot;,0)
			end
		end
		-- torso
		local torso = has(target,&quot;torso&quot;)
		local torso_time = has(target,&quot;torso_time&quot;)

		if torso_time ~= 0 then
			if (time - torso_time) &gt; 60 then
				set(target,&quot;torso&quot;,0)
				set(target,&quot;torso_time&quot;,0)
			end
		end
	end
end</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>limb.display</name>
                            <packageName></packageName>
                            <script>limb.display = function(name)
	local a,b,c = &quot;&quot;,&quot;&quot;,&quot;&quot;
	local neutral = &quot;&lt;grey&gt;&quot;
	local time = os.time()

	local fx = function(name,var)
		local z,y,zc,yc = &quot;&quot;,&quot;&quot;,&quot;&lt;dim_grey&gt;&quot;,&quot;&lt;dim_grey&gt; &quot; -- look carefully!
		z = has(name,var)
		y = has(name,var..&quot;_time&quot;)

		if z &gt; 0 then zc = &quot;&lt;green&gt;&quot; yc = &quot;&lt;green&gt; &quot; end
		if y ~= 0 then
			y = 60 - (time - y)
			if y &lt; 11 then yc = &quot;&lt;red&gt; &quot; end
		end 
		if y == 0 then y = &quot; 0&quot; end
		z = string.lpad(tostring(z),2,&quot; &quot;)
		y = string.lpad(tostring(y),2)
		return z,y,zc,yc
	end

	if player(name) then
	-- A Block
		-- head
		local head,head_time,head_c,head_time_c = fx(name,&quot;head&quot;)

		a = a..&quot;            &quot;
		a = a..&quot;[HE: &quot;..head_c..head..head_time_c..head_time..neutral..&quot;] &quot;
		a = a..&quot;            &quot;

	-- B Block
		-- right arm
		local rarm,rarm_time,rarm_c,rarm_time_c = fx(name,&quot;right_arm&quot;)
		-- torso
		local torso,torso_time,torso_c,torso_time_c = fx(name,&quot;torso&quot;)
		-- left arm
		local larm,larm_time,larm_c,larm_time_c = fx(name,&quot;left_arm&quot;)


		b = b..&quot;[RA: &quot;..rarm_c..rarm..rarm_time_c..rarm_time..neutral..&quot;] &quot;
		b = b..&quot;[TO: &quot;..torso_c..torso..torso_time_c..torso_time..neutral..&quot;] &quot;
		b = b..&quot;[LA: &quot;..larm_c..larm..larm_time_c..larm_time..neutral..&quot;] &quot;
	
	-- C Block		
		-- right leg
		local rleg,rleg_time,rleg_c,rleg_time_c = fx(name,&quot;right_leg&quot;)
		-- left leg
		local lleg,lleg_time,lleg_c,lleg_time_c = fx(name,&quot;left_leg&quot;)

		c = c..&quot;[RL: &quot;..rleg_c..rleg..rleg_time_c..rleg_time..neutral..&quot;] &quot;
		c = c..&quot;            &quot; -- placeholder
		c = c..&quot;[LL: &quot;..lleg_c..lleg..lleg_time_c..lleg_time..neutral..&quot;] &quot;
	end

	return a,b,c
end</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>limb.counts</name>
                            <packageName></packageName>
                            <script>limb.counts = function(name)
	local a,b,c,d,e,f = 0,0,0,0,0,0
	local ac,bc,cc,dc,ec,fc = 0,0,0,0,0,0

	local fx = function(n)
		if n ~= 0 then
			n = 60 - (os.time() - n)
		end
		return n
	end

	a = has(name,&quot;head&quot;)
	ac = fx(has(name,&quot;head_time&quot;))
	b = has(name,&quot;right_arm&quot;)
	bc = fx(has(name,&quot;right_arm_time&quot;))
	c = has(name,&quot;torso&quot;)
	cc = fx(has(name,&quot;torso_time&quot;))
	d = has(name,&quot;left_arm&quot;)
	dc = fx(has(name,&quot;left_arm_time&quot;))
	e = has(name,&quot;right_leg&quot;)
	ec = fx(has(name,&quot;right_leg_time&quot;))
	f = has(name,&quot;left_leg&quot;)
	fc = fx(has(name,&quot;left_leg_time&quot;))


	local t = {a,ac,b,bc,c,cc,d,dc,e,ec,f,fc}
	return t
end</script>
                            <eventHandlerList/>
                        </Script>
                    </ScriptGroup>
                </ScriptGroup>
                <ScriptGroup isActive="yes" isFolder="yes">
                    <name>doctor, defences</name>
                    <packageName></packageName>
                    <script>dr = dr or {}
dr.lockout = dr.lockout or {}

dr.resource = dr.resource or {}
dr.resource.health = dr.resource.health or true
dr.resource.mana = dr.resource.mana or true
dr.resource.toadstool = dr.resource.toadstool or true
dr.resource.clot = dr.resource.clot or true

df = df or {}
df_ = df_ or {}

df_.landsense = df_.landsense or false</script>
                    <eventHandlerList/>
                    <Script isActive="yes" isFolder="no">
                        <name>[d]</name>
                        <packageName></packageName>
                        <script>-- You eat the pear and immediately your skin begins exuding tiny bubbles that form 
-- an air pocket around you.
-- The pocket of air around you dissipates into the atmosphere.
-- You choke as you inhale water.

-- Undead jellyfish begin to rise up from the ocean depths.</script>
                        <eventHandlerList/>
                    </Script>
                    <Script isActive="yes" isFolder="no">
                        <name>[d] balances</name>
                        <packageName></packageName>
                        <script>dr.clot = dr.clot or {}
dr.clot.bal = dr.clot.bal or true
dr.clot.cost = dr.clot.cost or 5
dr.clot.time = dr.clot.time or 0
dr.clot.timer = dr.clot.timer or &quot;&quot;

dr.focus = dr.focus or {}
dr.focus.bal = dr.focus.bal or true
dr.focus.cost = dr.focus.cost or 4
dr.focus.time = dr.focus.time or 0
dr.focus.timer = dr.focus.timer or &quot;&quot;

dr.herb = dr.herb or {}
dr.herb.bal = dr.herb.bal or true
dr.herb.cost = dr.herb.cost or 2
dr.herb.time = dr.herb.time or 0
dr.herb.timer = dr.herb.timer or &quot;&quot;

dr.purge = dr.purge or {}
dr.purge.bal = dr.purge.bal or true
dr.purge.cost = dr.purge.cost or 15
dr.purge.time = dr.purge.time or 0
dr.purge.timer = dr.purge.timer or &quot;&quot;

dr.salve = dr.salve or {}
dr.salve.bal = dr.salve.bal or true
dr.salve.cost = dr.salve.cost or 1
dr.salve.time = dr.salve.time or 0
dr.salve.timer = dr.salve.timer or &quot;&quot;

dr.sip = dr.sip or {}
dr.sip.bal = dr.sip.bal or true
dr.sip.cost = dr.sip.cost or 5
dr.sip.time = dr.sip.time or 0
dr.sip.timer = dr.sip.timer or &quot;&quot;

dr.smoke = dr.smoke or {}
dr.smoke.bal = dr.smoke.bal or true
dr.smoke.cost = dr.smoke.cost or 1
dr.smoke.time = dr.smoke.time or 0
dr.smoke.timer = dr.smoke.timer or &quot;&quot;

dr.toadstool = dr.toadstool or {}
dr.toadstool.bal = dr.toadstool.bal or true
dr.toadstool.cost = dr.toadstool.cost or 6
dr.toadstool.time = dr.toadstool.time or 0
dr.toadstool.timer = dr.toadstool.timer or &quot;&quot;

dr.tree = dr.tree or {}
dr.tree.bal = dr.tree.bal or true
dr.tree.cost = dr.tree.cost or 15
dr.tree.time = dr.tree.time or 0
dr.tree.timer = dr.tree.timer or &quot;&quot;</script>
                        <eventHandlerList/>
                    </Script>
                    <Script isActive="yes" isFolder="no">
                        <name>dr.heal</name>
                        <packageName></packageName>
                        <script>dr.heal = function()

-- if diabolist in room and infirmity then mana &lt; 50 + 10*infirmity
-- if diabolist/priest in room and mana &lt; 50 then mana
-- if druid in room and mana &lt; 10 then mana

	local str = &quot;&quot;
	php = hp/mhp
	pmp = mp/mxmp

	-- if php &lt; health and pmp &lt; mana then
	if php &lt; health then
		if dr.sip.bal and not dr.lockout.sip and dr.resource.health and not has(&quot;anorexia&quot;) then
			str = str..&quot;sip health&quot;..sp
			if has(&quot;blackout&quot;) then
				dr.consume(&quot;sip&quot;)
			end
			dr.lock(&quot;sip&quot;)
		end
	elseif pmp &lt; mana then
		if dr.sip.bal and not dr.lockout.sip and dr.resource.mana and not has(&quot;anorexia&quot;) then
			str = str..&quot;sip mana&quot;..sp
			if has(&quot;blackout&quot;) then
				dr.consume(&quot;sip&quot;)
			end
			dr.lock(&quot;sip&quot;)
		end
	end 
	if (php &lt; toadstool or pmp &lt; toadstool) and not str:match(&quot;sip&quot;) then
		if dr.toadstool.bal and not dr.lockout.toadstool and dr.resource.toadstool and not has(&quot;anorexia&quot;) then
			str = str..&quot;eat toadstool&quot;..sp
			if has(&quot;blackout&quot;) then
				dr.consume(&quot;toadstool&quot;)
			end
			dr.lock(&quot;toadstool&quot;)
		end
	end
	if gmcp.Room.Info.area ~= &quot;Nowhere&quot; then send(str) end
end

dr.clotter = function()
	local str = &quot;&quot;

	if bleed &gt; 15 and mp/mxmp &gt; 0.5 then
		if not dr.lockout.clot and dr.resource.clot then
			str = str..&quot;clot&quot;..sp
			str = str..&quot;clot&quot;..sp
			str = str..&quot;clot&quot;..sp
			str = str..&quot;clot&quot;..sp
			str = str..&quot;clot&quot;..sp
			if has(&quot;blackout&quot;) then
				dr.consume(&quot;clot&quot;)
			end
			dr.lock(&quot;clot&quot;)
		end
	end
	if gmcp.Room.Info.area ~= &quot;Nowhere&quot; or gmcp.Room.Info.area ~= &quot;the Underworld&quot; then send(str) end
end</script>
                        <eventHandlerList/>
                    </Script>
                    <Script isActive="yes" isFolder="no">
                        <name>dr.lock</name>
                        <packageName></packageName>
                        <script>dr.lock = function(arg)
	dr.lockout[arg] = true
	if dr.lockout[arg..&quot;_timer&quot;] and not dr.lockout[arg..&quot;_timer&quot;] == &quot;&quot; then killTimer(dr.lockout[arg..&quot;_timer&quot;]) end
	dr.lockout[arg..&quot;_timer&quot;] = tempTimer(1, function()
		dr.lockout[arg] = false
		killTimer(dr.lockout[arg..&quot;_timer&quot;])
	end)
end</script>
                        <eventHandlerList/>
                    </Script>
                    <Script isActive="yes" isFolder="no">
                        <name>dr.consume</name>
                        <packageName></packageName>
                        <script>dr.consume = function(arg,var)
	dr[arg].bal = false
	if dr[arg].timer and not dr[arg].timer == &quot;&quot; then killTimer(dr[arg].timer) end
	local seconds = var or dr[arg].cost
	dr[arg].timer = tempTimer(seconds, function()
		dr[arg].bal = true
		killTimer(dr[arg].timer)
	end)
end</script>
                        <eventHandlerList/>
                    </Script>
                </ScriptGroup>
                <ScriptGroup isActive="yes" isFolder="yes">
                    <name>utility</name>
                    <packageName></packageName>
                    <script></script>
                    <eventHandlerList/>
                    <Script isActive="yes" isFolder="no">
                        <name>wield l,r</name>
                        <packageName></packageName>
                        <script>wield = function()
	local str = &quot;&quot;
	if (not left or left == &quot;&quot;) or (not right or right == &quot;&quot;) then
		if quickdraw then
			str = str..&quot;quickdraw &quot;.._l
			if right then
				str = str..&quot; &quot;.._r
			end
		else
			str = str..&quot;unwield left&quot;..sp
			str = str..&quot;unwield right&quot;..sp
			str = str..&quot;wield &quot;.._l
			if _r then
				str = str..sp
				str = str..&quot;wield &quot;.._r
			end
		end
	end
	
	return str
end</script>
                        <eventHandlerList/>
                    </Script>
                    <Script isActive="yes" isFolder="no">
                        <name>target system</name>
                        <packageName></packageName>
                        <script>
targets = targets or {}
tloc = tloc or 0

function _target(t1,t2)
	t1 = string.title(string.lower(t1))
	local tx,str,rank = 0,&quot;&quot;,3
	if t2 and t2 ~= &quot;a&quot; then
		t2 = tonumber(t2)
		if targets[t2] then tx = targets[t2] end
	end

	if player(target) then
		_hl(target)
	end
	if player(t1) and t2 ~= &quot;a&quot; then
		_hl(t1,&quot;red&quot;)
	end

	if t2 then
		-- retrieve argument
		if t1 == &quot;&quot; then
			if targets[t2] == nil then
				-- no target to retrieve
				cecho(&quot;\n&lt;red&gt;No target assigned to &lt;gold&gt;&quot;..t2..&quot;&lt;red&gt;. Target remains &lt;gold&gt;&quot;..target..&quot;&lt;red&gt;.&quot;)
			else
				-- retrieve target
				target = tx
				_hl(tx,&quot;red&quot;)
				cecho(&quot;\n&lt;red&gt;Target changed to &lt;gold&gt;&quot;..tx..&quot;&lt;red&gt;!&quot;)
			end
		-- allocate new target to table
		elseif t2 == &quot;a&quot; then
			for i=10,100 do
				if not targets[i] then
					targets[i] = t1
					break
				end
			end
		else
			targets[t2] = t1
			target = t1
			cecho(&quot;\n&lt;red&gt;Target acquired: &lt;gold&gt;&quot;..t1..&quot;&lt;red&gt;!&quot;)
			cecho(&quot;\n&lt;red&gt;Target from: &lt;gold&gt;t&quot;..t2..&quot;&lt;red&gt;!&quot;)
		end
	elseif t1 then
	-- unspecified location
		-- reset the rankings
		if tloc &gt;= rank then
			target = t1
			tloc = 1
			table.remove(targets,tloc)
			table.insert(targets,tloc,t1)
			cecho(&quot;\n&lt;red&gt;Target acquired: &lt;gold&gt;&quot;..t1..&quot;&lt;red&gt;!&quot;)
			cecho(&quot;\n&lt;red&gt;Target assigned to: &lt;gold&gt;t&quot;..tloc..&quot;&lt;red&gt;!&quot;)
		-- add to the next rank
		else
			target = t1
			tloc = tloc + 1
			table.remove(targets,tloc)
			table.insert(targets,tloc,t1)
			cecho(&quot;\n&lt;red&gt;Target acquired: &lt;gold&gt;&quot;..t1..&quot;&lt;red&gt;!&quot;)
			cecho(&quot;\n&lt;red&gt;Target assigned to: &lt;gold&gt;t&quot;..tloc..&quot;&lt;red&gt;!&quot;)
		end
	end

	if overmind then overmind.ui_refresh() end
end</script>
                        <eventHandlerList/>
                    </Script>
                    <Script isActive="yes" isFolder="no">
                        <name>hotload _hload</name>
                        <packageName></packageName>
                        <script>_hload = function(name)
	if config and config.trax == 2 then
		local level = 0
		if config and config.hload then
			level = config.hload
		end
		for aff, into in pairs(dba) do
			_G[aff] = nil
			_G[aff] = dbp.players_[name].affs_[aff]
			if _G[aff] &gt;= level then
				_G[aff] = true
			else
				_G[aff] = false
			end
		end
	else
		for aff, into in pairs(dba) do
			_G[aff] = nil
			_G[aff] = dbp.players_[name].affs[aff]
		end
	end
end</script>
                        <eventHandlerList/>
                    </Script>
                    <Script isActive="yes" isFolder="no">
                        <name>highlights _hl</name>
                        <packageName></packageName>
                        <script>highlights = highlights or {}

_hl = function(name,color)
	if config.hl then

	-- CODE --
	local pattern = name..&quot;[^A-Za-z]&quot;
	local color = color or &quot;pale_green&quot;

	if dbp.players[name] and c[dbp.players[name].circle] and color == &quot;pale_green&quot; then
		color = c[dbp.players[name].circle]
	end

	if highlights[name] then killTrigger( highlights[name] ) end
	highlights[name] = tempRegexTrigger(pattern, [[
		for i=1,50 do
			if selectString(']]..name..[[',i) &gt; -1 then
			fg(']]..color..[[')
			resetFormat()
			end
		end
	]])
	-- END CODE --

	end
end

_hla = function()
	local count = 0 
	for k in pairs(dbp.players) do
		_hl(k)
		count = count + 1
	end
	cecho(&quot;\n&lt;white&gt; - EDEN - &lt;grey&gt;Created &quot;..count..&quot; highlights.&quot;)
end

_uhl = function(name)
	if name then
		if highlights[name] then killTrigger( highlights[name] ) end
		cecho(&quot;\n&lt;white&gt; - EDEN - &lt;grey&gt;Killed &quot;..name..&quot;'s highlights.&quot;)
	else
		local count = 0
		for k in pairs(dbp.players) do
			if highlights[k] then
				killTrigger(highlights[k])
				highlights[k] = nil
				count = count + 1
			end
		end
		cecho(&quot;\n&lt;white&gt; - EDEN - &lt;grey&gt;Deleted &quot;..count..&quot; highlights.&quot;)
	end
end</script>
                        <eventHandlerList/>
                    </Script>
                </ScriptGroup>
                <Script isActive="yes" isFolder="no">
                    <name>[d] Iniar</name>
                    <packageName></packageName>
                    <script>Iniar = {
	-- [[ Globals ]]
	config = { 
		prompt 		= &quot;*h&amp;d[%h&amp;d] *m&amp;d[%m&amp;d] *b *i &amp;d*B *s &amp;d*x *w&amp;n&quot;,
		hl			= true,
		trax			= 2,
		hload		= 0.35,
		share 		= true,
		share_full 	= true,
		sub_special = true,
	},
	
	gold =			227522,

	leather =		127405,
	ringmail =		138780,
	scalemail =		230209,
	chainmail =		77246,
	splintmail =		0,
	fieldplate = 	231333,
	fullplate = 		191756,

	plategreaves =	180347,
	platevambraces =	202101,

	shield = 		56320,
	buckler = 		0,
	cavalry = 		0,
	banded = 		0,
	kite = 			0,
	tower = 			0,

	sabre = 			276801,
	broadsword = 	151012,
	claymore = 		272591,
	flail = 			185840,
	axe = 			54511,
	
	wields = {
		Assassin = 		{ &quot;dirk&quot;, &quot;whip&quot;, &quot;scalemail&quot; },
		Deathknight = 	{ &quot;shield&quot;, &quot;sabre&quot;, &quot;fullplate&quot;, &quot;vambraces&quot;, &quot;greaves&quot; },
		Defiler = 		{ &quot;shield&quot;, &quot;flail&quot;, &quot;chainmail&quot; },
		Diabolist = 		{ &quot;shield&quot;, &quot;daegger&quot;, &quot;ringmail&quot; },
		Summoner = 		{ &quot;shield&quot;, &quot;axe&quot;, &quot;scalemail&quot; },
		Wytch = 			{ &quot;shield&quot;, &quot;tablet&quot;, &quot;scalemail&quot; },
	},

	descs = {
		tanari = &quot;&quot;,
		norrjin = &quot;&quot;,
		muamrite = &quot;&quot;,
		sylayan = &quot;&quot;,
		sidhe = &quot;He is a gnarly old elf, a wasted body with badly stitched scars. He has crooked hands, victims of arthritis and long hours of abuse practicing his art. Deep lines mark his face, the pockmarked skin stretched taut across his skill framing thinly pressed, pale lips and a crooked nose. He is missing several teeth and the ones he has left are in poor condition. His golden irises are set in sunken eyes and it would be easy to miss them, thin as they are, if not for the specks of turquoise lining the pupils.&quot;,
		akrabi = &quot;&quot;,
		kohdon = &quot;&quot;,
		ssylsin = &quot;&quot;,
		lycaean = &quot;&quot;,
		dwarf = &quot;&quot;,
		lamira = &quot;&quot;,	
		xiur = &quot;Granite surfaces cover almost the entirety of this towering behemoth, imperfect slabs of rock marred by the efforts of a thousand blades seeking to strike down the Nullheart. A weathered and ancient face stares out at you with wizened eyes, golden irises set deeply within shadowed crevices of a fracture faceplate. The smell of burning ozone assaults the senses as this monster lets loose a toothy grin.&quot;,
		cherufe = &quot;Volcano rock man.&quot;,
		yeti = &quot;Massive apish man.&quot;,
		minotaur = &quot;Large, powerful bullman.&quot;,
		dryad = &quot;Petite, tree-nymph.&quot;,
		arel = &quot;Radiant, seraph-like man.&quot;,
		wolkin = &quot;Powerful ravenman.&quot;,
	},
}
_config()
</script>
                    <eventHandlerList/>
                </Script>
                <Script isActive="yes" isFolder="no">
                    <name>[d] Djen</name>
                    <packageName></packageName>
                    <script>Djen = {
	-- [[ Globals ]]
	config = { 
		prompt 		= &quot;*h&amp;d[%h&amp;d] *m&amp;d[%m&amp;d] *b *i &amp;d*B *s &amp;d*x *w&amp;n&quot;,
		hl			= true,
		trax			= 1,
		hload		= 0.35,
		share 		= false,
	},
	
	gold =			&quot;letter&quot;,

	leather =		190063,
	ringmail =		0,
	scalemail =		0,
	chainmail =		238114,
	splintmail =		0,
	fieldplate = 	0,
	fullplate = 		0,

	plategreaves =	0,
	platevambraces =	0,

	shield = 		0,
	buckler = 		0,
	cavalry = 		0,
	banded = 		101262,
	kite = 			0,
	tower = 			0,

	sabre = 			0,
	flail = 			0,
	axe = 			0,
	glaive = 		22301,
	sitara = 		241810,
	
	wields = {
		Predator = 		{ &quot;shield&quot;, 241810, &quot;leather&quot; },
		Ranger  = 		{ 22301, 130636, &quot;chainmail&quot; },
	},
}
_config()
</script>
                    <eventHandlerList/>
                </Script>
            </ScriptGroup>
            <ScriptGroup isActive="yes" isFolder="yes">
                <name>Classes</name>
                <packageName></packageName>
                <script>cfx = cfx or {}

cfx.classes = {
	&quot;Amazon&quot;,
	&quot;Monk&quot;,
	&quot;Outrider&quot;,
	&quot;Predator&quot;,
	&quot;Priest&quot;,
	&quot;Ranger&quot;,
	&quot;Templar&quot;,
	&quot;Wardancer&quot;,

	&quot;Bard&quot;,
	&quot;Druid&quot;,
	&quot;Hunter&quot;,
	&quot;Mage&quot;,
	&quot;Renegade&quot;,
	&quot;Runeguard&quot;,

	&quot;Assassin&quot;,
	&quot;Deathknight&quot;,
	&quot;Defiler&quot;,
	&quot;Diabolist&quot;,
	&quot;Summoner&quot;,
	&quot;Wytch&quot;,
}</script>
                <eventHandlerList/>
                <Script isActive="yes" isFolder="no">
                    <name>prompt</name>
                    <packageName></packageName>
                    <script>cfx.prompt = function(len)
	-- First load up our class or Default 'Deathknight' class
	local cstr,c = &quot;&quot;,&quot;&quot;
	if class then cstr = string.lower(class) else cstr = &quot;deathknight&quot; end
	if _G[cstr] then c = _G[cstr] else c = _G[&quot;deathknight&quot;] end

	if c.prompt then
		vw.private(&quot;[Eden]: Custom prompt. - &quot;..cstr)
		c.prompt(len)
	-- Or implement the default
	else
		local str,neutral = &quot;&quot;,&quot;&lt;dim_grey&gt;&quot;
		local a,m = &quot;&lt;grey&gt;&quot;,&quot;&lt;grey&gt;&quot;
		local n = 50
		n = n - len

		str = string.lpad(str,n,&quot; &quot;)

		if player(target) then
			local count = dbp.count(target)

			str = str..neutral..&quot;[A: &quot;..a..count..neutral..&quot;]&quot;
		end
		cecho(str)
	end
end</script>
                    <eventHandlerList/>
                </Script>
                <Script isActive="yes" isFolder="no">
                    <name>ui_make</name>
                    <packageName></packageName>
                    <script>cfx.ui_make = function()
	-- First clear all the class windows:
	for k,c in pairs(cfx.classes) do
		c = string.lower(c)
		if _G[c] and _G[c].ui then
			vw.private(&quot;[Eden]: Clearing ui_make of &quot;..c..&quot;.&quot;)
			_G[c].ui:resize(0,0)
		end
	end

	-- Next load up our class or Default 'Deathknight' class
	local cstr,c = &quot;&quot;,&quot;&quot;
	if class then cstr = string.lower(class) else cstr = &quot;deathknight&quot; end
	if _G[cstr] then c = _G[cstr] else 
		c = _G[&quot;deathknight&quot;] 
		-- _G[cstr] = {} -- cannot use this because can't over write a 100% novel class
	end
	
	-- Retrieve a custom class' ui_make()
	if c.ui_make then
		if overmind and overmind.allow then
			vw.private(&quot;[Eden]: Creating ui_make using &quot;..cstr..&quot;.ui_make + Overmind.&quot;)
			c.ui_make(&quot;bottom&quot;,11,3)
		else
			vw.private(&quot;[Eden]: Creating ui_make using &quot;..cstr..&quot;.ui_make.&quot;)
			c.ui_make()
		end
	-- Or implement the default
	else
		vw.private(&quot;[Eden]: Using default ui_make() render. - Class: &quot;..cstr..&quot;.&quot;)
		-- default render of ui_make
		local internal_size, h, n = 11, 3, 8

		local fsize, offset = 11, 0
		if overmind and overmind.allow then 
			fsize = 11
			offset = 3 
		end

		local width, height = getMainWindowSize()
		local fwidth,fheight = calcFontSize(internal_size)
		local f_width,f_height = calcFontSize(fsize)	

		if not _G[c] then _G[c] = {} end -- in case of undefined class

		c.ui = Geyser.MiniConsole:new({
			name=cstr..&quot;_ui&quot;, -- this code needs checking
			x= 0,
			y= 0,
			width= 0, 
			height= 0,
		})
		c.ui:setFontSize(10)
		c.ui:setColor(0,0,0,0)

		local x = 0
		if dbp and dbp.left then
			x = ui.left*width
		end

		local hg = height-(h*fheight + n/2)
		if overmind and overmind.allow then
			hg = height-(h*fheight + offset*f_height + n/2)
			setBorderBottom(h*fheight+offset*f_height+n)
		else
			setBorderBottom(h*fheight+n)
		end	

		c.ui:move(x,hg)
		c.ui:resize(width,h*fheight)
	end	
end
</script>
                    <eventHandlerList/>
                </Script>
                <Script isActive="yes" isFolder="no">
                    <name>ui_refresh</name>
                    <packageName></packageName>
                    <script>cfx.ui_refresh = function()
	-- First clear all the class windows:
	for k,c in pairs(cfx.classes) do
		c = string.lower(c)
		if _G[c] and _G[c].ui then
			--clearWindow(c..&quot;_ui&quot;)
		end
	end

	-- Next load up our class or Default 'Deathknight' class
	local cstr,c = &quot;&quot;,&quot;&quot;
	if class then cstr = string.lower(class) else cstr = &quot;deathknight&quot; end
	if _G[cstr] then c = _G[cstr] else 
		c = _G[&quot;deathknight&quot;] 
		-- _G[cstr] = {}
	end

	-- Retrieve a custom class' ui_refresh()
	if c.ui_refresh then
		c.ui_refresh()
	-- Or implement the default
	else 
		clearWindow(cstr..&quot;_ui&quot;)
		local str = &quot;&quot;
		local time = os.time()
		local neutral = &quot;&lt;grey&gt;&quot;

		local color = &quot;&lt;goldenrod&gt;&quot;
		if player(target) then color = &quot;&lt;medium_aquamarine&gt;&quot; end

		-- first part
		-------------
		str = str..&quot;T: &quot;..color..target..neutral..&quot; &quot;

		-- second part
		--------------
		str = str..&quot;\n&quot;

		local parry_c = &quot;&lt;dim_grey&gt;&quot;
		if limb.parry ~= &quot;nothing&quot; then parry_c = &quot;&lt;medium_aquamarine&gt;&quot; end
		str = str..&quot;P: &quot;..parry_c..string.title(limb.parry)..neutral

		-- third part
		-------------
		str = str..&quot;\n&quot;

		local limb_c = &quot;&lt;dim_grey&gt;&quot;
		if limb.target ~= &quot;nothing&quot; then limb_c = &quot;&lt;medium_aquamarine&gt;&quot; end
		str = str..&quot;T: &quot;..limb_c..string.title(limb.target)
	
		cecho(cstr..&quot;_ui&quot;,str)
	end	
end
</script>
                    <eventHandlerList/>
                </Script>
                <Script isActive="yes" isFolder="no">
                    <name>timer</name>
                    <packageName></packageName>
                    <script>cfx.timer = function()
	-- First load up our class or Default 'Deathknight' class
	local c = &quot;&quot;
	if class then c = string.lower(class) else c = &quot;deathknight&quot; end

	if _G[c].timer then 
		_G[c].timer()
	-- Or implement the default
	elseif _G[c].ui_refresh then
		_G[c].ui_refresh()
	end
end</script>
                    <eventHandlerList/>
                </Script>
                <ScriptGroup isActive="yes" isFolder="yes">
                    <name>antimagic</name>
                    <packageName></packageName>
                    <script></script>
                    <eventHandlerList/>
                    <ScriptGroup isActive="yes" isFolder="yes">
                        <name>amazon</name>
                        <packageName></packageName>
                        <script>amazon = amazon or {}</script>
                        <eventHandlerList/>
                        <Script isActive="yes" isFolder="no">
                            <name>[d]</name>
                            <packageName></packageName>
                            <script>amazon.defences = amazon.defences or {}</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>prompt</name>
                            <packageName></packageName>
                            <script>amazon.prompt = function(len) 
	local str,neutral = &quot;&quot;,&quot;&lt;dim_grey&gt;&quot;
	local a,m = &quot;&lt;grey&gt;&quot;,&quot;&lt;grey&gt;&quot;
	local n = 50
	n = n - len

	str = string.lpad(str,n,&quot; &quot;)

	if player(target) then
		local count = dbp.count(target)

		str = str..neutral..&quot;[A: &quot;..a..count..neutral..&quot;]&quot;

	end

	if class == &quot;Amazon&quot; then cecho(str) end
end</script>
                            <eventHandlerList/>
                        </Script>
                    </ScriptGroup>
                    <ScriptGroup isActive="yes" isFolder="yes">
                        <name>predator</name>
                        <packageName></packageName>
                        <script>predator = predator or {}

predator.shift = predator.shift or {}</script>
                        <eventHandlerList/>
                        <Script isActive="yes" isFolder="no">
                            <name>[d]</name>
                            <packageName></packageName>
                            <script>predator.stance = predator.stance or &quot;none&quot;
predator.surge = predator.surge or 1
predator.combo = predator.combo or 3

predator.n_stance = predator.n_stance or &quot;&quot;
predator.n_limb = predator.n_limb or &quot;&quot;
predator.n_name = predator.n_name or &quot;&quot;

predator.c = {
	[&quot;Ein-Fasit&quot;] = &quot;pale_violet_red&quot;,
	[&quot;Gyanis&quot;] = &quot;cadet_blue&quot;,
	[&quot;Laesan&quot;] = &quot;chocolate&quot;,
	[&quot;Rizet&quot;] = &quot;dark_violet&quot;,
	[&quot;Vae-Sant&quot;] = &quot;gold&quot;,
}

predator.toxins = {
	&quot;calotropis&quot;,
	&quot;slow herbs&quot;,
	&quot;slow elixirs&quot;,
	&quot;withered throat&quot;,
	&quot;slickness&quot;,
	&quot;anorexia&quot;,
	&quot;butisol&quot;,
	&quot;hemotoxin&quot;,
	&quot;numbness&quot;,
	&quot;metrazol&quot;,
	&quot;asthma&quot;,
	&quot;sunallergy&quot;,
	&quot;nausea&quot;,
	&quot;recklessness&quot;,
	&quot;stupidity&quot;,
	&quot;dizziness&quot;,
	&quot;sensitivity&quot;,
	&quot;clumsiness&quot;,
	&quot;weariness&quot;,
	&quot;slow equilibrium&quot;,
	&quot;slow balance&quot;,
	&quot;ignorance&quot;,
	&quot;disloyalty&quot;,


	&quot;numbness&quot;,
	&quot;metrazol&quot;,
	&quot;hemotoxin&quot;,
	&quot;asthma&quot;,
	&quot;butisol&quot;,
	&quot;sensitivity&quot;,
	&quot;sunallergy&quot;,
	&quot;nausea&quot;,
	&quot;slickness&quot;,
	&quot;calotropis&quot;,
	&quot;stupidity&quot;,
	&quot;recklessness&quot;,
	&quot;dizziness&quot;,
	&quot;clumsiness&quot;,
	&quot;weariness&quot;,
	&quot;calotropis&quot;,
	&quot;slow equilibrium&quot;,
	&quot;slow balance&quot;,
	&quot;withered throat&quot;,
	&quot;ignorance&quot;,
	&quot;slow herbs&quot;,
	&quot;slow elixirs&quot;,
	&quot;disloyalty&quot;,
}

predator.tshot_one = predator.tshot_one or &quot;&quot;
predator.tshot_two = predator.tshot_two or &quot;&quot;
predator.tshot_true = predator.tshot_true or false

predator.defences = predator.defences or {}
predator.defences.hide = predator.defences.hide or false
predator.defences.mask = predator.defences.mask or false
predator.defences.windwalk = predator.defences.windwalk or false
predator.defences.constitution = predator.defences.constitution or false
predator.defences.nightsight = predator.defences.nightsight or false
predator.defences.aversion = predator.defences.aversion or false
predator.defences.obfuscate = predator.defences.obfuscate or false
predator.defences.dodging = predator.defences.dodging or false
predator.defences.pacing = predator.defences.pacing or false
predator.defences.regen = predator.defences.regen or false
predator.defences.shrug = predator.defences.shrug or &quot;&quot;
</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>[d] stances</name>
                            <packageName></packageName>
                            <script>predator.to = {
	[&quot;bleed&quot;] = {
		[&quot;Gyanis&quot;] = &quot;Laesan&quot;,
		[&quot;Laesan&quot;] = &quot;Vae-Sant&quot;,
		[&quot;Vae-Sant&quot;] = &quot;Rizet&quot;,
		[&quot;Rizet&quot;] = &quot;Ein-Fasit&quot;,
	},
	[&quot;butterfly&quot;] = {
		[&quot;Ein-Fasit&quot;] = &quot;Laesan&quot;,
		[&quot;Laesan&quot;] = &quot;Rizet&quot;,
		[&quot;Rizet&quot;] = &quot;Gyanis&quot;,
		[&quot;Vae-Sant&quot;] = &quot;Gyanis&quot;,
		[&quot;none&quot;] = &quot;Rizet&quot;,
	},
	[&quot;crescentcut&quot;] = {
		[&quot;Rizet&quot;] = &quot;Laesan&quot;,
		[&quot;Laesan&quot;] = &quot;Vae-Sant&quot;,
		[&quot;none&quot;] = &quot;Vae-Sant&quot;,
		[&quot;Gyanis&quot;] = &quot;Ein-Fasit&quot;,
		[&quot;Ein-Fasit&quot;] = &quot;Gyanis&quot;,
	},
	[&quot;feint&quot;] = {
		[&quot;Vae-Sant&quot;] = &quot;Laesan&quot;,
		[&quot;Laesan&quot;] = &quot;Ein-Fasit&quot;,
		[&quot;Ein-Fasit&quot;] = &quot;Gyanis&quot;,
		[&quot;Gyanis&quot;] = &quot;Ein-Fasit&quot;,
		[&quot;none&quot;] = &quot;Ein-Fasit&quot;,
	},
	[&quot;flashkick&quot;] = {
		[&quot;Gyanis&quot;] = &quot;Rizet&quot;,
		[&quot;Ein-Fasit&quot;] = &quot;Laesan&quot;,
		[&quot;Laesan&quot;] = &quot;Vae-Sant&quot;,
		[&quot;Vae-Sant&quot;] = &quot;Laesan&quot;,
		[&quot;none&quot;] = &quot;Rizet&quot;,
	},
	[&quot;gouge&quot;] = {
		[&quot;Gyanis&quot;] = &quot;Ein-Fasit&quot;,
		[&quot;Ein-Fasit&quot;] = &quot;Rizet&quot;,
		[&quot;Rizet&quot;] = &quot;Vae-Sant&quot;,
		[&quot;Vae-Sant&quot;] = &quot;Gyanis&quot;,
		[&quot;none&quot;] = &quot;Laesan&quot;,
	},
	[&quot;jab&quot;] = {
		[&quot;Laesan&quot;] = &quot;Gyanis&quot;,
		[&quot;Gyanis&quot;] = &quot;Vae-Sant&quot;,
		[&quot;Vae-Sant&quot;] = &quot;Gyanis&quot;,
		[&quot;Ein-Fasit&quot;] = &quot;Gyanis&quot;,
		[&quot;none&quot;] = &quot;Vae-Sant&quot;,
	},
	[&quot;lateral&quot;] = {
		[&quot;Rizet&quot;] = &quot;Ein-Fasit&quot;,
		[&quot;Gyanis&quot;] = &quot;Vae-Sant&quot;,
		[&quot;Vae-Sant&quot;] = &quot;Ein-Fasit&quot;,
		[&quot;Ein-Fasit&quot;] = &quot;Laesan&quot;,
		[&quot;none&quot;] = &quot;Gyanis&quot;,
	},
	[&quot;lowhook&quot;] = {
		[&quot;Laesan&quot;] = &quot;Gyanis&quot;,
		[&quot;Gyanis&quot;] = &quot;Vae-Sant&quot;,
		[&quot;Vae-Sant&quot;] = &quot;Gyanis&quot;,
		[&quot;Ein-Fasit&quot;] = &quot;Gyanis&quot;,
		[&quot;none&quot;] = &quot;Vae-Sant&quot;,
	},
	[&quot;pinprick&quot;] = {
		[&quot;Laesan&quot;] = &quot;Gyanis&quot;,
		[&quot;Gyanis&quot;] = &quot;Rizet&quot;,
		[&quot;Rizet&quot;] = &quot;Vae-Sant&quot;,
		[&quot;Vae-Sant&quot;] = &quot;Rizet&quot;,
		[&quot;none&quot;] = &quot;Gyanis&quot;,
	},
	[&quot;raze&quot;] = {
		[&quot;Gyanis&quot;] = &quot;Laesan&quot;,
		[&quot;Laesan&quot;] = &quot;Ein-Fasit&quot;,
		[&quot;Ein-Fasit&quot;] = &quot;Rizet&quot;,
		[&quot;Rizet&quot;] = &quot;Vae-Sant&quot;,
		[&quot;none&quot;] = &quot;Laesan&quot;,
	},
	[&quot;slit&quot;] = {
		[&quot;Rizet&quot;] = &quot;Gyanis&quot;,
		[&quot;Gyanis&quot;] = &quot;Ein-Fasit&quot;,
		[&quot;Ein-Fasit&quot;] = &quot;Laesan&quot;,
		[&quot;Laesan&quot;] = &quot;Vae-Sant&quot;,
		[&quot;Vae-Sant&quot;] = &quot;Ein-Fasit&quot;,
	},
	[&quot;spinslash&quot;] = {
		[&quot;Gyanis&quot;] = &quot;Vae-Sant&quot;,
		[&quot;Vae-Sant&quot;] = &quot;Ein-Fasit&quot;,
		[&quot;Rizet&quot;] = &quot;Laesan&quot;,
		[&quot;Laesan&quot;] = &quot;Ein-Fasit&quot;,
		[&quot;none&quot;] = &quot;Vae-Sant&quot;,
	},
	[&quot;swiftkick&quot;] = {
		[&quot;Gyanis&quot;] = &quot;Laesan&quot;,
		[&quot;Laesan&quot;] = &quot;Rizet&quot;,
		[&quot;Vae-Sant&quot;] = &quot;Ein-Fasit&quot;,
		[&quot;Ein-Fasit&quot;] = &quot;Vae-Sant&quot;,
		[&quot;none&quot;] = &quot;Gyanis&quot;,
	},
	[&quot;trip&quot;] = {
		[&quot;Laesan&quot;] = &quot;Rizet&quot;,
		[&quot;Rizet&quot;] = &quot;Gyanis&quot;,
		[&quot;Gyanis&quot;] = &quot;Vae-Sant&quot;,
		[&quot;Ein-Fasit&quot;] = &quot;Gyanis&quot;,
		[&quot;none&quot;] = &quot;Ein-Fasit&quot;,
	},
	[&quot;vertical&quot;] = {
		[&quot;Rizet&quot;] = &quot;Ein-Fasit&quot;,
		[&quot;Ein-Fasit&quot;] = &quot;Vae-Sant&quot;,
		[&quot;Vae-Sant&quot;] = &quot;Laesan&quot;,
		[&quot;Gyanis&quot;] = &quot;none&quot;,
		[&quot;none&quot;] = &quot;Laesan&quot;,
	},
}

predator.from = {
	[&quot;none&quot;] = {
		[&quot;lateral&quot;] = &quot;Gyanis&quot;,
		[&quot;vertical&quot;] = &quot;Laesan&quot;,
		[&quot;swiftkick&quot;] = &quot;Gyanis&quot;,
		[&quot;gouge&quot;] = &quot;Laesan&quot;,
		[&quot;jab&quot;] = &quot;Vae-Sant&quot;,
		[&quot;feint&quot;] = &quot;Ein-Fasit&quot;,
		[&quot;pinprick&quot;] = &quot;Gyanis&quot;,
		[&quot;raze&quot;] = &quot;Laesan&quot;,
		[&quot;bleed&quot;] = &quot;impossible&quot;,
		[&quot;flashkick&quot;] = &quot;Rizet&quot;,
		[&quot;crescentcut&quot;] = &quot;Vae-Sant&quot;,
		[&quot;lowhook&quot;] = &quot;Vae-Sant&quot;,
		[&quot;slit&quot;] = &quot;impossible&quot;,
		[&quot;trip&quot;] = &quot;Ein-Fasit&quot;,
		[&quot;spinslash&quot;] = &quot;Vae-Sant&quot;,
		[&quot;butterfly&quot;] = &quot;Rizet&quot;,
	},
	[&quot;Gyanis&quot;] = {
		[&quot;lateral&quot;] = &quot;Vae-Sant&quot;,
		[&quot;vertical&quot;] = &quot;Laesan&quot;,
		[&quot;swiftkick&quot;] = &quot;Laesan&quot;,
		[&quot;gouge&quot;] = &quot;Ein-Fasit&quot;,
		[&quot;jab&quot;] = &quot;Vae-Sant&quot;,
		[&quot;feint&quot;] = &quot;Ein-Fasit&quot;,
		[&quot;pinprick&quot;] = &quot;Rizet&quot;,
		[&quot;raze&quot;] = &quot;Laesan&quot;,
		[&quot;bleed&quot;] = &quot;Laesan&quot;,
		[&quot;flashkick&quot;] = &quot;Rizet&quot;,
		[&quot;crescentcut&quot;] = &quot;Ein-Fasit&quot;,
		[&quot;lowhook&quot;] = &quot;Vae-Sant&quot;,
		[&quot;slit&quot;] = &quot;Ein-Fasit&quot;,
		[&quot;trip&quot;] = &quot;Vae-Sant&quot;,
		[&quot;spinslash&quot;] = &quot;Vae-Sant&quot;,
		[&quot;butterfly&quot;] = &quot;impossible&quot;,
	},
	[&quot;Vae-Sant&quot;] = {
		[&quot;lateral&quot;] = &quot;Ein-Fasit&quot;,
		[&quot;vertical&quot;] = &quot;Laesan&quot;,
		[&quot;swiftkick&quot;] = &quot;Ein-Fasit&quot;,
		[&quot;gouge&quot;] = &quot;Gyanis&quot;,
		[&quot;jab&quot;] = &quot;Gyanis&quot;,
		[&quot;feint&quot;] = &quot;Laesan&quot;,
		[&quot;pinprick&quot;] = &quot;Rizet&quot;,
		[&quot;raze&quot;] = &quot;impossible&quot;,
		[&quot;bleed&quot;] = &quot;Rizet&quot;,
		[&quot;flashkick&quot;] = &quot;Laesan&quot;,
		[&quot;crescentcut&quot;] = &quot;impossible&quot;,
		[&quot;lowhook&quot;] = &quot;Gyanis&quot;,
		[&quot;slit&quot;] = &quot;Ein-Fasit&quot;,
		[&quot;trip&quot;] = &quot;impossible&quot;,
		[&quot;spinslash&quot;] = &quot;Ein-Fasit&quot;,
		[&quot;butterfly&quot;] = &quot;Gyanis&quot;,
	},
	[&quot;Rizet&quot;] = {
		[&quot;lateral&quot;] = &quot;Ein-Fasit&quot;,
		[&quot;vertical&quot;] = &quot;Ein-Fasit&quot;,
		[&quot;swiftkick&quot;] = &quot;impossible&quot;,
		[&quot;gouge&quot;] = &quot;Vae-Sant&quot;,
		[&quot;jab&quot;] = &quot;impossible&quot;,
		[&quot;feint&quot;] = &quot;impossible&quot;,
		[&quot;pinprick&quot;] = &quot;Vae-Sant&quot;,
		[&quot;raze&quot;] = &quot;Vae-Sant&quot;,
		[&quot;bleed&quot;] = &quot;Ein-Fasit&quot;,
		[&quot;flashkick&quot;] = &quot;impossible&quot;,
		[&quot;crescentcut&quot;] = &quot;Laesan&quot;,
		[&quot;lowhook&quot;] = &quot;impossible&quot;,
		[&quot;slit&quot;] = &quot;Gyanis&quot;,
		[&quot;trip&quot;] = &quot;Gyanis&quot;,
		[&quot;spinslash&quot;] = &quot;Laesan&quot;,
		[&quot;butterfly&quot;] = &quot;Gyanis&quot;,
	},
	[&quot;Ein-Fasit&quot;] = {
		[&quot;lateral&quot;] = &quot;Laesan&quot;,
		[&quot;vertical&quot;] = &quot;Vae-Sant&quot;,
		[&quot;swiftkick&quot;] = &quot;Vae-Sant&quot;,
		[&quot;gouge&quot;] = &quot;Rizet&quot;,
		[&quot;jab&quot;] = &quot;Gyanis&quot;,
		[&quot;feint&quot;] = &quot;Gyanis&quot;,
		[&quot;pinprick&quot;] = &quot;impossible&quot;,
		[&quot;raze&quot;] = &quot;Rizet&quot;,
		[&quot;bleed&quot;] = &quot;impossible&quot;,
		[&quot;flashkick&quot;] = &quot;Laesan&quot;,
		[&quot;crescentcut&quot;] = &quot;Gyanis&quot;,
		[&quot;lowhook&quot;] = &quot;Gyanis&quot;,
		[&quot;slit&quot;] = &quot;Laesan&quot;,
		[&quot;trip&quot;] = &quot;Gyanis&quot;,
		[&quot;spinslash&quot;] = &quot;impossible&quot;,
		[&quot;butterfly&quot;] = &quot;Laesan&quot;,
	},
	[&quot;Laesan&quot;] = {
		[&quot;lateral&quot;] = &quot;impossible&quot;,
		[&quot;vertical&quot;] = &quot;impossible&quot;,
		[&quot;swiftkick&quot;] = &quot;Rizet&quot;,
		[&quot;gouge&quot;] = &quot;impossible&quot;,
		[&quot;jab&quot;] = &quot;Gyanis&quot;,
		[&quot;feint&quot;] = &quot;Ein-Fasit&quot;,
		[&quot;pinprick&quot;] = &quot;Rizet&quot;,
		[&quot;raze&quot;] = &quot;Ein-Fasit&quot;,
		[&quot;bleed&quot;] = &quot;Vae-Sant&quot;,
		[&quot;flashkick&quot;] = &quot;Vae-Sant&quot;,
		[&quot;crescentcut&quot;] = &quot;Vae-Sant&quot;,
		[&quot;lowhook&quot;] = &quot;Gyanis&quot;,
		[&quot;slit&quot;] = &quot;Vae-Sant&quot;,
		[&quot;trip&quot;] = &quot;Rizet&quot;,
		[&quot;spinslash&quot;] = &quot;Ein-Fasit&quot;,
		[&quot;butterfly&quot;] = &quot;Rizet&quot;,
	},
}
</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>prompt</name>
                            <packageName></packageName>
                            <script>predator.prompt = function(len) 
	local str,neutral = &quot;&quot;,&quot;&lt;dim_grey&gt;&quot;
	local a,m = &quot;&lt;grey&gt;&quot;,&quot;&lt;grey&gt;&quot;
	local n = 50
	n = n - len

	str = string.lpad(str,n,&quot; &quot;)

	if player(target) then
		local count = dbp.count(target)

		str = str..neutral..&quot;[A: &quot;..a..count..neutral..&quot;]&quot;

	end

	if class == &quot;Predator&quot; then cecho(str) end
end</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>ui_refresh</name>
                            <packageName></packageName>
                            <script>predator.ui_refresh = function()
	clearWindow(&quot;predator_ui&quot;)
	local str = &quot;&quot;
	local time = os.time()
	local neutral = &quot;&lt;grey&gt;&quot;


	-- first part
	-------------
	if player(target) then
		-- head
		local head = has(target,&quot;head&quot;)
		local head_time = has(target,&quot;head_time&quot;)
		local head_c = &quot;&lt;dim_grey&gt;&quot;
		local head_time_c = &quot;&lt;dim_grey&gt; &quot;

		if head &gt; 0 then head_c = &quot;&lt;green&gt;&quot; head_time_c = &quot;&lt;green&gt; &quot; end
		if head_time ~= 0 then
			head_time = 60 - (time - head_time)
			if head_time &lt; 11 then head_time_c = &quot;&lt;red&gt; &quot; end
		end
		head = string.lpad(tostring(head),2,&quot; &quot;)
		head_time = string.lpad(tostring(head_time),2,&quot; &quot;)

		str = str..&quot;            &quot;
		str = str..&quot;[HE: &quot;..head_c..head..head_time_c..head_time..neutral..&quot;] &quot;
		str = str..&quot;            &quot;
	end

	local color = &quot;&lt;goldenrod&gt;&quot;
	if player(target) and has(target,&quot;gutwyrm&quot;) then color = &quot;&lt;medium_aquamarine&gt;&quot; end

	str = str..&quot;T: &quot;..color..target..neutral..&quot; &quot;

	local cn = &quot;&lt;grey&gt;&quot;
	if q_color[q_type] then cn = &quot;&lt;&quot;..q_color[q_type]..&quot;&gt;&quot; end
	str = str..&quot; [:&quot;..cn..q_type..neutral..&quot;]&quot;

	str = str..&quot;\n&quot;
	-- second part
	-------------
	if player(target) then
		-- right arm
		local rarm = has(target,&quot;right_arm&quot;)
		local rarm_time = has(target,&quot;right_arm_time&quot;)
		local rarm_c = &quot;&lt;dim_grey&gt;&quot;
		local rarm_time_c = &quot;&lt;dim_grey&gt; &quot;

		if rarm &gt; 0 then rarm_c = &quot;&lt;green&gt;&quot; rarm_time_c = &quot;&lt;green&gt; &quot; end
		if rarm_time ~= 0 then
			rarm_time = 60 - (time - rarm_time)
			if rarm_time &lt; 11 then rarm_time_c = &quot;&lt;red&gt; &quot; end
		end
		rarm = string.lpad(tostring(rarm),2,&quot; &quot;)
		rarm_time = string.lpad(tostring(rarm_time),2,&quot; &quot;)

		str = str..&quot;[RA: &quot;..rarm_c..rarm..rarm_time_c..rarm_time..neutral..&quot;] &quot;

		-- torso
		local torso = has(target,&quot;torso&quot;)
		local torso_time = has(target,&quot;torso_time&quot;)
		local torso_c = &quot;&lt;dim_grey&gt;&quot;
		local torso_time_c = &quot;&lt;dim_grey&gt; &quot;

		if torso &gt; 0 then torso_c = &quot;&lt;green&gt;&quot; torso_time_c = &quot;&lt;green&gt; &quot; end
		if torso_time ~= 0 then
			torso_time = 60 - (time - torso_time)
			if torso_time &lt; 11 then torso_time_c = &quot;&lt;red&gt; &quot; end
		end
		torso = string.lpad(tostring(torso),2,&quot; &quot;)
		torso_time = string.lpad(tostring(torso_time),2,&quot; &quot;)

		str = str..&quot;[TO: &quot;..torso_c..torso..torso_time_c..torso_time..neutral..&quot;] &quot;

		-- left arm
		local larm = has(target,&quot;left_arm&quot;)
		local larm_time = has(target,&quot;left_arm_time&quot;)
		local larm_c = &quot;&lt;dim_grey&gt;&quot;
		local larm_time_c = &quot;&lt;dim_grey&gt; &quot;

		if larm &gt; 0 then larm_c = &quot;&lt;green&gt;&quot; larm_time_c = &quot;&lt;green&gt; &quot; end
		if larm_time ~= 0 then
			larm_time = 60 - (time - larm_time)
			if larm_time &lt; 11 then larm_time_c = &quot;&lt;red&gt; &quot; end
		end
		larm = string.lpad(tostring(larm),2,&quot; &quot;)
		larm_time = string.lpad(tostring(larm_time),2,&quot; &quot;)

		str = str..&quot;[LA: &quot;..larm_c..larm..larm_time_c..larm_time..neutral..&quot;] &quot;
	
		local limb_c = &quot;&lt;dim_grey&gt;&quot;
		if limb.target ~= &quot;nothing&quot; then limb_c = &quot;&lt;medium_aquamarine&gt;&quot; end
		str = str..&quot;T: &quot;..limb_c..string.lpad(string.title(limb.target),11,&quot; &quot;)..neutral

		local parry_c = &quot;&lt;dim_grey&gt;&quot;
		if limb.parry ~= &quot;nothing&quot; then parry_c = &quot;&lt;medium_aquamarine&gt;&quot; end
		str = str..&quot; P: &quot;..parry_c..string.lpad(string.title(limb.parry),11,&quot; &quot;)..neutral

		str = str..&quot;\n&quot;

		-- right leg
		local rleg = has(target,&quot;right_leg&quot;)
		local rleg_time = has(target,&quot;right_leg_time&quot;)
		local rleg_c = &quot;&lt;dim_grey&gt;&quot;
		local rleg_time_c = &quot;&lt;dim_grey&gt; &quot;

		if rleg &gt; 0 then rleg_c = &quot;&lt;green&gt;&quot; rleg_time_c = &quot;&lt;green&gt; &quot; end
		if rleg_time ~= 0 then
			rleg_time = 60 - (time - rleg_time)
			if rleg_time &lt; 11 then rleg_time_c = &quot;&lt;red&gt; &quot; end
		end
		rleg = string.lpad(tostring(rleg),2,&quot; &quot;)
		rleg_time = string.lpad(tostring(rleg_time),2,&quot; &quot;)

		str = str..&quot;[RL: &quot;..rleg_c..rleg..rleg_time_c..rleg_time..neutral..&quot;] &quot;

		-- placeholder
		str = str..&quot;            &quot;

		-- left leg
		local lleg = has(target,&quot;left_leg&quot;)
		local lleg_time = has(target,&quot;left_leg_time&quot;)
		local lleg_c = &quot;&lt;dim_grey&gt;&quot;
		local lleg_time_c = &quot;&lt;dim_grey&gt; &quot;

		if lleg &gt; 0 then lleg_c = &quot;&lt;green&gt;&quot; lleg_time_c = &quot;&lt;green&gt; &quot; end
		if lleg_time ~= 0 then
			lleg_time = 60 - (time - lleg_time)
			if lleg_time &lt; 11 then lleg_time_c = &quot;&lt;red&gt; &quot; end
		end
		lleg = string.lpad(tostring(lleg),2,&quot; &quot;)
		lleg_time = string.lpad(tostring(lleg_time),2,&quot; &quot;)

		str = str..&quot;[LL: &quot;..lleg_c..lleg..lleg_time_c..lleg_time..neutral..&quot;] &quot;
	end


	-- third part
	-------------
	--str = str..&quot;\n&quot;
	
	local stance = &quot;&lt;dim_grey&gt;&quot;
	if predator.stance == &quot;Vae-Sant&quot; then stance = &quot;&lt;gold&gt;&quot; end
	if predator.stance == &quot;none&quot; then stance = &quot;&lt;red&gt;&quot; end
	stance = stance..string.lpad(predator.stance,10,&quot; &quot;)

	local hid, mas, ww, con, nit, avr = &quot;&lt;red&gt;&quot;,&quot;&lt;red&gt;&quot;,&quot;&lt;red&gt;&quot;,&quot;&lt;red&gt;&quot;,&quot;&lt;red&gt;&quot;,&quot;&lt;red&gt;&quot;
	local obf, dod, pcg, rgn, shr = &quot;&lt;red&gt;&quot;,&quot;&lt;red&gt;&quot;,&quot;&lt;red&gt;&quot;,&quot;&lt;red&gt;&quot;,&quot;&lt;red&gt;&quot;

	if predator.defences.hide then hid = &quot;&lt;green&gt;&quot; end
	if predator.defences.mask then mas = &quot;&lt;green&gt;&quot; end
	if predator.defences.windwalk then ww = &quot;&lt;green&gt;&quot; end
	if predator.defences.constitution then con = &quot;&lt;green&gt;&quot; end
	if predator.defences.nightsight then nit = &quot;&lt;green&gt;&quot; end
	if predator.defences.aversion then avr = &quot;&lt;green&gt;&quot; end
	if predator.defences.obfuscate then obf = &quot;&lt;green&gt;&quot; end
	if predator.defences.dodging then dod = &quot;&lt;green&gt;&quot; end
	if predator.defences.pacing then pcg = &quot;&lt;green&gt;&quot; end
	if predator.defences.regen then rgn = &quot;&lt;green&gt;&quot; end
	if predator.defences.shrug ~= &quot;&quot; then shr = &quot;&lt;green&gt;&quot; end

	str = str..&quot;St: &quot;..stance..neutral..&quot; &quot;
	str = str..&quot;[&quot;..dod..&quot;DOD&quot;..neutral..&quot;] &quot;
	str = str..&quot;[&quot;..rgn..&quot;RGN&quot;..neutral..&quot;] &quot;
	str = str..&quot;[&quot;..mas..&quot;MAS&quot;..neutral..&quot;] &quot;
	str = str..&quot;[&quot;..obf..&quot;OBF&quot;..neutral..&quot;] &quot;
	str = str..&quot;[&quot;..hid..&quot;HID&quot;..neutral..&quot;] &quot;
	str = str..&quot;[&quot;..ww ..&quot;WW &quot;..neutral..&quot;] &quot;
	str = str..&quot;[&quot;..con..&quot;CON&quot;..neutral..&quot;] &quot;
	str = str..&quot;[&quot;..nit..&quot;NIT&quot;..neutral..&quot;] &quot;
	str = str..&quot;[&quot;..avr..&quot;AVR&quot;..neutral..&quot;] &quot;
	str = str..&quot;[&quot;..pcg..&quot;PCG&quot;..neutral..&quot;] &quot;
	str = str..&quot;Shrug: &quot;..shr..predator.defences.shrug

	cecho(&quot;predator_ui&quot;,str)
end</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>reset</name>
                            <packageName></packageName>
                            <script>predator.reset = function()
	predator.stance = &quot;none&quot;
	predator.surge = 1
	predator.combo = 3
	predator.n_stance = &quot;&quot;
end</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>timer</name>
                            <packageName></packageName>
                            <script>predator.timer = function()
	if class == &quot;Predator&quot; then

		-- operate only on 'target' otherwise the overhead is too big
		local time = os.time()

		if player(target) then

		end

		predator.ui_refresh()
	end
end</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>choose_toxin</name>
                            <packageName></packageName>
                            <script>predator.choose_toxin = function(name,list)
	if not player(name) and type(name) == &quot;table&quot; then
		list = name
		name = me
	end
	_hload(name)

	local toxin,toxin2 = &quot;&quot;,&quot;&quot;
	local list = list or ecopy(predator.toxins)

	if q_type == &quot;wAfflictor&quot; then
			list = {
				&quot;sunallergy&quot;,
				&quot;nausea&quot;,
				&quot;metrazol&quot;,
				&quot;hemotoxin&quot;,
				&quot;butisol&quot;,
				&quot;recklessness&quot;,
				&quot;anorexia&quot;,
				&quot;weariness&quot;,
				&quot;clumsiness&quot;,
				&quot;calotropis&quot;,
				&quot;slow herbs&quot;,
				&quot;slow elixirs&quot;,
				&quot;slow balance&quot;,
				&quot;slow equilibrium&quot;,
				&quot;withered throat&quot;,

				&quot;numbness&quot;,
				&quot;asthma&quot;,
				&quot;slickness&quot;,
				&quot;stupidity&quot;,
				&quot;dizziness&quot;,
				&quot;sensitivity&quot;,
				&quot;ignorance&quot;,
				&quot;disloyalty&quot;,
			}
	end

	if has(name,&quot;paralysis&quot;) then
		table.remove(list,table.index_of(list,&quot;numbness&quot;))
	end

	for i=1, #list do
		if not _G[list[i]] then
			toxin = list[i]
			break
		end
	end
	for i=1, #list do
		if list[i] ~= toxin and not _G[list[i]] then
			toxin2 = list[i]
			break
		end
	end

	toxin = lookup(toxin,dban.toxin_dictionary)
	toxin2 = lookup(toxin2,dban.toxin_dictionary)

	return toxin,toxin2
end</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>predator.bash</name>
                            <packageName></packageName>
                            <script>predator.bash = function(arg)
	local name = arg or target
	local str = &quot;&quot;

	if predator.stance == &quot;Ein-Fasit&quot; then
		str = &quot;combo vertical lateral vertical &quot;
		if predator.surge == 2 then str = str..&quot;lateral &quot; end
	elseif predator.stance == &quot;Vae-Sant&quot; then
		str = &quot;combo lateral vertical lateral &quot;
		if predator.surge == 2 then str = str..&quot;vertical &quot; end
	else
		str = &quot;combo Ein-Fasit vertical lateral &quot;
		if predator.surge == 2 then str = str..&quot;vertical &quot; end
	end
	str = str..name..sp

	return str
end</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>predator.check</name>
                            <packageName></packageName>
                            <script>predator.check = function(arg,atk)
	local stance, nstance = predator.stance, predator.n_stance

	if predator.combo &gt;= 3 then
		if predator.from[stance][atk] ~= &quot;impossible&quot; then
			predator.n_stance = predator.from[stance][atk]
			return true
		end
		return false
	else
		if predator.from[nstance][atk] ~= &quot;impossible&quot; then
			predator.n_stance = predator.from[nstance][atk]
			return true
		end
		return false
	end
	return false
end
</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>predator.raze</name>
                            <packageName></packageName>
                            <script>predator.raze = function(arg)
	local name = arg or target
	local stance = predator.stance
	local raze, str = 0, &quot;combo &quot;

	if has(name,&quot;shield&quot;) then raze = raze + 1 end
	if has(name,&quot;rebounding&quot;) then raze = raze + 1 end

	if raze &gt;= 2 then
		if stance == &quot;Rizet&quot; then
			str = str..&quot;raze gouge raze &quot;
			predator.combo = predator.combo - 3
			return str, 0
		elseif stance == &quot;Vae-Sant&quot; then
			str = str..&quot;ein-fasit raze raze &quot;
			predator.combo = predator.combo - 3
			return str, 0
		else
			str = str..&quot;raze raze &quot;
			predator.combo = predator.combo - 2
			predator.n_stance = predator.from[predator.stance][&quot;raze&quot;]
			predator.n_stance = predator.from[predator.n_stance][&quot;raze&quot;]
			return str, 1
		end
	elseif raze == 1 then
		if not has(name,&quot;shield&quot;) and stance == &quot;Vae-Sant&quot; then
			str = str..&quot;gouge raze &quot;
			predator.combo = predator.combo - 2
			predator.n_stance = predator.from[predator.stance][&quot;gouge&quot;]
			predator.n_stance = predator.from[predator.n_stance][&quot;raze&quot;]
			return str, 1
		elseif has(name,&quot;shield&quot;) and stance == &quot;Vae-Sant&quot; then
			str = str..&quot;gyanis raze &quot;
			predator.combo = predator.combo - 2
			predator.n_stance = &quot;Gyanis&quot;
			predator.n_stance = predator.from[predator.n_stance][&quot;raze&quot;]
			return str, 1
		else
			str = str..&quot;raze &quot; 
			predator.combo = predator.combo - 1
			predator.n_stance = predator.from[predator.stance][&quot;raze&quot;]
			return str, 2
		end
	else
		str = str..&quot;&quot;
		return str, 3
	end
end
</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>predator.arms</name>
                            <packageName></packageName>
                            <script>predator.arms = function(name,side)
	if predator.surge == 2 then predator.combo = 4 else predator.combo = 3 end

	local name = name or target
	local str, combo = predator.raze(name)
	local toxin = predator.choose_toxin(name)
	local left, right = true, true

	if combo &gt; 0 then
		for i=1,combo do
			if predator.check(name,&quot;jab&quot;) then
				str = str..&quot;jab &quot;
				if side then str = str..side..&quot; &quot; 
				else
					if left then 
						str = str..&quot;left &quot;
						left = false
						right = true
					else
						str = str..&quot;right &quot;
						right = false
						left = true
					end
				end
			elseif predator.check(name,&quot;gouge&quot;) then
				str = str..&quot;gouge &quot;
			elseif predator.check(name,&quot;lowhook&quot;) then
				str = str..&quot;lowhook left&quot;
			elseif predator.check(name,&quot;lateral&quot;) then
				str = str..&quot;lateral &quot;
			elseif predator.check(name,&quot;trip&quot;) then
				str = str..&quot;trip &quot;
			elseif predator.check(name,&quot;spinslash&quot;) then
				str = str..&quot;spinslash &quot;
			else
				str = str..&quot;none &quot;
			end
		end
	end 
	str = str..&quot; &quot;..name..&quot; &quot;..toxin
	return str
end
</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>predator.legs</name>
                            <packageName></packageName>
                            <script>predator.legs = function(name,side)
	if predator.surge == 2 then predator.combo = 4 else predator.combo = 3 end

	local name = name or target
	local str, combo = predator.raze(name)
	local toxin = predator.choose_toxin(name)
	local left, right = true, true

	if combo &gt; 0 then
		for i=1,combo do
			if predator.check(name,&quot;lowhook&quot;) then
				str = str..&quot;lowhook &quot;
				if side then str = str..side..&quot; &quot; 
				else
					if left then 
						str = str..&quot;left &quot;
						left = false
						right = true
					else
						str = str..&quot;right &quot;
						right = false
						left = true
					end
				end
			elseif predator.check(name,&quot;gouge&quot;) then
				str = str..&quot;gouge &quot;
			elseif predator.check(name,&quot;lowhook&quot;) then
				str = str..&quot;lowhook left&quot;
			elseif predator.check(name,&quot;lateral&quot;) then
				str = str..&quot;lateral &quot;
			elseif predator.check(name,&quot;trip&quot;) then
				str = str..&quot;trip &quot;
			elseif predator.check(name,&quot;spinslash&quot;) then
				str = str..&quot;spinslash &quot;
			else
				str = str..&quot;none &quot;
			end
		end
	end 
	str = str..&quot; &quot;..name..&quot; &quot;..toxin
	return str
end
</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>predator.tshot</name>
                            <packageName></packageName>
                            <script>predator.tshot = function(name)
	local str = &quot;&quot;
	local t1,t2 = predator.choose_toxin(name) display(t1)

	t1 = &quot; &quot;..t1
	t2 = &quot; &quot;..t2
	str = str..&quot;queue eqbal twinshot &quot;..name..t1..t2

	send(str)
end</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>predator.lartosis</name>
                            <packageName></packageName>
                            <script>predator.lartosis = function(name)
	local str = &quot;&quot;

	str = str..&quot;dismount&quot;..sp
	str = str..&quot;combo spinslash trip spinslash &quot;..name..&quot; lartosis&quot;..sp

	send(str)
end</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="no" isFolder="no">
                            <name>NewScript</name>
                            <packageName></packageName>
                            <script>predator.rearm = function(t)
	local e = ecopy(t)

	
	if next(e) == nil then

	else
		predator.rearm(e)
	end
end</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>predator.ccut</name>
                            <packageName></packageName>
                            <script>predator.ccut = function(name)
	if predator.surge == 2 then predator.combo = 4 else predator.combo = 3 end

	local name = name or target
	local str, combo = predator.raze(name)
	local toxin = predator.choose_toxin(name)

	local prone = has(name,&quot;prone&quot;)
	local trip = false
	
	if combo &gt; 0 then
		for i=1, combo do
			if not prone and not trip then
				if stance == &quot;Gyanis&quot; then
					str = str..&quot;flashkick trip &quot;
					trip = true
				else
					str = str..&quot;trip &quot;
					trip = true
				end
			elseif predator.check(name,&quot;crescentcut&quot;) then
				str = str..&quot;crescentcut &quot;
			else
				str = str..&quot;gyanis &quot;
			end
		end
	end
	
	str = str..&quot; &quot;..name..&quot; &quot;..toxin
	send(str)
end


</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>predator.fkick</name>
                            <packageName></packageName>
                            <script>predator.fkick = function(name)
	if predator.surge == 2 then predator.combo = 4 else predator.combo = 3 end

	local name = name or target
	local str, combo = predator.raze(name)
	local toxin = predator.choose_toxin(name)
	-- last parry

	local prone = has(name,&quot;prone&quot;)
	local trip = false
	
	if combo &gt; 0 then
		for i=1, combo do 
			if predator.check(name,&quot;flashkick&quot;) then 
				str = str..&quot;flashkick &quot;
				predator.combo = predator.combo - 1
			elseif predator.check(name,&quot;gouge&quot;) then
				str = str..&quot;gouge &quot;
				predator.combo = predator.combo - 1
			else 
				str = str..&quot;Vae-Sant &quot;
				predator.combo = predator.combo - 1
			end
		end
	end
	
	str = str..&quot; &quot;..name..&quot; &quot;..toxin
	send(str)
end</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>predator.slit</name>
                            <packageName></packageName>
                            <script>predator.slit = function(name)
	if predator.surge == 2 then predator.combo = 4 else predator.combo = 3 end

	local name = name or target
	local str, combo = predator.raze(name)
	local toxin = predator.choose_toxin(name)
	-- last parry

	local prone = has(name,&quot;prone&quot;)
	local trip = false
	
	if combo &gt; 0 then
		for i=1, combo do
			if not prone and predator.check(name,&quot;trip&quot;) then
				str = str..&quot;trip &quot;
				predator.combo = predator.combo - 1
				prone = true
			elseif predator.check(name,&quot;slit&quot;) then 
				str = str..&quot;slit &quot;
				predator.combo = predator.combo - 1
			elseif predator.check(name,&quot;gouge&quot;) then 
				str = str..&quot;gouge &quot;
				predator.combo = predator.combo - 1
			else 
				str = str..&quot;Vae-Sant &quot;
				predator.combo = predator.combo - 1
			end
		end
	end
	
	str = str..&quot; &quot;..name..&quot; &quot;..toxin
	send(str)
end</script>
                            <eventHandlerList/>
                        </Script>
                    </ScriptGroup>
                    <ScriptGroup isActive="yes" isFolder="yes">
                        <name>ranger</name>
                        <packageName></packageName>
                        <script>ranger = ranger or {}</script>
                        <eventHandlerList/>
                        <Script isActive="yes" isFolder="no">
                            <name>[d]</name>
                            <packageName></packageName>
                            <script>ranger.defences = ranger.defences or {}
ranger.defences.balancing = ranger.defences.balancing or false
ranger.defences.barkskin = ranger.defences.barkskin or false
ranger.defences.counter = ranger.defences.counter or false
ranger.defences.fitness = ranger.defences.fitness or false
ranger.defences.powersoul = ranger.defences.powersoul or false
ranger.defences.weathering = ranger.defences.weathering or false

ranger.primary = ranger.primary or &quot;&quot;
ranger.secondary = ranger.secondary or &quot;&quot;

ranger.toxins = {
	&quot;numbness&quot;,
	&quot;hemotoxin&quot;,
	&quot;asthma&quot;,
	&quot;sunallergy&quot;,
	&quot;nausea&quot;,

	&quot;butisol&quot;,
	&quot;crippled left arm&quot;,
	&quot;anorexia&quot;,
	&quot;slickness&quot;,
	&quot;hemotoxin&quot;,
	&quot;crippled right arm&quot;,

	&quot;metrazol&quot;,
	&quot;calotropis&quot;,
	&quot;slow herbs&quot;,
	&quot;slow elixirs&quot;,
	&quot;withered throat&quot;,
	&quot;slickness&quot;,
	&quot;butisol&quot;,
	&quot;recklessness&quot;,
	&quot;stupidity&quot;,
	&quot;dizziness&quot;,
	&quot;sensitivity&quot;,
	&quot;clumsiness&quot;,
	&quot;weariness&quot;,
	&quot;slow equilibrium&quot;,
	&quot;slow balance&quot;,
	&quot;ignorance&quot;,
	&quot;disloyalty&quot;,
}</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>prompt</name>
                            <packageName></packageName>
                            <script>ranger.prompt = function(len) 
	local str,neutral = &quot;&quot;,&quot;&lt;dim_grey&gt;&quot;
	local a,m = &quot;&lt;grey&gt;&quot;,&quot;&lt;grey&gt;&quot;
	local n = 50
	n = n - len

	str = string.lpad(str,n,&quot; &quot;)

	if player(target) then
		local count = dbp.count(target)

		str = str..neutral..&quot;[A: &quot;..a..count..neutral..&quot;]&quot;

	end

	if class == &quot;Ranger&quot; then cecho(str) end
end</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>ui_prompt</name>
                            <packageName></packageName>
                            <script>ranger.ui_refresh = function()
	clearWindow(&quot;ranger_ui&quot;)
	local str = &quot;&quot;
	local time = os.time()
	local neutral = &quot;&lt;grey&gt;&quot;

	local ps = ranger.defences.powersoul
	local ps_c = &quot;&lt;grey&gt;&quot;
	if ps then ps_c = &quot;&lt;gold&gt;&quot; end

	-- first part
	-------------
	if player(target) then
		-- head
		local head = has(target,&quot;head&quot;)
		local head_time = has(target,&quot;head_time&quot;)
		local head_c = &quot;&lt;dim_grey&gt;&quot;
		local head_time_c = &quot;&lt;dim_grey&gt; &quot;

		if head &gt; 0 then head_c = &quot;&lt;green&gt;&quot; head_time_c = &quot;&lt;green&gt; &quot; end
		if head_time ~= 0 then
			head_time = 60 - (time - head_time)
			if head_time &lt; 11 then head_time_c = &quot;&lt;red&gt; &quot; end
		end
		head = string.lpad(tostring(head),2,&quot; &quot;)
		head_time = string.lpad(tostring(head_time),2,&quot; &quot;)

		str = str..&quot;            &quot;
		str = str..ps_c..&quot;[HE: &quot;..head_c..head..head_time_c..head_time..ps_c..&quot;] &quot;..neutral
		str = str..&quot;            &quot;
	end

	local color = &quot;&lt;goldenrod&gt;&quot;
	if player(target) and has(target,&quot;gutwyrm&quot;) then color = &quot;&lt;medium_aquamarine&gt;&quot; end

	str = str..&quot;T: &quot;..color..target..neutral..&quot; &quot;

	local lup = has(target,&quot;lockup&quot;)
	local lup_time = has(target,&quot;lockup_time&quot;)
	local lup_c = &quot;&lt;dim_grey&gt;&quot;
	local lup_time_c = &quot;&lt;dim_grey&gt; &quot;
	if lup then lup_c = &quot;&lt;green&gt;&quot; lup_time_c = &quot;&lt;green&gt;&quot; end
	if lup_time ~= 0 then
		lup_time = 15 - (time - lup_time)
		if lup_time &lt; 4 then lup_time_c = &quot;&lt;red&gt; &quot; end
	end
	lup_time = string.lpad(tostring(lup_time),2,&quot; &quot;)

	str = str..&quot;[:&quot;..lup_c..&quot;Lockup&quot;..neutral..&quot;: &quot;..lup_time_c..lup_time..neutral..&quot;] &quot;

	local cn = &quot;&lt;grey&gt;&quot;
	if q_color[q_type] then cn = &quot;&lt;&quot;..q_color[q_type]..&quot;&gt;&quot; end
	str = str..&quot; [:&quot;..cn..q_type..neutral..&quot;]&quot;

	str = str..&quot;\n&quot;
	-- second part
	-------------
	if player(target) then
		-- right arm
		local rarm = has(target,&quot;right_arm&quot;)
		local rarm_time = has(target,&quot;right_arm_time&quot;)
		local rarm_c = &quot;&lt;dim_grey&gt;&quot;
		local rarm_time_c = &quot;&lt;dim_grey&gt; &quot;

		if rarm &gt; 0 then rarm_c = &quot;&lt;green&gt;&quot; rarm_time_c = &quot;&lt;green&gt; &quot; end
		if rarm_time ~= 0 then
			rarm_time = 60 - (time - rarm_time)
			if rarm_time &lt; 11 then rarm_time_c = &quot;&lt;red&gt; &quot; end
		end
		rarm = string.lpad(tostring(rarm),2,&quot; &quot;)
		rarm_time = string.lpad(tostring(rarm_time),2,&quot; &quot;)

		str = str..ps_c..&quot;[RA: &quot;..rarm_c..rarm..rarm_time_c..rarm_time..ps_c..&quot;] &quot;

		-- torso
		local torso = has(target,&quot;torso&quot;)
		local torso_time = has(target,&quot;torso_time&quot;)
		local torso_c = &quot;&lt;dim_grey&gt;&quot;
		local torso_time_c = &quot;&lt;dim_grey&gt; &quot;

		if torso &gt; 0 then torso_c = &quot;&lt;green&gt;&quot; torso_time_c = &quot;&lt;green&gt; &quot; end
		if torso_time ~= 0 then
			torso_time = 60 - (time - torso_time)
			if torso_time &lt; 11 then torso_time_c = &quot;&lt;red&gt; &quot; end
		end
		torso = string.lpad(tostring(torso),2,&quot; &quot;)
		torso_time = string.lpad(tostring(torso_time),2,&quot; &quot;)

		str = str..ps_c..&quot;[TO: &quot;..torso_c..torso..torso_time_c..torso_time..ps_c..&quot;] &quot;

		-- left arm
		local larm = has(target,&quot;left_arm&quot;)
		local larm_time = has(target,&quot;left_arm_time&quot;)
		local larm_c = &quot;&lt;dim_grey&gt;&quot;
		local larm_time_c = &quot;&lt;dim_grey&gt; &quot;

		if larm &gt; 0 then larm_c = &quot;&lt;green&gt;&quot; larm_time_c = &quot;&lt;green&gt; &quot; end
		if larm_time ~= 0 then
			larm_time = 60 - (time - larm_time)
			if larm_time &lt; 11 then larm_time_c = &quot;&lt;red&gt; &quot; end
		end
		larm = string.lpad(tostring(larm),2,&quot; &quot;)
		larm_time = string.lpad(tostring(larm_time),2,&quot; &quot;)

		str = str..ps_c..&quot;[LA: &quot;..larm_c..larm..larm_time_c..larm_time..ps_c..&quot;] &quot;..neutral
	
		local limb_c = &quot;&lt;dim_grey&gt;&quot;
		if limb.target ~= &quot;nothing&quot; then limb_c = &quot;&lt;medium_aquamarine&gt;&quot; end
		str = str..&quot;T: &quot;..limb_c..string.lpad(string.title(limb.target),11,&quot; &quot;)..neutral

		local parry_c = &quot;&lt;dim_grey&gt;&quot;
		if limb.parry ~= &quot;nothing&quot; then parry_c = &quot;&lt;medium_aquamarine&gt;&quot; end
		str = str..&quot;  P: &quot;..parry_c..string.lpad(string.title(limb.parry),11,&quot; &quot;)..neutral

		str = str..&quot;\n&quot;

		-- right leg
		local rleg = has(target,&quot;right_leg&quot;)
		local rleg_time = has(target,&quot;right_leg_time&quot;)
		local rleg_c = &quot;&lt;dim_grey&gt;&quot;
		local rleg_time_c = &quot;&lt;dim_grey&gt; &quot;

		if rleg &gt; 0 then rleg_c = &quot;&lt;green&gt;&quot; rleg_time_c = &quot;&lt;green&gt; &quot; end
		if rleg_time ~= 0 then
			rleg_time = 60 - (time - rleg_time)
			if rleg_time &lt; 11 then rleg_time_c = &quot;&lt;red&gt; &quot; end
		end
		rleg = string.lpad(tostring(rleg),2,&quot; &quot;)
		rleg_time = string.lpad(tostring(rleg_time),2,&quot; &quot;)

		str = str..ps_c..&quot;[RL: &quot;..rleg_c..rleg..rleg_time_c..rleg_time..ps_c..&quot;] &quot;

		-- placeholder
		str = str..&quot;            &quot;

		-- left leg
		local lleg = has(target,&quot;left_leg&quot;)
		local lleg_time = has(target,&quot;left_leg_time&quot;)
		local lleg_c = &quot;&lt;dim_grey&gt;&quot;
		local lleg_time_c = &quot;&lt;dim_grey&gt; &quot;

		if lleg &gt; 0 then lleg_c = &quot;&lt;green&gt;&quot; lleg_time_c = &quot;&lt;green&gt; &quot; end
		if lleg_time ~= 0 then
			lleg_time = 60 - (time - lleg_time)
			if lleg_time &lt; 11 then lleg_time_c = &quot;&lt;red&gt; &quot; end
		end
		lleg = string.lpad(tostring(lleg),2,&quot; &quot;)
		lleg_time = string.lpad(tostring(lleg_time),2,&quot; &quot;)

		str = str..ps_c..&quot;[LL: &quot;..lleg_c..lleg..lleg_time_c..lleg_time..ps_c..&quot;] &quot;..neutral
	end


	-- third part
	-------------
	--str = str..&quot;\n&quot;

	local ammo = &quot;&lt;dim_grey&gt;&quot;
	if ranger.primary == &quot;incendiary&quot; then ammo = &quot;&lt;gold&gt;&quot; end
	if ranger.primary == &quot;&quot; then ammo = &quot;&lt;red&gt;&quot; end
	ammo = ammo..string.lpad(string.title(ranger.primary),10,&quot; &quot;)

	local bal, bar, cnt, fit, wea = &quot;&lt;red&gt;&quot;,&quot;&lt;red&gt;&quot;,&quot;&lt;red&gt;&quot;,&quot;&lt;red&gt;&quot;,&quot;&lt;red&gt;&quot;

	if ranger.defences.balancing then bal = &quot;&lt;green&gt;&quot; end
	if ranger.defences.barkskin then bar = &quot;&lt;green&gt;&quot; end
	if ranger.defences.counter then cnt = &quot;&lt;green&gt;&quot; end
	if ranger.defences.fitness then fit = &quot;&lt;green&gt;&quot; end
	if ranger.defences.weathering then wea = &quot;&lt;green&gt;&quot; end

	str = str..&quot;Pr: &quot;..ammo..neutral..&quot; &quot;
	str = str..&quot;[&quot;..bal..&quot;BAL&quot;..neutral..&quot;] &quot;
	str = str..&quot;[&quot;..bar..&quot;BAR&quot;..neutral..&quot;] &quot;
	str = str..&quot;[&quot;..cnt..&quot;CNT&quot;..neutral..&quot;] &quot;
	str = str..&quot;[&quot;..fit..&quot;FIT&quot;..neutral..&quot;] &quot;
	str = str..&quot;[&quot;..wea..&quot;WEA&quot;..neutral..&quot;] &quot;

	cecho(&quot;ranger_ui&quot;,str)
end</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>timer</name>
                            <packageName></packageName>
                            <script>ranger.timer = function()
	if class == &quot;Ranger&quot; then

		-- operate only on 'target' otherwise the overhead is too big
		local time = os.time()

		if player(target) then
			local lockup_t = has(target,&quot;lockup_time&quot;)
			
			if lockup_t ~= 0 then
			lockup_t = time - lockup_t
			if lockup_t &gt; 15 then
				cecho(&quot;\n&lt;white&gt;Resetting Lockup Timer&quot;)
				set(target,&quot;lockup&quot;,false)
				set(target,&quot;lockup_time&quot;,0)
			end
			end
		end

		ranger.ui_refresh()
	end
end</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>choose_toxin</name>
                            <packageName></packageName>
                            <script>ranger.choose_toxin = function(name,list)
	if not player(name) and type(name) == &quot;table&quot; then
		list = name
		name = me
	end
	_hload(name)

	local toxin,toxin2 = &quot;&quot;,&quot;&quot;
	local list = list or ecopy(ranger.toxins)

	if q_type == &quot;wAfflictor&quot; then
			list = {
				&quot;sunallergy&quot;,
				&quot;nausea&quot;,
				&quot;metrazol&quot;,
				&quot;hemotoxin&quot;,
				&quot;butisol&quot;,
				&quot;recklessness&quot;,
				&quot;anorexia&quot;,
				&quot;weariness&quot;,
				&quot;clumsiness&quot;,
				&quot;calotropis&quot;,
				&quot;slow herbs&quot;,
				&quot;slow elixirs&quot;,
				&quot;slow balance&quot;,
				&quot;slow equilibrium&quot;,
				&quot;withered throat&quot;,
				&quot;numbness&quot;,
				&quot;asthma&quot;,
				&quot;slickness&quot;,
				&quot;stupidity&quot;,
				&quot;dizziness&quot;,
				&quot;sensitivity&quot;,
				&quot;ignorance&quot;,
				&quot;disloyalty&quot;,
			}
	end

	if has(name,&quot;paralysis&quot;) then
		table.remove(list,table.index_of(list,&quot;numbness&quot;))
	end

	for i=1, #list do
		if not _G[list[i]] then
			toxin = list[i]
			break
		end
	end
	for i=1, #list do
		if list[i] ~= toxin and not _G[list[i]] then
			toxin2 = list[i]
			break
		end
	end

	toxin = lookup(toxin,dban.toxin_dictionary)
	toxin2 = lookup(toxin2,dban.toxin_dictionary)

	return toxin,toxin2
end</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>sleep</name>
                            <packageName></packageName>
                            <script>ranger.sleep = function(name,limb)
	local str = &quot;&quot;

	if has(name,&quot;shield&quot;) or has(name,&quot;rebounding&quot;) then
		str = str..&quot;pierce &quot;..name..sp
	else
		str = str..&quot;qjab &quot;..name..&quot; opium opium&quot;..sp
	end

	send(str)
end</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>ranger.damage</name>
                            <packageName></packageName>
                            <script>-------------------------------------------------
--         Put your Lua functions here.        --
--                                             --
-- Note that you can also use external Scripts --
-------------------------------------------------
</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>ranger.qjab</name>
                            <packageName></packageName>
                            <script>ranger.qjab = function(name)
	local str = &quot;&quot;

	local toxin, toxin2 = ranger.choose_toxin(name)

	if has(name,&quot;shield&quot;) or has(name,&quot;rebounding&quot;) then
		str = str..&quot;pierce target &quot;..sp
	else
		str = str..&quot;qjab target &quot;..toxin..&quot; &quot;..toxin2
	end	
		
	-- str = &quot;clan military tell afflicted target &quot;..revlookup(toxin,dban.toxin_dictionary)..&quot; &quot;..revlookup(toxin2,dban.toxin_dictionary)..sp..str
	str = str:gsub(&quot;target&quot;,name)
	return str
end</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>ranger.plimb</name>
                            <packageName></packageName>
                            <script>ranger.plimb = function(name,limb)
	local str = &quot;&quot;

	if has(name,&quot;shield&quot;) or has(name,&quot;rebounding&quot;) then
		str = str..&quot;pierce &quot;..name..sp
	else
		str = str..&quot;plimb &quot;..name..&quot; &quot;..limb..sp
	end

	send(str)
end</script>
                            <eventHandlerList/>
                        </Script>
                    </ScriptGroup>
                    <ScriptGroup isActive="yes" isFolder="yes">
                        <name>templar</name>
                        <packageName></packageName>
                        <script>templar = templar or {}</script>
                        <eventHandlerList/>
                        <Script isActive="yes" isFolder="no">
                            <name>[d]</name>
                            <packageName></packageName>
                            <script>templar.defences = templar.defences or {}</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>prompt</name>
                            <packageName></packageName>
                            <script>templar.prompt = function(len) 
	local str,neutral = &quot;&quot;,&quot;&lt;dim_grey&gt;&quot;
	local a,m = &quot;&lt;grey&gt;&quot;,&quot;&lt;grey&gt;&quot;
	local n = 50
	n = n - len

	str = string.lpad(str,n,&quot; &quot;)

	if player(target) then
		local count = dbp.count(target)

		str = str..neutral..&quot;[A: &quot;..a..count..neutral..&quot;]&quot;

	end

	if class == &quot;Templar&quot; then cecho(str) end
end</script>
                            <eventHandlerList/>
                        </Script>
                    </ScriptGroup>
                    <ScriptGroup isActive="yes" isFolder="yes">
                        <name>priest</name>
                        <packageName></packageName>
                        <script>priest = priest or {}</script>
                        <eventHandlerList/>
                        <Script isActive="yes" isFolder="no">
                            <name>[d]</name>
                            <packageName></packageName>
                            <script>priest.defences = priest.defences or {}</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>prompt</name>
                            <packageName></packageName>
                            <script>priest.prompt = function(len) 
	local str,neutral = &quot;&quot;,&quot;&lt;dim_grey&gt;&quot;
	local a,m = &quot;&lt;grey&gt;&quot;,&quot;&lt;grey&gt;&quot;
	local n = 50
	n = n - len

	str = string.lpad(str,n,&quot; &quot;)

	if player(target) then
		local count = dbp.count(target)

		str = str..neutral..&quot;[A: &quot;..a..count..neutral..&quot;]&quot;

	end

	if class == &quot;Priest&quot; then cecho(str) end
end</script>
                            <eventHandlerList/>
                        </Script>
                    </ScriptGroup>
                    <ScriptGroup isActive="yes" isFolder="yes">
                        <name>monk</name>
                        <packageName></packageName>
                        <script>monk = monk or {}</script>
                        <eventHandlerList/>
                        <Script isActive="yes" isFolder="no">
                            <name>[d]</name>
                            <packageName></packageName>
                            <script>monk.defences = monk.defences or {}</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>prompt</name>
                            <packageName></packageName>
                            <script>monk.prompt = function(len) 
	local str,neutral = &quot;&quot;,&quot;&lt;dim_grey&gt;&quot;
	local a,m = &quot;&lt;grey&gt;&quot;,&quot;&lt;grey&gt;&quot;
	local n = 50
	n = n - len

	str = string.lpad(str,n,&quot; &quot;)

	if player(target) then
		local count = dbp.count(target)

		str = str..neutral..&quot;[A: &quot;..a..count..neutral..&quot;]&quot;

	end

	if class == &quot;Monk&quot; then cecho(str) end
end</script>
                            <eventHandlerList/>
                        </Script>
                    </ScriptGroup>
                    <ScriptGroup isActive="yes" isFolder="yes">
                        <name>outrider</name>
                        <packageName></packageName>
                        <script>outrider = outrider or {}</script>
                        <eventHandlerList/>
                        <Script isActive="yes" isFolder="no">
                            <name>[d]</name>
                            <packageName></packageName>
                            <script>outrider.defences = outrider.defences or {}</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>prompt</name>
                            <packageName></packageName>
                            <script>outrider.prompt = function(len) 
	local str,neutral = &quot;&quot;,&quot;&lt;dim_grey&gt;&quot;
	local a,m = &quot;&lt;grey&gt;&quot;,&quot;&lt;grey&gt;&quot;
	local n = 50
	n = n - len

	str = string.lpad(str,n,&quot; &quot;)

	if player(target) then
		local count = dbp.count(target)

		str = str..neutral..&quot;[A: &quot;..a..count..neutral..&quot;]&quot;

	end

	if class == &quot;Outrider&quot; then cecho(str) end
end</script>
                            <eventHandlerList/>
                        </Script>
                    </ScriptGroup>
                </ScriptGroup>
                <ScriptGroup isActive="yes" isFolder="yes">
                    <name>demonic</name>
                    <packageName></packageName>
                    <script></script>
                    <eventHandlerList/>
                    <ScriptGroup isActive="yes" isFolder="yes">
                        <name>assassin</name>
                        <packageName></packageName>
                        <script>assassin = assassin or {}</script>
                        <eventHandlerList/>
                        <Script isActive="yes" isFolder="no">
                            <name>[d]</name>
                            <packageName></packageName>
                            <script>assassin.toxin_queue = {
		&quot;hemotoxin&quot;,
		&quot;asthma&quot;,
		&quot;stupidity&quot;,
		&quot;numbness&quot;,
		&quot;clumsiness&quot;,
		&quot;sunallergy&quot;,
		&quot;nausea&quot;,
		&quot;butisol&quot;,
		&quot;metrazol&quot;,
		&quot;slickness&quot;,
		&quot;anorexia&quot;,
		&quot;numbness&quot;,
		&quot;sensitivity&quot;,
		&quot;slow balance&quot;,
		&quot;slow equilibrium&quot;,
		&quot;recklessness&quot;,
		&quot;calotropis&quot;,
		&quot;dizziness&quot;,
		&quot;withered throat&quot;,
		&quot;ignorance&quot;,
		&quot;slow herbs&quot;,
		&quot;slow elixirs&quot;,
		&quot;disloyalty&quot;,

	&quot;hemotoxin&quot;,
	&quot;asthma&quot;,
	&quot;butisol&quot;,
	&quot;sunallergy&quot;,
	&quot;nausea&quot;,
	&quot;numbness&quot;,
	&quot;metrazol&quot;,
	&quot;slickness&quot;,
	&quot;anorexia&quot;,
	&quot;recklessness&quot;,
	&quot;stupidity&quot;,
	&quot;dizziness&quot;,
	&quot;sensitivity&quot;,
	&quot;clumsiness&quot;,
	&quot;weariness&quot;,
	&quot;calotropis&quot;,
	&quot;slow equilibrium&quot;,
	&quot;slow balance&quot;,
	&quot;withered throat&quot;,
	&quot;ignorance&quot;,
	&quot;slow herbs&quot;,
	&quot;slow elixirs&quot;,
	&quot;disloyalty&quot;,
}

shadowplant_timer = shadowplant_timer or 0
shadowplant_timer2 = shadowplant_timer2 or 0
instill_time = instill_time or 0

assassin.defences = assassin.defences or {}
assassin.defences.cloak = assassin.defences.cloak or false
assassin.defences.ghost = assassin.defences.ghost or false
assassin.defences.hide = assassin.defences.hide or false
assassin.defences.harden = assassin.defences.harden or false
assassin.defences.protect = assassin.defences.protect or false
assassin.defences.weaving = assassin.defences.weaving or false

assassin.worm = assassin.worm or &quot;&quot;</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>dbp-ui</name>
                            <packageName></packageName>
                            <script>assassin.dbp = function()
	local time = os.time()
	local str,neutral = &quot;&quot;,&quot;&lt;grey&gt;&quot;
	local hyp = dbp.count(target,&quot;hypno&quot;)
	local hyp_c = &quot;&lt;grey&gt;&quot;
	if hyp &gt; 6 then 
		hyp_c = &quot;&lt;green&gt;&quot;
	elseif hyp &gt;= 4 then
		hyp_c = &quot;&lt;red&gt;&quot;
	end
	local hypno_queue = has(target,&quot;hypno_queue&quot;)

	local f_c, f_t = &quot;&lt;gold&gt; &quot;, 0
	if has(target,&quot;fenugreek&quot;) then
		f_c = &quot;&lt;maroon&gt; &quot;
	elseif has(target,&quot;fenugreek_time&quot;) ~= 0 then
		f_c = &quot;&lt;deep_pink&gt; &quot;
		f_t = os.time() - has(target,&quot;fenugreek_time&quot;)
	end

	-- append hypnosis count, colored differently
	str = str..&quot;Target: &quot;..f_c..target..neutral
	str = str..&quot; +&quot;..hyp_c..hyp..neutral

	if f_t ~= 0 then
		str = str..&quot; (in &quot;..f_t..&quot;)&quot;
	end
	str = str..&quot;\n&quot;

	local e_c = has(target,engulf)
	if e_c then
		e_c = &quot;&lt;green&gt;&quot;
	else
		e_c = neutral
	end
	str = str..&quot;[&quot;..e_c..&quot;Engulf&quot;..neutral..&quot;]&quot;
	str = str..&quot;\n&quot;

	str = str..&quot;[Shadowplant]: &quot;
	local sstate = has(target,&quot;shadowplant_state&quot;)
	if sstate == 1 then
		str = str..&quot;&lt;green&gt;inc &quot;..neutral..&quot;| active &quot; -- &quot;eaten&quot;
	elseif sstate == 2 then
		str = str..neutral..&quot;inc | &lt;green&gt;active&quot;..neutral -- &quot;eaten&quot;
	end
	
	str = str..&quot;\n&quot;

		{ &quot;instill_pending&quot;, &quot;&quot; },
		{ &quot;hypno&quot;, false },
		{ &quot;hypno_snap&quot;, false },
		{ &quot;hypno_snap_timer&quot;, 0 },
		{ &quot;sealed&quot;, false },
		{ &quot;ascourge&quot;, false },
		{ &quot;ascourge_time&quot;, 0 },

		-- do the append
		-- engulf, hypno, sealed, fired
		-- instill pending
		


	local count = 0
	local level = 0.30
	local tablen = ecopy(dbp.players_[target].affs)
	local lcr = { 
		[&quot;0.35&quot;] = &quot;&lt;sea_green&gt;&quot;,
		[&quot;0.55&quot;] = &quot;&lt;forest_green&gt;&quot;,
		[&quot;0.75&quot;] = &quot;&lt;lime_green&gt;&quot;,
	}
	local lfc = function(num)
					if num &lt; 0.35 then num = 0.35 
					elseif num &lt; 0.55 then num = 0.55
					elseif num &lt; 0.75 then num = 0.75
					end
					num = tostring(num)
					if lcr[num] then
						return lcr[num]
					else
						return &quot;&lt;green&gt;&quot;
					end
				end

	local lock_affs = {
		&quot;anorexia&quot;,
		&quot;asthma&quot;,
		&quot;hemotoxin&quot;,
		&quot;impatience&quot;,
		&quot;numbness&quot;,
		&quot;slickness&quot;,
	}

	local c_affs = {}

	if config and config.trax == 2 then
		tablen = ecopy(dbp.players_[target].affs_)
		for i=1,#lock_affs do
			str = str..&quot;\n&quot;
			local dis,turb = &quot;&quot;, &quot;&quot;
			local aff = lock_affs[i]
			local score = has(target,lock_affs[i])

			dis = string.format(&quot;%3.2f&quot;,score)
			if score &gt;= level then 
				local k = lfc(score)
				dis = k..dis..&quot;&lt;grey&gt;&quot;
			else 
				dis = &quot;&lt;saddle_brown&gt;&quot;..dis..&quot;&lt;grey&gt;&quot; 
			end

			turb = string.rpad(aff,23,&quot; &quot;)
			if score &gt;= level then 
				local k = lfc(score)
				if has(target,&quot;instill.&quot;..aff) then k = &quot;&lt;orange&gt;&quot; end
				if table.contains(hypno_queue,k) then k = &quot;&lt;deep_sky_blue&gt;&quot; end
				turb = k..turb..&quot;&lt;grey&gt;&quot; 
			else 
				turb = &quot;&lt;dim_grey&gt;&quot;..turb..&quot;&lt;grey&gt;&quot; 
			end
			str = str..&quot;[&quot;..dis..&quot;] &quot;..turb
		end
		str = str..&quot;\n\n&quot;
		for k,v in pairs(tablen) do
			if not table.contains(lock_affs,k) and not table.contains(c_affs,k) and v &gt;= level then
				local shine = lfc(v)
				local dis,turb = &quot;&quot;, &quot;&quot;
				if has(target,&quot;instill.&quot;..k) then k = &quot;&lt;orange&gt;&quot; end
				if table.contains(hypno_queue,k) then k = &quot;&lt;deep_sky_blue&gt;&quot; end
				dis = shine..string.format(&quot;%3.2f&quot;,v)..&quot;&lt;grey&gt;&quot;
				turb = string.rpad(k,23,&quot; &quot;)
				turb = shine..turb..&quot;&lt;grey&gt;&quot;
				str = str..&quot;[&quot;..dis..&quot;] &quot;..turb..&quot;\n&quot;
			end
		end
	else
		for i=1,#lock_affs do
			str = str..&quot;\n&quot;
			local dis,turb = &quot;&quot;, &quot;&quot;
			if has(target,lock_affs[i]) then 
				dis = &quot;&lt;green&gt;x&lt;grey&gt;&quot; 
			else 
				dis = &quot;&lt;saddle_brown&gt;o&lt;grey&gt;&quot; 
			end
			turb = string.rpad(lock_affs[i],23,&quot; &quot;)
			if has(target,lock_affs[i]) then 
				if has(target,&quot;instill.&quot;..lock_affs[i]) then
					turb = &quot;&lt;orange&gt;&quot;..turb..&quot;&lt;grey&gt;&quot;
				elseif table.contains(hypno_queue,k) then 
					turb = &quot;&lt;deep_sky_blue&gt;&quot;..turb..&quot;&lt;grey&gt;&quot;
				else
				turb = &quot;&lt;green&gt;&quot;..turb..&quot;&lt;grey&gt;&quot; 
				end
			else 
				turb = &quot;&lt;dim_grey&gt;&quot;..turb..&quot;&lt;grey&gt;&quot; 
			end
			str = str..&quot;[&quot;..dis..&quot;] &quot;..turb
		end
		str = str..&quot;\n\n&quot;
		for k,v in pairs(tablen) do
			if not table.contains(lock_affs,k) and not table.contains(c_affs,k) and v then
				local shine = &quot;&lt;green&gt;&quot;
				local dis,turb = &quot;&quot;, &quot;&quot;
				if has(target,&quot;instill.&quot;..k) then k = &quot;&lt;orange&gt;&quot; end
				if table.contains(hypno_queue,k) then k = &quot;&lt;deep_sky_blue&gt;&quot; end
				dis = shine..&quot;x&lt;grey&gt;&quot;
				turb = string.rpad(k,23,&quot; &quot;)
				turb = shine..turb..&quot;&lt;grey&gt;&quot;
				str = str..&quot;[&quot;..dis..&quot;] &quot;..turb..&quot;\n&quot;
			end
		end
	end
	return str
end</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>reset</name>
                            <packageName></packageName>
                            <script>assassin.reset = function()
	shadowplant_timer = 0
	shadowplant_timer2 = 0
	instill_time = 0
	assassin.defences = {
		cloak = false,
		ghost = false,
		hide = false,
		harden = false,
		protect = false,
		weaving = false,
	}
	assassin.worm = &quot;&quot;
end</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>prompt</name>
                            <packageName></packageName>
                            <script>assassin.prompt = function(len) 
	local str,neutral = &quot;&quot;,&quot;&lt;dim_grey&gt;&quot;
	local a,m = &quot;&lt;grey&gt;&quot;,&quot;&lt;grey&gt;&quot;
	local n = 36
	n = n - len

	str = string.lpad(str,n,&quot; &quot;)

	if player(target) then
		local count = dbp.count(target)
		local mcount = dbp.count(target,&quot;hypno&quot;)

		str = str..neutral..&quot;[A: &quot;..a..count..neutral..&quot;][M: &quot;..m..mcount..neutral..&quot;] &quot;

	end

	if class == &quot;Assassin&quot; then cecho(str) end
end</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>ui_refresh</name>
                            <packageName></packageName>
                            <script>assassin.ui_refresh = function()
	clearWindow(&quot;assassin_ui&quot;)
	local str = &quot;&quot;
	local time = os.time()
	local neutral = &quot;&lt;grey&gt;&quot;

	local color = &quot;&lt;goldenrod&gt;&quot;
	if player(target) then color = &quot;&lt;medium_aquamarine&gt;&quot; end
	if player(target) and has(target,&quot;hypno&quot;) then color = &quot;&lt;yellow&gt;&quot; end
	if player(target) and has(target,&quot;sealed&quot;) then color = &quot;&lt;red&gt;&quot; end

	str = str..&quot;T: &quot;..color..target..neutral..&quot; &quot;

	-- first part
	-------------
	if player(target) then
		local random_affs = has(target,&quot;random_affs&quot;)
		local random_affs_c = neutral
		if random_affs &gt; 1 then random_affs_c = &quot;&lt;red&gt;&quot; end
		str = str..neutral..&quot;(+&quot;..random_affs_c..random_affs..neutral..&quot;) &quot;
	end

	local cn = &quot;&lt;grey&gt;&quot;
	if q_color[q_type] then cn = &quot;&lt;&quot;..q_color[q_type]..&quot;&gt;&quot; end
	str = str..&quot; [:&quot;..cn..q_type..neutral..&quot;]&quot;

	-- second part
	-------------
	str = str..&quot;\n&quot;

	if player(target) then

		local worm = assassin.worm
		local worm_c = &quot;&lt;dim_grey&gt;&quot;
		local worm_t = {
			[&quot;Rashirmir&quot;] = &quot;DRE&quot;,
			[&quot;the volcano&quot;] = &quot;VOL&quot;,
			[&quot;the Demonic Plane&quot;] = &quot;DEM&quot;,
			[&quot;the frozen tundra&quot;] = &quot;TUN&quot;,
			[&quot;itself&quot;] = &quot;CIR&quot;,
		}
		local worm_ct = {
			[&quot;Rashirmir&quot;] = &quot;&lt;medium_slate_blue&gt;&quot;,
			[&quot;the volcano&quot;] = &quot;&lt;orange_red&gt;&quot;,
			[&quot;the Demonic Plane&quot;] = &quot;&lt;violet_red&gt;&quot;,
			[&quot;the frozen tundra&quot;] = &quot;&lt;dodger_blue&gt;&quot;,
			[&quot;itself&quot;] = &quot;&lt;spring_green&gt;&quot;,
		}

		str = str..&quot;[&quot;
		local count = 0
		for k,v in orderedPairs(worm_t) do
			count = count + 1
			if k == worm and worm_ct[k] then 
				str = str..worm_ct[k]
			else 
				str = str..&quot;&lt;dim_grey&gt;&quot;
			end	
			str = str..worm_t[k]..neutral
			if count == 5 then
			else
				str = str..&quot;|&quot;
			end
		end
		str = str..neutral..&quot;] &quot;

		local hemo, sun = &quot;&lt;red&gt;&quot;,&quot;&lt;red&gt;&quot;
		if has(target,&quot;instill.hemotoxin&quot;) then hemo = &quot;&lt;green&gt;&quot; end
		if has(target,&quot;instill.sunallergy&quot;) then sun = &quot;&lt;green&gt;&quot; end

		str = str..&quot;[&quot;..hemo..&quot;HEMOT&quot;..neutral..&quot;] &quot;
		str = str..&quot;[&quot;..sun ..&quot;SALLE&quot;..neutral..&quot;] &quot;
	end

	local parry_c = &quot;&lt;dim_grey&gt;&quot;
	if limb.parry ~= &quot;nothing&quot; then parry_c = &quot;&lt;medium_aquamarine&gt;&quot; end
	str = str..&quot;P: &quot;..parry_c..string.title(limb.parry)..neutral

	-- third part
	-------------
	str = str..&quot;\n&quot;
	local gho, hid, har, wvg, pro = &quot;&lt;red&gt;&quot;,&quot;&lt;red&gt;&quot;,&quot;&lt;red&gt;&quot;,&quot;&lt;red&gt;&quot;, &quot;&lt;red&gt;&quot;
	local clk = &quot;&lt;red&gt;&quot;

	if assassin.defences.ghost then gho = &quot;&lt;medium_sea_green&gt;&quot; end
	if assassin.defences.hide then hid = &quot;&lt;medium_sea_green&gt;&quot; end
	if assassin.defences.harden then har = &quot;&lt;medium_sea_green&gt;&quot; end
	if assassin.defences.weaving then wvg = &quot;&lt;medium_sea_green&gt;&quot; end
	if assassin.defences.protect then pro = &quot;&lt;medium_sea_green&gt;&quot; end
	if assassin.defences.cloak then clk = &quot;&lt;medium_sea_green&gt;&quot; end

	str = str..&quot;[&quot;..wvg..&quot;WVG&quot;..neutral..&quot;] &quot;
	str = str..&quot;[&quot;..pro..&quot;PRO&quot;..neutral..&quot;] &quot;
	str = str..&quot;[&quot;..hid..&quot;HID&quot;..neutral..&quot;] &quot;
	str = str..&quot;[&quot;..har..&quot;HAR&quot;..neutral..&quot;] &quot;
	str = str..&quot;[&quot;..gho..&quot;GHO&quot;..neutral..&quot;] &quot;
	str = str..&quot;[&quot;..clk..&quot;CLK&quot;..neutral..&quot;] &quot;

	local lse = &quot;&lt;red&gt;&quot;
	if df_ and df_.landsense then lse = &quot;&lt;green&gt;&quot; end
	str = str..&quot;[&quot;..lse..&quot;LSE&quot;..neutral..&quot;] &quot;

	local limb_c = &quot;&lt;dim_grey&gt;&quot;
	if limb.target ~= &quot;nothing&quot; then limb_c = &quot;&lt;medium_aquamarine&gt;&quot; end
	str = str..&quot;T: &quot;..limb_c..string.title(limb.target)

	cecho(&quot;assassin_ui&quot;,str)
end</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>timer</name>
                            <packageName></packageName>
                            <script>assassin.timer = function()
	if class == &quot;Assassin&quot; then

		-- operate only on 'target' otherwise the overhead is too big
		local time = os.time()

		if player(target) then
			local fenugreek_t = has(target,&quot;fenugreek_time&quot;)
			
			if fenugreek_t ~= 0 then
			fenugreek_t = time - fenugreek_t
			if fenugreek_t &gt; 5 then
				cecho(&quot;\n&lt;white&gt;Resetting Fenugreek Timer&quot;)
				set(target,&quot;fenugreek&quot;,true)
				set(target,&quot;fenugreek_time&quot;,0)
			end
			end
	
			local ascourge_t = has(target,&quot;ascourge_time&quot;)
			if ascourge_t ~= 0 then
			ascourge_t = time - ascourge_t
			if ascourge_t &gt; 5 then
				cecho(&quot;\n&lt;white&gt;Resetting Scourge Timer&quot;)
				set(target,&quot;ascourge&quot;,false)
				set(target,&quot;ascourge_time&quot;,0)
			end
			end

		end

		assassin.ui_refresh()
	end
end</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>sleep</name>
                            <packageName></packageName>
                            <script>assassin.sleep = function(name)
	local str = &quot;&quot;

	if player(name) then

		if has(name,&quot;shield&quot;) then 
			str = str..&quot;touch hammer target&quot;..sp
			str = str..&quot;suggest target whisper&quot;..sp
		elseif has(name,&quot;rebounding&quot;) then
			str = str..&quot;flay target aura&quot;..sp
			str = str..&quot;suggest target whisper&quot;..sp
		else
			str = str..&quot;dstab target opium opium&quot;..sp
			str = str..&quot;suggest target whisper&quot;..sp
		end
	else
		str = &quot;dstab target opium opium&quot;..sp
		str = str..&quot;suggest target whisper&quot;..sp
	end	
	
	str = str:gsub(&quot;target&quot;,name)
	send(str)
end</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>choose_toxin</name>
                            <packageName></packageName>
                            <script>assassin.choose_toxin = function(name,list)
	if not player(name) and type(name) == &quot;table&quot; then
		list = name
		name = me
	end

	_hload(name)

	local toxin,toxin2 = &quot;&quot;,&quot;&quot;
	local list = list or ecopy(assassin.toxin_queue)

	if q_type == &quot;vBard&quot; then
		list = {
			&quot;numbness&quot;,
			&quot;asthma&quot;,
			&quot;hemotoxin&quot;,
			&quot;slow equilibrium&quot;,
			&quot;slickness&quot;,
			&quot;anorexia&quot;,
			&quot;withered throat&quot;,
			&quot;slow herbs&quot;,
			&quot;butisol&quot;,
			&quot;sunallergy&quot;,
			&quot;numbness&quot;,
			&quot;metrazol&quot;,
			&quot;clumsiness&quot;,
			&quot;nausea&quot;,
			&quot;stupidity&quot;,
			&quot;sensitivity&quot;,
			&quot;recklessness&quot;,
			&quot;calotropis&quot;,
			&quot;slow balance&quot;,
			&quot;dizziness&quot;,
			&quot;ignorance&quot;,
			&quot;slow elixirs&quot;,
			&quot;disloyalty&quot;,
		}
	end

	if _G.paralysis then
		table.remove(list,table.index_of(list,&quot;numbness&quot;))
	end

	for i=1, #list do
		if not _G[list[i]] then
			toxin = list[i]
			break
		end
	end
	for i=1, #list do
		if list[i] ~= toxin and not _G[list[i]] then
			toxin2 = list[i]
			break
		end
	end

	toxin = lookup(toxin,dban.toxin_dictionary)
	toxin2 = lookup(toxin2,dban.toxin_dictionary)

	return toxin, toxin2
end</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>assassin.dstab</name>
                            <packageName></packageName>
                            <script>assassin.dstab = function(name)
	_hload(name)

	local str = &quot;&quot;
	local toxin, toxin2 = assassin.choose_toxin(name)

	if has(name,&quot;rebounding&quot;) then
		str = str..&quot;flay target aura&quot;..sp
	elseif has(name, &quot;shield&quot;) then
		str = str..&quot;touch hammer target&quot;..sp
	else
		str = str..&quot;dstab target &quot;..toxin..&quot; &quot;..toxin2..sp
	end	

	if hemotoxin and butisol and weariness and clumsiness then
		str = str..&quot;queue eq worm instill target hemotoxin&quot;..sp
	elseif has(name,&quot;shadowplant_state&quot;) == 0 then
		str = str..&quot;worm shadowplant target kelp&quot;..sp
	end	

	str = str:gsub(&quot;target&quot;,name)
	send(str)
end

</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>assassin.damage</name>
                            <packageName></packageName>
                            <script>assassin.damage = function(name,ta)
	local str = &quot;&quot;
	local ta = ta or true

	if has(name,&quot;shield&quot;) then
		str = str..&quot;touch hammer target&quot;..sp
	elseif not has(name,&quot;ascourge&quot;) and not has(name,&quot;rebounding&quot;) then
		send(&quot;queue reset all&quot;)
		str = str..&quot;queue eqbal scourge target&quot;..sp
		str = str..&quot;worm choke target&quot;..sp
		if ta then str = str..&quot;trueassess target&quot;..sp end
	elseif has(name,&quot;fenugreek&quot;) then
		send(&quot;queue reset all&quot;)
		str = str..&quot;flay target&quot;..sp
	else
		send(&quot;queue bal puncture &quot;..name..&quot; with trioxin&quot;)
		str = str..&quot;queue eq worm choke target&quot;..sp
		if ta then str = str..&quot;trueassess target&quot;..sp end
	end

	str = str:gsub(&quot;target&quot;,name)
	send(str)
end
</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>assassin.whisper</name>
                            <packageName></packageName>
                            <script>assassin.whisper = function(name)
	local str = &quot;&quot;
	local t = {
		&quot;stupidity&quot;,
		&quot;hemotoxin&quot;,
		&quot;asthma&quot;,
		&quot;butisol&quot;,
		&quot;sensitivity&quot;,
		&quot;anorexia&quot;,
		&quot;slickness&quot;,
		&quot;sunallergy&quot;,
		&quot;nausea&quot;,
		&quot;metrazol&quot;,
		&quot;numbness&quot;,
		&quot;recklessness&quot;,
		&quot;dizziness&quot;,
		&quot;clumsiness&quot;,
		&quot;weariness&quot;,
		&quot;calotropis&quot;,
		&quot;slow equilibrium&quot;,
		&quot;slow balance&quot;,
		&quot;withered throat&quot;,
		&quot;ignorance&quot;,
		&quot;slow herbs&quot;,
		&quot;slow elixirs&quot;,
		&quot;disloyalty&quot;,
	}

	_hload(name)
	local toxin, toxin2 = assassin.choose_toxin(name)


	if has(name,&quot;rebounding&quot;) then
		str = str..&quot;flay target aura&quot;..sp
	elseif has(name, &quot;shield&quot;) then
		str = str..&quot;touch hammer target&quot;..sp
	else
		-- Before lookup the syntax, check for reporting:
		local inc = {&quot;anorexia&quot;,&quot;asthma&quot;}
		if config and config.share_full then
			str = str..&quot;clan military tell afflicted &quot;..name..&quot; &quot;..toxin..sp
			str = str..&quot;clan military tell afflicted &quot;..name..&quot; &quot;..toxin2..sp
		elseif config and config.share then
			if table.contains(inc,toxin) then
			str = str..&quot;clan military tell afflicted &quot;..name..&quot; &quot;..toxin..sp
			end
			if table.contains(inc,toxin2) then
			str = str..&quot;clan military tell afflicted &quot;..name..&quot; &quot;..toxin2..sp
			end
		end

		str = &quot;dstab target &quot;..toxin..&quot; &quot;..toxin2..sp..str
	end	

	str = &quot;queue eqbal &quot;..str..&quot;suggest target whisper&quot;..sp

	str = str:gsub(&quot;target&quot;,name)
	send(str)
end</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>assassin.final</name>
                            <packageName></packageName>
                            <script>assassin.final = function(name)
	local str = &quot;&quot;

	local tlist = {
		&quot;asthma&quot;,
		&quot;slow balance&quot;,
	&quot;clumsiness&quot;,
	&quot;metrazol&quot;,
		&quot;numbness&quot;,
		&quot;hemotoxin&quot;,
		&quot;clumsiness&quot;,
		&quot;butisol&quot;,
		&quot;asthma&quot;,
		&quot;sunallergy&quot;,
		&quot;slickness&quot;,
		&quot;anorexia&quot;,
		&quot;numbness&quot;,
		&quot;metrazol&quot;,
		&quot;nausea&quot;,
		&quot;stupidity&quot;,
		&quot;sensitivity&quot;,
		&quot;recklessness&quot;,
		&quot;calotropis&quot;,
		&quot;slow equilibrium&quot;,
		&quot;dizziness&quot;,
		&quot;withered throat&quot;,
		&quot;ignorance&quot;,
		&quot;slow herbs&quot;,
		&quot;slow elixirs&quot;,
		&quot;disloyalty&quot;,
	}
	local hlist = {
		&quot;impatience&quot;,
		&quot;hypochondria&quot;,
		&quot;heroism&quot;,
		&quot;lethargy&quot;,
		&quot;confusion&quot;,
		-- &quot;stupidity&quot;, -- 
		&quot;hallucinations&quot;,
		&quot;claustrophobia&quot;,
		&quot;masochism&quot;,
		-- &quot;clumsiness&quot;, --
		-- &quot;recklessness&quot;, --
		-- &quot;anorexia&quot;, --
	}

	local count = dbp.count(name)
	local shield = has(name,&quot;shield&quot;)
	local rebounding = has(name,&quot;rebounding&quot;)
	local engulf = has(name,&quot;engulf&quot;)
	local i_list = has(name,&quot;instill&quot;)
	local i_pending = has(name,&quot;instill_pending&quot;)

	local shadowplant_state = has(name,&quot;shadowplant_state&quot;)
	local hypno = has(name,&quot;hypno&quot;)
	local hypno_queue = has(name, &quot;hypno_queue&quot; )
	local hypno_snap = has(name, &quot;hypno_snap&quot; )

	local toxin, toxin2 = assassin.choose_toxin( name, tlist )

	-- consider using cyanide
	if anorexia and asthma and hemotoxin and numbness and slickness and count &gt; 10 then
		-- toxin2 = &quot;cyanide&quot;
	end

	str = str..&quot;queue eqbal &quot;
	str = str..&quot;order loyals attack target&quot;..sp
	if shield then
		str = str..&quot;touch hammer &quot;..name..sp
	elseif not engulf then
		str = str..&quot;flay &quot;..name..&quot; aura &quot;..sp
		str = str..&quot;worm engulf &quot;..name..sp
	elseif rebounding then
		str = str..&quot;flay &quot;..name..&quot; aura &quot;..sp
		str = str..&quot;worm engulf &quot;..name..sp
	else
		str = str..&quot;dstab &quot;..name..&quot; &quot;..toxin..&quot; &quot;..toxin2..sp
	end

	if not has(name,&quot;instill.hemotoxin&quot;) and i_pending == &quot;&quot; and hemotoxin and butisol and (asthma or clumsiness or weariness) then
		str = str..&quot;queue eq worm instill target hemotoxin&quot;..sp
	elseif not has(name,&quot;instill.hemotoxin&quot;) and shadowplant_state == 0 then
		str = str..&quot;worm shadowplant target kelp&quot;..sp
	elseif not hypno and not hypno_snap then
		str = str..&quot;hypnotise target&quot;..sp
	elseif #hypno_queue &lt; #hlist and not has(name,&quot;sealed&quot;) then
		local number = #hypno_queue + 1
		str = str..&quot;suggest target &quot;..hlist[number]..sp
	elseif #hypno_queue &gt;= #hlist and not has(name,&quot;sealed&quot;) then
		str = str..&quot;seal target 3&quot;..sp
	elseif not hypno_snap then
		set(name,&quot;sealed&quot;,false)
		str = str..&quot;snap target&quot;..sp
		set(name,&quot;hypno_snap_timer&quot;, tempTimer( #hlist * 3, function() 
			set( name,&quot;hypno_snap&quot;,false) 
			killTimer(has(name,&quot;hypno_snap_timer&quot;)) 
			dbp.players_[name][&quot;hypno_queue&quot;] = {}
		end) )
	else
		str = str..&quot;worm shadowplant target kelp&quot;..sp
	end

	str = str:gsub(&quot;target&quot;,name)
	send(str)
end</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>assassin.annihilate/devour</name>
                            <packageName></packageName>
                            <script>assassin.annihilate = function(name)
	expandAlias(&quot;ac off&quot;)
	local str = &quot;&quot;

	str = str..&quot;queue eq worm attach circular&quot;..sp
	str = str..&quot;queue eqbal worm annihilate target&quot;..sp

	str = str:gsub(&quot;target&quot;,name)
	send(str)
end

assassin.devour = function(name)
	expandAlias(&quot;ac off&quot;)
	local str = &quot;&quot;

	str = str..&quot;queue eq worm attach rashirmir&quot;..sp
	str = str..&quot;queue eqbal worm devour target&quot;..sp

	str = str:gsub(&quot;target&quot;,name)
	send(str)
end</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>assassin.kill</name>
                            <packageName></packageName>
                            <script>assassin.kill = function(name)
	local str = &quot;&quot;

	local tlist = {
		&quot;asthma&quot;,
		&quot;hemotoxin&quot;,
		&quot;slickness&quot;,
		&quot;anorexia&quot;,
		&quot;butisol&quot;,
		&quot;sunallergy&quot;,
		&quot;numbness&quot;,
		&quot;metrazol&quot;,
		&quot;nausea&quot;,
		&quot;stupidity&quot;,
		&quot;sensitivity&quot;,
		&quot;clumsiness&quot;,
		&quot;recklessness&quot;,
		&quot;calotropis&quot;,
		&quot;slow balance&quot;,
		&quot;slow equilibrium&quot;,
		&quot;dizziness&quot;,
		&quot;withered throat&quot;,
		&quot;ignorance&quot;,
		&quot;slow herbs&quot;,
		&quot;slow elixirs&quot;,
		&quot;disloyalty&quot;,
	}
	local hlist = {
		&quot;impatience&quot;,
		&quot;hypochondria&quot;,
		&quot;masochism&quot;,
	}

	local count = dbp.count(name)
	local shield = has(name,&quot;shield&quot;)
	local rebounding = has(name,&quot;rebounding&quot;)
	local engulf = has(name,&quot;engulf&quot;)
	local i_list = has(name,&quot;instill&quot;)
	local i_pending = has(name,&quot;instill_pending&quot;)

	local shadowplant_state = has(name,&quot;shadowplant_state&quot;)
	local hypno = has(name,&quot;hypno&quot;)
	local hypno_queue = has(name, &quot;hypno_queue&quot; )
	local hypno_snap = has(name, &quot;hypno_snap&quot; )

	local toxin, toxin2 = assassin.choose_toxin( name, tlist )

	-- consider using cyanide
	if anorexia and asthma and hemotoxin and numbness and slickness and count &gt; 15 then
		toxin2 = &quot;cyanide&quot;
	end

	str = str..&quot;queue eqbal &quot;
	str = str..&quot;order loyals attack target&quot;..sp
	if shield then
		str = str..&quot;touch hammer &quot;..name..sp
	elseif not engulf then
		str = str..&quot;flay &quot;..name..&quot; aura &quot;..sp
		str = str..&quot;worm engulf &quot;..name..sp
	elseif rebounding then
		str = str..&quot;flay &quot;..name..&quot; aura &quot;..sp
		str = str..&quot;worm engulf &quot;..name..sp
	else
		str = str..&quot;dstab &quot;..name..&quot; &quot;..toxin..&quot; &quot;..toxin2..sp
	end

	if not has(name,&quot;instill.hemotoxin&quot;) and i_pending == &quot;&quot; and hemotoxin and butisol and (asthma or clumsiness or weariness) then
		str = str..&quot;queue eq worm instill target hemotoxin&quot;..sp
	elseif not has(name,&quot;instill.hemotoxin&quot;) and shadowplant_state == 0 then
		str = str..&quot;worm shadowplant target kelp&quot;..sp
	elseif not hypno and not hypno_snap then
		str = str..&quot;hypnotise target&quot;..sp
	elseif #hypno_queue &lt; #hlist and not has(name,&quot;sealed&quot;) then
		local number = #hypno_queue + 1
		str = str..&quot;suggest target &quot;..hlist[number]..sp
	elseif #hypno_queue &gt;= #hlist and not has(name,&quot;sealed&quot;) then
		str = str..&quot;seal target 3&quot;..sp
	elseif not hypno_snap then
		set(name,&quot;sealed&quot;,false)
		str = str..&quot;snap target&quot;..sp
		set(name,&quot;hypno_snap_timer&quot;, tempTimer( #hlist * 3, function() 
			set( name,&quot;hypno_snap&quot;,false) 
			killTimer(has(name,&quot;hypno_snap_timer&quot;)) 
			dbp.players_[name][&quot;hypno_queue&quot;] = {}
		end) )
	else
		str = str..&quot;worm shadowplant target kelp&quot;..sp
	end

	str = str:gsub(&quot;target&quot;,name)
	send(str)
end</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>assassin.asthma</name>
                            <packageName></packageName>
                            <script>assassin.asthma = function(name)
	local str = &quot;&quot;

	local tlist = {
		&quot;hemotoxin&quot;,
		-- &quot;clumsiness&quot;,
		&quot;butisol&quot;,
		&quot;asthma&quot;,
		&quot;stupidity&quot;,
		&quot;recklessness&quot;,
		&quot;ignorance&quot;,
		&quot;disloyalty&quot;,
		&quot;sunallergy&quot;,
		&quot;slow balance&quot;,
		&quot;metrazol&quot;,
		&quot;nausea&quot;,
		&quot;sensitivity&quot;,
		&quot;calotropis&quot;,
		&quot;dizziness&quot;,
		&quot;withered throat&quot;,
		&quot;slow equilibrium&quot;,
		&quot;slow herbs&quot;,
		&quot;slow elixirs&quot;,
	}
	local hlist = {
		&quot;impatience&quot;,
		&quot;hypochondria&quot;,
		&quot;heroism&quot;,
		&quot;lethargy&quot;,
		&quot;confusion&quot;,
		-- &quot;stupidity&quot;, -- 
		&quot;hallucinations&quot;,
		&quot;claustrophobia&quot;,
		&quot;masochism&quot;,
		-- &quot;clumsiness&quot;, --
		-- &quot;recklessness&quot;, --
		-- &quot;anorexia&quot;, --
	}

	local count = dbp.count(name)
	local focusable = dbp.count(name,&quot;focus&quot;)
	local shield = has(name,&quot;shield&quot;)
	local rebounding = has(name,&quot;rebounding&quot;)
	local engulf = has(name,&quot;engulf&quot;)
	local i_list = has(name,&quot;instill&quot;)
	local i_pending = has(name,&quot;instill_pending&quot;)

	local shadowplant_state = has(name,&quot;shadowplant_state&quot;)
	local hypno = has(name,&quot;hypno&quot;)
	local hypno_queue = has(name, &quot;hypno_queue&quot; )
	local hypno_snap = has(name, &quot;hypno_snap&quot; )

	if has(name,&quot;tree&quot;) or (os.time() - has(name,&quot;tree_time&quot;)) &gt;= 12 then
		table.insert(tlist,1,&quot;numbness&quot;)
	else
		table.insert(tlist,1,&quot;metrazol&quot;)
	end
	
	if impatience then
		table.insert(tlist,1,&quot;anorexia&quot;)
		table.insert(tlist,1,&quot;slickness&quot;)
	elseif asthma and (numbness or paralysis) and hemotoxin and focusable &gt;= 2 then
		table.insert(tlist,1,&quot;anorexia&quot;)
		table.insert(tlist,1,&quot;slickness&quot;)
		vw.private(&quot;Focusable count: &quot;..focusable..&quot;.&quot;)
	elseif asthma and hemotoxin and count &gt;= 4 and (not numbness or not paralysis) then
		table.insert(tlist,1,&quot;numbness&quot;)
	end

	local toxin, toxin2 = assassin.choose_toxin( name, tlist )

	-- always deliver anorexia with slickness
	if not slickness and not anorexia then
	if toxin == &quot;iodine&quot; and toxin2 ~= &quot;bromine&quot; then
		toxin2 = &quot;bromine&quot;
	elseif toxin == &quot;bromine&quot; and toxin2 ~= &quot;iodine&quot; then
		toxin2 = &quot;iodine&quot;
	end
	end

	str = str..&quot;queue eqbal &quot;
	-- str = str..&quot;order loyals attack target&quot;..sp
	if shield then
		str = str..&quot;touch hammer &quot;..name..sp
	elseif rebounding then
		str = str..&quot;flay &quot;..name..&quot; aura &quot;..sp
		str = str..&quot;worm engulf &quot;..name..sp
	else
		str = str..&quot;dstab &quot;..name..&quot; &quot;..toxin..&quot; &quot;..toxin2..sp
	end

	if has(name,&quot;instill.asthma&quot;) and shadowplant_state == 0 and hemotoxin and (butisol or clumsiness or weariness) then
		str = str..&quot;worm shadowplant target maidenhair &quot;..sp
	elseif not has(name,&quot;instill.asthma&quot;) and i_pending == &quot;&quot; and asthma and hemotoxin and (butisol or clumsiness or weariness) then
		str = str..&quot;queue eq worm instill target asthma&quot;..sp
	elseif not has(name,&quot;instill.asthma&quot;) and shadowplant_state == 0 then
		str = str..&quot;worm shadowplant target kelp&quot;..sp
	else
		str = str..&quot;worm shadowplant target kelp&quot;..sp
	end

	str = str:gsub(&quot;target&quot;,name)
	send(str)
end</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>assassin.impatience</name>
                            <packageName></packageName>
                            <script>assassin.impatience = function(name)
	local str = &quot;&quot;

	local tlist = {
		&quot;numbness&quot;,
		&quot;hemotoxin&quot;,
		&quot;clumsiness&quot;,
		&quot;butisol&quot;,
		&quot;asthma&quot;,
		&quot;sunallergy&quot;,
		&quot;slickness&quot;,
		&quot;anorexia&quot;,
		&quot;numbness&quot;,
		&quot;metrazol&quot;,
		&quot;nausea&quot;,
		&quot;stupidity&quot;,
		&quot;sensitivity&quot;,
		&quot;recklessness&quot;,
		&quot;calotropis&quot;,
		&quot;slow balance&quot;,
		&quot;slow equilibrium&quot;,
		&quot;dizziness&quot;,
		&quot;withered throat&quot;,
		&quot;ignorance&quot;,
		&quot;slow herbs&quot;,
		&quot;slow elixirs&quot;,
		&quot;disloyalty&quot;,
	}
	local hlist = {
		&quot;impatience&quot;,
		&quot;hypochondria&quot;,
	}

	local count = dbp.count(name)
	local shield = has(name,&quot;shield&quot;)
	local rebounding = has(name,&quot;rebounding&quot;)
	local engulf = has(name,&quot;engulf&quot;)
	local i_list = has(name,&quot;instill&quot;)
	local i_pending = has(name,&quot;instill_pending&quot;)

	local shadowplant_state = has(name,&quot;shadowplant_state&quot;)
	local hypno = has(name,&quot;hypno&quot;)
	local hypno_queue = has(name, &quot;hypno_queue&quot; )
	local hypno_snap = has(name, &quot;hypno_snap&quot; )

	local toxin, toxin2 = assassin.choose_toxin( name, tlist )

	-- consider using cyanide
	if anorexia and asthma and hemotoxin and numbness and slickness and count &gt; 10 then
		-- toxin2 = &quot;cyanide&quot;
	end

	str = str..&quot;queue eqbal &quot;
	-- str = str..&quot;order loyals attack target&quot;..sp
	if shield then
		str = str..&quot;touch hammer &quot;..name..sp
	elseif rebounding and not engulf then
		str = str..&quot;flay &quot;..name..&quot; aura &quot;..sp
	else
		str = str..&quot;dstab &quot;..name..&quot; &quot;..toxin..&quot; &quot;..toxin2..sp
	end

	if not hypno and not hypno_snap then
		str = str..&quot;hypnotise target&quot;..sp
	elseif #hypno_queue &lt; #hlist and not has(name,&quot;sealed&quot;) then
		local number = #hypno_queue + 1
		str = str..&quot;suggest target &quot;..hlist[number]..sp
	elseif #hypno_queue &gt;= #hlist and not has(name,&quot;sealed&quot;) then
		str = str..&quot;seal target 3&quot;..sp
	else
		str = str..&quot;worm shadowplant target mandrake&quot;..sp
	end

	str = str:gsub(&quot;target&quot;,name)
	send(str)
end</script>
                            <eventHandlerList/>
                        </Script>
                    </ScriptGroup>
                    <ScriptGroup isActive="yes" isFolder="yes">
                        <name>deathknight</name>
                        <packageName></packageName>
                        <script>deathknight = deathknight or {}</script>
                        <eventHandlerList/>
                        <Script isActive="yes" isFolder="no">
                            <name>[d]</name>
                            <packageName></packageName>
                            <script>deathknight.toxin_queue = {	
	&quot;hemotoxin&quot;,
	&quot;asthma&quot;,
	&quot;butisol&quot;,
	&quot;sunallergy&quot;,
	&quot;stupidity&quot;,
	&quot;nausea&quot;,
	&quot;sensitivity&quot;,
	&quot;ignorance&quot;,
	&quot;recklessness&quot;,
	&quot;calotropis&quot;,
	&quot;slow equilibrium&quot;,
	&quot;slow balance&quot;,
	&quot;slickness&quot;,
	&quot;anorexia&quot;,
	&quot;numbness&quot;,
	&quot;metrazol&quot;,
	&quot;dizziness&quot;,
	&quot;clumsiness&quot;,
	&quot;weariness&quot;,
	&quot;withered throat&quot;,
	&quot;slow herbs&quot;,
	&quot;slow elixirs&quot;,
	&quot;disloyalty&quot;,

}

deathknight.suppress = true

--[[	

	&quot;asthma&quot;,
	&quot;slow balance&quot;,
	&quot;hemotoxin&quot;,
	&quot;numbness&quot;,
	&quot;sunallergy&quot;,
	&quot;nausea&quot;,
	&quot;numbness&quot;,
	&quot;clumsiness&quot;,
	&quot;metrazol&quot;,
	&quot;slickness&quot;,
	&quot;anorexia&quot;,
	&quot;recklessness&quot;,
	&quot;stupidity&quot;,
	&quot;dizziness&quot;,
	&quot;sensitivity&quot;,
	&quot;weariness&quot;,
	&quot;calotropis&quot;,
	&quot;slow equilibrium&quot;,
	&quot;slow balance&quot;,
	&quot;withered throat&quot;,
	&quot;ignorance&quot;,
	&quot;slow herbs&quot;,
	&quot;slow elixirs&quot;,
	&quot;disloyalty&quot;, 

	&quot;hemotoxin&quot;,
	&quot;asthma&quot;,
	&quot;slow balance&quot;,
	&quot;butisol&quot;,
	&quot;numbness&quot;,
	&quot;sunallergy&quot;,
	&quot;nausea&quot;,
	&quot;numbness&quot;,
	&quot;clumsiness&quot;,
	&quot;metrazol&quot;,
	&quot;slickness&quot;,
	&quot;anorexia&quot;,
	&quot;recklessness&quot;,
	&quot;stupidity&quot;,
	&quot;dizziness&quot;,
	&quot;sensitivity&quot;,
	&quot;weariness&quot;,
	&quot;calotropis&quot;,
	&quot;slow equilibrium&quot;,
	&quot;slow balance&quot;,
	&quot;withered throat&quot;,
	&quot;ignorance&quot;,
	&quot;slow herbs&quot;,
	&quot;slow elixirs&quot;,
	&quot;disloyalty&quot;, 

	&quot;asthma&quot;,
	&quot;hemotoxin&quot;,
	&quot;sunallergy&quot;,
	&quot;clumsiness&quot;,
	&quot;butisol&quot;,
	&quot;slow balance&quot;,
	&quot;stupidity&quot;,
	&quot;slickness&quot;,
	&quot;anorexia&quot;,
	&quot;metrazol&quot;,
	&quot;nausea&quot;,
	&quot;numbness&quot;,
	&quot;recklessness&quot;,
	&quot;dizziness&quot;,
	&quot;sensitivity&quot;,
	&quot;weariness&quot;,
	&quot;calotropis&quot;,
	&quot;slow equilibrium&quot;,
	&quot;slow balance&quot;,
	&quot;withered throat&quot;,
	&quot;ignorance&quot;,
	&quot;slow herbs&quot;,
	&quot;slow elixirs&quot;,
	&quot;disloyalty&quot;,]]</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>reset</name>
                            <packageName></packageName>
                            <script>deathknight.reset = function()

end</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>prompt</name>
                            <packageName></packageName>
                            <script>deathknight.prompt = function(len) 
	local suppress = deathknight.suppress
	local str = &quot;&quot;
	local n = 45
	n = n - len

	str = string.lpad(str,n,&quot; &quot;)

	if player(target) then
		local count = dbp.count(target)
		local x = &quot;&lt;dim_grey&gt;&quot;
		local c = &quot;&lt;dim_grey&gt;&quot;

		if count &gt;= 5 then c = &quot;&lt;red&gt;&quot; end
	
		str = str..x..&quot;[A: &quot;..c..string.lpad(tostring(count),2)..x..&quot;] &quot;

		local t = limb.counts(target)
		for i=1,#t do
			t[i] = string.lpad(tostring(t[i]),2)
		end
		local h,hc,ra,rac,tr,trc = t[1],t[2],t[3],t[4],t[5],t[6]
		local la,lac,rl,rlc,ll,llc = t[7],t[8],t[9],t[10],t[11],t[12]

		if not suppress then
		str = str..&quot;\n                                                     &quot;
		str = str..&quot;RA:&quot;..ra..&quot;(&quot;..rac..&quot;) &quot;
		str = str..&quot;LA:&quot;..la..&quot;(&quot;..lac..&quot;) &quot;
		str = str..&quot;RL:&quot;..rl..&quot;(&quot;..rlc..&quot;) &quot;
		str = str..&quot;LL:&quot;..ll..&quot;(&quot;..llc..&quot;) &quot;
		end
	end

	if class == &quot;Deathknight&quot; then cecho(str) end
end</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>ui_refresh</name>
                            <packageName></packageName>
                            <script>deathknight.ui_refresh = function()
	clearWindow(&quot;deathknight_ui&quot;)
	local str = &quot;&quot;
	local time = os.time()
	local neutral = &quot;&lt;grey&gt;&quot;
	local color = &quot;&lt;goldenrod&gt;&quot;

	local a,b,c = limb.display(target)

	str = str..a
	str = str..&quot;T: &quot;..color..target..neutral..&quot;  &quot;

	-- second part
	--------------
	str = str..&quot;\n&quot;
	str = str..b

	if player(target) then
	
		local limb_c = &quot;&lt;dim_grey&gt;&quot;
		if limb.target ~= &quot;nothing&quot; then limb_c = &quot;&lt;medium_aquamarine&gt;&quot; end
		str = str..&quot;T: &quot;..limb_c..string.lpad(string.title(limb.target),11,&quot; &quot;)..neutral

		local parry_c = &quot;&lt;dim_grey&gt;&quot;
		if limb.parry ~= &quot;nothing&quot; then parry_c = &quot;&lt;medium_aquamarine&gt;&quot; end
		str = str..&quot; P: &quot;..parry_c..string.lpad(string.title(limb.parry),11,&quot; &quot;)..neutral
	end

	-- third part
	-------------
	str = str..&quot;\n&quot;
	str = str..c

	cecho(&quot;deathknight_ui&quot;,str)
end</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>timer</name>
                            <packageName></packageName>
                            <script>deathknight.timer = function()
	if class == &quot;Deathknight&quot; then

		-- operate only on 'target' otherwise the overhead is too big
		local time = os.time()

		if player(target) then

		end

		deathknight.ui_refresh()
	end
end</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>choose_toxin</name>
                            <packageName></packageName>
                            <script>deathknight.choose_toxin = function(name,list)
	if not player(name) and type(name) == &quot;table&quot; then
		list = name
		name = me
	end

	_hload(name)

	local toxin,toxin2 = &quot;&quot;,&quot;&quot;
	local list = list or ecopy(deathknight.toxin_queue)

	-- Some custom logic before choosing
	local time = os.time()
	local herb = has(name,&quot;herb&quot;)
	local herbT = has(name,&quot;herb_time&quot;)
	local purge = has(name,&quot;purge&quot;)
	local purgeT = has(name,&quot;purge_time&quot;)
	local tree = has(name,&quot;tree&quot;)
	local treeT = has(name,&quot;tree_time&quot;)

	if purgeT ~= 0 then
		purgeT = 15 - (os.time() - purgeT)
	end

	if herb and not anorexia and (not paralysis or not numbness) and not metrazol then
		table.insert(list,1,&quot;numbness&quot;)
	elseif tree and (not paralysis or not numbness) then
		table.insert(list,1,&quot;numbness&quot;)
	end
	if (not purge or purgeT &lt; 5) and not hemotoxin and not paralysis and not table.contains(list,&quot;numbness&quot;) then
		table.insert(list,1,&quot;metrazol&quot;)
	end
	if (not purge or hemotoxin) and asthma and (hemotoxin or butisol) then
		-- table.insert(list,1,&quot;anorexia&quot;)
		-- table.insert(list,1,&quot;slickness&quot;)
	end
	if impatience then
		table.insert(list,1,&quot;anorexia&quot;)
		table.insert(list,1,&quot;slickness&quot;)
		table.insert(list,1,&quot;asthma&quot;)
		table.insert(list,1,&quot;hemotoxin&quot;)
		-- hemo, asthma, slickness, anorexia
	end
	-- End custom logic

	if _G.paralysis then
		table.remove(list,table.index_of(list,&quot;numbness&quot;))
	end

	for i=1, #list do
		if not _G[list[i]] then
			toxin = list[i]
			break
		end
	end
	for i=1, #list do
		if list[i] ~= toxin and not _G[list[i]] then
			toxin2 = list[i]
			break
		end
	end

	-- Always pair slickness and anorexia
	if toxin == &quot;slickness&quot; and not anorexia then toxin2 = &quot;anorexia&quot; end
	if toxin == &quot;anorexia&quot; and not slickness then toxin2 = &quot;slickness&quot; end
	if toxin2 == &quot;anorexia&quot; and toxin ~= &quot;slickness&quot; then toxin = &quot;slickness&quot; end
	if toxin2 == &quot;slickness&quot; and toxin ~= &quot;anorexia&quot; then toxin = &quot;anorexia&quot; end

	toxin = lookup(toxin,dban.toxin_dictionary)
	toxin2 = lookup(toxin2,dban.toxin_dictionary)

	return toxin, toxin2
end</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>sleep</name>
                            <packageName></packageName>
                            <script>deathknight.sleep = function(name)
	local str = &quot;&quot;

	if player(name) then

		if has(name,&quot;shield&quot;) or has(name,&quot;rebounding&quot;) then 
			str = str..&quot;rsl target ciguatoxin&quot;..sp
		else
			str = str..&quot;dsl target opium opium&quot;..sp
		end
	else
		str = &quot;rsl target ciguatoxin&quot;..sp
	end	
	
	str = str:gsub(&quot;target&quot;,name)
	send(str)
end</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>deathknight.dsl</name>
                            <packageName></packageName>
                            <script>deathknight.dsl = function(name)
	local str = &quot;&quot;

	local toxin, toxin2 = deathknight.choose_toxin(name)

	if has(name,&quot;shield&quot;) or has(name,&quot;rebounding&quot;) then
		str = str..&quot;rsl target &quot;..toxin..sp
	else
		str = str..&quot;dsl target &quot;..toxin..&quot; &quot;..toxin2..sp
	end	

	-- Before lookup the syntax, check for reporting:
	local inc = {&quot;impatience&quot;,&quot;anorexia&quot;,&quot;asthma&quot;}
	local t = revlookup(toxin,dban.toxin_dictionary)
	local t2 = revlookup(toxin2,dban.toxin_dictionary)

	if config and config.share_full then
		str = &quot;queue eqbal &quot;..str
		str = str..&quot;clan military tell afflicted &quot;..name..&quot; &quot;..t..sp
		if not string.match(str,&quot;rsl&quot;) then
			str = str..&quot;clan military tell afflicted &quot;..name..&quot; &quot;..t2..sp
		end
	elseif config and config.share then
		if table.contains(inc,toxin) then
			str = str..&quot;clan military tell afflicted &quot;..name..&quot; &quot;..t..sp
		end
		if table.contains(inc,toxin2) and not string.match(str,&quot;rsl&quot;) then
			str = str..&quot;clan military tell afflicted &quot;..name..&quot; &quot;..t2..sp
		end
		str = &quot;queue eqbal &quot;..str
	end
	
	str = str:gsub(&quot;target&quot;,name)
	return str
end</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>deathknight.damage</name>
                            <packageName></packageName>
                            <script>deathknight.damage = function(name)
	local list = {
	&quot;stupidity&quot;,
	&quot;slow elixirs&quot;,
	&quot;nausea&quot;,
	&quot;anorexia&quot;,
		-- claustrophobia
		-- caloric strip
	&quot;numbness&quot;,
	&quot;hemotoxin&quot;,
	&quot;asthma&quot;,
	&quot;butisol&quot;,
	&quot;sunallergy&quot;,
	&quot;numbness&quot;,
	&quot;metrazol&quot;,
	&quot;slickness&quot;,
	&quot;numbness&quot;,
	&quot;recklessness&quot;,
	&quot;stupidity&quot;,
	&quot;dizziness&quot;,
	&quot;sensitivity&quot;,
	&quot;clumsiness&quot;,
	&quot;weariness&quot;,
	&quot;calotropis&quot;,
	&quot;slow equilibrium&quot;,
	&quot;slow balance&quot;,
	&quot;withered throat&quot;,
	&quot;ignorance&quot;,
	&quot;slow herbs&quot;,
	&quot;disloyalty&quot;,
	}

	local str = &quot;&quot;

	local toxin, toxin2 = deathknight.choose_toxin(name,list)

	if has(name,&quot;shield&quot;) or has(name,&quot;rebounding&quot;) then
		send(&quot;queue reset eqbal&quot;)
		str = str..&quot;queue eqbal quickdraw sabre shield&quot;..sp
		str = str..&quot;rsl target &quot;..toxin..sp
		str = str..&quot;engage target&quot;..sp
	else
		local t = {&quot;stupidity&quot;,&quot;slow elixirs&quot;,&quot;nausea&quot;,&quot;anorexia&quot;}
		str = str..&quot;quickdraw claymore&quot;..sp
		str = str..&quot;dsl target &quot;..toxin..&quot; &quot;..toxin2..sp
		if table.contains(t,revlookup(toxin,dban.toxin_dictionary)) or table.contains(t,revlookup(toxin2,dban.toxin_dictionary)) then
			str = str..&quot;soulstorm target&quot;..sp
			str = &quot;queue eqbal &quot;..str
		end
	end	
	
	str = str:gsub(&quot;target&quot;,name)
	return str
end</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>deathknight.broadsword</name>
                            <packageName></packageName>
                            <script>deathknight.broadsword = function(name)
	local list = {
	&quot;stupidity&quot;,
	&quot;slow elixirs&quot;,
	&quot;nausea&quot;,
	&quot;anorexia&quot;,
		-- claustrophobia
		-- caloric strip
	&quot;numbness&quot;,
	&quot;hemotoxin&quot;,
	&quot;asthma&quot;,
	&quot;butisol&quot;,
	&quot;sunallergy&quot;,
	&quot;numbness&quot;,
	&quot;metrazol&quot;,
	&quot;slickness&quot;,
	&quot;numbness&quot;,
	&quot;recklessness&quot;,
	&quot;stupidity&quot;,
	&quot;dizziness&quot;,
	&quot;sensitivity&quot;,
	&quot;clumsiness&quot;,
	&quot;weariness&quot;,
	&quot;calotropis&quot;,
	&quot;slow equilibrium&quot;,
	&quot;slow balance&quot;,
	&quot;withered throat&quot;,
	&quot;ignorance&quot;,
	&quot;slow herbs&quot;,
	&quot;disloyalty&quot;,
	}

	local str = &quot;&quot;

	local toxin, toxin2 = deathknight.choose_toxin(name,list)

	if has(name,&quot;shield&quot;) or has(name,&quot;rebounding&quot;) then
		send(&quot;queue reset eqbal&quot;)
		str = str..&quot;queue eqbal quickdraw sabre shield&quot;..sp
		str = str..&quot;rsl target &quot;..toxin
	else 
		local t = {&quot;stupidity&quot;,&quot;slow elixirs&quot;,&quot;nausea&quot;,&quot;anorexia&quot;}
		str = str..&quot;quickdraw broadsword&quot;..sp
		str = str..&quot;dsl target &quot;..toxin..&quot; &quot;..toxin2..sp
		if table.contains(t,revlookup(toxin,dban.toxin_dictionary)) or table.contains(t,revlookup(toxin2,dban.toxin_dictionary)) then
			str = str..&quot;soulstorm target&quot;..sp
			str = &quot;queue eqbal &quot;..str
		end
	end	
	
	str = str:gsub(&quot;target&quot;,name)
	return str
end</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>deathknight.vivisect</name>
                            <packageName></packageName>
                            <script>deathknight.vivisect = function(name)
	local str = &quot;&quot;

	str = str..&quot;dismount&quot;..sp
	str = str..&quot;unwield left&quot;..sp
	str = str..&quot;unwield right&quot;..sp
	str = str..&quot;wield sabre&quot;..sp
	str = str..&quot;vivisect target&quot;..sp
	str = str..&quot;queue eqbal mount horse&quot;..sp

	if name then
		str = str:gsub( &quot;target&quot;, name )
	else
		str = str:gsub( &quot;target&quot;, target )
	end

	send(str)
end</script>
                            <eventHandlerList/>
                        </Script>
                    </ScriptGroup>
                    <ScriptGroup isActive="yes" isFolder="yes">
                        <name>defiler</name>
                        <packageName></packageName>
                        <script>defiler = defiler or {}
defiler.unseen = defiler.unseen or {}


	-- Seed             |  Empower          |  Germinate                 |
	-- ===================================================================
	-- * Apple          |                   |  -Shield                   |.
	-- * Ash            |                   |  Torment aff @5s           |
	-- * Beech          |                   |  Reset Sap timer           |.
	-- * Birch          |                   |  Nausea, small damage      |
	-- * Blackthorn     |  Shred x 2        |  Inverse to hp             |.
	-- * Elder          |  Dryblood @4s     |  Bleeding to dmg, clot 33% |.
	-- * Hazel          |  50% Bellow heal  |  Electrical to torments    |
	-- * Honeysuckle    |  Harrow dmg       |  Recklessness              |.
	-- * Hawthorn       |  Entangle dmg     |  Bleeding                  |.
	-- * Willow         |                   |  Torment aff @10s          |
	-- -------------------------------------------------------------------

	-- Desecration      | C |  Balance   |  Effect                          |
	-- ======================================================================
	-- * Whirl          | x |  -         |  Implants splinter               |
	-- * Confuse        | x |  Eq: 2.20  |  Confusion                       |
	-- * Intoxicate     | x |  Eq: 2.20  |  Dryblood                        |
	-- * Rigidity       | x |  Eq: 3.20  |  Rigidity, longer writhe times   | repeats t:3 if &lt;75% mhp 
	-- * Shred          | x |  Eq: 3.20  |  Addiction, damage, bleeding     |
	-- * Splinter       | x |  Eq: 2.70  |  Forms splinter &lt;type&gt;           |
	-- * Smash          | x |  Eq: 2.20  |  Crippled limb                   |
	-- * Trip           | x |  Eq: 2.20  |  Trip                            |
	-- * Bellow         | x |  Eq: 3.20  |  Explodes demonic seeds          |
	-- * Harrow         | - |  Eq: 2.70  |  Steals eq 2.20                  |
	-- * Sustain        | - |  Eq: 3.20  |  Heals player                    |
	-- * Entangle       | - |  Eq: 3.20  |  Entangle                        |
	-- * Woodheart      | - |  Bal: 3.70 |  Invincible 30s                  |
	-- * Implant        | - |  Eq: 4.24  |  Implant seed, seed x 3 is insta |
	-- * Evolve         | - |  Eq: 2.75  |                                  |
	-- ----------------------------------------------------------------------
	-- * Whirlpool      | - |  Bal: 2.60 |  Periodic underwater (no mass)   |
	-- * Tempest        | - |  Bal: 3.00 |  Periodic disruption             |
	-- * Bloodrain      | - |  Bal: 3.00 |  Periodic poison/toxin area-wide |
	-- * Blackvines     | - |  Bal: 2.60 |  Tangle on exit                  |
	-- * Heartblood     | - |  Bal: 2.60 |  60s ignore &lt;toxin&gt;              |
	-- ----------------------------------------------------------------------</script>
                        <eventHandlerList/>
                        <Script isActive="yes" isFolder="no">
                            <name>[d]</name>
                            <packageName></packageName>
                            <script>defiler.attack_type = defiler.attack_type or &quot;ravage&quot;
defiler.auto_bellow = false
defiler.augur_balance = defiler.augur_balance or true
defiler.augur_time = defiler.augur_time or 0

defiler.defences = defiler.defences or {
	antibodies = false,
	blooddrinker = false,
	confutation = false,
	fleetness = false,
	heartblood = &quot;&quot;,
	regrowth = false,
	recuperation = false,
	tears = false,
	transmission = false,
	toughness = false,
}

defiler.germinate = defiler.germinate or true
defiler.germinate_time = defiler.germinate_time or 0
defiler.haze = defiler.haze or 0
defiler.heartblood = &quot;metrazol&quot;
defiler.hound = 114148
defiler.hound_target = defiler.hound_target or &quot;&quot;

defiler.flail = 62442

defiler.prompt_allow = true

defiler.shadow_balance = defiler.shadow_balance or true
defiler.shadow_balance_time = defiler.shadow_balance_time or 0

defiler.shroud_type = defiler.shroud_type or &quot;&quot;

defiler.spellbook = {
	haemophilia = &quot;torment target with haemophilia&quot;,
	hallucinations = &quot;torment target with hallucinations&quot;,
	entropy = &quot;torment target with entropy&quot;,
	paranoia = &quot;torment target with paranoia&quot;,
	claustrophobia = &quot;torment target with claustrophobia&quot;,
	disloyalty = &quot;torment target with bile&quot;,

	confusion = &quot;treant confuse target&quot;,
	dryblood = &quot;treant intoxicate target&quot;,
	rigidity = &quot;treant rigidity target&quot;,
	addiction = &quot;treant shred target&quot;,
	[&quot;crippled right arm&quot;] = &quot;treant smash target right arm&quot;,
	[&quot;crippled left arm&quot;] = &quot;treant smash target left arm&quot;,
	[&quot;crippled right leg&quot;] = &quot;treant smash target right leg&quot;,
	[&quot;crippled left leg&quot;] = &quot;treant smash target left leg&quot;,
}

defiler.spell_queue = {
	&quot;addiction&quot;,
	&quot;confusion&quot;,
	&quot;hallucinations&quot;,
	&quot;haemophilia&quot;,
}

defiler.sprouts = defiler.sprouts or false

defiler.transmission_target = defiler.transmission_target or &quot;&quot;
defiler.toxins = {
	&quot;numbness&quot;,
	&quot;asthma&quot;,
	&quot;hemotoxin&quot;,
	&quot;butisol&quot;,
	&quot;sunallergy&quot;,
}
defiler.vial = 306573
defiler.whirl_balance = defiler.whirl_balance or true

</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>dbp-ui</name>
                            <packageName></packageName>
                            <script>defiler.dbp = function()
	local time = os.time()
	local str = &quot;&quot;

	str = str..&quot;Target: &lt;gold&gt;&quot;..target..&quot;&lt;grey&gt;  (&quot;..defiler.hound_target..&quot;)&quot;
	str = str..&quot;\n&quot;

	if player(target) then

		-- Shadow
		local shadow = has(target,&quot;shadow&quot;)
		local shadow_balance = defiler.shadow_balance
		local shadow_balance_t = defiler.shadow_balance_time

		if shadow then shadow = &quot;Attacking&quot; 
		elseif shadow_balance then shadow = &quot;Ready&quot; 
		elseif shadow_balance_t ~= 0 then shadow = 30 - (time - shadow_balance_t)
		else shadow = &quot;?&quot;
		end

		str = str..&quot;\n&quot;
		str = str..&quot; [Shadow]: &quot;..shadow

		-- Gutwyrm (It is an affliction, but we will track it specifically)
		str = str..&quot;\n&quot;
		str = str..&quot;[Gutwyrm]: &quot;
		if config and config.trax == 2 then
			str = str..has(target,&quot;gutwyrm&quot;)
		elseif has(target,&quot;gutwyrm&quot;) then
			str = str..&quot;Afflicted&quot;
		else
			str = str..&quot;None&quot;
		end
		
		-- display saps 2x2

		local a,b,c,d = &quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;
		local at,bt,ct,dt = 0,0,0,0

		a = has(target,&quot;asphyxiation_sap&quot;)
		at = has(target,&quot;asphyxiation_sap_time&quot;)
		b = has(target,&quot;fire_sap&quot;)
		bt = has(target,&quot;fire_sap_time&quot;)
		c = has(target,&quot;poison_sap&quot;)
		ct = has(target,&quot;poison_sap_time&quot;)
		d = has(target,&quot;psychic_sap&quot;)
		dt = has(target,&quot;psychic_sap_time&quot;)

		if at ~= 0 then at = 30 - (time - at) end
		if bt ~= 0 then bt = 30 - (time - bt) end
		if ct ~= 0 then ct = 30 - (time - ct) end
		if dt ~= 0 then dt = 30 - (time - dt) end
		at = string.lpad(tostring(at),3,&quot; &quot;)
		bt = string.lpad(tostring(bt),3,&quot; &quot;)
		ct = string.lpad(tostring(ct),3,&quot; &quot;)
		dt = string.lpad(tostring(dt),3,&quot; &quot;)

		str = str..&quot;\n\n&quot;
		str = str..&quot;[Asp]:&quot;..at..&quot; &quot;
		str = str..&quot;[Fir]:&quot;..bt
		str = str..&quot;\n&quot;
		str = str..&quot;[Poi]:&quot;..ct..&quot; &quot;
		str = str..&quot;[psY]:&quot;..dt

		-- display splinters
		str = str..&quot;\n&quot;

		local empowered = ecopy( has(target,&quot;empowered&quot;) )
		local slist = { 
			&quot;apple&quot;,&quot;ash&quot;,&quot;beech&quot;,
			&quot;birch&quot;,&quot;blackthorn&quot;,&quot;elder&quot;,
			&quot;hazel&quot;,&quot;honeysuckle&quot;,&quot;hawthorn&quot;,&quot;willow&quot; 
		}
		
		for i=1,#slist do
			str = str..&quot;\n&quot;
			local dis,turb = &quot;&quot;,&quot;&quot;
			local type = slist[i]
			local splinter = &quot;splinters.&quot;..type 
			splinter = has(target,splinter)
			if splinter == 0 then
				splinter = false
			else 
				splinter = 140 - (time - splinter)
				splinter = string.lpad(tostring(splinter),3,&quot; &quot;)
			end

			if splinter and table.contains(empowered,type) then
				dis = &quot;&lt;deep_sky_blue&gt;&quot;..splinter..&quot;&lt;grey&gt;&quot;
			elseif splinter then
				dis = &quot;&lt;medium_sea_green&gt;&quot;..splinter..&quot;&lt;grey&gt;&quot;
			else
				dis = &quot;&lt;saddle_brown&gt; o &lt;grey&gt;&quot;
			end
			turb = string.rpad(type,23,&quot; &quot;)
			if table.contains(empowered,type) then
				turb = &quot;&lt;deep_sky_blue&gt;&quot;..type..&quot;&lt;grey&gt;&quot;
			elseif splinter then
				turb = &quot;&lt;medium_sea_green&gt;&quot;..type..&quot;&lt;grey&gt;&quot;
			else
				turb = &quot;&lt;dim_grey&gt;&quot;..type..&quot;&lt;grey&gt;&quot;
			end
			str = str..&quot;[&quot;..dis..&quot;] &quot;..turb
		end

		-- display limbs

		-- display afflictions


		str = str..&quot;\n&quot;
		local count = 0
		local level = 0.30
		local tablen = ecopy(dbp.players_[target].affs)

		local lock_affs = {
			&quot;anorexia&quot;,
			&quot;asthma&quot;,
			&quot;hemotoxin&quot;,
			&quot;impatience&quot;,
			&quot;numbness&quot;,
			&quot;slickness&quot;,
		}

		local c_affs = {}

		if config and config.trax == 2 then
			tablen = ecopy(dbp.players_[target].affs_)
			for i=1,#lock_affs do
				str = str..&quot;\n&quot;
				local dis,turb = &quot;&quot;, &quot;&quot;
				local aff = lock_affs[i]
				local score = has(target,lock_affs[i])

				dis = string.format(&quot;%3.2f&quot;,score)
				if score &gt;= level then dis = &quot;&lt;green&gt;&quot;..dis..&quot;&lt;grey&gt;&quot; else dis = &quot;&lt;saddle_brown&gt;&quot;..dis..&quot;&lt;grey&gt;&quot; end
				turb = string.rpad(aff,23,&quot; &quot;)
				if score &gt;= level then turb = &quot;&lt;green&gt;&quot;..turb..&quot;&lt;grey&gt;&quot; else turb = &quot;&lt;dim_grey&gt;&quot;..turb..&quot;&lt;grey&gt;&quot; end
				str = str..&quot;[&quot;..dis..&quot;] &quot;..turb
			end
			str = str..&quot;\n\n&quot;
			for k,v in pairs(tablen) do 
				if not table.contains(lock_affs,k) and v &gt;= level then 
					local shine = &quot;&lt;green&gt;&quot;
					local dis,turb = &quot;&quot;, &quot;&quot;
					dis = shine..string.format(&quot;%3.2f&quot;,v)..&quot;&lt;grey&gt;&quot;
					turb = string.rpad(k,23,&quot; &quot;)
					turb = shine..turb..&quot;&lt;grey&gt;&quot;
					str = str..&quot;[&quot;..dis..&quot;] &quot;..turb..&quot;\n&quot;
				end
			end
		else
			for i=1,#lock_affs do
				str = str..&quot;\n&quot;
				local dis,turb = &quot;&quot;, &quot;&quot;
				if has(target,lock_affs[i]) then dis = &quot;&lt;green&gt;x&lt;grey&gt;&quot; else dis = &quot;&lt;saddle_brown&gt;o&lt;grey&gt;&quot; end
				turb = string.rpad(lock_affs[i],23,&quot; &quot;)
				if has(target,lock_affs[i]) then turb = &quot;&lt;green&gt;&quot;..turb..&quot;&lt;grey&gt;&quot; else turb = &quot;&lt;dim_grey&gt;&quot;..turb..&quot;&lt;grey&gt;&quot; end
				str = str..&quot;[&quot;..dis..&quot;] &quot;..turb
			end
			str = str..&quot;\n\n&quot;
			for k,v in pairs(tablen) do
				if not table.contains(lock_affs,k) and not table.contains(c_affs,k) and v then
					local shine = &quot;&lt;green&gt;&quot;
					local dis,turb = &quot;&quot;, &quot;&quot;
					dis = shine..&quot;x&lt;grey&gt;&quot;
					turb = string.rpad(k,23,&quot; &quot;)
					turb = shine..turb..&quot;&lt;grey&gt;&quot;
					str = str..&quot;[&quot;..dis..&quot;] &quot;..turb..&quot;\n&quot;
				end
			end
		end
	end
	return str
end</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>reset</name>
                            <packageName></packageName>
                            <script>defiler.reset = function()
	defiler.augur_balance = true
	defiler.augur_time = 0
	defiler.defences = {
		antibodies = false,
		blooddrinker = false,
		confutation = false,
		fleetness = false,
		heartblood = &quot;&quot;,
		regrowth = false,
		recuperation = false,
		tears = false,
		transmission = false,
		toughness = false,
	}
	defiler.germinate = true
	defiler.germinate_time = 0
	defiler.haze = 0
	defiler.heartblood = &quot;metrazol&quot;
	defiler.hound_target = &quot;&quot;
	defiler.shroud_type = &quot;&quot;
	defiler.sprouts = false
	defiler.transmission_target = &quot;&quot;
	defiler.whirl_balance = true
end</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>prompt</name>
                            <packageName></packageName>
                            <script>defiler.prompt = function(len) 
	local str = &quot;&quot;
	local time = os.time()

	local n = 36
	n = n - len

	str = string.lpad(str,n,&quot; &quot;)

	if player(target) then

		local prefix = &quot; (&quot;
		local postfix = &quot;) &quot;
		local separator = &quot;:&quot;
		local neutral = &quot;&lt;grey&gt;&quot;

		if not defiler.sprouts then 
			prefix = &quot; &lt;red&gt;[&lt;grey&gt;&quot;
			postfix = &quot;&lt;red&gt;]&lt;grey&gt; &quot;
		end

		-- thornroot
		local troot = has(target,&quot;thornroot&quot;)
		local troot_time = has(target,&quot;thornroot_time&quot;)

		if troot_time ~= 0 then
			troot_time = time - troot_time
		end
		troot_time = string.lpad(tostring(troot_time),2,&quot; &quot;)
		if troot then troot_time = &quot;&lt;green&gt;&quot;..troot_time..&quot;&lt;grey&gt;&quot; end


		-- demonic seeds
		local dseed = has(target,&quot;demonic_seed&quot;)
		local dseed_time = has(target,&quot;demonic_seed_time&quot;)

		if dseed_time ~= 0 then
			dseed_time = time - dseed_time
		end
		dseed_time = string.lpad(tostring(dseed_time),2,&quot; &quot;)


		str = str..prefix
		str = str..troot_time..separator
		str = str..dseed..separator
		str = str..dseed_time
		str = str..postfix

		local toxin = defiler.choose_toxin(target)
		-- str = str..&quot; T: &quot;..toxin

		-- splinters
		local splints = has(target,&quot;splinters&quot;)
		local to_print = {}

		for name,moment in pairs(splints) do 
			if moment ~= 0 then
				moment = 140 - (time - moment)
				-- do color referencing here
				-- string em up once!
				moment = tostring(moment)
				moment = string.lpad(moment,2,&quot; &quot;)
				-- str = str..string.title(name)..&quot;: &quot;..moment..&quot;  &quot;
			end
		end

	end
	if class == &quot;Defiler&quot; then cecho(str) end
end</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>ui_refresh</name>
                            <packageName></packageName>
                            <script>defiler.ui_refresh = function()
	clearWindow(&quot;defiler_ui&quot;)
	local str = &quot;&quot;
	local time = os.time()
	local neutral = &quot;&lt;grey&gt;&quot;

	local color = &quot;&lt;goldenrod&gt;&quot;
	if player(target) and has(target,&quot;gutwyrm&quot;) then color = &quot;&lt;medium_aquamarine&gt;&quot; end

	-- local gcolor = neutral
	-- if not defiler.germinate then gcolor = &quot;&lt;red&gt;&quot; end
	-- str = str..&quot;[&quot;..gcolor..&quot;x&quot;..neutral..&quot;] &quot;

	-- first part
	-------------
	if player(target) then
		-- head
		local head = has(target,&quot;head&quot;)
		local head_time = has(target,&quot;head_time&quot;)
		local head_c = &quot;&lt;dim_grey&gt;&quot;
		local head_time_c = &quot;&lt;dim_grey&gt; &quot;

		if head &gt; 0 then head_c = &quot;&lt;green&gt;&quot; head_time_c = &quot;&lt;green&gt; &quot; end
		if head_time ~= 0 then
			head_time = 60 - (time - head_time)
			if head_time &lt; 11 then head_time_c = &quot;&lt;red&gt; &quot; end
		end
		head = string.lpad(tostring(head),2,&quot; &quot;)
		head_time = string.lpad(tostring(head_time),2,&quot; &quot;)

		str = str..&quot;            &quot;
		str = str..&quot;[HE: &quot;..head_c..head..head_time_c..head_time..neutral..&quot;] &quot;
		str = str..&quot;            &quot;
	end

	local color = &quot;&lt;goldenrod&gt;&quot;
	if player(target) and has(target,&quot;gutwyrm&quot;) then color = &quot;&lt;medium_aquamarine&gt;&quot; end

	str = str..&quot;T: &quot;..color..target..neutral..&quot;  &quot;

	if player(target) then
		local sprouts = neutral

		if not defiler.sprouts then 
			sprouts = &quot;&lt;red&gt;&quot;
		end

		-- thornroot
		local troot = has(target,&quot;thornroot&quot;)
		local troot_time = has(target,&quot;thornroot_time&quot;)
		local troot_c = &quot;&lt;red&gt;&quot;

		if troot then troot_c = &quot;&lt;green&gt;&quot; end

		if troot_time ~= 0 then
			troot_time = string.format(&quot;%.1f&quot;, 30 - (time - troot_time))
			troot_time = string.lpad(troot_time,4,&quot;0&quot;)
		else
			troot_time = &quot;00.0&quot;
		end

		-- demonic seeds
		local dseed = has(target,&quot;demonic_seed&quot;)
		local dseed_time = has(target,&quot;demonic_seed_time&quot;)
		local dseed_c = neutral

		if dseed &gt; 0 then dseed_c = &quot;&lt;green&gt;&quot; end
		if dseed_time ~= 0 then
			dseed_time = 15 - (time - dseed_time)
			-- dseed_time = string.format(&quot;%.1f&quot;, time - dseed_time)
		end

		str = str..sprouts..&quot;Thornroot&quot;..neutral..&quot;: &quot;..troot_c..troot_time..&quot; &quot;..neutral
		str = str..&quot;Seeds: &quot;..dseed_c..dseed..neutral..&quot; &quot;
		str = str..&quot;Timer: &quot;..dseed_time..neutral..&quot; &quot;

		-- whirling
		local whirl_c = neutral
		if defiler.whirl_balance then
			whirl_c = &quot;&lt;goldenrod&gt;&quot;
		end
		str = str..whirl_c..&quot; || &quot;..neutral

		-- splinters
		local splints = has(target,&quot;splinters&quot;)
		local to_print = {}

		for name,moment in pairs(splints) do 
			if moment ~= 0 then
				moment = 120 - (time - moment)
				-- do color referencing here
				-- string em up once!
				moment = tostring(moment)
				moment = string.lpad(moment,2,&quot; &quot;)
				str = str..string.title(name)..&quot;: &quot;..moment..&quot;  &quot;
			end
		end
	end

	str = str..&quot;\n&quot;
	-- second part
	-------------
	if player(target) then
		-- right arm
		local rarm = has(target,&quot;right_arm&quot;)
		local rarm_time = has(target,&quot;right_arm_time&quot;)
		local rarm_c = &quot;&lt;dim_grey&gt;&quot;
		local rarm_time_c = &quot;&lt;dim_grey&gt; &quot;

		if rarm &gt; 0 then rarm_c = &quot;&lt;green&gt;&quot; rarm_time_c = &quot;&lt;green&gt; &quot; end
		if rarm_time ~= 0 then
			rarm_time = 60 - (time - rarm_time)
			if rarm_time &lt; 11 then rarm_time_c = &quot;&lt;red&gt; &quot; end
		end
		rarm = string.lpad(tostring(rarm),2,&quot; &quot;)
		rarm_time = string.lpad(tostring(rarm_time),2,&quot; &quot;)

		str = str..&quot;[RA: &quot;..rarm_c..rarm..rarm_time_c..rarm_time..neutral..&quot;] &quot;

		-- torso
		local torso = has(target,&quot;torso&quot;)
		local torso_time = has(target,&quot;torso_time&quot;)
		local torso_c = &quot;&lt;dim_grey&gt;&quot;
		local torso_time_c = &quot;&lt;dim_grey&gt; &quot;

		if torso &gt; 0 then torso_c = &quot;&lt;green&gt;&quot; torso_time_c = &quot;&lt;green&gt; &quot; end
		if torso_time ~= 0 then
			torso_time = 60 - (time - torso_time)
			if torso_time &lt; 11 then torso_time_c = &quot;&lt;red&gt; &quot; end
		end
		torso = string.lpad(tostring(torso),2,&quot; &quot;)
		torso_time = string.lpad(tostring(torso_time),2,&quot; &quot;)

		str = str..&quot;[TO: &quot;..torso_c..torso..torso_time_c..torso_time..neutral..&quot;] &quot;

		-- left arm
		local larm = has(target,&quot;left_arm&quot;)
		local larm_time = has(target,&quot;left_arm_time&quot;)
		local larm_c = &quot;&lt;dim_grey&gt;&quot;
		local larm_time_c = &quot;&lt;dim_grey&gt; &quot;

		if larm &gt; 0 then larm_c = &quot;&lt;green&gt;&quot; larm_time_c = &quot;&lt;green&gt; &quot; end
		if larm_time ~= 0 then
			larm_time = 60 - (time - larm_time)
			if larm_time &lt; 11 then larm_time_c = &quot;&lt;red&gt; &quot; end
		end
		larm = string.lpad(tostring(larm),2,&quot; &quot;)
		larm_time = string.lpad(tostring(larm_time),2,&quot; &quot;)

		str = str..&quot;[LA: &quot;..larm_c..larm..larm_time_c..larm_time..neutral..&quot;] &quot;
	
		local limb_c = &quot;&lt;dim_grey&gt;&quot;
		if limb.target ~= &quot;nothing&quot; then limb_c = &quot;&lt;dark_turquoise&gt;&quot; end
		str = str..&quot;T: &quot;..limb_c..string.lpad(string.title(limb.target),8,&quot; &quot;)..neutral

		local parry_c = &quot;&lt;dim_grey&gt;&quot;
		if limb.parry ~= &quot;nothing&quot; then parry_c = &quot;&lt;dark_turquoise&gt;&quot; end
		str = str..&quot;   P: &quot;..parry_c..string.lpad(string.title(limb.parry),8,&quot; &quot;)..neutral

		local hb_c,hb = &quot;&lt;dim_grey&gt;&quot;,&quot;&quot;
		if defiler.defences.heartblood ~= &quot;&quot; then 
			hb_c = &quot;&lt;medium_aquamarine&gt;&quot; 
			hb = string.lpad(string.title(defiler.defences.heartblood),8,&quot; &quot;)
		else 
			hb = &quot;Nothing&quot;
		end
		str = str..&quot;   Hb: &quot;..hb_c..hb..neutral

		str = str..&quot;\n&quot;

		-- right leg
		local rleg = has(target,&quot;right_leg&quot;)
		local rleg_time = has(target,&quot;right_leg_time&quot;)
		local rleg_c = &quot;&lt;dim_grey&gt;&quot;
		local rleg_time_c = &quot;&lt;dim_grey&gt; &quot;

		if rleg &gt; 0 then rleg_c = &quot;&lt;green&gt;&quot; rleg_time_c = &quot;&lt;green&gt; &quot; end
		if rleg_time ~= 0 then
			rleg_time = 60 - (time - rleg_time)
			if rleg_time &lt; 11 then rleg_time_c = &quot;&lt;red&gt; &quot; end
		end
		rleg = string.lpad(tostring(rleg),2,&quot; &quot;)
		rleg_time = string.lpad(tostring(rleg_time),2,&quot; &quot;)

		str = str..&quot;[RL: &quot;..rleg_c..rleg..rleg_time_c..rleg_time..neutral..&quot;] &quot;

		-- placeholder
		str = str..&quot;            &quot;

		-- left leg
		local lleg = has(target,&quot;left_leg&quot;)
		local lleg_time = has(target,&quot;left_leg_time&quot;)
		local lleg_c = &quot;&lt;dim_grey&gt;&quot;
		local lleg_time_c = &quot;&lt;dim_grey&gt; &quot;

		if lleg &gt; 0 then lleg_c = &quot;&lt;green&gt;&quot; lleg_time_c = &quot;&lt;green&gt; &quot; end
		if lleg_time ~= 0 then
			lleg_time = 60 - (time - lleg_time)
			if lleg_time &lt; 11 then lleg_time_c = &quot;&lt;red&gt; &quot; end
		end
		lleg = string.lpad(tostring(lleg),2,&quot; &quot;)
		lleg_time = string.lpad(tostring(lleg_time),2,&quot; &quot;)

		str = str..&quot;[LL: &quot;..lleg_c..lleg..lleg_time_c..lleg_time..neutral..&quot;] &quot;
	end

	-- Third part
	-------------
	-- str = str..&quot;\n&quot;
	local haze, anb, rcp, reg, tgh, cnf = &quot;&lt;dim_grey&gt;&quot;,&quot;&lt;red&gt;&quot;, &quot;&lt;red&gt;&quot;, &quot;&lt;red&gt;&quot;, &quot;&lt;red&gt;&quot;, &quot;&lt;red&gt;&quot;
	local shr, bdr, ele = &quot;&lt;red&gt;&quot;, &quot;&lt;red&gt;&quot;, &quot;&lt;dim_grey&gt;&quot;
	if defiler.haze &lt; 100000 then haze = &quot;&lt;red&gt;&quot; end
	if defiler.defences.antibodies then anb = &quot;&lt;medium_sea_green&gt;&quot; end
		if defiler.transmission_target ~= &quot;&quot; and inroom(defiler.transmission_target) then -- and enemy in room
			anb = &quot;&lt;cyan&gt;&quot;
		end
	if defiler.defences.recuperation then rcp = &quot;&lt;medium_sea_green&gt;&quot; end
	if defiler.defences.regrowth then reg = &quot;&lt;medium_sea_green&gt;&quot; end
	if defiler.defences.toughness then tgh = &quot;&lt;medium_sea_green&gt;&quot; end
	if defiler.defences.confutation then cnf = &quot;&lt;medium_sea_green&gt;&quot; end
	if defiler.defences.shroud then shr = &quot;&lt;medium_sea_green&gt;&quot; end
	if defiler.defences.blooddrinker then bdr = &quot;&lt;medium_sea_green&gt;&quot; end
	if defiler.shroud_type == &quot;ice&quot; then
		ele = &quot;&lt;cyan&gt;&quot;
	elseif defiler.shroud_type == &quot;flame&quot; then
		ele = &quot;&lt;orange_red&gt;&quot;
	elseif defiler.shroud_type == &quot;bile&quot; then
		ele = &quot;&lt;pale_green&gt;&quot;
	end

	haze = haze..string.lpad(tostring(defiler.haze),7,&quot; &quot;)

	str = str..&quot;Hz: &quot;..haze..neutral..&quot; &quot;
	str = str..&quot;[&quot;..anb..&quot;ANB&quot;..neutral..&quot;] &quot;
	str = str..&quot;[&quot;..rcp..&quot;RCP&quot;..neutral..&quot;] &quot;
	str = str..&quot;[&quot;..reg..&quot;REG&quot;..neutral..&quot;] &quot;
	str = str..&quot;[&quot;..tgh..&quot;TGH&quot;..neutral..&quot;] &quot;
	str = str..&quot;[&quot;..cnf..&quot;CNF&quot;..neutral..&quot;] &quot;
	str = str..&quot;[&quot;..shr..&quot;SHR&quot;..neutral..&quot;] &quot;
	str = str..&quot;[&quot;..bdr..&quot;BDR&quot;..neutral..&quot;] &quot;
	str = str..&quot;[&quot;..ele..&quot;Ele&quot;..neutral..&quot;] &quot;

	cecho(&quot;defiler_ui&quot;,str)
end</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>timer</name>
                            <packageName></packageName>
                            <script>defiler.timer = function()
	if class == &quot;Defiler&quot; then

		-- operate only on 'target' otherwise the overhead is too big
		local time = os.time()

		local shadow_time = defiler.shadow_balance_time
		if shadow_time ~= 0 then
			shadow_time = time - shadow_time
	
			if shadow_time &gt; 30 then
				cecho(&quot;\n&lt;red&gt;Resetting Shadow Balance.&quot;)
				defiler.shadow_balance = true
				defiler.shadow_balance_time = 0
			end
		end

		if player(target) then

		-- thornroots
		local troot = has(target,&quot;thornroot&quot;)
		local troot_time = has(target,&quot;thornroot_time&quot;)
		
		if troot_time ~= 0 then
			troot_time = time - troot_time
			
			if troot_time &gt; 40 then
				cecho(&quot;\n&lt;red&gt;Resetting Thornroot for &quot;..target..&quot;.&quot;)
				set(target,&quot;thornroot&quot;,false)
				set(target,&quot;thornroot_time&quot;,0)
			end
		end

		-- demonic seeds
		local dseed = has(target,&quot;demonic_seed&quot;)
		local dseed_time = has(target,&quot;demonic_seed_time&quot;)
	
		if dseed_time ~= 0 then
			dseed_time = time - dseed_time
	
			if dseed_time &gt; 15 then
				cecho(&quot;\n&lt;red&gt;Resetting demonic seed for &quot;..target..&quot;.&quot;)
				dseed = dseed - 1
				if dseed &lt; 0 then dseed = 0 end
				set(target,&quot;demonic_seed&quot;,dseed)
				set(target,&quot;demonic_seed_time&quot;,0)
			end
		end

		local augur = defiler.augur_time

		if not defiler.augur_balance and augur ~= 0 then
			augur = time - augur
			if augur &gt; 8 then
				cecho(&quot;\n&lt;red&gt;Resetting Augury Balance.&quot;)
				defiler.augur_balance = true
				defiler.augur_time = 0
			end
		end

		-- splinters
		local splints = has(target,&quot;splinters&quot;)
		local to_clear = {}

		for name,moment in pairs(splints) do 
			if moment ~= 0 then
				moment = time - moment 
				if moment &gt; 140 then
					table.insert(to_clear,name)
				end
			end
		end
		for i=1,#to_clear do
			local short = &quot;splinters.&quot;..to_clear[i]
			set(target,short,0)
		end

		local gtime = defiler.germinate_time
		if gtime ~= 0 then
			gtime = time - gtime
			if gtime &gt; 5 then
				cecho(&quot;\n&lt;red&gt;Resetting GERMINATE.&quot;)
				defiler.germinate = true
				defiler.germinate_time = 0
			end
		end

		local corrosion = has(target,&quot;corrosion&quot;)
		local to_clear_c = {}

		for name,moment in pairs(corrosion) do
			if moment ~= 0 then
				moment = time - moment
				if moment &gt; 11 then
					table.insert(to_clear_c,name)
				end
			end
		end
		for i=1,#to_clear_c do
			local short = &quot;corrosion.&quot;..to_clear_c[i]
			set(target,short,0)
		end

		end

		defiler.ui_refresh()
		dbp.ui_refresh()
	end
end</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>choose_spell</name>
                            <packageName></packageName>
                            <script>defiler.choose_spell = function(name,list)
	_hload(name)
	if not player(name) and type(name) == &quot;table&quot; then
		list = name
		name = me
	end
	local spell = &quot;&quot;
	local list = list or ecopy(defiler.spell_queue)

	for i=1, #list do
		if not has(name, list[i]) then
			spell = list[i]
			break
		end
	end

	spell = lookup(spell,defiler.spellbook)

	return spell
end</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>choose_toxin</name>
                            <packageName></packageName>
                            <script>defiler.choose_toxin = function(name,list)
	_hload(name)
	if not player(name) and type(name) == &quot;table&quot; then
		list = name
		name = me
	end
	local toxin = &quot;&quot;
	local list = list or ecopy(defiler.toxins)
	local clist = has(name,&quot;corrosion&quot;)

	if _G.paralysis then
		table.remove(list,table.index_of(list,&quot;numbness&quot;))
	end

	for i=1, #list do
		if not _G[list[i]] and (not clist[list[i]] or clist[list[i]] == 0) then
			toxin = list[i]
			break
		end
	end

	toxin = lookup(toxin,dban.toxin_dictionary)

	return toxin
end</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>sleep</name>
                            <packageName></packageName>
                            <script>defiler.sleep = function(name)
	local str = &quot;&quot;

	if player(name) then
		if (has(name,&quot;rebounding&quot;) or has(name,&quot;shield&quot;)) and tonumber(defiler.haze) &gt; 5000 then
			str = str..&quot;devastate target opium &quot;..sp
			str = str..&quot;shadowbind target with sleep&quot;..sp
		elseif has(name,&quot;rebounding&quot;) or has(name,&quot;shield&quot;) then
			str = str..&quot;devastate target ciguatoxin &quot;..sp
			str = str..&quot;torment target with entropy&quot;..sp
		else
			str = str..&quot;ravage target opium&quot;..sp
			str = str..&quot;shadowbind target with sleep&quot;..sp
		end
	else
		str = str..&quot;devastate target ciguatoxin&quot;..sp
		str = str..&quot;torment target with entropy&quot;..sp
	end

	str = str:gsub(&quot;target&quot;,name)
	send(str)
end</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>splinters</name>
                            <packageName></packageName>
                            <script>defiler.splinters = function(name)

	local apple = has(name,&quot;splinters.apple&quot;)
	local ash = has(name,&quot;splinters.ash&quot;)
	local beech = has(name,&quot;splinters.beech&quot;)
	local birch = has(name,&quot;splinters.birch&quot;)
	local blackthorn = has(name,&quot;splinters.blackthorn&quot;)
	local elder = has(name,&quot;splinters.elder&quot;)
	local hazel = has(name,&quot;splinters.hazel&quot;)
	local honeysuckle = has(name,&quot;splinters.honeysuckle&quot;)
	local hawthorn = has(name,&quot;splinters.hawthorn&quot;)
	local willow = has(name,&quot;splinters.willow&quot;)

	if apple == 0 then apple = false end
	if ash == 0 then ash = false end
	if beech == 0 then beech = false end
	if birch == 0 then birch = false end
	if blackthorn == 0 then blackthorn = false end
	if elder == 0 then elder = false end
	if hazel == 0 then hazel = false end
	if honeysuckle == 0 then honeysuckle = false end
	if hawthorn == 0 then hawthorn = false end
	if willow == 0 then willow = false end

	return apple,ash,beech,birch,blackthorn,elder,hazel,honeysuckle,hawthorn,willow
end</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>defiler.damage</name>
                            <packageName></packageName>
                            <script>defiler.damage = function(name)
	_hload(name)

	local toxin = &quot; &quot;..defiler.choose_toxin(name)..&quot; &quot;

	local apple,ash,beech,birch,blackthorn,elder,hazel,honeysuckle,hawthorn,willow = defiler.splinters(name)

	local str,whirl,germinate = &quot;&quot;,&quot;&quot;,&quot;&quot;
	local strike,post = &quot;&quot;,&quot;&quot;
	local empowered = ecopy(has(name,&quot;empowered&quot;)) -- table.contains(empowered,&quot;apple&quot;)
	local draw = wield()

	-- Whirl
	if defiler.whirl_balance then
		if not apple then whirl = &quot;apple&quot;
		elseif not hawthorn then whirl = &quot;hawthorn&quot;
		elseif not elder then whirl = &quot;elder&quot;
		elseif not blackthorn then whirl = &quot;blackthorn&quot;
		elseif not beech then whirl = &quot;beech&quot;
		elseif not honeysuckle then whirl = &quot;honeysuckle&quot;
		elseif not birch then whirl = &quot;birch&quot;
		elseif not hazel then whirl = &quot;hazel&quot;
		elseif not ash then whirl = &quot;ash&quot;
		elseif not willow then whirl = &quot;willow&quot;
		end
	end

	-- Germinate
	if defiler.germinate then
		if has(name,&quot;shield&quot;) and (apple or whirl == &quot;apple&quot;) then germinate = &quot;apple&quot;
		elseif hawthorn or whirl == &quot;hawthorn&quot; then germinate = &quot;hawthorn&quot;
		elseif elder or whirl == &quot;elder&quot; then germinate = &quot;elder&quot;
		elseif blackthorn or whirl == &quot;blackthorn&quot; then germinate = &quot;blackthorn&quot;
		elseif beech or whirl == &quot;beech&quot; then germinate = &quot;beech&quot;
		elseif honeysuckle or whirl == &quot;honeysuckle&quot; then germinate = &quot;honeysuckle&quot;
		elseif birch or whirl == &quot;birch&quot; then germinate = &quot;birch&quot;
		elseif hazel or whirl == &quot;hazel&quot; then germinate = &quot;hazel&quot;
		elseif ash or whirl == &quot;ash&quot; then germinate = &quot;ash&quot;
		elseif willow or whirl == &quot;willow&quot; then germinate = &quot;willow&quot;
		else
		end
	-- Empower
	else 
	end

	-- Balance
	if has(name,&quot;rebounding&quot;) then strike = &quot;devastate &quot;
	elseif has(name,&quot;shield&quot;) and not germinate == &quot;apple&quot; then strike = &quot;devastate &quot;
	else strike = &quot;ravage &quot;
	end
	
	-- Thornroot
	local troot = has(name,&quot;thornroot&quot;)
	if not troot and defiler.sprouts then troot = &quot; with thornroot &quot;
	else troot = &quot;&quot;
	end

	-- Equilibrium
	-- if seed then bellow
	if has(name,&quot;demonic_seed&quot;) &gt; 0 then
		post = &quot;treant bellow target&quot;
	end
	-- if empower, then choose empower action
	-- otherwise
	local splint = &quot;&quot;
	if has(name,&quot;thornroot&quot;) then 
		if not apple and whirl ~= &quot;apple&quot; then splint = &quot;apple&quot;
		elseif not hawthorn and whirl ~= &quot;hawthorn&quot; then splint = &quot;hawthorn&quot;
		elseif not elder and whirl ~= &quot;elder&quot; then splint = &quot;elder&quot;
		elseif not blackthorn and whirl ~= &quot;blackthorn&quot; then splint = &quot;blackthorn&quot;
		end
		if splint ~= &quot;&quot; then splint = &quot;treant splinter target &quot;..splint end
	end
	if hp/mhp &lt; 0.4 then splint = &quot;shadowbind target with healthdrain&quot; end

	-- Construction
	str = str..&quot;order treant attack target&quot;..sp
	if draw ~= &quot;&quot; then str = str..draw..sp end
	if whirl ~= &quot;&quot; then str = str..&quot;whirl branch at target &quot;..whirl..sp end
	if germinate ~= &quot;&quot; then str = str..&quot;treant germinate target &quot;..germinate..sp end
	if strike ~= &quot;&quot; then str = str..strike..&quot; target &quot;..toxin..troot..sp end
	if post ~= &quot;&quot; then str = str..post..sp end
	if splint ~= &quot;&quot; then str = str..splint..sp end

	str = &quot;queue eqbal &quot;..str
	str = str..&quot;trueassess target&quot;..sp
	str = str:gsub(&quot;target&quot;,name)
	send(str)
end</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>defiler.damager</name>
                            <packageName></packageName>
                            <script>defiler.damager = function(name)
	_hload(name)

	local toxin = &quot; &quot;..defiler.choose_toxin(name)..&quot; &quot;

	-- Seed             |  Empower          |  Germinate                 |
	-- ===================================================================
	-- * Apple          |                   |  -Shield                   |.
	-- * Ash            |                   |  Torment aff @5s           |
	-- * Beech          |                   |  Reset Sap timer           |.
	-- * Birch          |                   |  Nausea, small damage      |
	-- * Blackthorn     |  Shred x 2        |  Inverse to hp             |.
	-- * Elder          |  Dryblood @4s     |  Bleeding to dmg, clot 33% |.
	-- * Hazel          |  50% Bellow heal  |  Electrical to torments    |
	-- * Honeysuckle    |  Harrow dmg       |  Recklessness              |.
	-- * Hawthorn       |  Entangle dmg     |  Bleeding                  |.
	-- * Willow         |                   |  Torment aff @10s          |
	-- -------------------------------------------------------------------

	-- Desecration      | C |  Balance   |  Effect                          |
	-- ======================================================================
	-- * Whirl          | x |  -         |  Implants splinter               |
	-- * Confuse        | x |  Eq: 2.20  |  Confusion                       |
	-- * Intoxicate     | x |  Eq: 2.20  |  Dryblood                        |
	-- * Rigidity       | x |  Eq: 3.20  |  Rigidity, longer writhe times   | repeats t:3 if &lt;75% mhp 
	-- * Shred          | x |  Eq: 3.20  |  Addiction, damage, bleeding     |
	-- * Splinter       | x |  Eq: 2.70  |  Forms splinter &lt;type&gt;           |
	-- * Smash          | x |  Eq: 2.20  |  Crippled limb                   |
	-- * Trip           | x |  Eq: 2.20  |  Trip                            |
	-- * Bellow         | x |  Eq: 3.20  |  Explodes demonic seeds          |
	-- * Harrow         | - |  Eq: 2.70  |  Steals eq 2.20                  |
	-- * Sustain        | - |  Eq: 3.20  |  Heals player                    |
	-- * Entangle       | - |  Eq: 3.20  |  Entangle                        |
	-- * Woodheart      | - |  Bal: 3.70 |  Invincible 30s                  |
	-- * Implant        | - |  Eq: 4.24  |  Implant seed, seed x 3 is insta |
	-- * Evolve         | - |  Eq: 2.75  |                                  |
	-- ----------------------------------------------------------------------
	-- * Whirlpool      | - |  Bal: 2.60 |  Periodic underwater (no mass)   |
	-- * Tempest        | - |  Bal: 3.00 |  Periodic disruption             |
	-- * Bloodrain      | - |  Bal: 3.00 |  Periodic poison/toxin area-wide |
	-- * Blackvines     | - |  Bal: 2.60 |  Tangle on exit                  |
	-- * Heartblood     | - |  Bal: 2.60 |  60s ignore &lt;toxin&gt;              |
	-- ----------------------------------------------------------------------

	local apple,ash,beech,birch,blackthorn,elder,hazel,honeysuckle,hawthorn,willow = defiler.splinters(name)

	local str,whirl,germinate = &quot;&quot;,&quot;&quot;,&quot;&quot;
	local strike,post = &quot;&quot;,&quot;&quot;
	local empowered = ecopy(has(name,&quot;empowered&quot;)) -- table.contains(empowered,&quot;apple&quot;)
	local draw = wield()

	-- Whirl
	if defiler.whirl_balance then
		if not apple then whirl = &quot;apple&quot;
		elseif not hawthorn then whirl = &quot;hawthorn&quot;
		elseif not blackthorn then whirl = &quot;blackthorn&quot;
		elseif not beech then whirl = &quot;beech&quot;
		elseif not elder then whirl = &quot;elder&quot;
		elseif not honeysuckle then whirl = &quot;honeysuckle&quot;
		elseif not birch then whirl = &quot;birch&quot;
		elseif not hazel then whirl = &quot;hazel&quot;
		elseif not ash then whirl = &quot;ash&quot;
		elseif not willow then whirl = &quot;willow&quot;
		end
	end

	-- Germinate
	if defiler.germinate then
		if has(name,&quot;shield&quot;) and (apple or whirl == &quot;apple&quot;) then germinate = &quot;apple&quot;
		elseif hawthorn or whirl == &quot;hawthorn&quot; then germinate = &quot;hawthorn&quot;
		elseif blackthorn or whirl == &quot;blackthorn&quot; then germinate = &quot;blackthorn&quot;
		elseif beech or whirl == &quot;beech&quot; then germinate = &quot;beech&quot;
		elseif elder or whirl == &quot;elder&quot; then germinate = &quot;elder&quot;
		elseif honeysuckle or whirl == &quot;honeysuckle&quot; then germinate = &quot;honeysuckle&quot;
		elseif birch or whirl == &quot;birch&quot; then germinate = &quot;birch&quot;
		elseif hazel or whirl == &quot;hazel&quot; then germinate = &quot;hazel&quot;
		elseif ash or whirl == &quot;ash&quot; then germinate = &quot;ash&quot;
		elseif willow or whirl == &quot;willow&quot; then germinate = &quot;willow&quot;
		else
		end
	-- Empower
	else 
	end

	-- Balance
	if has(name,&quot;rebounding&quot;) then strike = &quot;devastate &quot;
	elseif has(name,&quot;shield&quot;)  then strike = &quot;devastate &quot;
	else strike = &quot;ravage &quot;
	end
	
	-- Thornroot
	local troot = has(name,&quot;thornroot&quot;)
	if not troot and defiler.sprouts then troot = &quot; with thornroot &quot;
	else troot = &quot;&quot;
	end

	-- Equilibrium

	-- if empower, then choose empower action
	-- otherwise
	local splint = &quot;&quot;
	if has(name,&quot;thornroot&quot;) then 
		if not apple and whirl ~= &quot;apple&quot; then splint = &quot;apple&quot;
		elseif not hawthorn and whirl ~= &quot;hawthorn&quot; then splint = &quot;hawthorn&quot;
		elseif not blackthorn and whirl ~= &quot;blackthorn&quot; then splint = &quot;blackthorn&quot;
		elseif not beech and whirl ~= &quot;beech&quot; then splint = &quot;beech&quot;
		elseif not elder and whirl ~= &quot;elder&quot; then splint = &quot;elder&quot;
		elseif not honeysuckle and whirl ~= &quot;honeysuckle&quot; then splint = &quot;honeysuckle&quot;
		elseif not birch and whirl ~= &quot;birch&quot; then splint = &quot;birch&quot;
		elseif not hazel and whirl ~= &quot;hazel&quot; then splint = &quot;hazel&quot;
		elseif not ash and whirl ~= &quot;ash&quot; then splint = &quot;ash&quot;
		elseif not willow and whirl ~= &quot;willow&quot; then splint = &quot;willow&quot;
		end
		splint = &quot;treant splinter target &quot;..splint
	end
	if hp/mhp &lt; 0.4 then splint = &quot;shadowbind target with healthdrain&quot; end

	-- if seed then bellow
	if has(name,&quot;demonic_seed&quot;) &gt; 0 then
		post = &quot;treant bellow target&quot;
		if defiler.germinate and (elder or whirl == &quot;elder&quot;) then germinate = &quot;elder&quot; end
	end

	-- Construction
	if draw ~= &quot;&quot; then str = str..draw..sp end
	if whirl ~= &quot;&quot; then str = str..&quot;whirl branch at target &quot;..whirl..sp end
	if germinate ~= &quot;&quot; then str = str..&quot;treant germinate target &quot;..germinate..sp end
	if strike ~= &quot;&quot; then str = str..strike..&quot; target &quot;..toxin..troot..sp end
	if post ~= &quot;&quot; then str = str..post..sp end

	str = &quot;queue eqbal &quot;..str
	str = str..&quot;trueassess target&quot;..sp
	str = str:gsub(&quot;target&quot;,name)
	send(str)
end</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>defiler.control</name>
                            <packageName></packageName>
                            <script>defiler.control = function(name)
	-- whirl branch at me hawthorn | treant empower iniar hawthorn | treant entangle iniar
	local str = &quot;&quot;
	str = str..&quot;order treant attack target&quot;..sp
	str = str..&quot;quickdraw &quot;.._l..&quot; &quot;.._r..sp

	if defiler.whirl_balance and has(name,&quot;splinters.hawthorn&quot;) == 0 then
		str = str..&quot;whirl branch at target hawthorn&quot;..sp
		str = str..&quot;treant empower target hawthorn&quot;..sp
	end
	str = str..&quot;treant entangle target&quot;..sp
	str = str:gsub(&quot;target&quot;,name)

	str = &quot;target nothing&quot;..sp..str
	send(str)
end</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>defiler.shatter</name>
                            <packageName></packageName>
                            <script>defiler.shatter = function(name)
	local str = &quot;&quot;
	local tlist = {
		&quot;butisol&quot;,
		&quot;hemotoxin&quot;,
		&quot;metrazol&quot;,
		&quot;crippled right leg&quot;,
		&quot;slow balance&quot;,
		&quot;stupidity&quot;,
	}
	local toxin = &quot; &quot;..defiler.choose_toxin(name,tlist)

	local apple,ash,beech,birch,blackthorn,elder,hazel,honeysuckle,hawthorn,willow = defiler.splinters(name)

	-- whirl
	local w = &quot;&quot;
	if defiler.whirl_balance then
		if not hawthorn then w = &quot;hawthorn&quot;
		elseif not elder then w = &quot;elder&quot;
		elseif not blackthorn then w = &quot;blackthorn&quot;
		elseif not birch then w = &quot;birch&quot;
		elseif not honeysuckle then w = &quot;honeysuckle&quot;
		elseif not beech then w = &quot;beech&quot;
		end
		w = &quot;whirl branch at target &quot;..w
	end

	-- attack
	local strike = &quot;ravage &quot;
	if has(name,&quot;rebounding&quot;) or has(name,&quot;shield&quot;) then
		strike = &quot;devastate &quot;
	end

	-- thornroot
	local troot = has(name,&quot;thornroot&quot;)
	if not troot and defiler.sprouts then
		troot = &quot; with thornroot &quot;
	else
		troot = &quot;&quot;
	end

	-- off-bal action
	local post = &quot;&quot;
	-- splinters first
	local splint = &quot;&quot;
	if has(name,&quot;thornroot&quot;) then 
		if not elder then splint = &quot;elder&quot;
		elseif not hawthorn then splint = &quot;hawthorn&quot;
		elseif not blackthorn then splint = &quot;blackthorn&quot;
		elseif not birch then splint = &quot;birch&quot;
		elseif not honeysuckle then splint = &quot;honeysuckle&quot;
		elseif not beech then splint = &quot;beech&quot;
		end
		splint = &quot;treant splinter target &quot;..splint
	end
	if defiler.augur_balance then
		post = post..&quot;shadowbind target with augury of applying restoration to back&quot;..sp
	else
		post = post..&quot;treant rigidity target&quot;..sp
	end

	str = str..&quot;order treant attack target&quot;..sp
	str = str..&quot;quickdraw &quot;.._l..&quot; &quot;.._r..sp
	str = str..w..sp
	str = str..strike..name..toxin..troot..sp
	str = str..post..sp

	-- calculate the queue portion [treant trip]
	local newstrike,newtoxin,newpost = &quot;&quot;,&quot;&quot;,&quot;&quot;
	if strike == &quot;devastate &quot; then
		newstrike = &quot;ravage &quot;
	else
		newstrike = &quot;devastate &quot;
	end 
	table.remove(tlist,table.index_of(tlist,&quot;butisol&quot;))
	table.remove(tlist,table.index_of(tlist,&quot;hemotoxin&quot;))
	for i=1,#tlist do
		if tlist[i] == revlookup(string.trim(toxin),dban.toxin_dictionary) then
			newtoxin = &quot; &quot;..tlist[i+1]
			break
		else
			newtoxin = &quot; metrazol&quot;
		end
	end 
	newpost = &quot;treant trip target&quot;

	-- str = str..&quot;queue eqbal &quot;..newstrike..name..newtoxin..sp
	-- str = str..newpost..sp

	str = str:gsub(&quot;target&quot;,name)
	send(str)
end</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>defiler.prone</name>
                            <packageName></packageName>
                            <script>defiler.prone = function(name)
	local str = &quot;&quot;
	local tlist = {
		&quot;butisol&quot;,
		&quot;hemotoxin&quot;,
		&quot;metrazol&quot;,
		&quot;crippled right leg&quot;,
		&quot;slow balance&quot;,
		&quot;stupidity&quot;,
	}
	local toxin = &quot; &quot;..defiler.choose_toxin(name,tlist)

	local apple,ash,beech,birch,blackthorn,elder,hazel,honeysuckle,hawthorn,willow = defiler.splinters(name)

	-- whirl
	local w = &quot;&quot;
	if defiler.whirl_balance then
		if not hawthorn then w = &quot;hawthorn&quot;
		elseif not elder then w = &quot;elder&quot;
		elseif not blackthorn then w = &quot;blackthorn&quot;
		elseif not birch then w = &quot;birch&quot;
		elseif not honeysuckle then w = &quot;honeysuckle&quot;
		elseif not beech then w = &quot;beech&quot;
		end
		w = &quot;whirl branch at target &quot;..w
	end

	-- attack
	local strike = &quot;ravage &quot;
	if has(name,&quot;rebounding&quot;) or has(name,&quot;shield&quot;) then
		strike = &quot;devastate &quot;
	end

	-- thornroot
	local troot = has(name,&quot;thornroot&quot;)
	if not troot and defiler.sprouts then
		troot = &quot; with thornroot &quot;
	else
		troot = &quot;&quot;
	end

	-- off-bal action
	local post = &quot;treant trip target&quot;..sp

	str = str..&quot;order treant attack target&quot;..sp
	str = str..&quot;quickdraw &quot;..left..&quot; &quot;..right..sp
	str = str..w..sp
	str = str..strike..name..toxin..troot..sp
	str = str..post..sp

	str = str:gsub(&quot;target&quot;,name)
	send(str)
end</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>defiler.stall</name>
                            <packageName></packageName>
                            <script>defiler.stall = function(name)
	local str = &quot;&quot;

	local spell = &quot; treant smash target &quot;
	local tlist = {
		&quot;crippled left arm&quot;,
		&quot;crippled right arm&quot;,
		&quot;crippled left leg&quot;,
		&quot;crippled right leg&quot;,
	}
	local toxin = &quot; &quot;..defiler.choose_toxin(name,tlist)

	local apple,ash,beech,birch,blackthorn,elder,hazel,honeysuckle,hawthorn,willow = defiler.splinters(name)

	-- whirl
	local w = &quot;&quot;
	if defiler.whirl_balance then
		if not hawthorn then w = &quot;hawthorn&quot;
		elseif not elder then w = &quot;elder&quot;
		elseif not blackthorn then w = &quot;blackthorn&quot;
		elseif not birch then w = &quot;birch&quot;
		elseif not honeysuckle then w = &quot;honeysuckle&quot;
		elseif not beech then w = &quot;beech&quot;
		end
		w = &quot;whirl branch at target &quot;..w
	end

	-- attack
	local strike = &quot;ravage &quot;
	if has(name,&quot;rebounding&quot;) or has(name,&quot;shield&quot;) then
		strike = &quot;devastate &quot;
	end

	-- thornroot
	local troot = has(name,&quot;thornroot&quot;)
	if not troot and defiler.sprouts then
		troot = &quot; with thornroot &quot;
	else
		troot = &quot;&quot;
	end

	-- treant smash
	if toxin == &quot; benzene&quot; and not has(name,&quot;crippled left arm&quot;) then 
		spell = spell..&quot;right arm&quot;..sp
	elseif toxin == &quot; benzene&quot; and not has(name,&quot;crippled right leg&quot;) then
		spell = spell..&quot;right leg&quot;..sp
	elseif toxin == &quot; benzedrine&quot; and not has(name,&quot;crippled right leg&quot;) then
		spell = spell..&quot;right leg&quot;..sp
	end
	

	str = str..&quot;order treant attack target&quot;..sp
	str = str..&quot;quickdraw &quot;..defiler.flail..sp
	str = str..w..sp
	str = str..strike..name..toxin..troot..sp
	str = str..spell..sp

	str = str:gsub(&quot;target&quot;,name)
	send(str)
end</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>defiler.push</name>
                            <packageName></packageName>
                            <script>defiler.push_toxins = {
	&quot;sunallergy&quot;,
	&quot;nausea&quot;,
	&quot;numbness&quot;,
	&quot;metrazol&quot;,
	&quot;hemotoxin&quot;,
	&quot;asthma&quot;,
}
defiler.push_spells = {
	&quot;dryblood&quot;,
	&quot;addiction&quot;,
	&quot;confusion&quot;,
	&quot;hallucinations&quot;,
	&quot;haemophilia&quot;,
}

defiler.push = function(name,list)
	_hload(name)

	local str = &quot;&quot;

	local spell = &quot; &quot;
	local toxin = &quot; &quot;..defiler.choose_toxin(name)..&quot; &quot;

	for i=1,#defiler.push_spells do
		if not _G[defiler.push_spells[i]] then
			spell = spell..lookup(defiler.push_spells[i],defiler.spellbook)..sp
			table.insert(defiler.push_spells,defiler.push_spells[i])
			table.remove(defiler.push_spells,1)
		end
	end

	local apple,ash,beech,birch,blackthorn,elder,hazel,honeysuckle,hawthorn,willow = defiler.splinters(name)

	-- whirl
	local w,step = &quot;&quot;,&quot;&quot;
	if defiler.whirl_balance then
		if not blackthorn then w = &quot;blackthorn&quot;
		elseif not hawthorn then w = &quot;hawthorn&quot;
		elseif not elder then w = &quot;elder&quot;
		elseif not birch then w = &quot;birch&quot;
		elseif not honeysuckle then w = &quot;honeysuckle&quot;
		elseif not beech then w = &quot;beech&quot;
		end
		step = &quot;whirl branch at target &quot;..w
	end

	-- attack
	local strike = &quot;ravage &quot;
	if has(name,&quot;rebounding&quot;) or has(name,&quot;shield&quot;) then
		strike = &quot;devastate &quot;
	end

	-- thornroot
	local troot = has(name,&quot;thornroot&quot;)
	if not troot and defiler.sprouts then
		troot = &quot; with thornroot &quot;
	else
		troot = &quot;&quot;
	end

	-- off-bal action
	local post = &quot;&quot;
	-- splinters first
	local splint = &quot;&quot;
	if has(name,&quot;thornroot&quot;) then 
		if not blackthorn and w ~= &quot;blackthorn&quot; then splint = &quot;blackthorn&quot;
		elseif not elder and w ~= &quot;elder&quot; then splint = &quot;elder&quot;
		elseif not hawthorn and w ~= &quot;hawthorn&quot; then splint = &quot;hawthorn&quot;
		elseif not birch and w ~= &quot;birch&quot; then splint = &quot;birch&quot;
		elseif not honeysuckle and w ~= &quot;honeysuckle&quot; then splint = &quot;honeysuckle&quot;
		elseif not beech and w ~= &quot;beech&quot; then splint = &quot;beech&quot;
		end
		splint = &quot;treant splinter target &quot;..splint
	end
	post = post..splint..sp
	post = post..spell..sp

	str = str..&quot;order treant attack target&quot;..sp
	str = str..&quot;quickdraw flail shield&quot;..sp
	str = str..step..sp
	str = str..strike..name..toxin..troot..sp
	str = str..post..sp

	str = str:gsub(&quot;target&quot;,name)
	send(str)
end</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>defiler.hit</name>
                            <packageName></packageName>
                            <script>defiler.hit_toxins = {
	&quot;numbness&quot;,
	&quot;hemotoxin&quot;,
	&quot;nausea&quot;,
	&quot;asthma&quot;,
	&quot;metrazol&quot;,
	&quot;sunallergy&quot;,
}
defiler.hit_spells = {
	&quot;rigidity&quot;,
	&quot;hallucinations&quot;,
	&quot;confusion&quot;,
	&quot;haemophilia&quot;,
	&quot;dryblood&quot;,
	&quot;addiction&quot;,
}

defiler.hit = function(name)
	_hload(name)

	local str = &quot;&quot;
	local spell = &quot; &quot;
	local toxin = &quot; &quot;..defiler.choose_toxin(name)..&quot; &quot;

	for i=1,#defiler.push_spells do
		if not _G[defiler.push_spells[i]] then
			spell = spell..lookup(defiler.push_spells[i],defiler.spellbook)..sp
			table.insert(defiler.push_spells,defiler.push_spells[i])
			table.remove(defiler.push_spells,1)
			break
		end
	end

	if has(name,&quot;rebounding&quot;) or has(name,&quot;shield&quot;) then
		str = str..&quot;devastate &quot;
	else
		str = str..&quot;ravage &quot;
	end

	str = str..name..toxin..sp
	str = str..spell..sp
	str = str:gsub(&quot;target&quot;,name)
	return str
end</script>
                            <eventHandlerList/>
                        </Script>
                    </ScriptGroup>
                    <ScriptGroup isActive="yes" isFolder="yes">
                        <name>diabolist</name>
                        <packageName></packageName>
                        <script>diabolist = diabolist or {}</script>
                        <eventHandlerList/>
                        <Script isActive="yes" isFolder="no">
                            <name>[d]</name>
                            <packageName></packageName>
                            <script>diabolist.toxin_queue = {
	&quot;hemotoxin&quot;,
	&quot;slickness&quot;,
	&quot;butisol&quot;,
	&quot;sunallergy&quot;,
	&quot;clumsiness&quot;,
	&quot;anorexia&quot;,
	&quot;asthma&quot;,
	&quot;numbness&quot;,
	&quot;nausea&quot;,
	&quot;slow equilibrium&quot;,
	&quot;calotropis&quot;,
	&quot;weariness&quot;,
	&quot;stupidity&quot;,
	&quot;metrazol&quot;,
	&quot;recklessness&quot;,
	&quot;dizziness&quot;,
	&quot;sensitivity&quot;,
	&quot;slow balance&quot;,
	&quot;withered throat&quot;,
	&quot;ignorance&quot;,
	&quot;slow herbs&quot;,
	&quot;slow elixirs&quot;,
	&quot;disloyalty&quot;,
}

diabolist.eye_queue = {
	&quot;numbness&quot;,
	&quot;asthma&quot;,
	&quot;masochism&quot;,
	&quot;impatience&quot;,
	&quot;stupidity&quot;,
	&quot;peace&quot;,
	&quot;anorexia&quot;,
	&quot;epilepsy&quot;,
	&quot;nausea&quot;,
	&quot;clumsiness&quot;,
	&quot;addiction&quot;,
	&quot;peace&quot;,
	&quot;dementia&quot;,
	&quot;vertigo&quot;,
	&quot;claustrophobia&quot;,
	&quot;agoraphobia&quot;,
	&quot;recklessness&quot;,
	&quot;dizziness&quot;,
	&quot;confusion&quot;,
	&quot;paranoia&quot;,
	&quot;cyanide&quot;,
}

diabolist.spellbook = {
	clumsiness = &quot;clumsy&quot;,
	dizziness = &quot;dizzy&quot;,
	recklessness = &quot;reckless&quot;,
	stupidity = &quot;stupid&quot;,
	nausea = &quot;vomiting&quot;,
	cyanide = &quot;plague&quot;,
}

diabolist.daegger_balance = diabolist.daegger_balance or true
diabolist.defences = diabolist.defences or {}
diabolist.defences.armor = diabolist.defences.armor or false
diabolist.defences.putrefaction = diabolist.defences.putrefaction or false
diabolist.defences.syphon = diabolist.defences.syphon or false
diabolist.defences.lifevision = diabolist.defences.lifevision or false
diabolist.defences.shroud = diabolist.defences.shroud or false
diabolist.defences.soulmask = diabolist.defences.soulmask or false
diabolist.defences.deathaura = diabolist.defences.deathaura or false
diabolist.defences.vengeance = diabolist.defences.vengeance or false
diabolist.defences.blackwind = diabolist.defences.blackwind or false

diabolist.demon = diabolist.demon or &quot;&quot;
diabolist.form = diabolist.form or &quot;&quot;</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>reset</name>
                            <packageName></packageName>
                            <script>diabolist.reset = function()
	diabolist.daegger_balance = true
	diabolist.defences = {
		armor = false,
		putrefaction = false,
		syphon = false,
		lifevision = false,
		shroud = false,
		soulmask = false,
		deathaura = false,
		vengeance = false,
		blackwind = false,
	}
	diabolist.demon = &quot;&quot;
	diabolist.form = &quot;&quot;
end</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>prompt</name>
                            <packageName></packageName>
                            <script>diabolist.prompt = function(len) 
	local str = &quot;&quot;
	local n = 44
	n = n - len

	str = string.lpad(str,n,&quot; &quot;)

	if player(target) then
		local count = dbp.count(target)
		local mcount = dbp.count(target,&quot;hypno&quot;)

		str = str..&quot;[a: &quot;..count..&quot;][h: &quot;..mcount..&quot;] &quot;

	end

	if class == &quot;Diabolist&quot; then cecho(str) end
end</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>ui_refresh</name>
                            <packageName></packageName>
                            <script>diabolist.ui_refresh = function()
	clearWindow(&quot;diabolist_ui&quot;)
	local str = &quot;&quot;
	local time = os.time()
	local neutral = &quot;&lt;grey&gt;&quot;

	local color = &quot;&lt;goldenrod&gt;&quot;
	if player(target) then color = &quot;&lt;medium_aquamarine&gt;&quot; end
	if player(target) and has(target,&quot;curseward&quot;) then color = &quot;&lt;red&gt;&quot; else color = &quot;&lt;green&gt;&quot; end

	str = str..&quot;T: &quot;..color..target..neutral..&quot; &quot;

	-- first part
	-------------
	if player(target) then
		local random_affs = has(target,&quot;random_affs&quot;)
		local random_affs_c = neutral
		if random_affs &gt; 1 then random_affs_c = &quot;&lt;red&gt;&quot; end
		str = str..neutral..&quot;(+&quot;..random_affs_c..random_affs..neutral..&quot;) &quot;
	end

	-- second part
	-------------
	str = str..&quot;\n&quot;

	if player(target) then

	end


	local f_c = { 
		wight = &quot;&lt;purple&gt;&quot;,
		lich = &quot;&lt;violet_red&gt;&quot;,
		ghast = &quot;&lt;cadet_blue&gt;&quot;,
		ghoul = &quot;&lt;yellow&gt;&quot;,
	}
	local fnc = &quot;&quot;
	if f_c[diabolist.form] then fnc = f_c[diabolist.form] end
	
	str = str..&quot;[ &quot;
	str = str..fnc..string.rpad(string.title(diabolist.form),7,&quot; &quot;)
	str = str..neutral..&quot; ] &quot;

	local d_c = { 
		daemonite = &quot;&lt;purple&gt;&quot;,
		fiend = &quot;&lt;violet_red&gt;&quot;,
		nightmare = &quot;&lt;cadet_blue&gt;&quot;,
	}
	local dnc = &quot;&quot;
	if d_c[diabolist.demon] then dnc = d_c[diabolist.demon] end

	str = str..&quot;[ &quot;
	str = str..dnc..string.rpad(string.title(diabolist.demon),9,&quot; &quot;)
	str = str..neutral..&quot; ] &quot;

	local parry_c = &quot;&lt;dim_grey&gt;&quot;
	if limb.parry ~= &quot;nothing&quot; then parry_c = &quot;&lt;medium_aquamarine&gt;&quot; end
	str = str..&quot;P: &quot;..parry_c..string.title(limb.parry)..neutral

	-- third part
	-------------
	str = str..&quot;\n&quot;
	local arm, put = &quot;&lt;red&gt;&quot;,&quot;&lt;red&gt;&quot;
	local syp, lvi, shr, smk, dth = &quot;&lt;red&gt;&quot;,&quot;&lt;red&gt;&quot;,&quot;&lt;red&gt;&quot;,&quot;&lt;red&gt;&quot;,&quot;&lt;red&gt;&quot;
	local ven, bwd = &quot;&lt;red&gt;&quot;,&quot;&lt;red&gt;&quot;

	if diabolist.defences.armor then arm = &quot;&lt;medium_sea_green&gt;&quot; end
	if diabolist.defences.putrefaction then 
		put = &quot;&lt;medium_sea_green&gt;&quot; 
		put_str = &quot;SOD&quot;
	end
	if diabolist.defences.syphon then syp = &quot;&lt;medium_sea_green&gt;&quot; end
	if diabolist.defences.lifevision then lvi = &quot;&lt;medium_sea_green&gt;&quot; end
	if diabolist.defences.shroud then shr = &quot;&lt;medium_sea_green&gt;&quot; end
	if diabolist.defences.soulmask then smk = &quot;&lt;medium_sea_green&gt;&quot; end
	if diabolist.defences.deathaura then dth = &quot;&lt;medium_sea_green&gt;&quot; end
	if diabolist.defences.vengeance then ven = &quot;&lt;medium_sea_green&gt;&quot; end
	if diabolist.defences.blackwind then bwd = &quot;&lt;medium_sea_green&gt;&quot; end

	str = str..&quot;[&quot;..dth..&quot;DTH&quot;..neutral..&quot;] &quot;
	str = str..&quot;[&quot;..ven..&quot;VEN&quot;..neutral..&quot;] &quot;
	str = str..&quot;[&quot;..arm..&quot;DA &quot;..neutral..&quot;] &quot;
	str = str..&quot;[&quot;..lvi..&quot;LVI&quot;..neutral..&quot;] &quot;
	str = str..&quot;[&quot;..smk..&quot;SMK&quot;..neutral..&quot;] &quot;
	str = str..&quot;[&quot;..shr..&quot;SHR&quot;..neutral..&quot;] &quot;
	str = str..&quot;[&quot;..syp..&quot;DSY&quot;..neutral..&quot;] &quot;
	str = str..&quot;[&quot;..put..&quot;PUT&quot;..neutral..&quot;] &quot;
	str = str..&quot;[&quot;..bwd..&quot;BWD&quot;..neutral..&quot;] &quot;

	local lse = &quot;&lt;red&gt;&quot;
	if df_ and df_.landsense then lse = &quot;&lt;green&gt;&quot; end
	str = str..&quot;[&quot;..lse..&quot;LSE&quot;..neutral..&quot;] &quot;

	local limb_c = &quot;&lt;dim_grey&gt;&quot;
	if limb.target ~= &quot;nothing&quot; then limb_c = &quot;&lt;medium_aquamarine&gt;&quot; end
	str = str..&quot;T: &quot;..limb_c..string.title(limb.target)

	cecho(&quot;diabolist_ui&quot;,str)
end</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>timer</name>
                            <packageName></packageName>
                            <script>diabolist.timer = function()
	if class == &quot;Diabolist&quot; then

		-- operate only on 'target' otherwise the overhead is too big
		local time = os.time()

		if player(target) then
			local fenugreek_t = has(target,&quot;fenugreek_time&quot;)
			
			if fenugreek_t ~= 0 then
			fenugreek_t = time - fenugreek_t
			if fenugreek_t &gt; 5 then
				cecho(&quot;\n&lt;white&gt;Resetting Fenugreek Timer&quot;)
				set(target,&quot;fenugreek&quot;,true)
				set(target,&quot;fenugreek_time&quot;,0)
			end
			end

		end

		diabolist.ui_refresh()
	end
end</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>sleep</name>
                            <packageName></packageName>
                            <script>diabolist.sleep = function(name)
	local str = &quot;&quot;

	if player(name) then

		if not has(name,&quot;curseward&quot;) then
			str = &quot;deadeyes target sleep sleep&quot;..sp
		else
			str = &quot;deadeyes target breach fear&quot;..sp
		end
	else
		str = &quot;deadeyes target sleep sleep&quot;..sp
	end	
	
	str = str:gsub(&quot;target&quot;,name)
	send(str)
end</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>choose_toxin</name>
                            <packageName></packageName>
                            <script>diabolist.choose_toxin = function(name,elist,list)
	if not player(name) and type(name) == &quot;table&quot; then
		if elist then list = elist end
		elist = name
		name = me
	end

	_hload(name)

	local eye,eye2,toxin = &quot;&quot;,&quot;&quot;,&quot;&quot;
	local elist = elist or ecopy(diabolist.eye_queue)
	local list = list or ecopy(diabolist.toxin_queue)

	if _G.paralysis then
		table.remove(elist,table.index_of(elist,&quot;numbness&quot;))
		table.remove(list,table.index_of(list,&quot;numbness&quot;))
	end

	for i=1, #elist do
		if not _G[elist[i]] then
			eye = elist[i]
			break
		end
	end
	for i=1, #elist do
		if elist[i] ~= eye and not _G[elist[i]] then
			eye2 = elist[i]
			break
		end
	end

	if has(name,&quot;curseward&quot;) then
		eye2 = eye
		eye = &quot;breach&quot;
	end

	for i=1, #list do
		if list[i] ~= eye and list[i] ~= eye2 and not _G[list[i]] then
			toxin = list[i]
			break
		end
	end

	eye = lookup(eye,diabolist.spellbook)
	eye2 = lookup(eye2,diabolist.spellbook)
	toxin = lookup(toxin,dban.toxin_dictionary)

	return eye, eye2, toxin
end</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>diabolist.deadeyes</name>
                            <packageName></packageName>
                            <script>diabolist.deadeyes = function(name)
	local str = &quot;&quot;

	local eye, eye2, toxin = diabolist.choose_toxin(name)

	_hload(name)

	if not has(name,&quot;prismatic&quot;) and diabolist.daegger_balance then
		str = str..&quot;wipe daegger&quot;..sp
		str = str..&quot;daegger hunt target &quot;..toxin..sp
	end
	str = str..&quot;deadeyes target &quot;..eye..&quot; &quot;..eye2..sp

	-- Before lookup the syntax, check for reporting:
	local inc = {&quot;impatience&quot;,&quot;anorexia&quot;,&quot;asthma&quot;}

	local e = revlookup(eye,diabolist.spellbook)
	local e2 = revlookup(eye2,diabolist.spellbook)

	if config and config.share_full then
		str = &quot;queue eqbal &quot;..str
		str = str..&quot;clan military tell afflicted &quot;..name..&quot; &quot;..e..sp
		str = str..&quot;clan military tell afflicted &quot;..name..&quot; &quot;..e2..sp
	elseif config and config.share then
		if table.contains(inc,eye) then
			str = str..&quot;clan military tell afflicted &quot;..name..&quot; &quot;..e..sp
		end
		if table.contains(inc,eye2) then
			str = str..&quot;clan military tell afflicted &quot;..name..&quot; &quot;..e2..sp
		end
		str = &quot;queue eqbal &quot;..str
	end

	str = str:gsub(&quot;target&quot;,name)
	send(str)
end</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>diabolist.damage, damage_</name>
                            <packageName></packageName>
                            <script>diabolist.damage = function(name,ta)
	local str = &quot;&quot;

	local eye, eye2, toxin = diabolist.choose_toxin(name)
	_hload(name)

	str = str..&quot;deadeyes target breach vomiting&quot;..sp
	str = str..&quot;soulstorm target&quot;..sp

	str = str:gsub(&quot;target&quot;,name)
	send(str)
end

diabolist.damage_ = function(name,ta)
	local str = &quot;&quot;

	local eye, eye2, toxin = diabolist.choose_toxin(name)
	_hload(name)

	str = str..&quot;deadeyes target breach vomiting&quot;..sp

	str = str:gsub(&quot;target&quot;,name)
	send(str)
end</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="no" isFolder="no">
                            <name>diabolist.deadeyes_</name>
                            <packageName></packageName>
                            <script>diabolist.deadeyes_ = function(name)
	local str = &quot;&quot;
	local elist = ecopy(diabolist.eye_queue)
	local list = ecopy(diabolist.toxin_queue)

	_hload(name)

	if anorexia and asthma and hemotoxin and impatience and (numbness or paralysis) and not slickness then
		table.insert(list,1,&quot;slickness&quot;)
	elseif hemotoxin and impatience and (numbness or paralysis) and not slickness and not anorexia then
		table.insert(list,1,&quot;slickness&quot;)
		table.insert(elist,1,&quot;anorexia&quot;)
	end

	local eye, eye2, toxin = diabolist.choose_toxin(name,elist,list)

	if not has(name,&quot;prismatic&quot;) and diabolist.daegger_balance then
		str = str..&quot;wipe daegger&quot;..sp
		str = str..&quot;daegger hunt target &quot;..toxin..sp
	end
	str = str..&quot;deadeyes target &quot;..eye..&quot; &quot;..eye2..sp

	str = str:gsub(&quot;target&quot;,name)
	send(str)
end

</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>diabolist.infirmity</name>
                            <packageName></packageName>
                            <script>diabolist.infirmity = function(name)
	local str = &quot;&quot;
	local elist = ecopy(diabolist.eye_queue)
	local list = ecopy(diabolist.toxin_queue)

	_hload(name)

	local eye, eye2, toxin = diabolist.choose_toxin(name,elist,list)

	if not has(name,&quot;prismatic&quot;) and diabolist.daegger_balance then
		str = str..&quot;wipe daegger&quot;..sp
		str = str..&quot;daegger hunt target &quot;..toxin..sp
	end
	if eye ~= &quot;breach&quot; then
		str = str..&quot;stare target infirmity&quot;..sp
	else
		str = str..&quot;deadeyes target &quot;..eye..&quot; &quot;..eye2..sp
	end

	str = str:gsub(&quot;target&quot;,name)
	send(str)
end

</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>diabolist.kelp</name>
                            <packageName></packageName>
                            <script>diabolist.kelp = function(name)
	local str = &quot;&quot;
	local elist = {
	&quot;numbness&quot;,
	&quot;impatience&quot;,
	&quot;asthma&quot;,
	&quot;clumsiness&quot;,
	&quot;anorexia&quot;,
	&quot;stupidity&quot;,
	&quot;nausea&quot;,
	&quot;epilepsy&quot;,
	&quot;addiction&quot;,
	&quot;peace&quot;,
	&quot;masochism&quot;,
	&quot;dementia&quot;,
	&quot;vertigo&quot;,
	&quot;claustrophobia&quot;,
	&quot;agoraphobia&quot;,
	&quot;recklessness&quot;,
	&quot;dizziness&quot;,
	&quot;confusion&quot;,
	&quot;paranoia&quot;,
	&quot;cyanide&quot;,
	}
	local list = {
	&quot;hemotoxin&quot;,
	&quot;butisol&quot;,
	&quot;slickness&quot;,
	&quot;sunallergy&quot;,
	&quot;anorexia&quot;,
	&quot;asthma&quot;,
	&quot;numbness&quot;,
	&quot;nausea&quot;,
	&quot;slow equilibrium&quot;,
	&quot;calotropis&quot;,
	&quot;weariness&quot;,
	&quot;stupidity&quot;,
	&quot;metrazol&quot;,
	&quot;recklessness&quot;,
	&quot;dizziness&quot;,
	&quot;clumsiness&quot;,
	&quot;sensitivity&quot;,
	&quot;slow balance&quot;,
	&quot;withered throat&quot;,
	&quot;ignorance&quot;,
	&quot;slow herbs&quot;,
	&quot;slow elixirs&quot;,
	&quot;disloyalty&quot;,
	}


	local eye, eye2, toxin = diabolist.choose_toxin(name,elist,list)
	_hload(name)

	if not has(name,&quot;prismatic&quot;) and diabolist.daegger_balance then
		str = str..&quot;wipe daegger&quot;..sp
		str = str..&quot;daegger hunt target &quot;..toxin..sp
	end
	str = str..&quot;deadeyes target &quot;..eye..&quot; &quot;..eye2..sp

	str = str:gsub(&quot;target&quot;,name)
	send(str)
end</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>diabolist.orphine</name>
                            <packageName></packageName>
                            <script>diabolist.orphine = function(name)
	local str = &quot;&quot;
	local elist = {
	&quot;numbness&quot;,
	&quot;impatience&quot;,
	&quot;masochism&quot;,
	&quot;claustrophobia&quot;,
	&quot;asthma&quot;,
	&quot;clumsiness&quot;,
	&quot;anorexia&quot;,
	&quot;stupidity&quot;,
	&quot;nausea&quot;,
	&quot;epilepsy&quot;,
	&quot;vertigo&quot;,
	&quot;addiction&quot;,
	&quot;peace&quot;,
	&quot;dementia&quot;,
	&quot;agoraphobia&quot;,
	&quot;recklessness&quot;,
	&quot;dizziness&quot;,
	&quot;confusion&quot;,
	&quot;paranoia&quot;,
	&quot;cyanide&quot;,
	}
	local list = {
	&quot;calotropis&quot;,
	&quot;sunallergy&quot;,
	&quot;stupidity&quot;,
	&quot;hemotoxin&quot;,
	&quot;butisol&quot;,
	&quot;anorexia&quot;,
	&quot;slickness&quot;,
	&quot;asthma&quot;,
	&quot;numbness&quot;,
	&quot;nausea&quot;,
	&quot;slow equilibrium&quot;,
	&quot;weariness&quot;,
	&quot;metrazol&quot;,
	&quot;recklessness&quot;,
	&quot;dizziness&quot;,
	&quot;clumsiness&quot;,
	&quot;sensitivity&quot;,
	&quot;slow balance&quot;,
	&quot;withered throat&quot;,
	&quot;ignorance&quot;,
	&quot;slow herbs&quot;,
	&quot;slow elixirs&quot;,
	&quot;disloyalty&quot;,
	}


	local eye, eye2, toxin = diabolist.choose_toxin(name,elist,list)
	_hload(name)

	if not has(name,&quot;prismatic&quot;) and diabolist.daegger_balance then
		str = str..&quot;wipe daegger&quot;..sp
		str = str..&quot;daegger hunt target &quot;..toxin..sp
	end
	str = str..&quot;deadeyes target &quot;..eye..&quot; &quot;..eye2..sp

	str = str:gsub(&quot;target&quot;,name)
	send(str)
end</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>diabolist.wormwood</name>
                            <packageName></packageName>
                            <script>diabolist.wormwood = function(name)
	local str = &quot;&quot;
	local elist = {
	&quot;numbness&quot;,
	&quot;impatience&quot;,
	&quot;confusion&quot;,
	&quot;dementia&quot;,
	&quot;paranoia&quot;,
	&quot;asthma&quot;,
	&quot;clumsiness&quot;,
	&quot;anorexia&quot;,
	&quot;stupidity&quot;,
	&quot;nausea&quot;,
	&quot;epilepsy&quot;,
	&quot;addiction&quot;,
	&quot;peace&quot;,
	&quot;masochism&quot;,
	&quot;vertigo&quot;,
	&quot;claustrophobia&quot;,
	&quot;agoraphobia&quot;,
	&quot;recklessness&quot;,
	&quot;dizziness&quot;,
	&quot;cyanide&quot;,
	}
	local list = {
	&quot;hemotoxin&quot;,
	&quot;butisol&quot;,
	&quot;slickness&quot;,
	&quot;sunallergy&quot;,
	&quot;anorexia&quot;,
	&quot;asthma&quot;,
	&quot;numbness&quot;,
	&quot;nausea&quot;,
	&quot;slow equilibrium&quot;,
	&quot;calotropis&quot;,
	&quot;weariness&quot;,
	&quot;stupidity&quot;,
	&quot;metrazol&quot;,
	&quot;recklessness&quot;,
	&quot;dizziness&quot;,
	&quot;clumsiness&quot;,
	&quot;sensitivity&quot;,
	&quot;slow balance&quot;,
	&quot;withered throat&quot;,
	&quot;ignorance&quot;,
	&quot;slow herbs&quot;,
	&quot;slow elixirs&quot;,
	&quot;disloyalty&quot;,
	}


	local eye, eye2, toxin = diabolist.choose_toxin(name,elist,list)
	_hload(name)

	if not has(name,&quot;prismatic&quot;) and diabolist.daegger_balance then
		str = str..&quot;wipe daegger&quot;..sp
		str = str..&quot;daegger hunt target &quot;..toxin..sp
	end
	str = str..&quot;deadeyes target &quot;..eye..&quot; &quot;..eye2..sp

	str = str:gsub(&quot;target&quot;,name)
	send(str)
end</script>
                            <eventHandlerList/>
                        </Script>
                    </ScriptGroup>
                    <ScriptGroup isActive="yes" isFolder="yes">
                        <name>summoner</name>
                        <packageName></packageName>
                        <script>summoner = summoner or {}</script>
                        <eventHandlerList/>
                        <Script isActive="yes" isFolder="no">
                            <name>[d]</name>
                            <packageName></packageName>
                            <script>
summoner.marduk_g = summoner.marduk_g or false

-- manaleech
summoner.mlg = summoner.mlg or false
summoner.mlg_timer = summoner.mlg_timer or 0

summoner.defences = summoner.defences or {}
summoner.defences.deathsight = summoner.defences.deathsight or false
summoner.defences.distortion = summoner.defences.distortion or false
summoner.defences.lifevision = summoner.defences.lifevision or false
summoner.defences.soulchain = summoner.defences.soulchain or false
summoner.defences.warmth = summoner.defences.warmth or false


summoner.spell_queue = {
	&quot;impatience&quot;,
	&quot;epilepsy&quot;,
	&quot;hallucinations&quot;,
	&quot;vertigo&quot;,
	&quot;masochism&quot;,
}
summoner.unleash_queue = {
	&quot;belial&quot;,
	&quot;golgotha&quot;,
	&quot;dameron golgotha&quot;,
	&quot;palpatar&quot;,
	&quot;pyradius&quot;,
	&quot;hecate&quot;,
	&quot;scrag&quot;,
	&quot;cadmus&quot;,
	&quot;dameron hecate&quot;,
	&quot;rixil&quot;,
	&quot;buul&quot;,
}
summoner.tarot_queue = {
	&quot;stupidity&quot;,
	&quot;numbness&quot;,
	&quot;justice&quot;,
	&quot;confusion&quot;,
	&quot;manaleech&quot;,
	&quot;lovers&quot;,
	&quot;masochism&quot;,
	&quot;heroism&quot;,
	&quot;recklessness&quot;,
	&quot;dementia&quot;,
	&quot;hypersomnia&quot;,
	&quot;paranoia&quot;,
}

summoner.spellbook = {
	[5] = {},
	[10] = {
		epilepsy = &quot;flash&quot;,
		vertigo = &quot;disorient&quot;,
		hallucinations = &quot;fever&quot;,
		impatience = &quot;quicken&quot;,
		masochism = &quot;soulburn&quot;,
		aeon = &quot;soulwrack&quot;,
	},
	[15] = {
		asthma = &quot;combustion&quot;,
		hellsight = &quot;hellsight&quot;,
	},
	[20] = {
		butisol = &quot;dehydrate&quot;,
		sunallergy = &quot;nervewrack&quot;,
		[&quot;burning nerves&quot;] = &quot;nerveburn&quot;,
		disloyalty = &quot;devolve&quot;,
		prone = &quot;heave&quot;,
	},
	sensitivity = &quot;nervewrack intensify&quot;,
	sunallergy = &quot;nervewrack&quot;,
	impatience = &quot;quicken&quot;,
	epilepsy = &quot;flash&quot;,
	asthma = &quot;combustion intensify&quot;, -- intensify
	vertigo = &quot;disorient&quot;,
	hallucinations = &quot;fever&quot;,
	butisol = &quot;dehydrate&quot;,
	[&quot;burning nerves&quot;] = &quot;nerveburn&quot;,
	disloyalty = &quot;devolve&quot;,
	[&quot;taint attunement&quot;] = &quot;heave intensify&quot;,
	prone = &quot;heave&quot;,
	clumsiness = &quot;disorient intensify&quot;,

	numbness = &quot;emperor&quot;,
	justice = &quot;justice&quot;,
	heroism = &quot;moon heroism&quot;,
	stupidity = &quot;moon stupidity&quot;,
	masochism = &quot;moon masochism&quot;,
	recklessness = &quot;moon recklessness&quot;,
	confusion = &quot;moon confusion&quot;,
	dementia = &quot;moon dementia&quot;,
	lovers = &quot;lovers&quot;,
	hypersomnia = &quot;moon hypersomnia&quot;,
	paranoia = &quot;moon paranoia&quot;,
	manaleech = &quot;fool&quot;,
}
</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>[d] unleashes</name>
                            <packageName></packageName>
                            <script>summoner.unleash = summoner.unleash or true
summoner.unleash_timer = summoner.unleash_timer or 0

summoner.arctar = summoner.arctar or true
summoner.belial = summoner.belial or true
summoner.buul = summoner.buul or true
summoner.cadmus = summoner.cadmus or true
summoner.dameron = summoner.dameron or true
summoner.danaeus = summoner.danaeus or true
summoner.eerion = summoner.eerion or true
summoner.golgotha = summoner.golgotha or true
summoner.hecate = summoner.hecate or true
summoner.lyncantha = summoner.lyncantha or true
summoner.marduk = summoner.marduk or true
summoner.ninkharsag = summoner.ninkharsag or true
summoner.palpatar = summoner.palpatar or true
summoner.pyradius = summoner.pyradius or true
summoner.rixil = summoner.rixil or true
summoner.scrag = summoner.scrag or true
summoner.skyrax = summoner.skyrax or true</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>reset</name>
                            <packageName></packageName>
                            <script>summoner.reset = function()
	summoner.marduk_g = false
	summoner.mlg = false
	summoner.mlg_timer = 0
	summoner.defences = {
		deathsight = false,
		distortion = false,
		lifevision = false,
		soulchain = false,
		warmth = false,
	}
	summoner.unleash = true
	summoner.unleash_timer = 0
	summoner.arctar = true
	summoner.belial = true
	summoner.buul = true
	summoner.cadmus = true
	summoner.dameron = true
	summoner.danaeus = true
	summoner.eerion = true
	summoner.golgotha = true
	summoner.hecate = true
	summoner.lyncantha = true
	summoner.marduk = true
	summoner.ninkharsag = true
	summoner.palpatar = true
	summoner.pyradius = true
	summoner.rixil = true
	summoner.scrag = true
	summoner.skyrax = true
end</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>prompt</name>
                            <packageName></packageName>
                            <script>summoner.prompt = function(len) 
	local str = &quot;&quot;
	local n = 40
	n = n - len

	str = string.lpad(str,n,&quot; &quot;)

	if player(target) then
		local count = dbp.count(target)
		local mcount = dbp.count(target,&quot;madness&quot;)

		str = str..&quot;[a: &quot;..count..&quot;][m: &quot;..mcount..&quot;] &quot;

		local taint = has(target,&quot;taint&quot;)
		local incin = has(target,&quot;incinerate&quot;)
		local ttn, symbol, edge = &quot;&lt;red&gt;&quot;, &quot;\\&quot;, &quot;&lt;dim_grey&gt;&quot;
		if incin then edge = &quot;&lt;red&gt;&quot; end
		if taint &gt;= 10 then ttn = &quot;&lt;firebrick&gt;&quot; end
		if taint &gt;= 20 then ttn = &quot;&lt;OrangeRed&gt;&quot; end
		if taint &gt;= 30 then ttn = &quot;&lt;tomato&gt;&quot; end
		if taint &gt;= 40 then ttn = &quot;&lt;HotPink&gt;&quot; end
		if taint &gt;= 50 then ttn = &quot;&lt;medium_orchid&gt;&quot; end
		if taint &gt;= 60 then ttn = &quot;&lt;magenta&gt;&quot; end
		if taint &gt;= 70 then ttn = &quot;&lt;violet_red&gt;&quot; end
		if taint &gt;= 80 then ttn = &quot;&lt;DeepPink&gt;&quot; end
		if taint &gt;= 90 then ttn = &quot;&lt;medium_violet_red&gt;&quot; end
		if taint &gt;= 100 then ttn = &quot;&lt;red&gt;&quot; end
		taint = math.floor( taint /10 )
		str = str..&quot; &quot;..edge..&quot;[[&lt;grey&gt;&quot;
		if taint == 0 then 
			ttn = ttn..&quot;&lt;dark_green&gt;&quot;
			for i=10, 1, -1 do 
				ttn = ttn..symbol
			end
		else 
			limit = taint 
			for i=1, taint do
				ttn = ttn..symbol
			end
			ttn = ttn..&quot;&lt;dark_green&gt;&quot;
			for i=10, taint + 1, -1 do 
				ttn = ttn..symbol
			end
		end
		str = str..ttn
		str = str..edge..&quot;]]&lt;gray&gt;&quot;
	end

	if class == &quot;Summoner&quot; then cecho(str) end
end</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>ui_refresh</name>
                            <packageName></packageName>
                            <script>summoner.ui_refresh = function()
	clearWindow(&quot;summoner_ui&quot;)
	local str = &quot;&quot;
	local time = os.time()
	local neutral = &quot;&lt;grey&gt;&quot;

	local color = &quot;&lt;goldenrod&gt;&quot;
	if player(target) then 
		if has(target,&quot;incinerate&quot;) then
			color = &quot;&lt;red&gt;&quot;
		else
			color = &quot;&lt;medium_aquamarine&gt;&quot; 
		end
	end

	str = str..&quot;T: &quot;..color..target..neutral..&quot; &quot;

	-- first part
	-------------
	if player(target) then
		local random_affs = has(target,&quot;random_affs&quot;)
		local random_affs_c = neutral
		if random_affs &gt; 1 then random_affs_c = &quot;&lt;red&gt;&quot; end
		str = str..neutral..&quot;(+&quot;..random_affs_c..random_affs..neutral..&quot;) &quot;
	end

	-- second part
	-------------
	str = str..&quot;\n&quot;

	if player(target) then
		local taint = has(target,&quot;taint&quot;)
		local incin = has(target,&quot;incinerate&quot;)
		local ttn, symbol, edge = &quot;&lt;red&gt;&quot;, &quot;\\&quot;, &quot;&lt;dim_grey&gt;&quot;
		if incin then edge = &quot;&lt;red&gt;&quot; end
		if taint &gt;= 10 then ttn = &quot;&lt;firebrick&gt;&quot; end
		if taint &gt;= 20 then ttn = &quot;&lt;OrangeRed&gt;&quot; end
		if taint &gt;= 30 then ttn = &quot;&lt;tomato&gt;&quot; end
		if taint &gt;= 40 then ttn = &quot;&lt;HotPink&gt;&quot; end
		if taint &gt;= 50 then ttn = &quot;&lt;medium_orchid&gt;&quot; end
		if taint &gt;= 60 then ttn = &quot;&lt;magenta&gt;&quot; end
		if taint &gt;= 70 then ttn = &quot;&lt;violet_red&gt;&quot; end
		if taint &gt;= 80 then ttn = &quot;&lt;DeepPink&gt;&quot; end
		if taint &gt;= 90 then ttn = &quot;&lt;medium_violet_red&gt;&quot; end
		if taint &gt;= 100 then ttn = &quot;&lt;red&gt;&quot; end
		taint = math.floor( taint /10 )
		str = str..&quot;T: &quot;..edge..&quot;[[&lt;grey&gt;&quot;
		if taint == 0 then 
			ttn = ttn..&quot;&lt;dark_green&gt;&quot;
			for i=10, 1, -1 do 
				ttn = ttn..symbol
			end
		else 
			limit = taint 
			for i=1, taint do
				ttn = ttn..symbol
			end
			ttn = ttn..&quot;&lt;dark_green&gt;&quot;
			for i=10, taint + 1, -1 do 
				ttn = ttn..symbol
			end
		end
		str = str..ttn
		str = str..edge..&quot;]]&lt;gray&gt; &quot;

		-- hierophant
		local hierophant = has(target,&quot;hierophant&quot;)
		local hierophant_time = has(target,&quot;hierophant_time&quot;)
		local hierophant_c = &quot;&lt;dim_grey&gt;&quot;

		if hierophant then hierophant_c = &quot;&lt;green&gt;&quot; end

		if hierophant_time ~= 0 then
			hierophant_time = string.format(&quot;%.1f&quot;, 60 - (time - hierophant_time))
			hierophant_time = string.lpad(hierophant_time,4,&quot;0&quot;)
		else
			hierophant_time = &quot;00.0&quot;
		end

		str = str..&quot;H&quot;..neutral..&quot;: &quot;..hierophant_c..hierophant_time..&quot; &quot;..neutral
	end

	local parry_c = &quot;&lt;dim_grey&gt;&quot;
	if limb.parry ~= &quot;nothing&quot; then parry_c = &quot;&lt;medium_aquamarine&gt;&quot; end
	str = str..&quot;P: &quot;..parry_c..string.title(limb.parry)..neutral

	-- third part
	-------------
	str = str..&quot;\n&quot;

	str = str..&quot;U: &quot;
	
	local unleash_timer = summoner.unleash_timer
	local ttn, symbol, edge = &quot;&lt;red&gt;&quot;, &quot;x&quot;, &quot;&lt;dim_grey&gt;&quot;

	if unleash_timer ~= 0 then
		edge = &quot;&lt;green&gt;&quot;
		unleash_timer = 5 - (time - unleash_timer)
	end

		if unleash_timer &gt;= 1 then ttn = &quot;&lt;firebrick&gt;&quot; end
		if unleash_timer &gt;= 2 then ttn = &quot;&lt;tomato&gt;&quot; end
		if unleash_timer &gt;= 3 then ttn = &quot;&lt;medium_orchid&gt;&quot; end
		if unleash_timer &gt;= 4 then ttn = &quot;&lt;violet_red&gt;&quot; end
		if unleash_timer &gt;= 5 then ttn = &quot;&lt;medium_violet_red&gt;&quot; end

		str = str..edge..&quot;:&lt;gray&gt;&quot;
		if unleash_timer &lt;= 0 then
			ttn = ttn..&quot;&lt;dim_grey&gt;&quot;
			for i=5,1,-1 do
				ttn = ttn..symbol
			end
		else
			for i=1,unleash_timer do
				ttn = ttn..symbol
			end
			ttn = ttn..&quot;&lt;gray&gt;&quot;
			for i=5,unleash_timer+1,-1 do
				ttn = ttn..symbol
			end
		end
		str = str..ttn
		str = str..edge..&quot;:&lt;gray&gt; &quot;

	local dth, dst, lif, sch, wrm = &quot;&lt;red&gt;&quot;,&quot;&lt;red&gt;&quot;,&quot;&lt;red&gt;&quot;,&quot;&lt;red&gt;&quot;,&quot;&lt;red&gt;&quot;

	if summoner.defences.deathsight then dth = &quot;&lt;medium_sea_green&gt;&quot; end
	if summoner.defences.distortion then dst = &quot;&lt;medium_sea_green&gt;&quot; end
	if summoner.defences.lifevision then lif = &quot;&lt;medium_sea_green&gt;&quot; end
	if summoner.defences.soulchain then sch = &quot;&lt;medium_sea_green&gt;&quot; end
	if summoner.defences.warmth then wrm = &quot;&lt;medium_sea_green&gt;&quot; end

	str = str..&quot;[&quot;..sch..&quot;SCH&quot;..neutral..&quot;] &quot;
	str = str..&quot;[&quot;..dst..&quot;DST&quot;..neutral..&quot;] &quot;
	str = str..&quot;[&quot;..wrm..&quot;WRM&quot;..neutral..&quot;] &quot;
	str = str..&quot;[&quot;..dth..&quot;AVIS&quot;..neutral..&quot;] &quot;
	str = str..&quot;[&quot;..lif..&quot;LIF&quot;..neutral..&quot;] &quot;

	local limb_c = &quot;&lt;dim_grey&gt;&quot;
	if limb.target ~= &quot;nothing&quot; then limb_c = &quot;&lt;medium_aquamarine&gt;&quot; end
	str = str..&quot;T: &quot;..limb_c..string.title(limb.target)

	cecho(&quot;summoner_ui&quot;,str)
end</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>timer</name>
                            <packageName></packageName>
                            <script>summoner.timer = function()
	if class == &quot;Summoner&quot; then
		-- operate only on 'target' otherwise the overhead is too big
		local time = os.time()

		-- if summoner.mlg_timer ~= 0 and (time - summoner.mlg) &gt; 3 then
			-- summoner.mlg = false
			-- summoner.mlg_timer = 0
		-- end

		if player(target) then
			local unleash_timer = summoner.unleash_timer
			
			if unleash_timer ~= 0 then
			unleash_timer = time - unleash_timer
			if unleash_timer &gt; 5 then
				cecho(&quot;\n&lt;white&gt;Resetting Unleash Timer&quot;)
				summoner.unleash = true
				summoner.unleash_timer = 0
			end
			end

			local hierophant_time = has(target,&quot;hierophant_time&quot;)
			if hierophant_time ~= 0 then
				hierophant_time = time - hierophant_time
				if hierophant_time &gt; 60 then
					cecho(&quot;\n&lt;white&gt;Resetting &lt;gold&gt;Hierophant &lt;white&gt;Time&quot;)
					set(target,&quot;hierophant&quot;,false)
					set(target,&quot;hierophant_time&quot;,0)
				end
			end
		end

		summoner.ui_refresh()
	end
end</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>choose_spell</name>
                            <packageName></packageName>
                            <script>summoner.choose_spell = function(name,list)
	if not player(name) and type(name) == &quot;table&quot; then
		list = name
		name = me
	end
	local spell,spell2,spell_h = &quot;&quot;,&quot;&quot;,&quot;&quot;
	local list = list or summoner.spell_queue
	local taint = tonumber(has(name,&quot;taint&quot;))

	_hload(name)

	for i=1, #list do
		if not _G[list[i]] then
			if string.match(lookup(list[i],summoner.spellbook),&quot; &quot;) and taint &lt;= 20 then
			elseif list[i] == &quot;manaleech&quot; and summoner.mlg then
			else
				spell = list[i]
				break
			end
		end
	end

	spell_h = spell
	spell = lookup(spell,summoner.spellbook)
	if spell == &quot;moon masochism&quot; then spell = &quot;soulburn&quot; end
	local t = {}

	if string.match(spell,&quot; &quot;) then
		t = string.split(spell,&quot; &quot;)
		spell = t[1]
		spell2 = t[2]
	end

	-- [[ instant ]]
	local spell3,spell4 = &quot;&quot;,&quot;&quot;
	if player(name) then
		local taint = has(name,&quot;taint&quot;)
		if (taint &gt;= 70 and spell2 == &quot;&quot;) or taint &gt;= 80 then
			for i=1,#list do
				if list[i] == &quot;manaleech&quot; and summoner.mlg then
				elseif not _G[list[i]] and list[i] ~= spell_h and not string.match(lookup(list[i],summoner.spellbook),&quot; &quot;) then
					spell3 = list[i]
					spell4 = &quot;instant&quot;
					break
				end 
			end
		end
	end
	if spell3 ~= &quot;&quot; then spell3 = lookup(spell3,summoner.spellbook) end
	if spell3 == &quot;moon masochism&quot; then spell3 = &quot;soulburn&quot; end



	return spell,spell2,spell3,spell4
end</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>choose_tarot</name>
                            <packageName></packageName>
                            <script>summoner.choose_tarot = function(name,list)
	if not player(name) and type(name) == &quot;table&quot; then
		list = name
		name = me
	end
	local card,card2 = &quot;&quot;,&quot;&quot;
	local list = list or summoner.tarot_queue

	_hload(name)

	for i=1, #list do 
		if not _G[list[i]] then
			card = list[i]
			break
		end
	end

	card = lookup(card,summoner.spellbook)
	local t = {}

	if string.match(card,&quot; &quot;) then
		t = string.split(card,&quot; &quot;)
		card = t[1]
		card2 = t[2]
	end

	return card,card2
end</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>choose_unleash</name>
                            <packageName></packageName>
                            <script>summoner.choose_unleash = function(list)
	local str = &quot;&quot;
	local list = list or summoner.unleash_queue
	
	if summoner.unleash then
		str = &quot;unleash demon at target&quot;
		for i=1,#list do
			local d,e,t = list[i],&quot;&quot;,{}
			if string.match(d,&quot;dameron %l+&quot;) then
				t = string.split(d,&quot;%s+&quot;)
				d = t[1]
				e = t[2]
			end
			if summoner[d] then
				str = str:gsub(&quot;demon&quot;,d)
				str = str..&quot; &quot;..e
				break
			end
		end
	end

	return str
end

</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>summoner.damage</name>
                            <packageName></packageName>
                            <script>summoner.damage = function(name, ta)
	local str = &quot;&quot;
	local taint = tonumber(has(name,&quot;taint&quot;))
	local count = tonumber(dbp.count(name))

	_hload(name)

	local spells = {
		&quot;impatience&quot;,
		&quot;epilepsy&quot;,
		&quot;asthma&quot;,
		&quot;vertigo&quot;,
		&quot;hallucinations&quot;,
		&quot;masochism&quot;,
	}

	if taint &lt; 30 then
		table.insert(spells,1,&quot;burning nerves&quot;)
	end

	local spell,spell2 = summoner.choose_spell(name, spells)
	local unleasher = summoner.choose_unleash() -- , &quot;dmg&quot;
	local eq = eq or 0
	local bal = bal or 0
	local eqbal = false
	if eq == 1 and bal == 1 then eqbal = true end

	local e_valid = evalid()

	if has(name,&quot;shield&quot;) then
		if e_valid and e.hp &lt;= 0.6*e.mhp then
			str = str..&quot;invoke cleanseaura &quot;..name..sp
			str = str..unleasher
			unleasher = &quot;&quot;
		else
			str = str..&quot;touch hammer &quot;..name..sp
			str = str..unleasher
			unleasher = &quot;&quot;
		end
	else
		if madness then 
			str = str..&quot;invoke enlighten &quot;..name..sp
		elseif hp/mhp &lt; 0.4 then
			str = str..&quot;invoke aurashift &quot;..name..sp
		elseif count &gt;= 7 and taint &gt;= 70 then
			str = str..&quot;fling devil at &quot;..name..sp
		elseif count &gt;= 3 and summoner.unleash and taint &gt;= 70 and summoner.cadmus and eqbal then 
			str = str..&quot;unleash cadmus at &quot;..name..sp
			str = str..&quot;invoke hellsight &quot;..name..&quot; instant&quot;..sp
			str = str..&quot;fling devil at &quot;..name..sp
		elseif count &gt;= 3 and summoner.unleash and taint &gt;= 70 and summoner.lyncantha and eqbal then
			str = str..&quot;unleash lyncantha at &quot;..name..sp
			str = str..&quot;invoke combustion &quot;..name..&quot; instant intensify&quot;..sp
			str = str..&quot;fling devil at &quot;..name..sp
		elseif not has(name,&quot;tree&quot;) and not has(name,&quot;purge&quot;) and not has(name,&quot;herb&quot;) and taint &gt;= 70 and summoner.unleash and summoner.pyradius and summoner.cadmus and eqbal then
			str = str..&quot;unleash cadmus at &quot;..name..sp
			str = str..&quot;invoke disorient &quot;..name..&quot; instant intensify&quot;..sp
			str = str..&quot;fling moon hellsight at &quot;..name..&quot; recklessness&quot;..sp
		elseif taint &gt;= 60 and asthma then
			str = str..&quot;invoke hellsight &quot;..name..&quot; duplicate&quot;..sp
		elseif taint &gt;= 100 then
			if not incin then
				str = str..&quot;invoke incinerate &quot;..name..sp
			else
				str = str..&quot;invoke &quot;..spell..&quot; &quot;..name..&quot; &quot;..spell2..&quot; duplicate&quot;..sp
			end
		elseif taint &gt;= 90 and incin and pyradius == 1 then
			str = str..&quot;invoke &quot;..spell..&quot; &quot;..name..&quot; &quot;..spell2..&quot; duplicate&quot;..sp
		elseif taint &gt;= 90 and incin and dameron == 1 then
			str = str..&quot;invoke &quot;..spell..&quot; &quot;..name..&quot; &quot;..spell2..&quot; duplicate&quot;..sp
		elseif taint &gt;= 10 and taint &lt; 40 then
			if summoner.pyradius and summoner.unleash and eqbal then
				str = str..&quot;invoke heave &quot;..name..&quot; intensify&quot;..sp
				str = str..&quot;unleash pyradius at &quot;..name..sp
			elseif summoner.dameron and summoner.unleash and eqbal then
				str = str..&quot;invoke heave &quot;..name..&quot; intensify&quot;..sp
				str = str..&quot;unleash dameron at &quot;..name..&quot; pyradius&quot;..sp
			else
				str = str..&quot;invoke &quot;..spell..&quot; &quot;..name..&quot; &quot;..spell2..sp
			end
		elseif taint &gt;= 40 then
			str = str..&quot;invoke &quot;..spell..&quot; &quot;..name..&quot; &quot;..spell2..sp
		elseif incin and taint &gt;= 90 then
			str = str..&quot;invoke quicken &quot;..name..&quot; &quot;..spell2..&quot; duplicate&quot;..sp
		elseif incin and taint &lt;= 20 then
			str = str..&quot;invoke nerveburn &quot;..name..&quot; &quot;..spell2..sp
		else
			str = str..&quot;invoke &quot;..spell..&quot; &quot;..name..&quot; &quot;..spell2..sp
		end
	end

	if unleasher then str = str..unleasher..sp end

	local ta = ta or false
	if ta then str = str..&quot;trueassess &quot;..name..sp end

	str = str:gsub(&quot;target&quot;,name)

	send(str)
end

</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>summoner.duplicate</name>
                            <packageName></packageName>
                            <script>summoner.duplicate = function(name, ta)
	local str = &quot;&quot;
	local taint = tonumber(has(name,&quot;taint&quot;))
	local count = tonumber(dbp.count(name))

	_hload(name)

	local spells = {
		&quot;impatience&quot;,
		&quot;masochism&quot;,
		&quot;epilepsy&quot;,
		&quot;asthma&quot;,
		&quot;vertigo&quot;,
		&quot;hallucinations&quot;,
	}

	if taint &lt; 30 then
		table.insert(spells,1,&quot;burning nerves&quot;)
	end

	local spell,spell2 = summoner.choose_spell(name, spells)
	local unleasher = summoner.choose_unleash() -- , &quot;dmg&quot;
	local eq = eq or 0
	local bal = bal or 0
	local eqbal = false
	if eq == 1 and bal == 1 then eqbal = true end

	local e_valid = evalid()

	if has(name,&quot;shield&quot;) then
		if e_valid and e.hp &lt;= 0.6*e.mhp then
			str = str..&quot;invoke cleanseaura &quot;..name..sp
			str = str..unleasher
			unleasher = &quot;&quot;
		else
			str = str..&quot;touch hammer &quot;..name..sp
			str = str..unleasher
			unleasher = &quot;&quot;
		end
	else
		if madness then 
			str = str..&quot;enlighten &quot;..name..sp
		elseif hp/mhp &lt; 0.4 then
			str = str..&quot;invoke aurashift &quot;..name..sp
		elseif count &gt;= 3 and summoner.unleash and taint &gt;= 70 and summoner.cadmus and eqbal then 
			str = str..&quot;unleash cadmus at &quot;..name..sp
			str = str..&quot;invoke hellsight &quot;..name..&quot; instant&quot;..sp
			str = str..&quot;fling devil at &quot;..name..sp
		elseif count &gt;= 3 and summoner.unleash and taint &gt;= 70 and summoner.lyncantha and eqbal then
			str = str..&quot;unleash lyncantha at &quot;..name..sp
			str = str..&quot;invoke combustion &quot;..name..&quot; instant intensify&quot;..sp
			str = str..&quot;fling devil at &quot;..name..sp
		elseif taint &gt;= 100 then
			spell = &quot;soulburn&quot;
			str = str..&quot;invoke &quot;..spell..&quot; &quot;..name..&quot; &quot;..spell2..&quot; duplicate&quot;..sp
		elseif taint &gt;= 70 and pyradius == 1 then
			str = str..&quot;invoke &quot;..spell..&quot; &quot;..name..&quot; &quot;..spell2..&quot; duplicate&quot;..sp
		elseif taint &gt;= 70 and dameron == 1 then
			str = str..&quot;invoke &quot;..spell..&quot; &quot;..name..&quot; &quot;..spell2..&quot; duplicate&quot;..sp
		elseif taint &gt;= 10 and taint &lt; 40 then
			if summoner.pyradius and summoner.unleash and eqbal then
				str = str..&quot;invoke heave &quot;..name..&quot; intensify&quot;..sp
				str = str..&quot;unleash pyradius at &quot;..name..sp
			elseif summoner.dameron and summoner.unleash and eqbal then
				str = str..&quot;invoke heave &quot;..name..&quot; intensify&quot;..sp
				str = str..&quot;unleash dameron at &quot;..name..&quot; pyradius&quot;..sp
			else
				str = str..&quot;invoke &quot;..spell..&quot; &quot;..name..&quot; &quot;..spell2..sp
			end
		elseif taint &gt;= 40 then
			str = str..&quot;invoke &quot;..spell..&quot; &quot;..name..&quot; &quot;..spell2..sp
		elseif incin and taint &gt;= 90 then
			str = str..&quot;invoke quicken &quot;..name..&quot; &quot;..spell2..&quot; duplicate&quot;..sp
		elseif incin and taint &lt;= 30 then
			str = str..&quot;invoke nerveburn &quot;..name..&quot; &quot;..spell2..sp
		else
			str = str..&quot;invoke &quot;..spell..&quot; &quot;..name..&quot; &quot;..spell2..sp
		end
	end

	if unleasher then str = str..unleasher..sp end

	local ta = ta or false
	if ta then str = str..&quot;trueassess &quot;..name..sp end

	str = str:gsub(&quot;target&quot;,name)
	send(str)
end</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>summoner.afflict</name>
                            <packageName></packageName>
                            <script>summoner.afflict = function(name,list)
	local str = &quot;&quot;
	local slist = {
		&quot;impatience&quot;,
		&quot;asthma&quot;,
		&quot;sunallergy&quot;,
		&quot;hellsight&quot;,
		&quot;burning nerves&quot;,
		&quot;masochism&quot;,
		&quot;clumsiness&quot;,
		&quot;butisol&quot;,
		&quot;taint attunement&quot;,
		&quot;disloyalty&quot;,
		&quot;epilepsy&quot;,
		&quot;vertigo&quot;,
		&quot;hallucinations&quot;,
		&quot;prone&quot;,
	}
	local tlist = {
		&quot;numbness&quot;,
		&quot;manaleech&quot;,
		&quot;justice&quot;,
		&quot;masochism&quot;,
		&quot;stupidity&quot;,
		&quot;heroism&quot;,
		&quot;confusion&quot;,
		&quot;recklessness&quot;,
		&quot;numbness&quot;,
		&quot;dementia&quot;,
		&quot;hypersomnia&quot;,
		&quot;paranoia&quot;,
--
		&quot;lovers&quot;,
	}
	local ulist = {
		&quot;hecate&quot;,
		&quot;dameron hecate&quot;,
		&quot;cadmus&quot;,
		&quot;dameron cadmus&quot;,
		&quot;lyncantha&quot;,
		&quot;belial&quot;,
		&quot;golgotha&quot;,
		&quot;dameron golgotha&quot;,
		&quot;palpatar&quot;,
		&quot;pyradius&quot;,
		&quot;scrag&quot;,
		&quot;cadmus&quot;,
		&quot;dameron hecate&quot;,
		&quot;rixil&quot;,
		&quot;buul&quot;,
	} 
	if player(name) then
		local taint = has(name,&quot;taint&quot;)
		local affcount = dbp.count(name)
		local mcount = dbp.count(name,&quot;madness&quot;)
		local hierophant = has(name,&quot;hierophant&quot;)
		-- local incin = has(name,&quot;incinerate&quot;)

		_hload(name)

		if taint &lt; 50 then
			table.insert(ulist,1,&quot;pyradius&quot;)
			table.insert(ulist,2,&quot;dameron pyradius&quot;)
		end

		local spell,spell2,spell3,spell4 = summoner.choose_spell(name,slist)
		local unl = summoner.choose_unleash(ulist)
		unl = unl:gsub(&quot;target&quot;,name)

		if taint &gt;= 60 then
			table.insert( slist,2,&quot;sensitivity&quot; )
			table.insert( slist,3,&quot;taint attunement&quot; )
		end 
		if taint &gt;= 20 then
			table.insert( slist,2,&quot;asthma&quot; )
		end
		if affcount &gt;= 4 and has(name,&quot;asthma&quot;) then
			table.insert( slist,2,&quot;hellsight&quot; )
		end
		if affcount &gt;= 4 then
			table.insert( slist,2,&quot;clumsiness&quot; )
			table.insert( slist,2,&quot;masochism&quot; )
		end
		if hellsight and not asthma and taint &gt;= 20 then
			table.insert( slist,2,&quot;asthma&quot; )
		end
		if affcount &gt;= 4 then
			slist = {
				&quot;impatience&quot;,
				&quot;hellsight&quot;,
				&quot;clumsiness&quot;,
				&quot;asthma&quot;,
				&quot;taint attunement&quot;,
				&quot;butisol&quot;,
				&quot;disloyalty&quot;,
				&quot;sunallergy&quot;,
				&quot;burning nerves&quot;,
				&quot;masochism&quot;,
				&quot;epilepsy&quot;,
				&quot;vertigo&quot;,
				&quot;hallucinations&quot;,
				&quot;prone&quot;,
			}
			tlist = {
				&quot;stupidity&quot;,
				&quot;confusion&quot;,
				&quot;masochism&quot;,
				&quot;lovers&quot;,
				&quot;heroism&quot;,
				&quot;manaleech&quot;,
				&quot;recklessness&quot;,
				&quot;dementia&quot;,
				&quot;hypersomnia&quot;,
				&quot;paranoia&quot;,
				&quot;justice&quot;,
				&quot;numbness&quot;,
			}
		end

		local spell, spell2, spell3, spell4 = summoner.choose_spell( name, slist )
		local card, card2 = summoner.choose_tarot( name,tlist )

		-- if not hierophant then card = &quot;hierophant&quot; card2 = &quot;&quot; end

		if taint &gt;= 80 and not stupidity and impatience then
			spell = &quot;fever&quot;
			spell2 = &quot;intensify&quot;
		end

		if spell3 ~= &quot;&quot; then
			str = str..&quot;invoke &quot;..spell3..&quot; &quot;..name..&quot; &quot;..spell4..sp
		end

		if madness then 
			str = &quot;queue eqbal &quot;..str
			str = str..&quot;light pipes&quot;..sp
			str = str..&quot;give 180911 to &quot;..name..sp
			str = str..&quot;order &quot;..name..&quot; smoke pipe with linseed &quot;..sp
			str = str..&quot;beckon artifacts&quot;..sp
			str = str..&quot;invoke enlighten &quot;..name..sp
			-- str = str..&quot;trueassess &quot;..name..sp
		elseif mcount &gt;= 4 and affcount &gt;= 7 and impatience then
			str = &quot;queue eqbal &quot;..str
			str = str..unl..sp
			if taint &gt;= 60 and not impatience then
				str = str..&quot;invoke quicken &quot;..name..&quot; instant&quot;..sp
			end
			str = str..&quot;invoke whisperingmadness &quot;..name..sp
			-- str = str..&quot;trueassess &quot;..name..sp
		elseif mcount &gt;=3 and summoner.cadmus and (not hallucinations or not addiction) and not madness then
			str = &quot;queue eqbal &quot;..str
			str = str..&quot;unleash cadmus at &quot;..name..sp
			if taint &gt;= 60 and not impatience then
				str = str..&quot;invoke quicken &quot;..name..&quot; instant&quot;..sp
			end
			str = str..&quot;invoke whisperingmadness &quot;..name..sp
			-- str = str..&quot;trueassess &quot;..name..sp
		elseif mcount &gt;=3 and summoner.dameron and (not hallucinations or not addiction) and not madness then
			str = &quot;queue eqbal &quot;..str
			str = str..&quot;unleash dameron at &quot;..name..&quot; cadmus&quot;..sp
			if taint &gt;= 60 and not impatience then
				str = str..&quot;invoke quicken &quot;..name..&quot; instant&quot;..sp
			end
			str = str..&quot;invoke whisperingmadness &quot;..name..sp	
			-- str = str..&quot;trueassess &quot;..name..sp
		elseif mcount &gt;= 3 and taint &gt;= 60 and not madness then
			str = &quot;queue eqbal &quot;..str
			str = str..&quot;invoke quicken &quot;..name..&quot; instant&quot;..sp
			str = str..&quot;invoke whisperingmadness &quot;..name..sp
			-- str = str..&quot;trueassess &quot;..name..sp
		else
			str = str..unl..sp
			str = str..&quot;fling &quot;..card..&quot; &quot;..spell..&quot; at &quot;..name..&quot; &quot;..card2..&quot; &quot;..spell2..sp
		end

		if has(name,&quot;shield&quot;) then
			str = &quot;invoke cleanseaura &quot;..name..sp
			str = str..unl
		end

		-- send(&quot;queue reset all&quot;)
		send(str)
	end
end		</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>summoner.control</name>
                            <packageName></packageName>
                            <script>summoner.control = function(name)
	local eqbal = false
	if eq == 1 and bal == 1 then eqbal = true end

	local unleash = summoner.unleash
	local dameron = summoner.dameron
	local eerion = summoner.eerion
	local palpatar = summoner.palpatar
	local hierophant = has( name, &quot;hierophant&quot; )
	local shield = has( name, &quot;shield&quot; )
	local str = &quot;&quot;

	if shield then
		str = str..&quot;touch hammer &quot;..name..sp
	elseif hierophant then
		str = str..&quot;order &quot;..name..&quot; dive &quot;..sp
		str = str..&quot;order &quot;..name..&quot; kneel &quot;..me..sp
		str = str..&quot;order &quot;..name..&quot; kneel &quot;..me..sp
		str = str..&quot;fling hangedman at &quot;..name..sp
	elseif unleash and eqbal and eerion then
		str = str..&quot;unleash eerion at &quot;..name..sp
		str = str..&quot;fling hangedman at &quot;..name..sp
	elseif unleash and eqbal and dameron then
		str = str..&quot;unleash dameron at &quot;..name..&quot; eerion&quot;..sp
		str = str..&quot;fling hangedman at &quot;..name..sp
	else
		if palpatar then
			str = str..&quot;unleash palpatar at &quot;..name..sp
		end
		str = str..&quot;fling hierophant heave at &quot;..name..sp
	end

	send(str)
end</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>summoner.enlighten</name>
                            <packageName></packageName>
                            <script>summoner.enlighten = function(name)
	-- load enemy afflictions
	_hload(name)
	-- initiate your final send string, and your intermediate variables
	local str = &quot;&quot;
	local tarot,tarot2 = &quot;&quot;,&quot;&quot;
	local spell,spell2 = &quot;&quot;,&quot;&quot;

	-- locally initiate your player specific variables
	local count = dbp.count(name)
	local taint = has(name,&quot;taint&quot;)
	local unl = summoner.choose_unleash()
	local spell = summoner.choose_spell(name)
	
	str = str..&quot;light pipes&quot;..sp
	str = str..&quot;give 180911 to target&quot;..sp
	str = str..&quot;order target smoke pipe with linseed&quot;..sp
	-- unleash pattern
	if summoner.cadmus and (not hallucinations or not addiction) then
		str = str..&quot;unleash cadmus at target&quot;..sp
	elseif summoner.dameron and (not hallucinations or not addiction) then
		str = str..&quot;unleash dameron at target cadmus&quot;..sp
	elseif summoner.hecate then
		str = str..&quot;unleash hecate at target&quot;..sp
	elseif summoner.dameron then
		str = str..&quot;unleash dameron at target hecate&quot;..sp
	elseif summoner.lyncantha then
		str = str..&quot;unleash lyncantha at target&quot;..sp
	elseif summoner.dameron then
		str = str..&quot;unleash dameron at target lyncantha&quot;..sp
	else
		str = str..unl..sp
	end
	-- instant pattern
	if not impatience then
		str = str..&quot;invoke quicken target instant&quot;..sp
	elseif not athma and taint &gt;= 70 then
		str = str..&quot;invoke combustion target instant intensify&quot;..sp
	elseif not disloyalty then
		str = str..&quot;invoke devolve target instant&quot;..sp
	else
		str = str..&quot;invoke &quot;..spell..&quot; target instant&quot;..sp
	end
	-- madness
	str = str..&quot;invoke whisperingmadness target&quot;..sp
	str = str..&quot;queue eqbal invoke enlighten target&quot;..sp
	str = str..&quot;beckon artifacts&quot;..sp
	str = str:gsub(&quot;target&quot;,name)
	send(str)
end

</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>summoner.dps</name>
                            <packageName></packageName>
                            <script>summoner.dps = function(name)

	_hload(name)
	local atk = &quot;&quot;
	local taint = has(name,&quot;taint&quot;)

	local spells = {
		&quot;impatience&quot;,
		&quot;epilepsy&quot;,
		&quot;asthma&quot;,
		&quot;vertigo&quot;,
		&quot;hallucinations&quot;,
		&quot;vertigo&quot;,
		&quot;masochism&quot;,
	}
	if taint &lt;= 40 then 
		table.insert( spells, 1, &quot;burning nerves&quot; )
	end 
	local spell,spell2 = summoner.choose_spell( name, spells )
	local str = summoner.choose_unleash() -- , &quot;dmg&quot;

	if has(name,&quot;shield&quot;) then
		str = &quot;&quot;
		atk = atk..&quot;touch hammer &quot;..name..sp
	elseif madness then
		if taint &gt;= 80 then
			atk = atk..&quot;invoke &quot;..spell..&quot; &quot;..name..&quot; instant &quot;..sp
		end
		atk = atk..&quot;invoke enlighten &quot;..name..&quot; &quot;..sp
	elseif hp &lt; 150 then
		atk = atk..&quot;invoke aurashift &quot;..name..sp
		if summoner.danaeus then str = &quot;&quot; atk = atk..&quot;unleash danaeus at &quot;..name..&quot; &quot;..sp
		elseif summoner.arctar then str = &quot;&quot; atk = atk..&quot;unleash arctar at &quot;..me..&quot; &quot;..sp
		elseif summoner.belial then str = &quot;&quot; atk = atk..&quot;unleash belial at &quot;..name..&quot; &quot;..sp
		elseif summoner.lyncantha then str = &quot;&quot; atk = atk..&quot;unleash lyncantha at &quot;..name..&quot; &quot;..sp
		end
	else
		if summoner.unleash and ( summoner.pyradius or summoner.dameron ) and taint &gt;= 90 then
			if not has(name,&quot;smoke&quot;) then
				str = &quot;&quot;
				atk = atk..&quot;muhaha &quot;..name..sp
				atk = atk..&quot;invoke combustion &quot;..name..&quot; instant intensify &quot;..sp
				atk = atk..&quot;unleash pyradius at &quot;..name..&quot; &quot;..sp
				atk = atk..&quot;unleash dameron at &quot;..name..&quot; pyradius &quot;..sp
				atk = atk..&quot;invoke fever &quot;..name..&quot; instant &quot;..sp
				atk = atk..&quot;invoke whisperingmadness &quot;..name..&quot; &quot;..sp
			elseif not asthma then
				str = &quot;&quot;
				atk = atk..&quot;muhaha &quot;..name..sp
				atk = atk..&quot;invoke soulburn &quot;..name..&quot; instant&quot;..sp
				atk = atk..&quot;unleash pyradius at &quot;..name..sp
				atk = atk..&quot;unleash dameron at &quot;..name..&quot; pyradius&quot;..sp
				atk = atk..&quot;invoke flash &quot;..name..&quot; instant&quot;..sp
				atk = atk..&quot;invoke quicken &quot;..name..sp
			elseif not incin then
				atk = atk..&quot;invoke incinerate &quot;..name..&quot; &quot;..sp
			else
				atk = atk..&quot;invoke &quot;..spell..&quot; duplicate &quot;..sp
			end
		elseif str and string.match( str, &quot;eerion&quot; ) then
			if taint &gt;= 60 then 
				atk = atk..&quot;invoke disorient &quot;..name..&quot; instant&quot;
				if taint &gt;= 70 then atk = atk..&quot; intensify&quot; end
				atk = atk..sp
			end
			atk = atk..&quot;fling hangedman at &quot;..name..&quot; &quot;..sp
		elseif str and string.match( str, &quot;lyncantha&quot; ) and taint &gt;= 60 then
			atk = atk..&quot;invoke devolve &quot;..name..&quot; instant &quot;..sp
			atk = atk..&quot;invoke combustion &quot;..name..&quot; &quot;..sp
		elseif not asthma and taint &gt;= 70 then
			atk = atk..&quot;invoke hellsight &quot;..name..&quot; instant &quot;..sp
			atk = atk..&quot;invoke combustion &quot;..name..&quot; intensify &quot;..sp
		else
			local plk = &quot;&quot;
			if taint &gt;= 80 then
				kpk = &quot;soulwrack&quot;
				if not epilepsy then kpk = &quot;flash&quot; end
				if not impatience then kpk = &quot;quicken&quot; end 
				if not masochism then kpk = &quot;soulburn&quot; end
				atk = atk..&quot;invoke &quot;..kpk..&quot; &quot;..name..&quot; instant strengthen&quot;..sp
			end
			if (str and string.match( str, &quot;cadmus&quot; )) or hallucinations then
				local speller = &quot;&quot;
				if kpk ~= &quot;soulwrack&quot; then speller = &quot;soulwrack&quot; end
				if not epilepsy and kpk ~= &quot;flash&quot; then speller = &quot;flash&quot; end
				if not impatience and kpk ~= &quot;quicken&quot; then speller = &quot;quicken&quot; end
				if not masochism and kpk ~= &quot;soulburn&quot; then speller = &quot;soulburn&quot; end
				if speller == &quot;&quot; then speller = &quot;combustion&quot; end
				atk = atk..&quot;invoke &quot;..speller..&quot; &quot;..name
				if taint &gt;= 10 and speller == &quot;combustion&quot; then atk = atk..&quot; intensify&quot; end
				atk = atk..sp
			else 
				if taint &gt;= 60 then 
					atk = atk..&quot;invoke flash &quot;..name..&quot; instant &quot;..sp
				end 
				atk = atk..&quot;invoke &quot;..spell..&quot; &quot;..name..&quot; &quot;..sp
			end
		end
	end
	
	if str == nil then str = &quot;&quot; end
	atk = str..sp..atk..sp

	atk = atk:gsub(&quot;target&quot;, name)

	send(atk)
end</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>summoner.perfidy</name>
                            <packageName></packageName>
                            <script>summoner.perfidy = function(name)
	-- load enemy afflictions
	_hload(name)
	-- initiate your final send string, and your intermediate variables
	local str = &quot;&quot;
	local tarot,tarot2 = &quot;&quot;,&quot;&quot;
	local spell,spell2 = &quot;&quot;,&quot;&quot;
	local unleash,unleash2 = &quot;&quot;,&quot;&quot;
	-- locally initiate your player specific variables
	local count = dbp.count(name)
	local taint = has(name,&quot;taint&quot;)
	local hierophant = has(name,&quot;hierophant&quot;)

	-- my custom attack queue
	-- unleashes
	if summoner.cadmus and not hallucinations and not addiction then
		unleash = &quot;cadmus &quot;
	elseif summoner.dameron and not hallucinations and not addiction then
		unleash = &quot;dameron &quot;
		unleash2 = &quot;cadmus &quot;
	elseif summoner.hecate then
		unleash = &quot;hecate &quot;
	elseif summoner.dameron then
		unleash = &quot;dameron &quot;
		unleash2 = &quot;hecate &quot;
	elseif summoner.lyncantha then
		unleash = &quot;lyncantha &quot;
	elseif summoner.palpatar then
		unleash = &quot;palpatar &quot;
	elseif summoner.rixil then
		unleash = &quot;rixil &quot;
	elseif summoner.golgotha then
		unleash = &quot;golgotha &quot;
	elseif summoner.belial then
		unleash = &quot;belial &quot;
	elseif summoner.eerion then
		unleash = &quot;eerion &quot;
	end

	-- tarot
	if not hierophant then
		tarot = &quot;hierophant &quot;
	elseif has(name,&quot;tree&quot;) and not paralysis and not numbness then
		tarot = &quot;emperor &quot;
	elseif not justice then
		tarot = &quot;justice &quot;
	elseif not masochism then
		tarot = &quot;moon &quot;
		tarot2 = &quot;masochism &quot;
	elseif not dementia then
		tarot = &quot;moon &quot;
		tarot2 = &quot;dementia &quot;
	elseif not stupidity then
		tarot = &quot;moon &quot;
		tarot2 = &quot;stupidity &quot;
	elseif not recklessness then
		tarot = &quot;moon &quot;
		tarot2 = &quot;recklessness &quot;
	elseif not manaleech then
		tarot = &quot;fool &quot;
	elseif not heroism then
		tarot = &quot;moon &quot;
		tarot2 = &quot;heroism &quot;
	elseif not confusion then
		tarot = &quot;moon &quot;
		tarot2 = &quot;confusion &quot;
	elseif not hypersomnia then
		tarot = &quot;moon &quot;
		tarot2 = &quot;hypersomnia &quot;
	elseif not lovers then
		tarot = &quot;lovers &quot;
	elseif not paranoia then
		tarot = &quot;moon &quot;
		tarot2 = &quot;paranoia &quot;
	else
		tarot = &quot;sun &quot;
	end

	if has(name,&quot;focus&quot;) and not impatience then
		spell = &quot;quicken &quot;
	elseif not has(name,&quot;smoke&quot;) and tonumber(has(name,&quot;smoke_delay&quot;)) &gt;= 3 and not hellsight then
		spell = &quot;hellsight &quot;
	elseif not _G[&quot;burning nerves&quot;] then
		spell = &quot;nerveburn &quot;
	elseif not _G[&quot;taint attunement&quot;] and taint &gt;= 80 then
		spell = &quot;heave &quot;
		spell2 = &quot;intensify &quot;
	elseif not has(name,&quot;focus&quot;) and not vertigo and not clumsiness and taint &gt;= 70 then
		spell = &quot;disorient &quot;
		spell2 = &quot;intensify &quot;
	elseif not sunallergy then
		spell = &quot;nervewrack &quot;
	elseif not asthma and taint &gt;= 20 then
		spell = &quot;combustion &quot;
		spell2 = &quot;intensify &quot;
	elseif not hellsight then
		spell = &quot;hellsight &quot;
	elseif not butisol then
		spell = &quot;dehydrate &quot;
	elseif not sensitivity and not sunallergy and taint &gt;= 20 then
		spell = &quot;nervewrack &quot;
		spell2 = &quot;intensify &quot;
	elseif not epilepsy then
		spell = &quot;flash &quot;
	elseif not hallucinations then
		spell = &quot;fever &quot;
	elseif not vertigo then
		spell = &quot;disorient &quot;
	elseif not disloyalty then
		spell = &quot;devolve &quot;
	elseif not _G[&quot;taint_attunement&quot;] and taint &gt;= 20 then
		spell = &quot;heave &quot;
		spell2 = &quot;intensify &quot;
	else
		spell = &quot;quicken &quot;
	end

	if spell2 == &quot;&quot; and taint &gt;= 60 then
		-- spell2 = &quot;duplicate&quot;
	end

	if summoner.unleash and unleash ~= &quot;&quot; then
		str = str..&quot;unleash &quot;..unleash..&quot; at &quot;..name..&quot; &quot;..unleash2..sp
	elseif summoner.unleash then
		local unl = summoner.choose_unleash()
		str = str..unl..sp
	end

	local pipe = &quot;180911&quot;
	if evalid() and hierophant then
		elseif e.hp/e.mhp &lt; 0.25 and summoner.unleash and (summoner.cadmus or summoner.dameron) then -- 1 affliction
		str = str..&quot;light pipes&quot;..separator
		str = str..&quot;give &quot;..pipe..&quot; to &quot;..name..sp
		str = str..&quot;order &quot;..name..&quot; smoke pipe with linseed&quot;..sp
		str = str..&quot;order &quot;..name..&quot; smoke pipe with linseed&quot;..sp
		str = str..&quot;order &quot;..name..&quot; smoke pipe with linseed&quot;..sp
		if summoner.cadmus then str = str..&quot;unleash cadmus at &quot;..name..sp
		elseif summoner.dameron then str = str..&quot;unleash dameron at &quot;..name..&quot; cadmus&quot;..sp
		end
		if taint &gt;= 60 then str = str..&quot;invoke &quot;..spell..&quot; &quot;..name..&quot; instant &quot;..spell2..sp
		end
		str = str..&quot;invoke whisperingmadness &quot;..name..sp
		str = str..&quot;queue eqbal invoke enlighten &quot;..name..sp
		str = str..&quot;beckon artifacts&quot;..sp
	elseif e.hp/e.mhp &lt; 0.25 and taint &gt;= 60 then -- 1 affliction
		str = str..&quot;light pipes&quot;..sp
		str = str..&quot;give &quot;..linseed[1]..&quot; to &quot;..arg..sp
		str = str..&quot;order &quot;..name..&quot; smoke pipe with linseed&quot;..sp
		str = str..&quot;order &quot;..name..&quot; smoke pipe with linseed&quot;..sp
		str = str..&quot;order &quot;..name..&quot; smoke pipe with linseed&quot;..sp
		if summoner.cadmus then str = str..&quot;unleash cadmus at &quot;..name..sp
		elseif summoner.dameron then str = str..&quot;unleash dameron at &quot;..name..&quot; cadmus&quot;..sp
		elseif summoner.hecate then str = str..&quot;unleash hecate at &quot;..name..sp
		elseif summoner.lyncantha then str = str..&quot;unleash lyncantha at &quot;..name..sp
		end
		str = str..&quot;invoke impatience &quot;..name..&quot; instant &quot;..sp
		str = str..&quot;invoke whisperingmadness &quot;..name..sp
		str = str..&quot;queue eqbal invoke enlighten &quot;..name..sp
		str = str..&quot;beckon artifacts&quot;..sp
	elseif e.hp/e.mhp &lt; 0.50 and ( summoner.cadmus or summoner.dameron ) then -- 2 afflictions
		str = str..&quot;light pipes&quot;..sp
		str = str..&quot;give &quot;..pipe..&quot; to &quot;..name..sp
		str = str..&quot;order &quot;..name..&quot; smoke pipe with linseed&quot;..sp
		str = str..&quot;order &quot;..name..&quot; smoke pipe with linseed&quot;..sp
		str = str..&quot;order &quot;..name..&quot; smoke pipe with linseed&quot;..sp
		if summoner.cadmus then str = str..&quot;unleash cadmus at &quot;..name..sp
		elseif summoner.dameron then str = str..&quot;unleash dameron at &quot;..name..&quot; cadmus&quot;..sp
		end
		if taint &gt;= 70 and not asthma then 
			str = str..&quot;invoke combustion &quot;..name..&quot; instant intensify&quot;..sp
		elseif taint &gt;= 70 and not string.match( str,&quot;cadmus&quot; ) then
			str = str..&quot;invoke fever &quot;..name..&quot; instant intensify&quot;..sp
		elseif taint &gt;= 70 and not vertigo and not clumsiness then
			str = str..&quot;invoke disorient &quot;..name..&quot; instant intensify&quot;..sp
		elseif taint &gt;= 60 then 
			str = str..&quot;invoke &quot;..spell..&quot; &quot;..name..&quot; instant &quot;..spell2..sp
		end
		str = str..&quot;invoke whisperingmadness &quot;..name..sp
		str = str..&quot;queue eqbal invoke enlighten &quot;..name..sp
		str = str..&quot;beckon artifacts&quot;..sp
	elseif e.hp/e.mhp &lt; 0.75 and taint &gt;= 60 then -- 2 afflictions
		str = str..&quot;light pipes&quot;..sp
		str = str..&quot;give &quot;..pipe..&quot; to &quot;..name..sp
		str = str..&quot;order &quot;..name..&quot; smoke pipe with linseed&quot;..sp
		str = str..&quot;order &quot;..name..&quot; smoke pipe with linseed&quot;..sp
		str = str..&quot;order &quot;..name..&quot; smoke pipe with linseed&quot;..sp
		if summoner.cadmus then str = str..&quot;unleash cadmus at &quot;..name..sp
		elseif summoner.dameron then str = str..&quot;unleash dameron at &quot;..name..&quot; cadmus&quot;..sp
		elseif summoner.hecate then str = str..&quot;unleash hecate at &quot;..name..sp
		elseif summoner.lyncantha then str = str..&quot;unleash lyncantha at &quot;..name..sp
		end
		if taint &gt;= 70 and not asthma then 
			str = str..&quot;invoke combustion &quot;..name..&quot; instant intensify&quot;..sp
		elseif taint &gt;= 70 and not string.match( str,&quot;cadmus&quot; ) then
			str = str..&quot;invoke fever &quot;..name..&quot; instant intensify&quot;..sp
		elseif taint &gt;= 70 and not vertigo and not clumsiness then
			str = str..&quot;invoke disorient &quot;..name..&quot; instant intensify&quot;..sp
		elseif taint &gt;= 60 then 
			str = str..&quot;invoke &quot;..spell..&quot; &quot;..name..&quot; instant &quot;..spell2..sp
		end
		str = str..&quot;invoke whisperingmadness &quot;..name..sp
		str = str..&quot;queue eqbal invoke enlighten &quot;..name..sp
		str = str..&quot;beckon artifacts&quot;..sp
	elseif e.hp/e.mhp &lt; 0.75 and taint &gt;= 60 and (summoner.cadmus or summoner.dameron) then -- 3 afflictions
		str = str..&quot;light pipes&quot;..sp
		str = str..&quot;give &quot;..pipe..&quot; to &quot;..name..sp
		str = str..&quot;order &quot;..name..&quot; smoke pipe with linseed&quot;..sp
		str = str..&quot;order &quot;..name..&quot; smoke pipe with linseed&quot;..sp
		str = str..&quot;order &quot;..name..&quot; smoke pipe with linseed&quot;..sp
		str = str..&quot;unleash cadmus at &quot;..name..sp
		str = str..&quot;unleash dameron at &quot;..name..&quot; cadmus&quot;..sp
		str = str..&quot;invoke impatience &quot;..name..&quot; instant&quot;..sp
		str = str..&quot;invoke whisperingmadness &quot;..name..sp
		str = str..&quot;queue eqbal invoke enlighten &quot;..name..sp
		str = str..&quot;beckon artifacts&quot;..sp
	end

	str = str..&quot;fling &quot;..tarot..spell..&quot; at target &quot;..tarot2..spell2..sp
	str = str:gsub(&quot;target&quot;,target)
	-- send the final string
	send(str)
end</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>summoner.armageddon</name>
                            <packageName></packageName>
                            <script>summoner.armageddon = function(name)
	
	_hload(name)

	local taint = has(name,&quot;taint&quot;)
	local hierophant = has(name,&quot;hierophant&quot;)
	local count = dbp.count(name)
	local mcount = dbp.count(name,&quot;madness&quot;)
	local cadmus = summoner.cadmus
	local dameron = summoner.dameron
	local hecate = summoner.hecate
	local pyradius = summoner.pyradius

	local time = os.time()
	local tree_time = has(name,&quot;tree_time&quot;)
	local purge_time = has(name,&quot;purge_time&quot;)
	local smoke_time = has(name,&quot;smoke_time&quot;)
	local smoke_delay = has(name,&quot;smoke_delay&quot;)
	local focus_time = has(name,&quot;focus_time&quot;)

	if tree_time ~= 0 then
		tree_time = 15 - (time - tree_time)
	else
		tree_time = false
	end
	if purge_time ~= 0 then
		purge_time = 15 - (time - purge_time)
	else
		purge_time = false
	end
	if smoke_time ~= 0 and smoke_delay == 4 then
		smoke_time = 4 - (time - smoke_time)
	else 
		smoke_time = false
	end
	if focus_time ~= 0 then
		focus_time = 4 - (time - focus_time)
	else
		focus_time = false
	end
	local str = &quot;&quot;
	local pre = &quot;&quot;
		pre = pre..&quot;light pipes&quot;..sp
		pre = pre..&quot;give 180911 to target&quot;..sp
		pre = pre..&quot;order target smoke pipe with linseed &quot;..sp
		pre = pre..&quot;beckon artifacts&quot;..sp
	local insta = &quot;&quot;
		if taint &gt;= 60 and not impatience then
			insta = insta..&quot;invoke quicken target instant&quot;..sp
		elseif taint &gt;= 70 and not asthma then
			insta = insta..&quot;invoke combustion target instant intensify&quot;..sp
		elseif taint &gt;= 70 and not sunallergy and not sensitivity then
			insta = insta..&quot;invoke nervewrack target instant intensify&quot;..sp
		elseif taint &gt;= 70 and not vertigo and not clumsiness then
			insta = insta..&quot;invoke disorient target instant intensify&quot;..sp
		elseif taint &gt;= 70 and not hallucinations and not stupidity then
			insta = insta..&quot;invoke fever target instant intensify&quot;..sp
		elseif taint &gt;= 60 and not hellsight and ( not has(name,&quot;tree&quot;) or has(name,&quot;numbness&quot;) or has(name,&quot;paralysis&quot;) ) then
			insta = insta..&quot;invoke hellsight target instant&quot;..sp
		elseif taint &gt;= 50 and not hellsight and ( not has(name,&quot;tree&quot;) or has(name,&quot;numbness&quot;) or has(name,&quot;paralysis&quot;) ) and asthma then
			insta = insta..&quot;invoke hellsight target duplicate&quot;..sp
		end

	if madness then
		str = str..&quot;say Ha, Enlighten!&quot;..sp
	elseif focus_time and focus_time &gt; 3 and smoke_time and smoke_time &gt; 1 and (cadmus or dameron) and (not addiction or not hallucinations) and mcount &gt;= 2 then
		str = str..pre..sp
		str = str..&quot;unleash cadmus at target&quot;..sp
		str = str..&quot;unleash dameron at target cadmus&quot;..sp
		str = str..insta..sp
		str = str..&quot;invoke whisperingmadness target&quot;..sp
		str = str..&quot;queue eqbal invoke enlighten target&quot;..sp
	elseif focus_time and focus_time &gt; 3 and smoke_time and smoke_time &gt; 1 and (hecate or dameron) and mcount &gt;= 3 then
		str = str..pre..sp
		str = str..&quot;unleash hecate at target&quot;..sp
		str = str..&quot;unleash dameron at target hecate&quot;..sp
		str = str..insta..sp
		str = str..&quot;invoke whisperingmadness target&quot;..sp
		str = str..&quot;queue eqbal invoke enlighten target&quot;..sp
	elseif impatience and smoke_time and smoke_time &gt; 1 and (cadmus or dameron) and (not addiction or not hallucinations) and mcount &gt;= 2 then
		str = str..pre..sp
		str = str..&quot;unleash cadmus at target&quot;..sp
		str = str..&quot;unleash dameron at target cadmus&quot;..sp
		str = str..insta..sp
		str = str..&quot;invoke whisperingmadness target&quot;..sp
		str = str..&quot;queue eqbal invoke enlighten target&quot;..sp
	elseif focus_time and focus_time &gt; 3 and asthma and (cadmus or dameron) and (not addiction or not hallucinations) and mcount &gt;= 2 then
		str = str..pre..sp
		str = str..&quot;unleash cadmus at target&quot;..sp
		str = str..&quot;unleash dameron at target cadmus&quot;..sp
		str = str..insta..sp
		str = str..&quot;invoke whisperingmadness target&quot;..sp
		str = str..&quot;queue eqbal invoke enlighten target&quot;..sp
	elseif impatience and asthma and (cadmus or dameron) and (not addiction or not hallucinations) and mcount &gt;= 2 then
		str = str..pre..sp
		str = str..&quot;unleash cadmus at target&quot;..sp
		str = str..&quot;unleash dameron at target cadmus&quot;..sp
		str = str..insta..sp
		str = str..&quot;invoke whisperingmadness target&quot;..sp
		str = str..&quot;queue eqbal invoke enlighten target&quot;..sp
	elseif impatience and smoke_time and smoke_time &gt; 1 and (hecate or dameron) and mcount &gt;= 3 then
		str = str..pre..sp
		str = str..&quot;unleash hecate at target&quot;..sp
		str = str..&quot;unleash dameron at target hecate&quot;..sp
		str = str..insta..sp
		str = str..&quot;invoke whisperingmadness target&quot;..sp
		str = str..&quot;queue eqbal invoke enlighten target&quot;..sp
	elseif focus_time and focus_time &gt; 3 and asthma and (hecate or dameron) and mcount &gt;= 3 then
		str = str..pre..sp
		str = str..&quot;unleash hecate at target&quot;..sp
		str = str..&quot;unleash dameron at target hecate&quot;..sp
		str = str..insta..sp
		str = str..&quot;invoke whisperingmadness target&quot;..sp
		str = str..&quot;queue eqbal invoke enlighten target&quot;..sp
	elseif impatience and asthma and (hecate or dameron) and mcount &gt;= 3 then
		str = str..pre..sp
		str = str..&quot;unleash hecate at target&quot;..sp
		str = str..&quot;unleash dameron at target hecate&quot;..sp
		str = str..insta..sp
		str = str..&quot;invoke whisperingmadness target&quot;..sp
		str = str..&quot;queue eqbal invoke enlighten target&quot;..sp
	
	else
		if not hierophant and taint == 0 then
			str = str..&quot;fling hierophant nerveburn at target&quot;..sp
		elseif name ~= me and (pyradius or dameron) and taint &lt; 40 and taint &gt;= 10 and not has(name,&quot;taint attunement&quot;) then
			str = str..&quot;invoke heave target intensify&quot;..sp
			str = str..&quot;unleash pyradius at target&quot;..sp
			str = str..&quot;unleash dameron at target pyradius&quot;..sp
		elseif insta ~= &quot;&quot; then
			str = str..insta..sp
			str = str..summoner.choose_unleash()..sp
			if taint == 100 and not insta:gmatch(&quot;intensify&quot;) and not has(name,&quot;disloyalty&quot;) then
				str = str..&quot;invoke devolve target hasten&quot;..sp
			elseif insta:gmatch(&quot;intensify&quot;) and (taint - 70) &gt;= 10 then --and count &gt;= 3
				if not asthma and not insta:gmatch(&quot;combustion&quot;) then
					str = str..&quot;invoke combustion target intensify&quot;..sp
				elseif not clumsiness and not insta:gmatch(&quot;disorient&quot;) then -- not vertigo and
					str = str..&quot;invoke disorient target intensify&quot;..sp
				elseif not stupidity and not hallucinations and not insta:gmatch(&quot;fever&quot;) then
					str = str..&quot;invoke fever target intensify&quot;..sp
				elseif not sunallergy and (not sensitivity or not undeaf) and not insta:gmatch(&quot;nervewrack&quot;) then
					str = str..&quot;invoke nervewrack target intensify&quot;..sp
				end
			else
				local spell,spell2 = &quot;&quot;,&quot;&quot;
				local tarot,tarot2 = &quot;&quot;,&quot;&quot;
				if not impatience and not insta:gmatch(&quot;quicken&quot;) then spell = &quot;quicken &quot;
				elseif not sensitivity and taint &gt;= 70 and not insta:gmatch(&quot;nervewrack&quot;) then spell = &quot;nervewrack &quot; spell2 = &quot;intensify &quot;
				elseif not clumsiness and taint &gt;= 70 and not insta:gmatch(&quot;disorient&quot;) then spell = &quot;disorient &quot; spell2 = &quot;intensify &quot;
				elseif not has(name,&quot;purge&quot;) and taint &gt;= 70 and not asthma and not insta:gmatch(&quot;combustion&quot;) then spell = &quot;combustion &quot; spell2 = &quot;intensify &quot;
				elseif not disloyalty and asthma and not insta:gmatch(&quot;devolve&quot;) then spell = &quot;devolve &quot;
				elseif not butisol and not insta:gmatch(&quot;dehydrate&quot;) then spell = &quot;dehydrate &quot;
				elseif not sunallergy and not insta:gmatch(&quot;nervewrack&quot;) then spell = &quot;nervewrack &quot;
				elseif not epilepsy and not insta:gmatch(&quot;flash&quot;) then spell = &quot;flash &quot;
				elseif not vertigo and not insta:gmatch(&quot;disorient&quot;)then spell = &quot;disorient &quot;
				elseif not _G[&quot;burning nerves&quot;] and not insta:gmatch(&quot;nerveburn&quot;) then spell = &quot;nerveburn &quot;
				elseif not _G[&quot;taint attunement&quot;] and not insta:gmatch(&quot;heave&quot;) then spell = &quot;heave &quot; spell2 = &quot;intensify &quot;
				elseif not hallucinations and not insta:gmatch(&quot;fever&quot;) then spell = &quot;fever &quot;
				else spell = &quot;hellsight &quot;
				end

				if not numbness and not paralysis then tarot = &quot;emperor &quot;
				elseif not masochism then tarot = &quot;moon &quot; tarot2 = &quot;masochism &quot;
				elseif not manaleech and not summoner.mlg then tarot = &quot;fool &quot;
				elseif not confusion then tarot = &quot;moon &quot; tarot2 = &quot;confusion &quot;
				elseif not lovers and impatience then tarot = &quot;lovers &quot;
				elseif not stupidity then tarot = &quot;moon &quot; tarot2 = &quot;stupidity &quot;
				elseif not justice then tarot = &quot;justice &quot;
				elseif not heroism then tarot = &quot;moon &quot; tarot2 = &quot;heroism &quot;
				elseif not dementia then tarot = &quot;moon &quot; tarot2 = &quot;dementia &quot;
				elseif not hypersomnia then tarot = &quot;moon &quot; tarot2 = &quot;hypersomnia &quot;
				elseif not paranoia then tarot = &quot;moon &quot; tarot2 = &quot;paranoia &quot;			
				else tarot = &quot;moon &quot;
				end

				str = str..&quot;fling &quot;..tarot..spell..&quot; at target &quot;..tarot2..spell2..sp
			end
		else
			str = str..summoner.choose_unleash()..sp
				local spell,spell2 = &quot;&quot;,&quot;&quot;
				local tarot,tarot2 = &quot;&quot;,&quot;&quot;
				if not impatience then spell = &quot;quicken &quot;
				elseif not sensitivity and taint &gt;= 10 then spell = &quot;nervewrack &quot; spell2 = &quot;intensify &quot;
				elseif not clumsiness and taint &gt;= 10 then spell = &quot;disorient &quot; spell2 = &quot;intensify &quot;
				elseif not has(name,&quot;purge&quot;) and taint &gt;= 10 and not asthma then spell = &quot;combustion &quot; spell2 = &quot;intensify &quot;
				elseif not disloyalty and asthma then spell = &quot;devolve &quot;
				elseif not butisol then spell = &quot;dehydrate &quot;
				elseif not sunallergy then spell = &quot;nervewrack &quot;
				elseif not epilepsy then spell = &quot;flash &quot;
				elseif not vertigo then spell = &quot;disorient &quot;
				elseif not _G[&quot;burning nerves&quot;] then spell = &quot;nerveburn &quot;
				elseif not _G[&quot;taint attunement&quot;] then spell = &quot;heave &quot; spell2 = &quot;intensify &quot;
				elseif not hallucinations then spell = &quot;fever &quot;
				else spell = &quot;hellsight &quot;
				end

				if not numbness and not paralysis then tarot = &quot;emperor &quot;
				elseif not masochism then tarot = &quot;moon &quot; tarot2 = &quot;masochism &quot;
				elseif not stupidity then tarot = &quot;moon &quot; tarot2 = &quot;stupidity &quot;
				elseif not justice then tarot = &quot;justice &quot;
				elseif not confusion then tarot = &quot;moon &quot; tarot2 = &quot;confusion &quot;
				elseif not manaleech and not summoner.mlg and asthma then tarot = &quot;fool &quot;
				elseif not lovers and impatience then tarot = &quot;lovers &quot;
				elseif not heroism then tarot = &quot;moon &quot; tarot2 = &quot;heroism &quot;
				elseif not dementia then tarot = &quot;moon &quot; tarot2 = &quot;dementia &quot;
				elseif not hypersomnia then tarot = &quot;moon &quot; tarot2 = &quot;hypersomnia &quot;
				elseif not paranoia then tarot = &quot;moon &quot; tarot2 = &quot;paranoia &quot;			
				else tarot = &quot;moon &quot;
				end

				str = str..&quot;fling &quot;..tarot..spell..&quot; at target &quot;..tarot2..spell2..sp
		end
	end

	str = str:gsub(&quot;target&quot;,name)
	send(str)
end</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>summoner.wise</name>
                            <packageName></packageName>
                            <script>summoner.wise = function(name)
	local str = &quot;&quot;

	_hload(name)

	local t = {
		&quot;sunallergy&quot;,
		&quot;burning nerves&quot;,
		-- &quot;taint attunement&quot;,
		&quot;impatience&quot;,
		&quot;asthma&quot;,
		&quot;clumsiness&quot;,
		&quot;hellsight&quot;,
		&quot;epilepsy&quot;,
	}

	local spell,spell2 = summoner.choose_spell(name,t)
	local taint = tonumber(has(name,&quot;taint&quot;))
	local count = dbp.count(name)
	local mcount = dbp.count(name,&quot;madness&quot;)

	local unleasher = summoner.choose_unleash() -- , &quot;dmg&quot;
	local eq = eq or 0
	local bal = bal or 0
	local eqbal = false
	if eq == 1 and bal == 1 then eqbal = true end

	local e_valid = evalid()

	local insta = &quot;&quot;
		if taint &gt;= 60 and not impatience then
			insta = insta..&quot;invoke quicken target instant&quot;..sp
		elseif taint &gt;= 70 and not asthma then
			insta = insta..&quot;invoke combustion target instant intensify&quot;..sp
		elseif taint &gt;= 70 and not sunallergy and not sensitivity then
			insta = insta..&quot;invoke nervewrack target instant intensify&quot;..sp
		elseif taint &gt;= 70 and not vertigo and not clumsiness then
			insta = insta..&quot;invoke disorient target instant intensify&quot;..sp
		elseif taint &gt;= 70 and not hallucinations and not stupidity then
			insta = insta..&quot;invoke fever target instant intensify&quot;..sp
		elseif taint &gt;= 60 and not hellsight and ( not has(name,&quot;tree&quot;) or has(name,&quot;numbness&quot;) or has(name,&quot;paralysis&quot;) ) then
			insta = insta..&quot;invoke hellsight target instant&quot;..sp
		elseif taint &gt;= 50 and not hellsight and ( not has(name,&quot;tree&quot;) or has(name,&quot;numbness&quot;) or has(name,&quot;paralysis&quot;) ) and asthma then
			insta = insta..&quot;invoke hellsight target duplicate&quot;..sp
		end

	if has(name,&quot;shield&quot;) then
		if e_valid and e.hp &lt;= 0.6*e.mhp then
			str = str..&quot;invoke cleanseaura &quot;..name..sp
			str = str..unleasher
			unleasher = &quot;&quot;
		else
			str = str..&quot;touch hammer &quot;..name..sp
			str = str..unleasher
			unleasher = &quot;&quot;
		end
	else
		if taint == 0 and summoner.unleash and (summoner.pyradius or summoner.dameron) then
			str = str..&quot;invoke hellsight target&quot;..sp
		elseif name ~= me and taint &gt;= 10 and count &lt;= 1 and summoner.unleash and (summoner.pyradius or summoner.dameron) then
			str = str..&quot;invoke heave target intensify&quot;..sp
			str = str..&quot;unleash pyradius at target&quot;..sp
			str = str..&quot;unleash dameron at target pyradius&quot;..sp
		elseif insta ~= &quot;&quot; then
			str = str..insta..sp
			str = str..summoner.choose_unleash()..sp
			str = str..&quot;invoke &quot;..spell..&quot; target &quot;..spell2..sp
		else
			local spell3 = &quot;&quot;
			if taint &gt;= 40 then spell3 = &quot;hasten&quot; end
			str = str..summoner.choose_unleash()..sp
			str = str..&quot;invoke &quot;..spell..&quot; target &quot;..spell2..spell3..sp

		end

	end

	if unleasher then str = str..unleasher..sp end

	local ta = ta or false
	if ta then str = str..&quot;trueassess &quot;..name..sp end

	str = str:gsub(&quot;target&quot;,name)

	send(str)
end</script>
                            <eventHandlerList/>
                        </Script>
                    </ScriptGroup>
                    <ScriptGroup isActive="yes" isFolder="yes">
                        <name>wytch</name>
                        <packageName></packageName>
                        <script>wytch = wytch or {}

-- inhibit = dizziness + confusion =&gt; lethargy if both</script>
                        <eventHandlerList/>
                        <Script isActive="yes" isFolder="no">
                            <name>[d]</name>
                            <packageName></packageName>
                            <script>wytch.curse_spellbook = {
	paralysis = &quot;paralyse&quot;,
	clumsiness = &quot;clumsy&quot;,
	recklessness = &quot;reckless&quot;,
	stupidity = &quot;stupid&quot;,
	nausea = &quot;vomiting&quot;,
	dizziness = &quot;dizzy&quot;,
	cyanide = &quot;plague&quot;,
}
wytch.dust_spellbook = {
	paralysis = &quot;paralyse&quot;,
	slickness = &quot;slick&quot;,
	weariness = &quot;drain&quot;,
	dizziness = &quot;disorient&quot;,
	recklessness = &quot;reckless&quot;,
	confusion = &quot;inhibit&quot;,
	lethargy = &quot;inhibit&quot;,
	disloyalty = &quot;disfigure&quot;,
}
wytch.greater = {
	&quot;Belial&quot;,
	&quot;Cadmus&quot;,
	&quot;Hecate&quot;,
	&quot;Istria&quot;,
	&quot;Marduk&quot;,
}
wytch.lesser = {
	&quot;Arctar&quot;,
	&quot;Buul&quot;,
	&quot;Danaeus&quot;,
	&quot;Pyradius&quot;,
	&quot;Scrag&quot;,
}

wytch.defences = wytch.defences or {}
wytch.defences.ghost = wytch.defences.ghost or false
wytch.defences.hide = wytch.defences.hide or false

wytch.mannaz = wytch.mannaz or false

--Ahkan cursed you.
--Your curseward has failed!
--def- curseward.
--Ahkan's attack is repelled by your prismatic barrier.

--Ahkan rebounding down.
--Ahkan cursed you.
--aff+ asthma
--The Mark of Cadmus on your body flares briefly.
--Ahkan throws some blue bone dust at you, causing you to feel weak.
--aff+ weariness
--Ahkan's attack is repelled by your prismatic barrier.

--Ahkan cursed you.
--You feel a terrible thirst for elixirs grow within you.
--aff+ addiction
--The Mark of Cadmus on your body flares briefly.
--Ahkan mixes some yellow and red bone dust and throws it lightly at you. As the dust reaches you, your movements slow down and 
--your mind feels detached and slow.
--aff+ confusion
--aff+ lethargy
--Ahkan's attack is repelled by your prismatic barrier.

--Ahkan rebounding down.
--Ahkan cursed you.
--None may stand in your way! You are invincible!
--aff+ recklessness
--The Mark of Cadmus on your body flares briefly.
--Ahkan flings some blue bone dust at you, disorienting you.
--aff+ dizziness</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>[d] lists</name>
                            <packageName></packageName>
                            <script>wytch.clist = {
	&quot;impatience&quot;, -- m
	&quot;asthma&quot;,
	&quot;anorexia&quot;, -- m + slick please
	&quot;numbness&quot;,
	&quot;peace&quot;, -- m
	&quot;epilepsy&quot;, -- m
	&quot;clumsiness&quot;,
	&quot;healthleech&quot;,
	&quot;sensitivity&quot;,
	&quot;masochism&quot;, -- m
	&quot;vertigo&quot;, -- m
	&quot;claustrophobia&quot;, -- m
	&quot;agoraphobia&quot;, -- m
	&quot;dizziness&quot;, -- m
	&quot;recklessness&quot;, -- m
	&quot;addiction&quot;,
	&quot;nausea&quot;,
	&quot;manaleech&quot;,
	&quot;dementia&quot;, -- m
	&quot;paranoia&quot;, -- m
	&quot;cyanide&quot;,
}

wytch.dlist = {
	-- &quot;confound body&quot;,
	&quot;numbness&quot;,
	&quot;recklessness&quot;,
	&quot;confusion&quot;,
	&quot;lethargy&quot;,
	&quot;dizziness&quot;,
	&quot;weariness&quot;,
}</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>reset</name>
                            <packageName></packageName>
                            <script>wytch.reset = function()
	wytch.mannaz = false
end</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>prompt</name>
                            <packageName></packageName>
                            <script>wytch.prompt = function(len) 
	local str,neutral = &quot;&quot;,&quot;&lt;dim_grey&gt;&quot;
	local a,m = &quot;&lt;grey&gt;&quot;,&quot;&lt;grey&gt;&quot;
	local n = 50
	n = n - len

	str = string.lpad(str,n,&quot; &quot;)

	if player(target) then
		local count = dbp.count(target)
		local mcount = dbp.count(target,&quot;mental&quot;)

		str = str..neutral..&quot;[A: &quot;..a..count..neutral..&quot;][M: &quot;..m..mcount..neutral..&quot;] &quot;

	end

	if class == &quot;Wytch&quot; then cecho(str) end
end</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>ui_refresh</name>
                            <packageName></packageName>
                            <script>wytch.ui_refresh = function()
	clearWindow(&quot;wytch_ui&quot;)
	local str = &quot;&quot;
	local time = os.time()
	local neutral = &quot;&lt;grey&gt;&quot;

	local color = &quot;&lt;goldenrod&gt;&quot;
	if player(target) then color = &quot;&lt;medium_aquamarine&gt;&quot; end
	if player(target) and has(target,&quot;curseward&quot;) then color = &quot;&lt;red&gt;&quot; else color = &quot;&lt;green&gt;&quot; end

	str = str..&quot;T: &quot;..color..target..neutral..&quot; &quot;

	-- first part
	-------------
	if player(target) then
		local random_affs = has(target,&quot;random_affs&quot;)
		local random_affs_c = neutral
		if random_affs &gt; 1 then random_affs_c = &quot;&lt;red&gt;&quot; end
		str = str..neutral..&quot;(+&quot;..random_affs_c..random_affs..neutral..&quot;) &quot;
	end

	-- second part
	-------------
	str = str..&quot;\n&quot;

	if player(target) then
		local greater = has(target,&quot;greater&quot;)
		local lesser = has(target,&quot;lesser&quot;)	
	
		str = str..&quot;[ G: &quot;
			if has(target,&quot;ignite&quot;) then
				str = str..&quot;&lt;red&gt;&quot;
			end
		str = str..&quot;&quot;..string.rpad(string.title(greater),7,&quot; &quot;)
		str = str..neutral..&quot; ] &quot;

		str = str..&quot;[ L: &quot;
		str = str..&quot;&quot;..string.rpad(string.title(lesser),7,&quot; &quot;)
		str = str..neutral..&quot; ] &quot;

		local nairat = has(target,&quot;nairat&quot;)
		local nairat_time = has(target,&quot;nairat_time&quot;)
		local nairat_c = &quot;&lt;dim_grey&gt;&quot;
		local nairat_time_c = &quot;&lt;dim_grey&gt; &quot;

		if nairat then nairat_c = &quot;&lt;green&gt;&quot; nairat_time_c = &quot;&lt;green&gt; &quot; end
		if nairat_time ~= 0 then
			nairat_time = 22 - (time - nairat_time)
			if nairat_time &lt; 17 then nairat_c = &quot;&lt;red&gt;&quot; nairat_time_c = &quot;&lt;red&gt; &quot; end
		end
		nairat_time = string.lpad(tostring(nairat_time),2,&quot; &quot;)

		str = str..&quot;[: &quot;..nairat_c..&quot;Nairat&quot;..nairat_time_c..nairat_time..neutral..&quot;] &quot;

		local loshre = has(target,&quot;loshre&quot;)
		local loshre_time = has(target,&quot;loshre_time&quot;)
		local loshre_c = &quot;&lt;dim_grey&gt;&quot;
		local loshre_time_c = &quot;&lt;dim_grey&gt; &quot;

		if loshre then loshre_c = &quot;&lt;green&gt;&quot; loshre_time_c = &quot;&lt;green&gt; &quot; end
		if loshre_time ~= 0 then
			loshre_time = 22 - (time - loshre_time)
			if loshre_time &lt; 17 then loshre_c = &quot;&lt;red&gt;&quot; loshre_time_c = &quot;&lt;red&gt; &quot; end
		end
		loshre_time = string.lpad(tostring(loshre_time),2,&quot; &quot;)

		str = str..&quot;[: &quot;..loshre_c..&quot;Loshre&quot;..loshre_time_c..loshre_time..neutral..&quot;] &quot;

	end

	local parry_c = &quot;&lt;dim_grey&gt;&quot;
	if limb.parry ~= &quot;nothing&quot; then parry_c = &quot;&lt;medium_aquamarine&gt;&quot; end
	str = str..&quot;P: &quot;..parry_c..string.title(limb.parry)..neutral

	-- third part
	-------------
	str = str..&quot;\n&quot;
	local gho, hid = &quot;&lt;red&gt;&quot;,&quot;&lt;red&gt;&quot;

	if wytch.defences.ghost then gho = &quot;&lt;medium_sea_green&gt;&quot; end
	if wytch.defences.hide then hid = &quot;&lt;medium_sea_green&gt;&quot; end

	str = str..&quot;[&quot;..hid..&quot;HID&quot;..neutral..&quot;] &quot;
	str = str..&quot;[&quot;..gho..&quot;GHO&quot;..neutral..&quot;] &quot;

	local lse = &quot;&lt;red&gt;&quot;
	if df_ and df_.landsense then lse = &quot;&lt;green&gt;&quot; end
	str = str..&quot;[&quot;..lse..&quot;LSE&quot;..neutral..&quot;] &quot;

	local limb_c = &quot;&lt;dim_grey&gt;&quot;
	if limb.target ~= &quot;nothing&quot; then limb_c = &quot;&lt;medium_aquamarine&gt;&quot; end
	str = str..&quot;T: &quot;..limb_c..string.title(limb.target)

	str = str..&quot; [ &quot;
	for i=1,#wytch.hlist do
		local curse = wytch.hlist[i][2]
		local htime = wytch.hlist[i][1]
		str = str..&quot;(&quot;..i..&quot;): &quot;.. curse..&quot;, &quot;

		if htime ~= 0 then
		htime = time - htime
		str = str..htime
		end
	end

	str = str..&quot;] &quot;

	cecho(&quot;wytch_ui&quot;,str)
end</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>timer</name>
                            <packageName></packageName>
                            <script>wytch.timer = function()
	if class == &quot;Wytch&quot; then

		-- operate only on 'target' otherwise the overhead is too big
		local time = os.time()

		if player(target) then
			local confound_t = has(target,&quot;confound_time&quot;)
			
			if confound_t ~= 0 then
			confound_t = time - confound_t
			if confound_t &gt; 20 then
				cecho(&quot;\n&lt;white&gt;Resetting Confound Timer&quot;)
				set(target,&quot;confound&quot;,false)
				set(target,&quot;confound_time&quot;,0)
			end
			end

			local loshre_time = has(target,&quot;loshre_time&quot;)
			
			if loshre_time ~= 0 then
			loshre_time = time - loshre_time
			if loshre_time &gt; 22 then
				cecho(&quot;\n&lt;white&gt;Resetting Loshre Timer&quot;)
				set(target,&quot;loshre&quot;,false)
				set(target,&quot;loshre_time&quot;,0)
			end
			end

			local nairat_time = has(target,&quot;nairat_time&quot;)
			
			if nairat_time ~= 0 then
			nairat_time = time - nairat_time
			if nairat_time &gt; 22 then
				cecho(&quot;\n&lt;white&gt;Resetting Nairat Timer&quot;)
				set(target,&quot;nairat&quot;,false)
				set(target,&quot;nairat_time&quot;,0)
			end
			end

			local n = {}
			for i=1,#wytch.hlist do
				local htime = wytch.hlist[i][1]
				local curse = wytch.hlist[i][2]	
				if htime ~= 0 then
				htime = time - htime
				if htime &gt; 4 then
					table.insert( n, i )
				end
				end
			end

			for j=#n, 1, -1 do
				table.remove( wytch.hlist, j )
			end
		
		end

		wytch.ui_refresh()
	end
end</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>sleep</name>
                            <packageName></packageName>
                            <script>wytch.sleep = function(name)
	local str = &quot;&quot;

	if player(name) then
		local greater = has(name,&quot;greater&quot;)
		local lesser = has(name,&quot;lesser&quot;)

		if greater == &quot;Cadmus&quot; then
			if has(name,&quot;curseward&quot;) and lesser ~= &quot;Arctar&quot; then
				str = str..&quot;curse target breach numbness&quot;..sp
			else
				str = str..&quot;curse target sleep sleep&quot;..sp
			end
		else
			if has(name,&quot;curseward&quot;) and lesser ~= &quot;Arctar&quot; then
				str = str..&quot;curse target breach numbness&quot;..sp
			else
				str = str..&quot;curse target sleep sleep&quot;..sp
			end
		end
	else
		str = str..&quot;curse target breach numbness&quot;..sp
	end	
	
	str = str:gsub(&quot;target&quot;,name)
	send(str)
end</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>choose_toxin</name>
                            <packageName></packageName>
                            <script>wytch.choose_toxin = function(name,clist,dlist)
	if not player(name) and type(name) == &quot;table&quot; then
		if clist then dlist = clist end
		clist = name
		name = me
	end

	_hload(name)

	local curse,dust = &quot;&quot;,&quot;&quot;
	local clist = clist or ecopy(wytch.clist)
	local dlist = dlist or ecopy(wytch.dlist)

	if _G.paralysis then
		table.remove(clist,table.index_of(clist,&quot;numbness&quot;))
		table.remove(dlist,table.index_of(dlist,&quot;numbness&quot;))
	end

	for i=1, #clist do
		if not _G[clist[i]] then
			curse = clist[i]
			break
		end
	end

	if has(name,&quot;curseward&quot;) and has(name,&quot;lesser&quot;) ~= &quot;Arctar&quot; then
		curse = &quot;breach&quot;
	end

	for i=1, #dlist do
		if dlist[i] ~= curse and not _G[dlist[i]] then
			dust = dlist[i]
			break
		end
	end

	curse = lookup(curse,wytch.curse_spellbook)
	dust = lookup(dust,wytch.dust_spellbook)

	return curse,dust
end</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>wytch.curse</name>
                            <packageName></packageName>
                            <script>wytch.curse = function(name,clist,dlist)
	local str = &quot;&quot;

	_hload(name)

	local curse,dust = wytch.choose_toxin(name)
	local count = dbp.count(name)

	local greater = has(name,&quot;greater&quot;)
	local lesser = has(name,&quot;lesser&quot;)
	local confound = has(name,&quot;confound&quot;)

	local method = &quot;curse&quot;
	local str = &quot;&quot;
	local curse = &quot;&quot;
	local dust = &quot;&quot;
	local flare = &quot;&quot;

	if has(name,&quot;shield&quot;) then
		str = str..&quot;touch hammer target&quot;..sp
	elseif has(name,&quot;curseward&quot;) and lesser ~= &quot;Arctar&quot; then 
		curse = &quot;breach&quot;
			if not confound and count &lt; 3 then dust = &quot;confound body&quot;
			elseif not numbness then dust = &quot;numbness&quot;
			elseif not slickness then dust = &quot;slick&quot;
			elseif not dizziness and not confusion then dust = &quot;inhibit&quot;
			elseif not recklessness then dust = &quot;reckless&quot;
			elseif not dizziness then dust = &quot;disorient&quot;
			elseif not weariness then dust = &quot;drain&quot;
			else dust = &quot;assess&quot;
			end
	elseif anorexia and slickness and (numbness or paralysis) and impatience and asthma and not hemotoxin then
		str = str..&quot;queue eqbal target nothing&quot;..sp
		str = str..&quot;beckon artifacts&quot;..sp
		str = str..&quot;quickdraw &quot;..axe..sp
		str = str..&quot;wipe &quot;..axe..sp
		str = str..&quot;envenom &quot;..axe..&quot; with hemotoxin &quot;..sp
		str = str..&quot;throw &quot;..axe..&quot; at target&quot;..sp
		str = str..&quot;beckon artifacts&quot;..sp
	elseif anorexia and slickness and (numbness or paralysis) and impatience and hemotoxin and not asthma then
		str = str..&quot;swiftcurse target asthma inhibit&quot;..sp
	elseif anorexia and slickness and (numbness or paralysis) and asthma and hemotoxin and not impatience then
		str = str..&quot;swiftcurse target stupid impatience&quot;..sp
		-- str = str..&quot;curse target stupid impatience&quot;..sp
	elseif anorexia and slickness and impatience and asthma and hemotoxin and not numbness and not paralysis then
		str = str..&quot;swiftcurse target numbness inhibit&quot;..sp
	elseif anorexia and (numbness or paralysis) and impatience and asthma and hemotoxin and not slickness then
		str = str..&quot;curse target stupid slick&quot;..sp
	elseif slickness and (numbness or paralysis) and impatience and asthma and hemotoxin and not anorexia then
		str = str..&quot;swiftcurse target anorexia inhibit&quot;..sp
	elseif hemotoxin and anorexia and not slickness and (numbness or paralysis) and impatience and not asthma then
		str = str..&quot;curse target asthma slick&quot;..sp
	elseif hemotoxin and not anorexia and not slickness and (numbness or paralysis) and impatience and asthma then
		str = str..&quot;curse target anorexia slick&quot;..sp
	elseif hemotoxin and anorexia and not slickness and (numbness or paralysis) and not impatience and asthma then
		str = str..&quot;curse target impatience slick&quot;..sp
	elseif hemotoxin and anorexia and not slickness and not numbness and not paralysis and impatience and asthma then
		str = str..&quot;curse target numbness slick&quot;..sp
	elseif hemotoxin and anorexia and slickness and not numbness and not paralysis and impatience and not asthma then
		str = str..&quot;curse target asthma numbness&quot;..sp
	elseif hemotoxin and not anorexia and slickness and not numbness and not paralysis and impatience and asthma then
		str = str..&quot;curse target anorexia numbness&quot;..sp
	elseif hemotoxin and anorexia and slickness and not numbness and not paralysis and not impatience and asthma then
		str = str..&quot;curse target impatience numbness&quot;..sp
	elseif not hemotoxin and anorexia and not slickness and (numbness or paralysis) and impatience and not asthma then
		str = str..&quot;swiftcurse target asthma slick&quot;..sp
	elseif not hemotoxin and not anorexia and not slickness and (numbness or paralysis) and impatience and asthma then
		str = str..&quot;swiftcurse target anorexia slick&quot;..sp
	elseif not hemotoxin and anorexia and not slickness and (numbness or paralysis) and not impatience and asthma then
		str = str..&quot;swiftcurse target impatience slick&quot;..sp
	elseif not hemotoxin and anorexia and not slickness and not numbness and not paralysis and impatience and asthma then
		str = str..&quot;curse target numbness slick&quot;..sp
	elseif not hemotoxin and anorexia and slickness and not numbness and not paralysis and impatience and not asthma then
		str = str..&quot;curse target asthma numbness&quot;..sp
	elseif not hemotoxin and not anorexia and slickness and not numbness and not paralysis and impatience and asthma then
		str = str..&quot;curse target anorexia numbness&quot;..sp
	elseif not hemotoxin and anorexia and slickness and not numbness and not paralysis and not impatience and asthma then
		str = str..&quot;curse target impatience numbness&quot;..sp
	elseif not impatience then 
		curse = &quot;impatience&quot;
	elseif not asthma then 
		method = &quot;swiftcurse&quot;
		curse = &quot;asthma&quot;
	elseif not numbness and not paralysis then curse = &quot;numbness&quot;
	elseif not anorexia then 
		method = &quot;swiftcurse&quot;
		curse = &quot;anorexia&quot;
	else curse = &quot;steal herb&quot;
	end

	if curse == &quot;anorexia&quot; and not has(name,&quot;nairat&quot;) and not has(name,&quot;loshre&quot;) then flare = &quot;loshre&quot; 
	elseif curse == &quot;asthma&quot; and not has(name,&quot;nairat&quot;) and not has(name,&quot;loshre&quot;) then flare = &quot;nairat&quot; 
	end

	if dust == &quot;&quot; then
		if flare ~= &quot;&quot; and ( not dizziness or not confusion ) then dust = &quot;inhibit&quot;
		elseif not confound and count &lt;= 3 then dust = &quot;confound body&quot;
		elseif curse ~= &quot;numbness&quot; and not numbness and not paralysis then dust = &quot;numbness&quot;
		elseif curse == &quot;anorexia&quot; and not slickness then dust = &quot;slick&quot;
		elseif curse == &quot;asthma&quot; and not weariness then dust = &quot;drain&quot;
		elseif curse == &quot;impatience&quot; and not dizziness then dust = &quot;disorient&quot;
		elseif curse == &quot;impatience&quot; and not recklessness then dust = &quot;reckless&quot;
		elseif not dizziness and not confusion then dust = &quot;inhibit&quot;
		elseif not recklessness then dust = &quot;reckless&quot;
		elseif not dizziness then dust = &quot;disorient&quot;
		elseif not weariness then dust = &quot;drain&quot;
		elseif not slickness then dust = &quot;slick&quot;
		else dust = &quot;assess&quot;
		end
	end

	if str == &quot;&quot; then
		str = str..method..&quot; target &quot;..curse..&quot; &quot;..dust..sp
	end
	if flare ~= &quot;&quot; then 
		str = &quot;queue eqbal &quot;..str
		str = str..&quot;flare &quot;..flare..&quot; at &quot;..name..&quot; plant &quot;..sp 
	end

	str = str:gsub(&quot;target&quot;,name)
	send(str)
end</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>wytch.damage</name>
                            <packageName></packageName>
                            <script>wytch.damage = function(name)
	local greater = has(name,&quot;greater&quot;)
	local lesser = has(name,&quot;lesser&quot;)
	local curseward = has(name,&quot;curseward&quot;)

	local sowulu = has(target,&quot;sowulu&quot;)
	local pithakhan = has(target,&quot;pithakhan&quot;)
	local hugalaz = has(target,&quot;hugalaz&quot;)
	local nauthiz = has(target,&quot;nauthiz&quot;)

	local str = &quot;&quot;

	if has(name,&quot;shield&quot;) then
		str = str..&quot;queue eqbal touch hammer target&quot;..sp
		if not hugalaz then
			str = str..&quot;flare hugalaz at target&quot;..sp
		end
	elseif curseward and lesser ~= &quot;Arctar&quot; then 
		str = str..&quot;queue eqbal swiftcurse target breach choke&quot;..sp
	else
		if not sowulu then
			str = str..&quot;quickdraw 105494 56320&quot;..sp
			str = str..&quot;curse target sensitivity choke&quot;..sp
			str = str..&quot;flare sowulu at target&quot;..sp
			str = str..&quot;trueassess target&quot;..sp
			set(name,&quot;sowulu&quot;,true)
			tempTimer(5.0, function() set(name,&quot;sowulu&quot;,false) end)
		elseif not pithakhan then
			str = str..&quot;quickdraw 105494 56320&quot;..sp
			str = str..&quot;curse target addiction choke&quot;..sp
			str = str..&quot;flare pithakhan at target&quot;..sp
			str = str..&quot;trueassess target&quot;..sp
			set(name,&quot;pithakhan&quot;,true)
			tempTimer(20.0, function() set(name,&quot;sowulu&quot;,false) end)
		elseif not hugalaz then
			str = str..&quot;quickdraw 105494 56320&quot;..sp
			str = str..&quot;curse target reckless choke&quot;..sp
			str = str..&quot;flare hugalaz at target&quot;..sp
			str = str..&quot;trueassess target&quot;..sp
			set(name,&quot;hugalaz&quot;,true)
			tempTimer(20.0, function() set(name,&quot;hugalaz&quot;,false) end)
		elseif not nauthiz then
			str = str..&quot;quickdraw 105494 56320&quot;..sp
			str = str..&quot;curse target steal choke&quot;..sp
			str = str..&quot;flare nauthiz at target&quot;..sp
			str = str..&quot;trueassess target&quot;..sp
			set(name,&quot;nauthiz&quot;,true)
			tempTimer(20.0, function() set(name,&quot;nauthiz&quot;,false) end)
		else
			str = str..&quot;dustthrow inhibit choke target&quot;..sp
			str = str..&quot;trueassess target&quot;..sp
		end
	end
	str = str:gsub(&quot;target&quot;,name)
	send(str)
end</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>wytch.lock</name>
                            <packageName></packageName>
                            <script>wytch.lock = function(name)
	_hload(name)

	local greater = has(name,&quot;greater&quot;)
	local lesser = has(name,&quot;lesser&quot;)
	local curseward = has(name,&quot;curseward&quot;)
	local shield = has(name,&quot;shield&quot;)
	local obstruct = has(name,&quot;obstruct&quot;)
	local confound = has(name,&quot;confound&quot;)

	local sowulu = has(target,&quot;sowulu&quot;)
	local pithakhan = has(target,&quot;pithakhan&quot;)
	local hugalaz = has(target,&quot;hugalaz&quot;)
	local nauthiz = has(target,&quot;nauthiz&quot;)

	local loshre = has(target,&quot;loshre&quot;)
	local nairat = has(target,&quot;nairat&quot;)
	local kena = has(target,&quot;kena&quot;)

	local mannaz = wytch.mannaz

	local str,curse,dust,flare,method = &quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;curse&quot;

	if shield then
        send(&quot;touch hammer &quot;..name)
	else 
        if curseward and wytch.mannaz == false and lesser ~= &quot;Arctar&quot; then
			if not obstruct then curse = &quot;breach&quot; dust = &quot;obstruct&quot;
			elseif not confound then curse = &quot;breach&quot; dust = &quot;confound body&quot;
			elseif not numbness then curse = &quot;breach&quot; dust = &quot;numbness&quot; method = &quot;blight&quot;
			elseif not recklessness then curse = &quot;breach&quot; dust = &quot;reckless&quot; method = &quot;blight&quot;
			elseif not dizziness then curse = &quot;breach&quot; dust = &quot;disorient&quot; method = &quot;blight&quot;
			else curse = &quot;breach&quot; dust = &quot;inhibit&quot; method = &quot;blight&quot;
			end
			if not mannaz then flare = &quot;mannaz&quot; end
        elseif curseward and lesser ~= &quot;Arctar&quot; then
			if not obstruct then curse = &quot;breach&quot; dust = &quot;obstruct&quot;
			elseif not confound then curse = &quot;breach&quot; dust = &quot;confound body&quot; method = &quot;swiftcurse&quot;
			elseif not numbness then curse = &quot;breach&quot; dust = &quot;numbness&quot; method = &quot;swiftcurse&quot;
			elseif not recklessness then curse = &quot;breach&quot; dust = &quot;reckless&quot; method = &quot;swiftcurse&quot;
			elseif not dizziness then curse = &quot;breach&quot; dust = &quot;disorient&quot; method = &quot;swiftcurse&quot;
			else curse = &quot;breach&quot; dust = &quot;inhibit&quot; method = &quot;blight&quot;
			end
        elseif not asthma and (not mannaz or not loshre) then
			if not confound then curse = &quot;asthma&quot; dust = &quot;confound body&quot; method = &quot;blight&quot;
			elseif not numbness then curse = &quot;asthma&quot; dust = &quot;numbness&quot; method = &quot;blight&quot;
			elseif not confusion then curse = &quot;asthma&quot; dust = &quot;inhibit&quot; method = &quot;blight&quot;
			elseif not recklessness then curse = &quot;asthma&quot; dust = &quot;reckless&quot; method = &quot;blight&quot;
			elseif not dizziness then curse = &quot;asthma&quot; dust = &quot;disorient&quot; method = &quot;blight&quot;
			else curse = &quot;asthma&quot; dust = &quot;inhibit&quot; method = &quot;blight&quot;
			end
			if not mannaz and ( not nairat or not kena ) then
				flare = &quot;mannaz&quot;
			elseif not loshre and not nairat then
				flare = &quot;loshre&quot;
			end
       	elseif not asthma then
			if not confound then curse = &quot;asthma&quot; dust = &quot;confound body&quot; method = &quot;swiftcurse&quot;
			elseif not numbness then curse = &quot;asthma&quot; dust = &quot;numbness&quot; method = &quot;swiftcurse&quot;
			elseif not confusion then curse = &quot;asthma&quot; dust = &quot;inhibit&quot; method = &quot;swiftcurse&quot;
			elseif not recklessness then curse = &quot;asthma&quot; dust = &quot;reckless&quot; method = &quot;swiftcurse&quot;
			elseif not dizziness then curse = &quot;asthma&quot; dust = &quot;disorient&quot; method = &quot;swiftcurse&quot;
			else curse = &quot;asthma&quot; dust = &quot;inhibit&quot; method = &quot;swiftcurse&quot;
			end
		elseif not impatience and not mannaz then
			if not confound then curse = &quot;impatience&quot; dust = &quot;confound body&quot; method = &quot;blight&quot;
			elseif not numbness then curse = &quot;impatience&quot; dust = &quot;numbness&quot; method = &quot;blight&quot;
			elseif not confusion then curse = &quot;impatience&quot; dust = &quot;inhibit&quot; method = &quot;blight&quot;
			elseif not recklessness then curse = &quot;impatience&quot; dust = &quot;reckless&quot; method = &quot;blight&quot;
			elseif not dizziness then curse = &quot;impatience&quot; dust = &quot;disorient&quot; method = &quot;blight&quot;
			else curse = &quot;impatience&quot; dust = &quot;inhibit&quot; method = &quot;blight&quot;
			end
			if not mannaz and ( not nairat or not kena ) then
				flare = &quot;mannaz&quot;
			end
		elseif not impatience then
			if not confound then curse = &quot;impatience&quot; dust = &quot;confound body&quot; method = &quot;swiftcurse&quot;
			elseif not numbness then curse = &quot;impatience&quot; dust = &quot;numbness&quot; method = &quot;swiftcurse&quot;
			elseif not confusion then curse = &quot;impatience&quot; dust = &quot;inhibit&quot; method = &quot;swiftcurse&quot;
			elseif not recklessness then curse = &quot;impatience&quot; dust = &quot;reckless&quot; method = &quot;swiftcurse&quot;
			elseif not dizziness then curse = &quot;impatience&quot; dust = &quot;disorient&quot; method = &quot;swiftcurse&quot;
			else curse = &quot;impatience&quot; dust = &quot;inhibit&quot; method = &quot;blight&quot;
			end
        elseif not anorexia then
			if not slickness then curse = &quot;anorexia&quot; dust = &quot;slick&quot;
			elseif not numbness then curse = &quot;anorexia&quot; dust = &quot;numbness&quot; method = &quot;swiftcurse&quot;
			elseif slickness then curse = &quot;anorexia&quot; dust = &quot;assess&quot;
			end
			if not loshre and not nairat then
				flare = &quot;loshre&quot;
			end
        elseif not hemotoxin then
			str = str..&quot;queue eqbal target nothing&quot;..sp
			str = str..&quot;beckon artifacts&quot;..sp
			str = str..&quot;quickdraw &quot;..axe..sp
			str = str..&quot;wipe &quot;..axe..sp
			str = str..&quot;envenom &quot;..axe..&quot; with hemotoxin &quot;..sp
			str = str..&quot;throw &quot;..axe..&quot; at target&quot;..sp
			str = str..&quot;beckon artifacts&quot;..sp
			if not mannaz then
				flare = &quot;mannaz&quot;
			elseif not loshre and not nairat then
				flare = &quot;loshre&quot;
			end
        elseif not peace and has(name,&quot;peace_time&quot;) == 0 then
			if not confound then curse = &quot;peace&quot; dust = &quot;confound body&quot; method = &quot;blight&quot;
			elseif not numbness then curse = &quot;peace&quot; dust = &quot;numbness&quot; method = &quot;blight&quot;
			elseif not confusion then curse = &quot;peace&quot; dust = &quot;inhibit&quot; method = &quot;blight&quot;
			elseif not recklessness then curse = &quot;peace&quot; dust = &quot;reckless&quot; method = &quot;blight&quot;
			elseif not dizziness then curse = &quot;peace&quot; dust = &quot;disorient&quot; method = &quot;blight&quot;
			else curse = &quot;peace&quot; dust = &quot;inhibit&quot; method = &quot;blight&quot;
			end
			if not mannaz and ( not nairat or not kena ) then
				flare = &quot;mannaz&quot;
			elseif not loshre and not nairat then
				flare = &quot;loshre&quot;
			end
        elseif not stupidity then
			if not confound then curse = &quot;stupid&quot; dust = &quot;confound body&quot; method = &quot;curse&quot;
			elseif not numbness then curse = &quot;stupid&quot; dust = &quot;numbness&quot; method = &quot;curse&quot;
			elseif not confusion then curse = &quot;stupid&quot; dust = &quot;slick&quot; method = &quot;curse&quot;
			else curse = &quot;stupid&quot; dust = &quot;inhibit&quot; method = &quot;blight&quot;
			end
			if not mannaz and ( not nairat or not kena ) then
				flare = &quot;mannaz&quot;
			elseif not loshre and not nairat then
				flare = &quot;loshre&quot;
			end
        elseif not epilepsy then
			if not confound then curse = &quot;epilepsy&quot; dust = &quot;confound body&quot; method = &quot;curse&quot;
			elseif not numbness then curse = &quot;epilepsy&quot; dust = &quot;numbness&quot; method = &quot;curse&quot;
			elseif not confusion then curse = &quot;epilepsy&quot; dust = &quot;slick&quot; method = &quot;curse&quot;
			else curse = &quot;epilepsy&quot; dust = &quot;inhibit&quot; method = &quot;blight&quot;
			end
			if not mannaz then
				flare = &quot;mannaz&quot;
			elseif not kena and not nairat then
				flare = &quot;nairat&quot;
			end
        elseif not peace and has(name,&quot;peace_time&quot;) == 0 then
			if not confound then curse = &quot;peace&quot; dust = &quot;confound body&quot; method = &quot;swiftcurse&quot;
			elseif not numbness then curse = &quot;peace&quot; dust = &quot;numbness&quot; method = &quot;swiftcurse&quot;
			elseif not confusion then curse = &quot;peace&quot; dust = &quot;inhibit&quot; method = &quot;blight&quot;
			elseif not recklessness then curse = &quot;peace&quot; dust = &quot;reckless&quot; method = &quot;swiftcurse&quot;
			elseif not dizziness then curse = &quot;peace&quot; dust = &quot;disorient&quot; method = &quot;swiftcurse&quot;
			else curse = &quot;peace&quot; dust = &quot;inhibit&quot; method = &quot;blight&quot;
			end
        elseif not addiction and (not mannaz or not nairat) then
			if not confound then curse = &quot;addiction&quot; dust = &quot;confound body&quot; method = &quot;blight&quot;
			elseif not numbness then curse = &quot;addiction&quot; dust = &quot;numbness&quot; method = &quot;blight&quot;
			elseif not confusion then curse = &quot;addiction&quot; dust = &quot;inhibit&quot; method = &quot;blight&quot;
			elseif not recklessness then curse = &quot;addiction&quot; dust = &quot;reckless&quot; method = &quot;blight&quot;
			elseif not dizziness then curse = &quot;addiction&quot; dust = &quot;disorient&quot; method = &quot;blight&quot;
			else curse = &quot;addiction&quot; dust = &quot;inhibit&quot; method = &quot;blight&quot;
			end
			if not mannaz and ( not nairat or not kena ) then
				flare = &quot;mannaz&quot;
			end
        elseif not addiction then
			if not confound then curse = &quot;addiction&quot; dust = &quot;confound body&quot; method = &quot;swiftcurse&quot;
			elseif not numbness then curse = &quot;addiction&quot; dust = &quot;numbness&quot; method = &quot;swiftcurse&quot;
			elseif not recklessness then curse = &quot;addiction&quot; dust = &quot;reckless&quot; method = &quot;swiftcurse&quot;
			elseif not dizziness then curse = &quot;addiction&quot; dust = &quot;disorient&quot; method = &quot;swiftcurse&quot;
			else curse = &quot;addiction&quot; dust = &quot;inhibit&quot; method = &quot;blight&quot;
			end
        elseif not healthleech and (not mannaz or not nairat) then
			if not confound then curse = &quot;healthleech&quot; dust = &quot;confound body&quot; method = &quot;blight&quot;
			elseif not numbness then curse = &quot;healthleech&quot; dust = &quot;numbness&quot; method = &quot;blight&quot;
			elseif not recklessness then curse = &quot;healthleech&quot; dust = &quot;reckless&quot; method = &quot;blight&quot;
			elseif not dizziness then curse = &quot;healthleech&quot; dust = &quot;disorient&quot; method = &quot;blight&quot;
			else curse = &quot;healthleech&quot; dust = &quot;inhibit&quot; method = &quot;blight&quot;
			end
			if not mannaz and ( not nairat or not kena ) then
				flare = &quot;mannaz&quot;
			end
        elseif not healthleech then
			if not confound then curse = &quot;healthleech&quot; dust = &quot;confound body&quot; method = &quot;swiftcurse&quot;
			elseif not numbness then curse = &quot;healthleech&quot; dust = &quot;numbness&quot; method = &quot;swiftcurse&quot;
			elseif not recklessness then curse = &quot;healthleech&quot; dust = &quot;reckless&quot; method = &quot;swiftcurse&quot;
			elseif not dizziness then curse = &quot;healthleech&quot; dust = &quot;disorient&quot; method = &quot;swiftcurse&quot;
			else curse = &quot;healthleech&quot; dust = &quot;inhibit&quot; method = &quot;blight&quot;
			end
        else
			wytch.damage(name)
	    end

		if str == &quot;&quot; then
			str = str..method..&quot; target &quot;..curse..&quot; &quot;..dust..sp
		end
		if flare ~= &quot;&quot; then
			str = str..&quot;flare &quot;..flare..&quot; at target &quot;
			if flare == &quot;nairat&quot; or flare == &quot;loshre&quot; then
				str = str..&quot;plant&quot;
			end
			str = str..sp
		end
		str = str:gsub(&quot;target&quot;,name)
		send(str)
	end
end
</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>wytch.within</name>
                            <packageName></packageName>
                            <script>wytch.within = function(aff,step)
	local value = false
	local t = ecopy(wytch.hlist)

	if step &gt; #t then step = #t end

	for i=1,step do
		local n = t[i]
		local give = t[i][2]

		if aff == give then 
			value = true 
			break
		end
	end

	return value
end

wytch.in_time = function(aff,time)
	local now = os.time()
	local value = false
	local t = ecopy(wytch.hlist)

	for i=1,#t do
		local saved_time = t[i][1]
		local saved_aff = t[i][2]

		if saved_time ~= 0 then
			saved_time = 4 - (now - saved_time)
			if saved_time &gt; time then
				value = true
			end
		end
	end
	return value
end</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>[d] wytch.blight</name>
                            <packageName></packageName>
                            <script>wytch.tier_oneBlight = {
	&quot;recklessness&quot;,
	&quot;dementia&quot;, -- m
	&quot;paranoia&quot;, -- m
	&quot;healthleech&quot;,
	&quot;anorexia&quot;,
	&quot;claustrophobia&quot;, -- m
}

wytch.tier_twoBlight = {
	&quot;manaleech&quot;,
	&quot;vertigo&quot;, -- m
	&quot;agoraphobia&quot;, -- m
	&quot;dizziness&quot;, -- m
	&quot;impatience&quot;,
	&quot;asthma&quot;,
	&quot;nausea&quot;,
	&quot;numbness&quot;,
	&quot;anorexia&quot;,
}

wytch.tier_threeBlight = {
	&quot;peace&quot;,
	&quot;epilepsy&quot;,
	&quot;anorexia&quot;,
	&quot;clumsiness&quot;,
	&quot;recklessness&quot;,
	&quot;peace&quot;,
}

wytch.tier_fourBlight = {
	&quot;impatience&quot;,
	&quot;sensitivity&quot;,
	&quot;masochism&quot;, -- m
	&quot;addiction&quot;,
	&quot;cyanide&quot;,
}</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>[d] wytch.hecate</name>
                            <packageName></packageName>
                            <script>wytch.tier_one = {
	&quot;numbness&quot;,
	&quot;impatience&quot;,
	&quot;masochism&quot;, -- m
	&quot;anorexia&quot;,
	&quot;clumsiness&quot;,
}

wytch.tier_two = {
	&quot;impatience&quot;,
	&quot;peace&quot;,
	&quot;asthma&quot;,
	&quot;anorexia&quot;,
	&quot;nausea&quot;,
	&quot;epilepsy&quot;,
}

wytch.tier_three = {
	&quot;addiction&quot;,
	&quot;impatience&quot;,
	&quot;sensitivity&quot;,
	&quot;masochism&quot;, -- m
	&quot;healthleech&quot;,
	&quot;manaleech&quot;,
	&quot;epilepsy&quot;,
	&quot;anorexia&quot;,
	&quot;recklessness&quot;,
	&quot;peace&quot;,
}

wytch.tier_four = {
	&quot;clumsiness&quot;,
	&quot;impatience&quot;,
	&quot;healthleech&quot;,
	&quot;sensitivity&quot;,
	&quot;claustrophobia&quot;, -- m
	&quot;agoraphobia&quot;, -- m
	&quot;dizziness&quot;, -- m
	&quot;dementia&quot;, -- m
	&quot;paranoia&quot;, -- m
	&quot;vertigo&quot;, -- m
	&quot;cyanide&quot;,
}

wytch.target = wytch.target or &quot;&quot;
wytch.pending = wytch.pending or &quot;&quot;
wytch.hlist = wytch.hlist or {}</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>[d] wytch.lock_blight</name>
                            <packageName></packageName>
                            <script>wytch.tier_oneBlightL = {
	&quot;impatience&quot;,
	&quot;asthma&quot;,
	&quot;addiction&quot;,
	&quot;peace&quot;,
}

wytch.tier_twoBlightL = {
	&quot;recklessness&quot;,
	&quot;nausea&quot;,
	&quot;numbness&quot;,
	&quot;anorexia&quot;,
}

wytch.tier_threeBlightL = {
	&quot;recklessness&quot;,
	&quot;addiction&quot;,
	&quot;anorexia&quot;,
	&quot;epilepsy&quot;,
	&quot;anorexia&quot;,
	&quot;clumsiness&quot;,
	&quot;recklessness&quot;,
	&quot;healthleech&quot;,
	&quot;peace&quot;,
}

wytch.tier_fourBlightL = {
	&quot;impatience&quot;,
	&quot;sensitivity&quot;,
	&quot;masochism&quot;, -- m
	&quot;manaleech&quot;,
	&quot;vertigo&quot;, -- m
	&quot;claustrophobia&quot;, -- m
	&quot;agoraphobia&quot;, -- m
	&quot;dizziness&quot;, -- m
	&quot;dementia&quot;, -- m
	&quot;paranoia&quot;, -- m
	&quot;cyanide&quot;,
}</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>wytch.blight</name>
                            <packageName></packageName>
                            <script>wytch.blight = function(name)
	_hload(name)

	local greater = has(name,&quot;greater&quot;)
	local lesser = has(name,&quot;lesser&quot;)
	local curseward = has(name,&quot;curseward&quot;)
	local shield = has(name,&quot;shield&quot;)
	local count = dbp.count(name)

	local str,curse,dust,flare,method = &quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;blight&quot;

	local alist = alist or ecopy(wytch.tier_oneBlight)
	local blist = blist or ecopy(wytch.tier_twoBlight)
	local clist = clist or ecopy(wytch.tier_threeBlight)
	local dlist = dlist or ecopy(wytch.tier_fourBlight)

	if _G.paralysis then
		table.remove(alist,table.index_of(alist,&quot;numbness&quot;))
		table.remove(blist,table.index_of(blist,&quot;numbness&quot;))
		table.remove(clist,table.index_of(clist,&quot;numbness&quot;))
		table.remove(dlist,table.index_of(dlist,&quot;numbness&quot;))
	end

	for i=1, #alist do
		if not _G[alist[i]] and not wytch.within(alist[i],2) then -- not table.contains(wytch.hlist,alist[i]) then
			curse = alist[i]
			break
		end
		if i == #alist then
			for i=1, #clist do
				if not _G[clist[i]] and not wytch.within(clist[i],5) then-- not table.contains(wytch.hlist,clist[i]) then
					curse = clist[i]
					break
				end
			end
		end
	end

	if has(name,&quot;curseward&quot;) and has(name,&quot;lesser&quot;) ~= &quot;Arctar&quot; then
		curse = &quot;breach&quot;
	end

	for i=1, #blist do
		if blist[i] ~= curse and not _G[blist[i]] and not wytch.within(blist[i],3) then--not table.contains(wytch.hlist,blist[i]) then
			dust = blist[i]
			break
		end
		if i == #blist then
			for i=1, #dlist do
				if not _G[dlist[i]] and not wytch.within(dlist[i],7) then--not table.contains(wytch.hlist,dlist[i]) then
					dust = dlist[i]
					break
				end
			end
		end
	end

	-- Before lookup the syntax, check for reporting:
	local inc = {&quot;impatience&quot;,&quot;anorexia&quot;,&quot;asthma&quot;}
	if config and config.share_full then
		str = str..&quot;clan military tell afflicted &quot;..name..&quot; &quot;..curse..sp
	elseif config and config.share and table.contains(inc,curse) then
		str = str..&quot;clan military tell afflicted &quot;..name..&quot; &quot;..curse..sp
	end

	curse = lookup(curse,wytch.curse_spellbook)
	dust = lookup(dust,wytch.curse_spellbook)

	if count &gt;= 7 then method = &quot;curse&quot; end

	-- construct
	str = &quot;queue eqbal &quot;..method..&quot; target &quot;..curse..&quot; &quot;..dust..sp..str

	if anorexia and slickness and (numbness or paralysis) and impatience and asthma and not hemotoxin then
		local axen = &quot;axe&quot;
		if not axe then axe = axen end
		str = &quot;queue eqbal tanget nothing&quot;..sp
		str = str..&quot;beckon artifacts&quot;..sp
		str = str..&quot;quickdraw &quot;..axe..sp
		str = str..&quot;wipe &quot;..axe..sp
		str = str..&quot;envenom &quot;..axe..&quot; with hemotoxin &quot;..sp
		str = str..&quot;throw &quot;..axe..&quot; at target&quot;..sp
		str = str..&quot;beckon artifacts&quot;..sp
	elseif (anorexia or table.contains(wytch.hlist,&quot;anorexia&quot;)) and not slickness and count &gt;= 3 and impatience and asthma then
		str = &quot;queue eqbal dustthrow inhibit slick target&quot;..sp
		str = &quot;flare loshre at target plant&quot;..sp
	elseif anorexia and slickness and (numbness or paralysis) and impatience and hemotoxin and not asthma then
		--str = &quot;queue eqbal swiftcurse target asthma asthma&quot;..sp
	elseif asthma and (numbness or paralysis) and not anorexia then
		--str = &quot;queue eqbal curse target anorexia anorexia&quot;..sp
	end

	str = str:gsub(&quot;target&quot;,name)
	str = str:gsub(&quot;tanget&quot;,&quot;target&quot;)
	send(str)
end</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>wytch.hecate</name>
                            <packageName></packageName>
                            <script>wytch.hecate = function(name)
	_hload(name)

	local greater = has(name,&quot;greater&quot;)
	local lesser = has(name,&quot;lesser&quot;)
	local curseward = has(name,&quot;curseward&quot;)
	local shield = has(name,&quot;shield&quot;)
	local count = dbp.count(name)

	local str,curse,dust,flare,method = &quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;swiftcurse&quot;

	local alist = alist or ecopy(wytch.tier_one)
	local blist = blist or ecopy(wytch.tier_two)
	local clist = clist or ecopy(wytch.tier_three)
	local dlist = dlist or ecopy(wytch.tier_four)

	if _G.paralysis then
		table.remove(alist,table.index_of(alist,&quot;numbness&quot;))
		table.remove(blist,table.index_of(blist,&quot;numbness&quot;))
		table.remove(clist,table.index_of(clist,&quot;numbness&quot;))
		table.remove(dlist,table.index_of(dlist,&quot;numbness&quot;))
	end

	if has(name,&quot;peace_time&quot;) ~= 0 then
		table.remove(alist,table.index_of(alist,&quot;peace&quot;))
		table.remove(blist,table.index_of(blist,&quot;peace&quot;))
		table.remove(clist,table.index_of(clist,&quot;peace&quot;))
		table.remove(dlist,table.index_of(dlist,&quot;peace&quot;))
	end

	for i=1, #alist do
		if not _G[alist[i]] then -- and not wytch.within(alist[i],1) then
		-- if not _G[alist[i]] and not table.contains(wytch.hlist,alist[i]) then
		-- and not wytch.in_time(alist[i],1)
			curse = alist[i]
			break
		end
		if i == #alist then
			for i=1, #clist do
				if not _G[clist[i]] and not wytch.within(clist[i],5) then
				-- if not _G[clist[i]] and not table.contains(wytch.hlist,clist[i]) then
					curse = clist[i]
					break
				end
			end
		end
	end

	if has(name,&quot;curseward&quot;) and has(name,&quot;lesser&quot;) ~= &quot;Arctar&quot; then
		curse = &quot;breach&quot;
	end

	for i=1, #blist do
		if blist[i] ~= curse and not _G[blist[i]] and not wytch.within(blist[i],2) then
		-- if blist[i] ~= curse and not _G[blist[i]] and not table.contains(wytch.hlist,blist[i]) then
			dust = blist[i]
			break
		end
		if i == #blist then
			for i=1, #dlist do
				if not _G[dlist[i]] and not wytch.within(dlist[i],5) then
				-- if not _G[dlist[i]] and not table.contains(wytch.hlist,dlist[i]) then
					dust = dlist[i]
					break
				end
			end
		end
	end

	-- Before lookup the syntax, check for reporting:
	local inc = {&quot;impatience&quot;,&quot;anorexia&quot;,&quot;asthma&quot;}
	if config and config.share_full then
		str = str..&quot;clan military tell afflicted &quot;..name..&quot; &quot;..curse..sp
	elseif config and config.share and table.contains(inc,curse) then
		str = str..&quot;clan military tell afflicted &quot;..name..&quot; &quot;..curse..sp
	end

	curse = lookup(curse,wytch.curse_spellbook)
	dust = lookup(dust,wytch.curse_spellbook)

	if count &gt;= 7 then method = &quot;curse&quot; end

	-- compile the attack
	str = &quot;queue eqbal &quot;..method..&quot; target &quot;..curse..&quot; &quot;..dust..sp..str

	if anorexia and slickness and (numbness or paralysis) and impatience and asthma and not hemotoxin then
		local axen = &quot;axe&quot;
		if not axe then axe = axen end
		str = &quot;queue eqbal target nothing&quot;..sp
		str = str..&quot;beckon artifacts&quot;..sp
		str = str..&quot;quickdraw &quot;..axe..sp
		str = str..&quot;wipe &quot;..axe..sp
		str = str..&quot;envenom &quot;..axe..&quot; with hemotoxin &quot;..sp
		str = str..&quot;throw &quot;..axe..&quot; at target&quot;..sp
		str = str..&quot;beckon artifacts&quot;..sp
	elseif has(name,&quot;purge&quot;) and not hemotoxin then
		str = &quot;queue eqbal dustthrow inhibit reckless target&quot;..sp
		str = str..&quot;flare loshre at target purge&quot;..sp
	elseif has(name,&quot;tree&quot;) and not numbness and not paralysis then
		str = &quot;queue eqbal dustthrow inhibit reckless target&quot;..sp
		str = str..&quot;flare loshre at target tree&quot;..sp
	elseif (anorexia or table.contains(wytch.hlist,&quot;anorexia&quot;)) and not slickness and count &gt;= 3 and numbness and asthma then
		str = &quot;queue eqbal dustthrow inhibit slick target&quot;..sp
		str = str..&quot;flare loshre at target plant&quot;..sp
	elseif anorexia and slickness and (numbness or paralysis) and impatience and hemotoxin and not asthma then
		-- str = &quot;queue eqbal swiftcurse target asthma asthma&quot;..sp
	elseif asthma and (numbness or paralysis) and not anorexia and count &gt;= 5 then
		str = &quot;queue eqbal curse target anorexia anorexia&quot;..sp
	end

	str = str:gsub(&quot;target&quot;,name)
	send(str)
end</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>wytch.lock_blight</name>
                            <packageName></packageName>
                            <script>wytch.lock_blight = function(name)
	_hload(name)

	local greater = has(name,&quot;greater&quot;)
	local lesser = has(name,&quot;lesser&quot;)
	local curseward = has(name,&quot;curseward&quot;)
	local shield = has(name,&quot;shield&quot;)
	local count = dbp.count(name)

	local str,curse,dust,flare,method = &quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;blight&quot;

	local alist = alist or ecopy(wytch.tier_oneBlightL)
	local blist = blist or ecopy(wytch.tier_twoBlightL)
	local clist = clist or ecopy(wytch.tier_threeBlightL)
	local dlist = dlist or ecopy(wytch.tier_fourBlightL)

	if _G.paralysis then
		table.remove(alist,table.index_of(alist,&quot;numbness&quot;))
		table.remove(blist,table.index_of(blist,&quot;numbness&quot;))
		table.remove(clist,table.index_of(clist,&quot;numbness&quot;))
		table.remove(dlist,table.index_of(dlist,&quot;numbness&quot;))
	end

	for i=1, #alist do
		if not _G[alist[i]] and not wytch.within(alist[i],2) then -- not table.contains(wytch.hlist,alist[i]) then
			curse = alist[i]
			break
		end
		if i == #alist then
			for i=1, #clist do
				if not _G[clist[i]] and not wytch.within(clist[i],5) then-- not table.contains(wytch.hlist,clist[i]) then
					curse = clist[i]
					break
				end
			end
		end
	end

	if has(name,&quot;curseward&quot;) and has(name,&quot;lesser&quot;) ~= &quot;Arctar&quot; then
		curse = &quot;breach&quot;
	end

	for i=1, #blist do
		if blist[i] ~= curse and not _G[blist[i]] and not wytch.within(blist[i],3) then--not table.contains(wytch.hlist,blist[i]) then
			dust = blist[i]
			break
		end
		if i == #blist then
			for i=1, #dlist do
				if not _G[dlist[i]] and not wytch.within(dlist[i],7) then--not table.contains(wytch.hlist,dlist[i]) then
					dust = dlist[i]
					break
				end
			end
		end
	end

	-- Before lookup the syntax, check for reporting:
	local inc = {&quot;impatience&quot;,&quot;anorexia&quot;,&quot;asthma&quot;}
	if config and config.share_full then
		str = str..&quot;clan military tell afflicted &quot;..name..&quot; &quot;..curse..sp
	elseif config and config.share and table.contains(inc,curse) then
		str = str..&quot;clan military tell afflicted &quot;..name..&quot; &quot;..curse..sp
	end

	curse = lookup(curse,wytch.curse_spellbook)
	dust = lookup(dust,wytch.curse_spellbook)

	if count &gt;= 7 then method = &quot;curse&quot; end

	-- construct
	str = &quot;queue eqbal &quot;..method..&quot; target &quot;..curse..&quot; &quot;..dust..sp..str

	if anorexia and slickness and (numbness or paralysis) and impatience and asthma and not hemotoxin then
		local axen = &quot;axe&quot;
		if not axe then axe = axen end
		str = &quot;queue eqbal target nothing&quot;..sp
		str = str..&quot;beckon artifacts&quot;..sp
		str = str..&quot;quickdraw &quot;..axe..sp
		str = str..&quot;wipe &quot;..axe..sp
		str = str..&quot;envenom &quot;..axe..&quot; with hemotoxin &quot;..sp
		str = str..&quot;throw &quot;..axe..&quot; at target&quot;..sp
		str = str..&quot;beckon artifacts&quot;..sp
	elseif (anorexia or table.contains(wytch.hlist,&quot;anorexia&quot;)) and not slickness and count &gt;= 3 and impatience and asthma then
		str = &quot;queue eqbal dustthrow inhibit slick target&quot;..sp
		str = str..&quot;flare loshre at target plant&quot;..sp
	elseif anorexia and slickness and (numbness or paralysis) and impatience and hemotoxin and not asthma then
		--str = &quot;queue eqbal swiftcurse target asthma asthma&quot;..sp
	elseif asthma and (numbness or paralysis) and not anorexia then
		--str = &quot;queue eqbal curse target anorexia anorexia&quot;..sp
	end

	str = str:gsub(&quot;target&quot;,name)
	send(str)
end</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>wytch.swiftly</name>
                            <packageName></packageName>
                            <script>wytch.swiftly = function(name)
	_hload(name)

	local greater = has(name,&quot;greater&quot;)
	local lesser = has(name,&quot;lesser&quot;)
	local curseward = has(name,&quot;curseward&quot;)
	local shield = has(name,&quot;shield&quot;)
	local obstruct = has(name,&quot;obstruct&quot;)
	local confound = has(name,&quot;confound&quot;)

	local sowulu = has(target,&quot;sowulu&quot;)
	local pithakhan = has(target,&quot;pithakhan&quot;)
	local hugalaz = has(target,&quot;hugalaz&quot;)
	local nauthiz = has(target,&quot;nauthiz&quot;)

	local loshre = has(target,&quot;loshre&quot;)
	local nairat = has(target,&quot;nairat&quot;)
	local kena = has(target,&quot;kena&quot;)

	local mannaz = wytch.mannaz

	local str,curse,dust,flare,method = &quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;swiftcurse&quot;

	local clist = {
		&quot;impatience&quot;, -- m
		&quot;anorexia&quot;, -- m + slick please
		&quot;masochism&quot;, -- m
		&quot;asthma&quot;,
		&quot;addiction&quot;,
		&quot;sensitivity&quot;,
		&quot;clumsiness&quot;,
		&quot;recklessness&quot;, -- m
		&quot;healthleech&quot;,
		&quot;manaleech&quot;,
		&quot;dementia&quot;, -- m
		&quot;paranoia&quot;, -- m
		&quot;numbness&quot;,
		&quot;stupidity&quot;, -- m
		&quot;epilepsy&quot;, -- m
		&quot;peace&quot;, -- m
		&quot;nausea&quot;,
		&quot;vertigo&quot;, -- m
		&quot;claustrophobia&quot;, -- m
		&quot;agoraphobia&quot;, -- m
		&quot;dizziness&quot;, -- m
		&quot;cyanide&quot;,
	}

	local dlist = {
		&quot;slickness&quot;,
		&quot;confusion&quot;,
		&quot;lethargy&quot;,
		&quot;numbness&quot;,
		&quot;recklessness&quot;,
		&quot;dizziness&quot;,
		&quot;weariness&quot;,
	}

	curse,dust = wytch.choose_toxin(name,clist,dlist)

	if curse == &quot;anorexia&quot; and not slickness then dust = &quot;slick&quot; method = &quot;curse&quot; end

	if str == &quot;&quot; then
		str = str..method..&quot; target &quot;..curse..&quot; &quot;..dust..sp
		if curse == &quot;anorexia&quot; and dust == &quot;slick&quot; and not nairat then
			str = str..&quot;flare nairat at target pipe&quot;..sp
			str = &quot;queue eqbal &quot;..str
		end
	end
	str = str:gsub(&quot;target&quot;,name)
	send(str)
end</script>
                            <eventHandlerList/>
                        </Script>
                    </ScriptGroup>
                </ScriptGroup>
                <ScriptGroup isActive="yes" isFolder="yes">
                    <name>magic</name>
                    <packageName></packageName>
                    <script>-------------------------------------------------
--         Put your Lua functions here.        --
--                                             --
-- Note that you can also use external Scripts --
-------------------------------------------------
</script>
                    <eventHandlerList/>
                    <ScriptGroup isActive="yes" isFolder="yes">
                        <name>bard</name>
                        <packageName></packageName>
                        <script>bard = bard or {}

-- revelation: 3 minutes</script>
                        <eventHandlerList/>
                        <Script isActive="yes" isFolder="no">
                            <name>[d]</name>
                            <packageName></packageName>
                            <script>bard.defences = bard.defences or {
	awakening = 0, -- 1060
	battlemarch = 0,
	corescation = 0,
	empower = 0,
	enliven = 0,
	flight = 0,
	fortification = 0, -- 1060
	restoration = 0,
	requiem = 0,
	therapeutics = 0, -- 600
	ward = 0,
	-- non songs
	befuddle = false,
	contortionism = false,
	elusiveness = false,
	songbird = false,
}</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>prompt</name>
                            <packageName></packageName>
                            <script>bard.prompt = function() 
	local str = &quot;&quot;
	local time = os.time()

	if player(target) then

	end
	if class == &quot;Bard&quot; then cecho(str) end
end</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>reset</name>
                            <packageName></packageName>
                            <script>bard.reset = function()
	bard.defences = {
			awakening = 0, -- 1060
			battlemarch = 0,
			corescation = 0,
			empower = 0,
			enliven = 0,
			flight = 0,
			fortification = 0, -- 1060
			restoration = 0,
			requiem = 0,
			therapeutics = 0, -- 600
			ward = 0,
			-- non songs
			befuddle = false,
			contortionism = false,
			elusiveness = false,
			songbird = false,
	}
end</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>timer</name>
                            <packageName></packageName>
                            <script>bard.timer = function()
	if class == &quot;Bard&quot; then

		-- operate only on 'target' otherwise the overhead is too big
		local time = os.time()

		if player(target) then

		-- revelation

		local rev = has(target,&quot;revelation&quot;)
		local rev_time = has(target,&quot;revelation_time&quot;)

		if rev_time ~= 0 then
			rev_time = 181 - (time - rev_time)
			if rev_time &lt; 0 then
				cecho(&quot;\n&lt;red&gt;Resetting Revelation for &quot;..target..&quot;.&quot;)
				set(target,&quot;revelation&quot;,false)
				set(target,&quot;revelation_time&quot;,0)
				set(target,&quot;revelation_tick&quot;,0)
			end
		end

		-- bedazzlement

		local bed = has(target,&quot;bedazzlement&quot;)
		local bed_time = has(target,&quot;bedazzlement_time&quot;)

		if bed_time ~= 0 then
			bed_time = 181 - (time - bed_time)
			if bed_time &lt; 0 then
				cecho(&quot;\n&lt;red&gt;Resetting Bedazzlement for &quot;..target..&quot;.&quot;)
				set(target,&quot;bedazzlement&quot;,false)
				set(target,&quot;bedazzlement_time&quot;,0)
				set(target,&quot;bedazzlement_tick&quot;,0)
			end
		end

		-- dissonance

		local dis = has(target,&quot;dissonance&quot;)
		local dis_time = has(target,&quot;dissonance_time&quot;)

		if dis_time ~= 0 then
			dis_time = 226 - (time - dis_time)
			if dis_time &lt; 0 then
				cecho(&quot;\n&lt;red&gt;Resetting Dissonance for &quot;..target..&quot;.&quot;)
				set(target,&quot;dissonance&quot;,false)
				set(target,&quot;dissonance_time&quot;,0)
				set(target,&quot;dissonance_tick&quot;,0)
			end
		end

		-- thornroots
		local troot = has(target,&quot;thornroot&quot;)
		local troot_time = has(target,&quot;thornroot_time&quot;)
		
		if troot_time ~= 0 then
			troot_time = time - troot_time
			
			if troot_time &gt; 26 then
				cecho(&quot;\n&lt;red&gt;Resetting Thornroot for &quot;..target..&quot;.&quot;)
				set(target,&quot;thornroot&quot;,false)
				set(target,&quot;thornroot_time&quot;,0)
			end
		end

		-- demonic seeds
		local dseed = has(target,&quot;demonic_seed&quot;)
		local dseed_time = has(target,&quot;demonic_seed_time&quot;)
	
		if dseed_time ~= 0 then
			dseed_time = time - dseed_time
	
			if dseed_time &gt; 15 then
				cecho(&quot;\n&lt;red&gt;Resetting demonic seed for &quot;..target..&quot;.&quot;)
				dseed = dseed - 1
				if dseed &lt; 0 then dseed = 0 end
				set(target,&quot;demonic_seed&quot;,dseed)
				set(target,&quot;demonic_seed_time&quot;,0)
			end
		end

		local augur = defiler.augur_time

		if not defiler.augur_balance and augur ~= 0 then
			augur = time - augur
			if augur &gt; 8 then
				cecho(&quot;\n&lt;red&gt;Resetting Augury Balance.&quot;)
				defiler.augur_balance = true
				defiler.augur_time = 0
			end
		end

		-- splinters
		local splints = has(target,&quot;splinters&quot;)
		local to_clear = {}

		for name,moment in pairs(splints) do 
			if moment ~= 0 then
				moment = time - moment 
				if moment &gt; 30 then
					table.insert(to_clear,name)
				end
			end
		end
		for i=1,#to_clear do
			local short = &quot;splinters.&quot;..to_clear[i]
			set(target,short,0)
		end

		end

		bard.ui_refresh()
	end
end</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>ui_make</name>
                            <packageName></packageName>
                            <script>bard.ui_make = function(ui_side,fsize,offset)
	local offset = offset or 0
	local h = 3

	local width, height = getMainWindowSize()

	local internal_size = 11
	local fwidth,fheight = calcFontSize(internal_size)

	local fsize = fsize or 11
	local f_width,f_height = calcFontSize(fsize)

	if ui_side == &quot;bottom&quot; then
		setBorderBottom(h*fheight+offset*f_height)
	else
		setBorderBottom(h*fheight)
	end

	bard.ui = Geyser.MiniConsole:new({
		name=&quot;bard_ui&quot;,
		x= 0,
		y= 0,
		width= 0, 
		height= 0,
	})
	bard.ui:setFontSize(10)
	bard.ui:setColor(0,0,0,0)

	local x = 0
	if dbp and dbp.allow then
		x = ui.left*width
	end

	if ui_side == &quot;bottom&quot; then
		bard.ui:move(x,height-(h*fheight + offset*f_height))
		bard.ui:resize(width,h*fheight)
	else
		bard.ui:move(x,height-(h*fheight))
		bard.ui:resize(width,h*fheight)
	end
end
</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>ui_refresh</name>
                            <packageName></packageName>
                            <script>bard.ui_refresh = function()
	clearWindow(&quot;bard_ui&quot;)
	local str = &quot;&quot;
	local time = os.time()
	local neutral = &quot;&lt;grey&gt;&quot;

	local color = &quot;&lt;goldenrod&gt;&quot;

	if player(target) and has(target,&quot;cruel_lament&quot;) then color = &quot;&lt;cyan&gt;&quot; end

	str = str..&quot;T: &quot;..color..target..neutral..&quot;  &quot;

	-- first part
	-------------
	if player(target) then
		local blind = has(target,&quot;unblind&quot;)
		local deaf = has(target,&quot;undeaf&quot;)

		if blind then blind = &quot;&lt;dim_grey&gt;&quot; else blind = &quot;&lt;yellow_green&gt;&quot; end
		if deaf then deaf = &quot;&lt;dim_grey&gt;&quot; else deaf = &quot;&lt;gold&gt;&quot; end

		local rev = has(target,&quot;revelation&quot;)
		local rev_time = has(target,&quot;revelation_time&quot;)
		local rev_time_c = &quot;&lt;dim_grey&gt;&quot;

		if rev_time ~= 0 then
			rev_time = 181 - (time - rev_time)
				if rev_time &lt; 10 then rev_time_c = &quot;&lt;red&gt;&quot; end
			rev_time = string.format(&quot;%.1f&quot;, rev_time)
			rev_time = string.lpad(rev_time,5,&quot; &quot;)
		else
			rev_time = &quot; 00.0&quot;
			rev_time_c = &quot;&lt;firebrick&gt;&quot;
		end

		local bed = has(target,&quot;bedazzlement&quot;)
		local bed_time = has(target,&quot;bedazzlement_time&quot;)
		local bed_time_c = &quot;&lt;dim_grey&gt;&quot;

		if bed_time ~= 0 then
			bed_time = 181 - (time - bed_time)
				if bed_time &lt; 10 then bed_time_c = &quot;&lt;red&gt;&quot; end
			bed_time = string.format(&quot;%.1f&quot;, bed_time)
			bed_time = string.lpad(bed_time,5,&quot; &quot;)
		else
			bed_time = &quot; 00.0&quot;
			bed_time_c = &quot;&lt;firebrick&gt;&quot;
		end

		local dis = has(target,&quot;dissonance&quot;)
		local dis_time = has(target,&quot;dissonance_time&quot;)
		local dis_time_c = &quot;&lt;dim_grey&gt;&quot;

		if dis_time ~= 0 then
			dis_time = 226 - (time - dis_time)
				if dis_time &lt; 10 then dis_time_c = &quot;&lt;red&gt;&quot; end
			dis_time = string.format(&quot;%.1f&quot;, dis_time)
			dis_time = string.lpad(dis_time,5,&quot; &quot;)
		else
			dis_time = &quot; 00.0&quot;
		end

		local lul = has(target,&quot;lullaby&quot;)
		local lul_time = has(target,&quot;lullaby_time&quot;)
		local lul_time_c = &quot;&lt;dim_grey&gt;&quot;

		if lul_time ~= 0 then
			lul_time = 220 - (time - lul_time)
				if lul_time &lt; 10 then lul_time_c = &quot;&lt;red&gt;&quot; end
			lul_time = string.format(&quot;%.1f&quot;, lul_time)
			lul_time = string.lpad(lul_time,5,&quot; &quot;)
		else
			lul_time = &quot; 00.0&quot;
		end

		str = str..blind..&quot;b&quot;..deaf..&quot;d&quot;..neutral..&quot; &quot;
		str = str..&quot;[R: &quot;..rev_time_c..rev_time..neutral..&quot;]&quot;
		str = str..&quot;[B: &quot;..bed_time_c..bed_time..neutral..&quot;]&quot;
		str = str..&quot;[D: &quot;..dis_time_c..dis_time..neutral..&quot;]&quot;
	end

	str = str..&quot;\n&quot;
	-- second part
	-------------
	if player(target) then
		local res = tonumber(has(target,&quot;resonance&quot;))
		local res_t = has(target,&quot;resonance_time&quot;)
		
		local symbol = &quot;/&quot;
		local count = 20 -- 24 if specialized
		local col = neutral

		if player(target) and has(target,&quot;cruel_lament&quot;) then col = &quot;&lt;cyan&gt;&quot; end

		str = str..col..&quot;[&quot;
		for i=1,count do
			local c = &quot;&lt;dim_grey&gt;&quot;
			if i&lt;=res then c = &quot;&lt;orange_red&gt;&quot; end
			str = str..c..symbol
		end
		str = str..col..&quot;] &quot;..neutral
	end

	local limb_c = &quot;&lt;dim_grey&gt;&quot;
	if limb.target ~= &quot;nothing&quot; then limb_c = &quot;&lt;medium_aquamarine&gt;&quot; end
	str = str..&quot;T: &quot;..limb_c..string.title(limb.target)

	-- third part
	-------------
	str = str..&quot;\n&quot;

	local cor, emp, enl, res, thr, war = &quot;&lt;red&gt;&quot;, &quot;&lt;red&gt;&quot;, &quot;&lt;red&gt;&quot;, &quot;&lt;red&gt;&quot;, &quot;&lt;red&gt;&quot;, &quot;&lt;red&gt;&quot;
	local awa, btl, fly, fort, req = &quot;&lt;red&gt;&quot;, &quot;&lt;red&gt;&quot;, &quot;&lt;red&gt;&quot;, &quot;&lt;red&gt;&quot;, &quot;&lt;red&gt;&quot;
	local bef, cont, elu, bird = &quot;&lt;red&gt;&quot;,&quot;&lt;red&gt;&quot;, &quot;&lt;red&gt;&quot;, &quot;&lt;red&gt;&quot;

	if bard.defences.battlemarch ~= 0 then btl = &quot;&lt;green&gt;&quot; end
	if bard.defences.corescation ~= 0 then cor = &quot;&lt;green&gt;&quot; end
	if bard.defences.empower ~= 0 then emp = &quot;&lt;green&gt;&quot; end
	if bard.defences.enliven ~= 0 then enl = &quot;&lt;green&gt;&quot; end
	if bard.defences.fortification ~= 0 then fort = &quot;&lt;green&gt;&quot; end
	if bard.defences.restoration ~= 0 then res = &quot;&lt;green&gt;&quot; end
	if bard.defences.requiem ~= 0 then req = &quot;&lt;green&gt;&quot; end
	if bard.defences.therapeutics ~= 0 then thr = &quot;&lt;green&gt;&quot; end
	if bard.defences.ward ~= 0 then war = &quot;&lt;green&gt;&quot; end
	if bard.defences.awakening ~= 0 then awa = &quot;&lt;green&gt;&quot; end
	if bard.defences.flight ~= 0 then fly = &quot;&lt;green&gt;&quot; end
	if bard.defences.befuddle then bef = &quot;&lt;green&gt;&quot; end
	if bard.defences.contortionism then cont = &quot;&lt;green&gt;&quot; end
	if bard.defences.elusiveness then elu = &quot;&lt;green&gt;&quot; end
	if bard.defences.songbird then bird = &quot;&lt;green&gt;&quot; end

	str = str..&quot;[&quot;..btl..&quot;BTL&quot;..neutral..&quot;] &quot;
	str = str..&quot;[&quot;..cor..&quot;COR&quot;..neutral..&quot;] &quot;
	str = str..&quot;[&quot;..emp..&quot;EMP&quot;..neutral..&quot;] &quot;
	str = str..&quot;[&quot;..enl..&quot;ENL&quot;..neutral..&quot;] &quot;
	str = str..&quot;[&quot;..fort..&quot;FORT&quot;..neutral..&quot;] &quot;
	str = str..&quot;[&quot;..res..&quot;RES&quot;..neutral..&quot;] &quot;
	str = str..&quot;[&quot;..req..&quot;REQ&quot;..neutral..&quot;] &quot;
	str = str..&quot;[&quot;..thr..&quot;THR&quot;..neutral..&quot;] &quot;
	str = str..&quot;[&quot;..war..&quot;WAR&quot;..neutral..&quot;] :: &quot;
	str = str..&quot;[&quot;..awa..&quot;AWA&quot;..neutral..&quot;] &quot;
	str = str..&quot;[&quot;..fly..&quot;FLI&quot;..neutral..&quot;] :: &quot;
	str = str..&quot;[&quot;..bef..&quot;BEF&quot;..neutral..&quot;] &quot;
	str = str..&quot;[&quot;..bird..&quot;BIRD&quot;..neutral..&quot;] &quot;
	str = str..&quot;[&quot;..cont..&quot;CONT&quot;..neutral..&quot;] &quot;
	str = str..&quot;[&quot;..elu..&quot;ELU&quot;..neutral..&quot;] &quot;

	local parry_c = &quot;&lt;dim_grey&gt;&quot;
	if limb.parry ~= &quot;nothing&quot; then parry_c = &quot;&lt;medium_aquamarine&gt;&quot; end
	str = str..&quot;P: &quot;..parry_c..string.title(limb.parry)..neutral

	cecho(&quot;bard_ui&quot;,str)
end</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>bard.damage</name>
                            <packageName></packageName>
                            <script>bard.damage = function()
	if player(target) then
		local str, first, second, first_t, second_t = &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;

		local rev = has(target,&quot;revelation&quot;)
		local rev_time = has(target,&quot;revelation_time&quot;)
		local rev_tick = has(target,&quot;revelation_tick&quot;)
		local tick_time = tonumber(getTime(true,&quot;ss.zz&quot;))
	
		if tick_time &lt; rev_tick then tick_time = 60 + tick_time end
		if rev and rev_tick ~= 0 and tick_time - rev_tick &gt;= 5.7 then
			tick_time = true
		else
			tick_time = false
		end

		local blind = has(target,&quot;unblind&quot;)
		local deaf = has(target,&quot;undeaf&quot;)

		if blind then blind = false else blind = true end
		if deaf then deaf = false else deaf = true end

		if deaf and not tick_time then
			if tonumber(has(target,&quot;resonance&quot;)) &lt; 20 then
				first = first..&quot;&quot;
				second = second..&quot;ta &quot;
			end
			first = first..&quot;yoth &quot;
			second = second..&quot;shaite &quot;
		else
			if tonumber(has(target,&quot;resonance&quot;)) &lt; 20 then
				first = first..&quot;ta &quot;
				second = second..&quot;ta &quot;
			end
			first = first..&quot;shaite &quot;
			second = second..&quot;rubait &quot;
		end

		if first_t == &quot;&quot; then first_t = target end
		if second_t == &quot;&quot; then second_t = target end
		str = str..&quot;hum &quot;..first..first_t..&quot; &quot;..second..second_t..sp

		send(str)
	end
end</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>bard.overload</name>
                            <packageName></packageName>
                            <script>bard.overload = function()
	if player(target) then
		local str, first, second, first_t, second_t = &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;

		local blind = has(target,&quot;unblind&quot;)
		local deaf = has(target,&quot;undeaf&quot;)
		if blind then blind = false else blind = true end
		if deaf then deaf = false else deaf = true end

		if deaf then
			first = &quot;yoth&quot;
			second = &quot;shaite&quot;
		else
			first = &quot;shaite&quot;
			second = &quot;rubait&quot;
		end

		if first_t == &quot;&quot; then first_t = target end
		if second_t == &quot;&quot; then second_t = target end
		str = str..&quot;hum &quot;..first..&quot; &quot;..first_t..&quot; &quot;..second..&quot; &quot;..second_t..sp

		send(str)
	end
end</script>
                            <eventHandlerList/>
                        </Script>
                    </ScriptGroup>
                    <ScriptGroup isActive="yes" isFolder="yes">
                        <name>druid</name>
                        <packageName></packageName>
                        <script>druid = druid or {}</script>
                        <eventHandlerList/>
                        <Script isActive="yes" isFolder="no">
                            <name>[d]</name>
                            <packageName></packageName>
                            <script>druid.defences = druid.defences or {}</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>prompt</name>
                            <packageName></packageName>
                            <script>druid.prompt = function(len) 
	local str,neutral = &quot;&quot;,&quot;&lt;dim_grey&gt;&quot;
	local a,m = &quot;&lt;grey&gt;&quot;,&quot;&lt;grey&gt;&quot;
	local n = 50
	n = n - len

	str = string.lpad(str,n,&quot; &quot;)

	if player(target) then
		local count = dbp.count(target)

		str = str..neutral..&quot;[A: &quot;..a..count..neutral..&quot;]&quot;

	end

	if class == &quot;Druid&quot; then cecho(str) end
end</script>
                            <eventHandlerList/>
                        </Script>
                    </ScriptGroup>
                    <ScriptGroup isActive="yes" isFolder="yes">
                        <name>hunter</name>
                        <packageName></packageName>
                        <script>hunter = hunter or {}</script>
                        <eventHandlerList/>
                        <Script isActive="yes" isFolder="no">
                            <name>[d]</name>
                            <packageName></packageName>
                            <script>hunter.defences = hunter.defences or {}</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>prompt</name>
                            <packageName></packageName>
                            <script>hunter.prompt = function(len) 
	local str,neutral = &quot;&quot;,&quot;&lt;dim_grey&gt;&quot;
	local a,m = &quot;&lt;grey&gt;&quot;,&quot;&lt;grey&gt;&quot;
	local n = 50
	n = n - len

	str = string.lpad(str,n,&quot; &quot;)

	if player(target) then
		local count = dbp.count(target)

		str = str..neutral..&quot;[A: &quot;..a..count..neutral..&quot;]&quot;

	end

	if class == &quot;Hunter&quot; then cecho(str) end
end</script>
                            <eventHandlerList/>
                        </Script>
                    </ScriptGroup>
                    <ScriptGroup isActive="yes" isFolder="yes">
                        <name>mage</name>
                        <packageName></packageName>
                        <script>mage = mage or {}</script>
                        <eventHandlerList/>
                        <Script isActive="yes" isFolder="no">
                            <name>[d]</name>
                            <packageName></packageName>
                            <script>mage.defences = mage.defences or {
	stoneskin = false,
	windveil = false,
}

mage.charges = mage.charges or 0
--physical: Nausea, sunallergy, butisol, burning nerves, clumsiness, 
mage.spellbook_primary = {
	nausea = &quot;suffuse&quot;,
	recklessness = &quot;flamewhip&quot;,
	ablaze = &quot;ignite&quot;,
	stupidity = &quot;knockout&quot;,
	sunallergy = &quot;scorch&quot;,
	butisol = &quot;dehydrate&quot;,
	[&quot;burning nerves&quot;] = &quot;flamebolt&quot;,
	vertigo = &quot;lightning&quot;,
	healthleech = &quot;howl&quot;,
	--agoraphobia = &quot;howl agoraphobia&quot;,
	--claustrophobia = &quot;howl claustrophobia&quot;,
	--loneliness = &quot;howl loneliness&quot;,
	confusion = &quot;maelstrom&quot;,
	clumsiness = &quot;sidesmash&quot;,
}

mage.spellbook_secondary = {
	impatience = &quot;hasten&quot;,
	shivering = &quot;freeze&quot;,
	stupidity = &quot;knockout&quot;,
	ablaze = &quot;ignite&quot;,
	recklessness = &quot;flamewhip&quot;,
	nausea = &quot;suffuse&quot;,
}

mage.spellbook_crystal = {
	balance = &quot;etherpunch&quot;,
	damage = &quot;penetration&quot;,
	mana = &quot;mirroring&quot;,
	charge = &quot;charge instant&quot;,
	fast = &quot;quickcast&quot;,
	many = &quot;expansion&quot;,
	hyper = &quot;overtune&quot;,
}

mage.spellq_primary = {
	&quot;butisol&quot;,
	&quot;sunallergy&quot;,
	&quot;healthleech&quot;,
	&quot;nausea&quot;,
	&quot;clumsiness&quot;,
	&quot;stupidity&quot;,
	&quot;burning nerves&quot;,
	&quot;recklessness&quot;,
	&quot;confusion&quot;,
}

mage.spellq_secondary = {
	&quot;impatience&quot;,
	&quot;stupidity&quot;,
	&quot;recklessness&quot;,
	--&quot;nausea&quot;,
	&quot;ablaze&quot;,
	&quot;shivering&quot;,
}

mage.spellq_crystal = {
	&quot;numbness&quot;,
	&quot;masochism&quot;,
	&quot;hallucinations&quot;,
	&quot;fast&quot;,
	&quot;anorexia&quot;,
	&quot;paranoia&quot;,
	&quot;hyper&quot;,
}</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>[d] spellbook</name>
                            <packageName></packageName>
                            <script>mage.spellbook = {

	icicles = {
		name = &quot;icicles&quot;,
		skillset = &quot;pyroglacia&quot;,
		syntax = &quot;cast icicles at target option1&quot;,
		type = &quot;primary&quot;,
		attunement = &quot;water&quot;,
		gain = nil,
		cost = {
			a_water = 3,
		},
		afflictions = {
			[&quot;recklessness&quot;] = 2,
			[&quot;dizziness&quot;] = 2,
			[&quot;ignorance&quot;] = 2,
			[&quot;weariness&quot;] = 2,
		},
		option1 = {
			recklessness,
			dizziness,
			ignorance,
			weariness,
		},
	},
	flamebolt = {
		name = &quot;flamebolt&quot;,
		skillset = &quot;pyroglacia&quot;,
		syntax = &quot;cast flamebolt at target&quot;,
		type = &quot;primary&quot;,
		attunement = &quot;fire&quot;,
		gain = nil,
		cost = nil,
		modifier = {
			[&quot;a_fire&quot;] = &quot;+aff&quot;,
		},
		afflictions = {
			[&quot;burning nerves&quot;] = {
				a_fire = 3,
			}, -- 1
		},
	},
	firecircle = {
		name = &quot;firecircle&quot;,
		skillset = &quot;pyroglacia&quot;,
		syntax = &quot;cast firecircle at target&quot;,
		type = &quot;primary&quot;,
		attunement = &quot;fire&quot;,
		gain = nil,
		cost = {
			a_fire = 3,
		},
		modifier = {
			[&quot;firecircle&quot;] = &quot;+dmg&quot;,
		},
	},
	lavablast = {
		name = &quot;lavablast&quot;,
		skillset = &quot;pyroglacia&quot;,
		syntax = &quot;cast lavablast at target&quot;,
		type = &quot;primary&quot;,
		attunement = &quot;fire&quot;,
		gain = nil,
		cost = {
			a_fire = 5,
		},
		modifier = {
			[&quot;firecircle&quot;] = &quot;+dmg&quot;,
		},
	},
	decompose = {
		name = &quot;decompose&quot;,
		skillset = &quot;pyroglacia&quot;,
		syntax = &quot;cast decompose at target&quot;,
		type = &quot;single&quot;,
		attunement = &quot;water&quot;,
		gain = nil,
		cost = {
			a_water = 3,
		},
		modifier = {
			[&quot;physical&quot;] = &quot;+dmg&quot;,
		},
	},
	submersion = {
		name = &quot;submersion&quot;,
		skillset = &quot;pyroglacia&quot;,
		syntax = &quot;cast submersion at target&quot;,
		type = &quot;single&quot;,
		attunement = nil,
		gain = nil,
		cost = nil,
		conditions = {
			&quot;ac off&quot;,
		},
		modifier = {
			[&quot;a_water&quot;] = &quot;+spd&quot;,
		},
	},
	scourge = {
		name = &quot;scourge&quot;,
		skillset = &quot;pyroglacia&quot;,
		syntax = &quot;cast scourge at target&quot;,
		type = &quot;primary&quot;,
		attunement = &quot;fire&quot;,
		gain = nil,
		cost = {
			a_fire = &quot;All&quot;,
		},
		modifier = {
			[&quot;a_fire&quot;] = &quot;+dur&quot;,
		},
	},
}</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>prompt</name>
                            <packageName></packageName>
                            <script>mage.prompt = function()
	local str = &quot;&quot;

	local count,spc,symbol = mage.charges,&quot;&quot;,&quot;X&quot;
	for i=1,count do
		spc = spc..&quot;&lt;dark_goldenrod&gt;&quot;..symbol
	end
	if count &lt; 5 then
		count = 5 - count
		for i=1,count do
			spc = spc..&quot;&lt;dim_grey&gt;&quot;..symbol
		end
	end

	str = str..&quot;&lt;dodger_blue&gt;[&quot;
	str = str..spc
	str = str..&quot;&lt;dodger_blue&gt;]&lt;dim_grey&gt;&quot;

	if has(target,&quot;firecircle&quot;) then
		str = str..&quot; [&lt;red&gt;FC&lt;dim_grey&gt;]&quot;
	else
		str = str..&quot; &lt;dim_grey&gt;[FC]&quot;
	end

	local fire,afire = has(target,&quot;a_fire&quot;),&quot;&quot;
	local fire_c = &quot;&lt;red&gt;&quot;
	local fire_n = &quot;&lt;dim_grey&gt;&quot;

	for i=1,fire do
		afire = afire..fire_c..symbol
	end
	if fire &lt; 5 then
		fire = 5 - fire
		for i=1,fire do
			afire = afire..fire_n..symbol
		end
	end
	str = str..&quot;[Fi: &quot;..afire..fire_n..&quot;] &quot;

	if class == &quot;Mage&quot; then cecho(str) end
end</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>ui_make</name>
                            <packageName></packageName>
                            <script>mage.ui_make = function(ui_side,fsize,offset)
	local offset = offset or 0
	local h = 3

	local width, height = getMainWindowSize()

	local internal_size = 11
	local fwidth,fheight = calcFontSize(internal_size)

	local fsize = fsize or 11
	local f_width,f_height = calcFontSize(fsize)

	if ui_side == &quot;bottom&quot; then
		setBorderBottom(h*fheight+offset*f_height)
	else
		setBorderBottom(h*fheight)
	end

	mage.ui = Geyser.MiniConsole:new({
		name=&quot;mage_ui&quot;,
		x= 0,
		y= 0,
		width= 0, 
		height= 0,
	})
	mage.ui:setFontSize(10)
	mage.ui:setColor(0,0,0,0)

	local x = 0
	if dbp and dbp.allow then
		x = ui.left*width
	end

	if ui_side == &quot;bottom&quot; then
		mage.ui:move(x,height-(h*fheight + offset*f_height))
		mage.ui:resize(width,h*fheight)
	else
		mage.ui:move(x,height-(h*fheight))
		mage.ui:resize(width,h*fheight)
	end
end</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>ui_refresh</name>
                            <packageName></packageName>
                            <script>mage.ui_refresh = function()
	clearWindow(&quot;mage_ui&quot;)
	local str = &quot;&quot;
	local time = os.time()
	local neutral = &quot;&lt;grey&gt;&quot;

	local color = &quot;&lt;goldenrod&gt;&quot;
	if player(target) and has(target,&quot;gutwyrm&quot;) then color = &quot;&lt;medium_aquamarine&gt;&quot; end

	str = str..&quot;T: &quot;..color..target..neutral..&quot;  &quot;

	-- first part
	-------------
	if player(target) then
		local calcify = has(target,&quot;calcify&quot;)
		local calcify_time = has(target,&quot;calcify_time&quot;)
		local calcify_count = has(target,&quot;calcify_count&quot;)
		local calcify_c = &quot;&lt;chartreuse&gt;&quot;

		if calcify then
			str = str..calcify_c..&quot; Calcified &quot;..neutral
			if calcify_time ~= 0 then
				calcify_time = string.format(&quot;%.1f&quot;, (5*calcify_count) - (time - calcify_time))
				calcify_time = string.lpad(calcify_time,4,&quot;0&quot;)
				str = str..calcify_time
			end
		end

		local scourge = has(target,&quot;scourge&quot;)
		local scourge_time = has(target,&quot;scourge_time&quot;)
		local scourge_count = has(target,&quot;scourge_count&quot;)
		local scourge_c = &quot;&lt;orange_red&gt;&quot;
		local scourge_symbol = &quot;|&quot;

		if scourge then
			str = str..scourge_c..&quot; Scourge &quot;..neutral
			if scourge_time ~= 0 then
				scourge_time = string.format(&quot;%.1f&quot;, (5*scourge_count) - (time - scourge_time))
				scourge_time = string.lpad(scourge_time,4,&quot;0&quot;)
				str = str..scourge_time
			end
		end
	end

	-- second part
	-------------
	str = str..&quot;\n&quot;
	local skin, veil = &quot;&lt;red&gt;&quot;, &quot;&lt;red&gt;&quot;

	if mage.defences.stoneskin then skin = &quot;&lt;green&gt;&quot; end
	if mage.defences.windveil then veil = &quot;&lt;green&gt;&quot; end

	local count,spc,symbol = mage.charges,&quot;&quot;,&quot;X&quot;
	for i=1,count do
		spc = spc..&quot;&lt;cyan&gt;&quot;..symbol
	end
	if count &lt; 5 then
		count = 5 - count
		for i=1,count do
			spc = spc..&quot;&lt;red&gt;&quot;..symbol
		end
	end

	str = str..&quot;Ch: &quot;..spc..neutral..&quot; &quot;

	str = str..&quot;[&quot;..skin..&quot;SSK&quot;..neutral..&quot;] &quot;
	str = str..&quot;[&quot;..veil..&quot;WVE&quot;..neutral..&quot;] &quot;

	local parry_c = &quot;&lt;dim_grey&gt;&quot;
	if limb.parry ~= &quot;nothing&quot; then parry_c = &quot;&lt;medium_aquamarine&gt;&quot; end
	str = str..&quot;P: &quot;..parry_c..string.title(limb.parry)..neutral

	str = str..&quot;\n&quot;
	-- third part
	-------------
	if player(target) then

		local fire,afire,symbol = has(target,&quot;a_fire&quot;),&quot;&quot;,&quot;X&quot;
		local fire_c = &quot;&lt;red&gt;&quot;
		local fire_n = &quot;&lt;dim_grey&gt;&quot;
		for i=1,fire do
			afire = afire..fire_c..symbol
		end
		if fire &lt; 5 then
			fire = 5 - fire
			for i=1,fire do
				afire = afire..fire_n..symbol
			end
		end

		str = str..&quot;[Fi: &quot;..afire..neutral..&quot;] &quot;

		local water,awater,symbol = has(target,&quot;a_water&quot;),&quot;&quot;,&quot;X&quot;
		local water_c = &quot;&lt;cyan&gt;&quot;
		local water_n = &quot;&lt;dim_grey&gt;&quot;
		for i=1,water do
			awater = awater..water_c..symbol
		end
		if water &lt; 5 then
			water = 5 - water
			for i=1,water do
				awater = awater..water_n..symbol
			end
		end

		str = str..&quot;[Wa: &quot;..awater..neutral..&quot;] &quot;

		local earth,aearth,symbol = has(target,&quot;a_earth&quot;),&quot;&quot;,&quot;X&quot;
		local earth_c = &quot;&lt;dark_orange&gt;&quot;
		local earth_n = &quot;&lt;dim_grey&gt;&quot;
		for i=1,earth do
			aearth = aearth..earth_c..symbol
		end
		if earth &lt; 5 then
			earth = 5 - earth
			for i=1,earth do
				aearth = aearth..earth_n..symbol
			end
		end

		str = str..&quot;[Ea: &quot;..aearth..neutral..&quot;] &quot;

		local air,aair,symbol = has(target,&quot;a_air&quot;),&quot;&quot;,&quot;X&quot;
		local air_c = &quot;&lt;gold&gt;&quot;
		local air_n = &quot;&lt;dim_grey&gt;&quot;
		for i=1,air do
			aair = aair..air_c..symbol
		end
		if air &lt; 5 then
			air = 5 - air
			for i=1,air do
				aair = aair..air_n..symbol
			end
		end

		str = str..&quot;[Ai: &quot;..aair..neutral..&quot;] &quot;
	end

	local limb_c = &quot;&lt;dim_grey&gt;&quot;
	if limb.target ~= &quot;nothing&quot; then limb_c = &quot;&lt;medium_aquamarine&gt;&quot; end
	str = str..&quot;T: &quot;..limb_c..string.title(limb.target)

	cecho(&quot;mage_ui&quot;,str)
end</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>timer</name>
                            <packageName></packageName>
                            <script>mage.timer = function()
	if class == &quot;Mage&quot; then
		local time = os.time()

		if player(target) then

			local calcify = has(target,&quot;calcify&quot;)
			local calcify_time = has(target,&quot;calcify_time&quot;)
			local calcify_count = has(target,&quot;calcify_count&quot;)
			local calcify_c = &quot;&lt;chartreuse&gt;&quot;

			if calcify and calcify_time ~= 0 then
				calcify_count = (5*calcify_count) - (time - calcify_time)
				if calcify_count &lt;= 0 then
					set(target,&quot;calcify&quot;,false)
					set(target,&quot;calcify_time&quot;,0)
					set(target,&quot;calcify_count&quot;,0)
					cecho(&quot;\n&quot;..calcify_c..&quot;Resetting Calcify.&quot;)
				end
			end

			local scourge = has(target,&quot;scourge&quot;)
			local scourge_time = has(target,&quot;scourge_time&quot;)
			local scourge_count = has(target,&quot;scourge_count&quot;)
			local scourge_c = &quot;&lt;chartreuse&gt;&quot;

			if scourge and scourge_time ~= 0 then
				scourge_count = (5*scourge_count) - (time - scourge_time)
				if scourge_count &lt;= 0 then
					set(target,&quot;scourge&quot;,false)
					set(target,&quot;scourge_time&quot;,0)
					set(target,&quot;scourge_count&quot;,0)
					cecho(&quot;\n&quot;..scourge_c..&quot;Resetting Scourge.&quot;)
				end
			end
		end

		mage.ui_refresh()
	end
end</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>choose_spell</name>
                            <packageName></packageName>
                            <script>mage.choose_spell = function(name,list,tlist,clist)
	if not player(name) and type(name) == &quot;table&quot; then
		if tlist then clist = tlist end
		if list then tlist = list end
		list = name
		name = me
	end

	_hload(name)

	local primary,secondary,crystal = &quot;&quot;,&quot;&quot;,&quot;&quot;
	local list = list or mage.spellq_primary
	local tlist = tlist or mage.spellq_secondary

	for i=1, #list do
		if not _G[list[i]] then
			primary = list[i]
			break
		end
	end
	for i=1, #tlist do
		if not _G[tlist[i]] then
			secondary = tlist[i]
			break
		end
	end

	primary = lookup(primary,mage.spellbook_primary)
	secondary = lookup(secondary,mage.spellbook_secondary)

	local charges = mage.charges
	local count = dbax.count(name)

	if charges &gt;= 1 then
		if charges &gt;=1 and hp &lt; 200 then
			crystal = &quot;infuse&quot;
		elseif mp &lt; 240 then
			crystal = &quot;mirroring&quot;
		elseif hp &lt; 200 then 								
			crystal = &quot;etherpunch&quot;
		elseif not has(name,&quot;numbness&quot;) then 					
			crystal = &quot;shock&quot;
		elseif has(name,&quot;a_water&quot;) &lt; 3 then
			crystal = &quot;waterwreathe&quot;
		elseif not has(name,&quot;masochism&quot;) then					
			crystal = &quot;masochism&quot;
		elseif count &gt; 4 and not has(name,&quot;anorexia&quot;) then
			crystal = &quot;anorexia&quot;
		elseif not has(name,&quot;hallucinations&quot;) then 			
			crystal = &quot;hallucinations&quot;
		elseif not has(name,&quot;anorexia&quot;) then
			crystal = &quot;anorexia&quot;
		elseif not has(name,&quot;loneliness&quot;) then
			crystal = &quot;loneliness&quot;
		elseif not has(name,&quot;paranoia&quot;) then
			crystal = &quot;paranoia&quot;
		elseif charges &gt;= 2 and has(name,&quot;a_earth&quot;) &lt; 4 then
			crystal = &quot;earthwreathe&quot;
		elseif charges &gt;=2 and has(name,&quot;sunallergy&quot;) and has(name,&quot;a_fire&quot;) &lt; 3 then 
			crystal = &quot;firewreathe&quot;
		elseif charges &gt;= 2 and count &lt; 3 then
			crystal = &quot;quickcast&quot;
		else
			crystal = &quot;quickcast&quot;
		end
	end

	if count &gt; 7 and has(name,&quot;paralysis&quot;) then
		secondary = &quot; toxicsplash &quot;
	end

	if not has(name,&quot;asthma&quot;) and count &gt; 4 and has(name,&quot;anorexia&quot;) then
		if not has(name,&quot;ablaze&quot;) then		
			primary = &quot; ignite &quot;
		end
		secondary = &quot; ignite &quot;
	end

	return primary,secondary,crystal
end</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>mage.fry</name>
                            <packageName></packageName>
                            <script>mage.fry = function(name)
	local str = &quot;&quot;

	local primary,secondary,crystal = mage.choose_spell(name)
	primary = &quot; &quot;..primary
	secondary = &quot; &quot;..secondary
	crystal = &quot; &quot;..crystal

	str = str..&quot;cast&quot;..crystal..primary..secondary..&quot; at &quot;..name..sp
	send(str)
end</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>mage.fireball</name>
                            <packageName></packageName>
                            <script>mage.fireball = function(name)
	local str, primary, secondary, crystal = &quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;
	local charges = mage.charges
	local fire = has(name,&quot;a_fire&quot;)
	local fc = has(name,&quot;firecircle&quot;)
	
	if not fc and fire &lt;= 3 then
		crystal = &quot; firewreathe &quot;
		secondary = &quot; heat &quot;
		if not has(name,&quot;butisol&quot;) then
			primary = &quot; dehydrate &quot;
		else
			primary = &quot; bloodboil &quot;
		end
	elseif not fc and fire &gt;= 4 then
		primary = &quot; firecircle &quot;
		if fire &gt;= 5 and charges &gt;= 1 then
			crystal = &quot; penetration &quot;
		else
			crystal = &quot; firewreathe &quot;
		end
		if fire &lt; 5 and charges &lt; 1 then 
			secondary = &quot; heat &quot;			
		elseif fire == 3 then
			secondary = &quot; heat &quot;
		else
			secondary = &quot; batter &quot;
		end
	else	
		if fc and fire &gt;= 5  then
			cecho(&quot;&lt;red&gt;*** C O N S I D E R   L A V A B L A S T (syntax: lb) ***&quot;)
		end
		crystal = &quot; penetration &quot;
		primary = &quot; bloodboil &quot;
		secondary = &quot; batter &quot; display(fire)
		if fire &lt; 4 then secondary = &quot; heat &quot; end
		if fire &lt; 5 then crystal = &quot; firewreathe &quot; end
		
		-- 
	end
	
	str = str..&quot;cast &quot;..crystal..primary..secondary..&quot; at &quot;..name..sp	
	send(str)
end</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>mage.bury</name>
                            <packageName></packageName>
                            <script>mage.bury = function(name)
	local str = &quot;&quot;

	local primary,secondary,crystal = &quot;&quot;,&quot;&quot;,&quot;&quot;
	local earth = has(name,&quot;a_earth&quot;)

	if not has(name,&quot;stupidity&quot;) then
		primary = &quot; knockout &quot;
	elseif not has(name,&quot;clumsiness&quot;) then
		primary = &quot; sidesmash &quot;
	end
	if earth &lt; 3 then
		crystal = &quot; earthwreathe &quot;
	else	
		crystal = &quot; penetration &quot;
	end
	if earth &lt; 5 then
		secondary = &quot; tremors &quot;
	elseif primary ~= &quot; knockout &quot; then
		secondary = &quot; knockout &quot;
	else
		secondary = &quot; batter &quot;
	end

	str = str..&quot;cast &quot;..crystal..primary..secondary..&quot; at &quot;..name..sp
	send(str)
end</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>mage.control</name>
                            <packageName></packageName>
                            <script>mage.control = function(name)
	
end</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>mage.ice</name>
                            <packageName></packageName>
                            <script>mage.ice = function(name)
	local list = {}
	local tlist = {}
	local clist = {}

	local primary,secondary,crystal = mage.choose_spell(name)
	primary = &quot; &quot;..primary
	secondary = &quot; &quot;..secondary
	crystal = &quot; &quot;..crystal

	local str = &quot;&quot;

	local ice = has(name,&quot;icicles&quot;)
	local water = has(name,&quot;a_water&quot;)
	local charges = mage.charges
	local count = dbp.count(name)

	if not ice then
		if count &gt; 3 then
			if water &gt;= 5 then
				str = str..&quot;cast icicles at target dizziness&quot;..sp
			elseif water &gt;= 4 and charges &gt;= 1 then
				str = str..&quot;cast icewreathe &quot;..primary..secondary..&quot; at target&quot;..sp
			elseif water &gt;= 4 then
				str = str..&quot;cast &quot;..crystal..primary..&quot; spray at target&quot;..sp
			else
				str = str..&quot;cast icewreathe &quot;..primary..&quot; spray at target&quot;..sp
			end
		else
			if water &lt;= 3 and charges &gt;= 1 and count &lt; 2 then
				str = str..&quot;cast quickcast dehydrate spray at target&quot;..sp
			elseif water &lt;= 3 and charges &gt;= 1 then
				str = str..&quot;cast icewreathe dehydrate spray at target&quot;..sp
			else
				str = str..&quot;cast&quot;..crystal..primary..secondary..&quot; at target&quot;..sp
			end
		end
	else
		str = str..&quot;cast&quot;..crystal..primary..secondary..&quot; at target&quot;..sp
	end

	str = str:gsub(&quot;target&quot;,name)
	send(str)
end</script>
                            <eventHandlerList/>
                        </Script>
                    </ScriptGroup>
                    <ScriptGroup isActive="yes" isFolder="yes">
                        <name>renegade</name>
                        <packageName></packageName>
                        <script>renegade = renegade or {}</script>
                        <eventHandlerList/>
                        <Script isActive="yes" isFolder="no">
                            <name>[d]</name>
                            <packageName></packageName>
                            <script>renegade.defences = renegade.defences or {}</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>prompt</name>
                            <packageName></packageName>
                            <script>renegade.prompt = function(len) 
	local str,neutral = &quot;&quot;,&quot;&lt;dim_grey&gt;&quot;
	local a,m = &quot;&lt;grey&gt;&quot;,&quot;&lt;grey&gt;&quot;
	local n = 50
	n = n - len

	str = string.lpad(str,n,&quot; &quot;)

	if player(target) then
		local count = dbp.count(target)

		str = str..neutral..&quot;[A: &quot;..a..count..neutral..&quot;]&quot;

	end

	if class == &quot;Renegade&quot; then cecho(str) end
end</script>
                            <eventHandlerList/>
                        </Script>
                    </ScriptGroup>
                    <ScriptGroup isActive="yes" isFolder="yes">
                        <name>runeguard</name>
                        <packageName></packageName>
                        <script>runeguard = runeguard or {}</script>
                        <eventHandlerList/>
                        <Script isActive="yes" isFolder="no">
                            <name>[d]</name>
                            <packageName></packageName>
                            <script>runeguard.defences = runeguard.defences or {}</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>prompt</name>
                            <packageName></packageName>
                            <script>runeguard.prompt = function(len) 
	local str,neutral = &quot;&quot;,&quot;&lt;dim_grey&gt;&quot;
	local a,m = &quot;&lt;grey&gt;&quot;,&quot;&lt;grey&gt;&quot;
	local n = 50
	n = n - len

	str = string.lpad(str,n,&quot; &quot;)

	if player(target) then
		local count = dbp.count(target)

		str = str..neutral..&quot;[A: &quot;..a..count..neutral..&quot;]&quot;

	end

	if class == &quot;Runeguard&quot; then cecho(str) end
end</script>
                            <eventHandlerList/>
                        </Script>
                    </ScriptGroup>
                </ScriptGroup>
            </ScriptGroup>
            <ScriptGroup isActive="yes" isFolder="yes">
                <name>Accessory</name>
                <packageName></packageName>
                <script></script>
                <eventHandlerList/>
                <Script isActive="yes" isFolder="no">
                    <name>screendump</name>
                    <packageName></packageName>
                    <script>function logScreen(logdir, logfile)
if logfile == nil then
        cecho(&quot;\n&lt;red&gt;Error:&lt;white&gt; You must specify a logname!&quot;)
        return false
end

if string.char(getMudletHomeDir():byte()) == &quot;/&quot; then _sep = &quot;/&quot; else  _sep = &quot;\\&quot; end
local logdir = logdir .. _sep .. logfile .. &quot;.html&quot;
local file_output = io.open(logdir, &quot;w&quot;)
local fo = {}
local line_count = getLineCount()
local cur_buffer = getLines(1, line_count-1)
local curcolor = &quot;&quot;
local index = 0
local r,g,b = 0,0,0
local cr,cg,cb -- last colors
local tc = 1 -- table count
local perf = createStopWatch()
startStopWatch(perf)

local conversions = {
	[&quot;¦&quot;] = &quot;&amp;brvbar;&quot;,
	[&quot;×&quot;] = &quot;&amp;times;&quot;,
	[&quot;«&quot;] = &quot;&amp;#171;&quot;,
	[&quot;»&quot;] = &quot;&amp;raquo;&quot;
}

fo[tc] = [[  &lt;!DOCTYPE HTML PUBLIC &quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot;
&quot;http://www.w3.org/TR/html4/loose.dtd&quot;&gt;
      &lt;html&gt;
                &lt;head&gt;
                        &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html;charset=utf-8&quot; &gt;
                        &lt;link href='http://fonts.googleapis.com/css?family=Droid+Sans+Mono' rel='stylesheet' type='text/css'&gt;
&lt;style type=&quot;text/css&quot;&gt;
body {
  background-color: black;
  font-family: 'Droid Sans Mono';
  white-space: pre; 
  font-size: 12px;
}
&lt;/style&gt;
                &lt;/head&gt;
                &lt;body&gt;&lt;span&gt;]]
tc = tc + 1

for line_num,cur_line in ipairs(cur_buffer) do
  index = 0
 	fo[tc] = string.format([[&lt;span style=&quot;color: rgb(192,192,192);&quot;&gt;%s&lt;/span&gt;]], getTimestamp(line_num))
    tc = tc +1
  while index &lt; #cur_line do
    index = index + 1
    moveCursor(&quot;main&quot;, index, line_num)
    selectString(cur_line:sub(index), 1)
    r,g,b = getFgColor()
    if cr ~= r or cg ~= g or cb ~= b then
      cr,cg,cb = r,g,b
      fo[tc] = string.format(&quot;&lt;/span&gt;&lt;span style=\'color: rgb(%d,%d,%d);'&gt;%s&quot;, r,g,b, cur_line:sub(index, index))
      tc = tc +1
    else
      fo[tc] = cur_line:sub(index, index)
      tc = tc +1
    end
    cur_line:sub(index, index)
  end
  fo[tc] = &quot;&lt;br/&gt;&quot;
  tc = tc +1
end

fo[#fo+1] = &quot;&lt;/span&gt;&lt;/body&gt;&lt;/html&gt;&quot;
local s = table.concat(fo)

for from, to in pairs(conversions) do
	s = string.gsub(s, from, to)
end

file_output:write(s)
file_output:close()

-- this can use quite a bit of memory on a large buffer, so free it up right away
collectgarbage(&quot;collect&quot;)
cecho(&quot;\n&lt;cyan&gt;Current buffer saved to: &lt;white&gt;&quot; .. logdir .. &quot;&lt;cyan&gt;, took &lt;white&gt;&quot; .. stopStopWatch(perf) .. &quot;ms&lt;cyan&gt;.&quot;)
end</script>
                    <eventHandlerList/>
                </Script>
                <Script isActive="yes" isFolder="no">
                    <name>mecho</name>
                    <packageName></packageName>
                    <script>mecho = function(str)
	local prefix = sysfix or &quot;&quot; 

	str = prefix..str 
	cecho(str)
end</script>
                    <eventHandlerList/>
                </Script>
                <Script isActive="yes" isFolder="no">
                    <name>idle</name>
                    <packageName></packageName>
                    <script>idle = idle or {}
idle.on = idle.on or false
idle.timer = idle.timer or 0
idle.fire = idle.fire or 0

idle.g = function()
	local path = getMudletHomeDir()..&quot;/idle.txt&quot;
	if io.exists(path) then
		cecho(sysfix..path..&quot; loaded.&quot;)

		local tablen = {}
		local file = assert(io.open(path, &quot;r&quot;))
		local line = file:read(&quot;*all&quot;)	 
		local tabler = {}
		local divider, divider2 = &quot;&lt;&gt;&quot;, &quot;&gt;&gt;&quot;

		tablen = string.split(line,divider)

		for k, v in pairs(tablen) do
			if v == &quot;&quot; then
				table.remove( tablen, k )
			end
		end

		for i=1, #tablen do tablen[i] = string.split( tablen[i], divider2 ) end

		for i=1, #tablen do
			local key = string.trim( tablen[i][1] )  
			local tablet = tablen[i]
			table.remove( tablet, 1 )
			for k, v in pairs( tablet ) do
				k = string.trim( v )
			end
			tabler[key] = tablet
		end

		-- recycle tablen
		tablen = {}

		local valid_keys = {}

		-- insert rules and keys here
		table.insert( valid_keys, &quot;General&quot; )
		-- table.insert( valid_keys, &quot;Cassandra&quot; )
		-- table.insert( valid_keys, eden.game_month )
		if gmcp.Room.Info.area == &quot;the Khandava Council&quot; then table.insert( valid_keys, &quot;Khandava&quot; ) end
		if gmcp.Room.Info.area == &quot;the City of Stavenn&quot; then table.insert( valid_keys, &quot;Stavenn&quot; ) end
		--if gmcp.Room.Info.environment == &quot;Urban&quot; then table.insert( valid_keys, &quot;Urban&quot; ) end
	
		local month = os.date(&quot;*t&quot;)
		local calendar = { &quot;January&quot;, &quot;February&quot;, &quot;March&quot;, &quot;April&quot;, &quot;May&quot;, &quot;June&quot;, &quot;July&quot;, &quot;August&quot;, &quot;September&quot;, &quot;October&quot;, &quot;November&quot;, &quot;December&quot; }
		month = calendar[month[&quot;month&quot;]]
		table.insert( valid_keys, month )

		-- generate the appropriate table
		for k, v in pairs( valid_keys ) do 
			if tabler[v] ~= nil then 
				for i, j in pairs( tabler[v] ) do 
					table.insert( tablen, j )
				end
			end
		end

		file:close()

		return tablen
	end
end

idle.r = function(tablen)
	if idle.on then
		local num = math.random( 1, #tablen )
		local arg = tablen[num]
		local n = math.random( 280, 740 )

		if idle.timer then killTimer(idle.timer) end
		idle.timer = tempTimer( n, function() idle.r(idle.g()) end )
		send(&quot;emote &quot;..arg)
	end
end

idle.n = function()
	if not idle.on then
		cecho(sysfix..&quot;&lt;medium_aquamarine&gt;Idle is ON&lt;grey&gt;.&quot;)
		idle.on = true
		idle.fire = os.time()
		idle.r( idle.g() )
	else
		cecho(sysfix..&quot;&lt;red&gt;Idle is OFF&lt;grey&gt;&quot;)
		idle.on = false
		idle.fire = 0
		killTimer(idle.timer)
	end
end</script>
                    <eventHandlerList/>
                </Script>
                <Script isActive="yes" isFolder="no">
                    <name>obelisks</name>
                    <packageName></packageName>
                    <script>obelisks = obelisks or {}
obelisks.A = &quot;Septus&quot;
obelisks.M = &quot;Eldreth&quot;
obelisks.D = &quot;Ahkan&quot;
obelisks.list = {
	{&quot;Obelisk&quot;,&quot;Nature&quot;,obelisks.D,12121,&quot;Lithi&quot;},
	{&quot;Obelisk&quot;,&quot;True Sight&quot;,obelisks.A,17764,&quot;Argain&quot;,17328,&quot;6:20 GMT&quot;},
	{&quot;Obelisk&quot;,&quot;Efficiency&quot;,obelisks.D,11292,&quot;Auonab&quot;},
	{&quot;Obelisk&quot;,&quot;Aryana&quot;,obelisks.M,12205,&quot;Koakoa&quot;},
	{&quot;Obelisk&quot;,&quot;Moradeim&quot;,obelisks.M,19820,&quot;Kilathu&quot;},
	{&quot;Obelisk&quot;,&quot;Sukhder&quot;,obelisks.M,19310,&quot;Bodah&quot;},

	{&quot;Outpost&quot;,&quot;Fury of Aetos&quot;,obelisks.A,17238,&quot;Lysha&quot;},
	{&quot;Outpost&quot;,&quot;Ultrisaurix&quot;,obelisks.A,20791,&quot;Takum&quot;},
	{&quot;Outpost&quot;,&quot;Dominultrix&quot;,obelisks.A,20797,&quot;Takum&quot;},
	{&quot;Outpost&quot;,&quot;GreatOwl&quot;,obelisks.M,19884,&quot;Kaulathu&quot;},
	{&quot;Outpost&quot;,&quot;Ultrelestine&quot;,obelisks.A,19879,&quot;Kaulathu&quot;},
	{&quot;Outpost&quot;,&quot;Claymore Claimed&quot;,obelisks.A,19843,&quot;Kilathu&quot;},
	{&quot;Outpost&quot;,&quot;Sukhder 1&quot;,obelisks.A,19294,&quot;Bodah&quot;},
}

obelisks.time = obelisks.time or &quot;&quot;
-- obelisks.time = os.date()

obelisks.report = function()
	local str = &quot;&quot;

	str = str..&quot;rt [O.B.E.L.I.S.K.S] Last valid: &quot;..obelisks.time..sp
	str = str..&quot;rt =================================================&quot;..sp
	
	for i=1, #obelisks.list do
		local t = obelisks.list[i]

		if t[1] == &quot;Obelisk&quot; then
			
			str = str..&quot;rt &quot;..string.lpad(t[2],11,&quot;-&quot;)..&quot; : &quot;..t[5]..&quot; (&quot;..t[4]..&quot;) : &quot;..t[3]
			if t[6] then
				for i=6,#t,2 do
					if t[i] then
						str = str..&quot; : Defended by #&quot;..t[i]..&quot; at &quot;..t[i+1]
					end
				end
			end
			str = str..sp

		elseif t[1] == &quot;Outpost&quot; then

			str = str..&quot;rt Outposts: &quot;..string.lpad(t[3],11,&quot;-&quot;)..&quot; : &quot;..t[5]..&quot; (&quot;..t[4]..&quot;)&quot;..sp

		end
	end

	send(str)
end</script>
                    <eventHandlerList/>
                </Script>
                <Script isActive="yes" isFolder="no">
                    <name>toxit</name>
                    <packageName></packageName>
                    <script>toxit = toxit or {}

toxit.current = toxit.current or &quot;&quot;
toxit.vbelt = toxit.vbelt or &quot;&quot;
toxit.clist = toxit.clist or {}
toxit.list = {
	&quot;ciguatoxin&quot;,
	&quot;hemotoxin&quot;,
	&quot;metrazol&quot;,
	&quot;mercury&quot;,
	&quot;bromine&quot;,
	&quot;iodine&quot;,
	&quot;butisol&quot;,
	&quot;ether&quot;,
	&quot;xeroderma&quot;,
	&quot;opium&quot;,
	&quot;aconite&quot;,
	&quot;strychnine&quot;,
	&quot;benzene&quot;,
	&quot;benzedrine&quot;,
	&quot;botulinum&quot;,
	&quot;atropine&quot;,
	&quot;mazanor&quot;,
	&quot;noctec&quot;,
	&quot;mebaral&quot;,
	&quot;arsenic&quot;,
	&quot;cyanide&quot;,
	&quot;calotropis&quot;,
	&quot;luminal&quot;,
	&quot;digitalis&quot;,
	&quot;aspartame&quot;,
	&quot;lindane&quot;,
	&quot;chloroform&quot;,
	&quot;ketamine&quot;,
	&quot;avidya&quot;,
	&quot;veratrum&quot;,
	&quot;oxalis&quot;,
	&quot;vitriol&quot;,
	&quot;psilocybin&quot;,
	&quot;formaldehyde&quot;,
}

toxit.make = function(vialbelt)
	toxit.vbelt = vialbelt
	-- first if the working list is unpopulated, populate it
	if next(toxit.clist) == nil then
		toxit.clist = ecopy(toxit.list)
	end
	-- next grab the top of working list
	toxit.current = toxit.clist[1]
	table.remove(toxit.clist,1)
	send(&quot;queue eqbal preserve toxin &quot;..toxit.current..&quot; in &quot;..toxit.vbelt)
end</script>
                    <eventHandlerList/>
                </Script>
                <ScriptGroup isActive="yes" isFolder="yes">
                    <name>bash [d]</name>
                    <packageName></packageName>
                    <script>bash = bash or {}

bash.sp = &quot;|&quot;
bash.allow_shard = true
bash.allow_shield = true
bash.allow_health = 0.40

bash.on = bash.on or false
bash.moving = bash.moving or false
bash.diag = bash.diag or false
bash.shard = bash.shard or false
bash.shard_t = bash.shard_t or 0
bash.shield_up = bash.shield_up or false
bash.shield_have = bash.shield_have or true

bash.lockm = bash.lockm or false
bash.lockm_timer = bash.lockm_timer or 0
bash.locka = bash.locka or false
bash.locka_timer = bash.locka_timer or 0

bash.area = bash.area or &quot;&quot;
bash.targets = bash.targets or {}
bash.room = bash.room or 0
bash.t = bash.t or {}
bash.room_contents = bash.room_contents or {}
-- bash.target = bash.target or &quot;&quot;

bash.areas = {
	{&quot;tresleins&quot;,false},
	{&quot;erorag&quot;,false},
	{&quot;nagiri&quot;,false},
	{&quot;menanon&quot;,false},
	--  {&quot;scourge&quot;,false},

	-- {&quot;aldrym&quot;,false},
	{&quot;riksha&quot;,false},
	{&quot;hollow&quot;,false},
	{&quot;mavitt&quot;,false},
	{&quot;mercenary&quot;,false},
	{&quot;eorgahl&quot;,false},
	{&quot;dregs&quot;,false},
	{&quot;festeringbog&quot;,false},
	{&quot;demonstone&quot;,false},
	-- {&quot;khous&quot;,false},
}

bash.here_r = bash.here_r or 0
bash.here = bash.here or false</script>
                    <eventHandlerList/>
                    <Script isActive="yes" isFolder="no">
                        <name>bash functions</name>
                        <packageName></packageName>
                        <script>bash.turn_on = function()
	bash.on = true
	-- manage your lockouts
	bash.lockm = false
	bash.lockm_timer = 0
	bash.locka = false
	bash.locka_timer = 0
	-- get next area
	bash.area, bash.targets = bash.next_area()
	bash.room = bash.next_room()
	cecho(&quot;\n&lt;green&gt;Bashing ON&quot;)
end

bash.turn_off = function()
	bash.on = false
	-- manage your lockouts
	bash.lockm = false
	bash.lockm_timer = 0
	bash.locka = false
	bash.locka_timer = 0
	-- get next area
	bash.area = &quot;&quot;
	bash.targets = {}
	bash.room = 0
	cecho(&quot;\n&lt;red&gt;Bashing OFF&quot;)
end

bash.reset = function()
	-- clear the bashing memory
	bash.t = {}
	for i=1, #bash.areas do
		bash.areas[i][2] = false
	end
	-- manage your lockouts
	bash.lockm = false
	bash.lockm_timer = 0
	bash.locka = false
	bash.locka_timer = 0
	cecho(&quot;\n&lt;hot_pink&gt;Bashing Areas RESET&quot;)
end

bash.next_area = function()
	local area = &quot;&quot;

	for i=1, #bash.areas do
		local t = bash.areas[i]
		local area, value = t[1], t[2]

		if not t[2] then

			return area, bash[area..&quot;_targets&quot;]
		end
		if i == #bash.areas then
			-- cease operations, or cycle to the top
			bash.reset()
			return bash.areas[1][1],bash[bash.areas[1][1]..&quot;_targets&quot;]
		end
	end
end

bash.next_room = function()
	local room = &quot;&quot;

	for i=1, #bash[bash.area] do 
		local r = bash[bash.area][i]

		if not table.contains( bash.t, r ) then
			return r
		end
	end
end

bash.skip = function()
	bash.t = {}
	bash.area, bash.targets = bash.next_area()
	bash.room = bash.next_room()
end
</script>
                        <eventHandlerList/>
                    </Script>
                    <Script isActive="yes" isFolder="no">
                        <name>timer</name>
                        <packageName></packageName>
                        <script>bash.timer = function()

	if bash.on then 
		if not bash.room then 
			bash.t = {}
			bash.area, bash.targets = bash.next_area()
			bash.room = bash.next_room() 
		end
		local str = &quot;&quot;
		if bash.moving then -- do nothing
		elseif bash.eq == 1 and bash.bal == 1 then
			-- check for a target first,
			local target, shard = &quot;&quot;, false
			if #bash.room_contents &gt; 0 then 
				for i=1,#bash.room_contents do
					if bash.room_contents[i].name == &quot;a partially buried blue shard&quot; then
						shard = true
					elseif bash.room_contents[i].name == &quot;a partially buried red shard&quot; then
						shard = true
					end
				end
				for k,v in pairs(bash.targets) do
					for i=1,#bash.room_contents do
						if bash.room_contents[i].name == k then
							target = v
							break
						end
					end
				end
			end
			-- save yourself
			if bash.hp/bash.mhp &lt; bash.allow_health and bash.allow_shield and not bash.locka and bash.shield_have then
				str = str..&quot;touch shield&quot;..bash.sp
				bash.locka = true
				bash.locka_timer = os.time()
			-- diagnose hidden affs
			elseif bash.diag and not bash.locka then
				str = str..&quot;queue eqbal diag&quot;..bash.sp
				bash.diag = false
				bash.locka = true
				bash.locka_timer = os.time()
			-- don't hit if someone else is in the room
			elseif not bash.here then
				if gold then str = str..&quot;put gold in &quot;..gold..sp end
				-- if sect ~= &quot;(None)&quot; then str = str..&quot;perform ritual sacrifice&quot;..sp end
				str = str..&quot;path find &quot;..bash.room..bash.sp
				str = str..&quot;path go&quot;..bash.sp
				bash.lockm = true
				bash.lockm_timer = os.time() 
			-- kill targets
			elseif target ~= &quot;&quot; and not bash.locka then
				str = bash.p(target)
				bash.locka = true
				bash.locka_timer = os.time()
			-- harvest a shard if there is one
			elseif shard and bash.allow_shard and not bash.locka then
				if bash.shard then -- do nothing
				else
					str = str..&quot;harvest shard &quot;..bash.sp
					bash.shard = true
					bash.shard_t = os.time()
					bash.locka = true
					bash.locka_timer = os.time()
				end
			-- move
			elseif not bash.lockm and not bash.locka then
				if gold then str = str..&quot;put gold in &quot;..gold..bash.sp end
				if sect ~= &quot;(None)&quot; and (gmcp.Room.Info.area ~= &quot;the Riksha Hills&quot; or gmcp.Room.Info.area ~= &quot;the Mavitt Woods&quot; or gmcp.Room.Info.area ~= &quot;the Blighted Hollow&quot;) then 
					-- str = str..&quot;perform ritual sacrifice&quot;..bash.sp 
				end
				str = str..&quot;path find &quot;..bash.room..bash.sp
				str = str..&quot;path go&quot;..bash.sp 
				bash.lockm = true
				bash.lockm_timer = os.time()
			end 
		end
		if bash.lockm_timer ~= 0 and os.time() - bash.lockm_timer &gt; 0.5 then
			-- cecho(&quot;&lt;red&gt;\nResetting movement lockout&quot;)
			bash.lockm = false
			bash.lockm_timer = 0
		end
		if bash.locka_timer ~= 0 and os.time() - bash.locka_timer &gt; 1.2 then 
			-- cecho(&quot;&lt;red&gt;\nResetting Action lockout&quot;)
			bash.locka = false
			bash.locka_timer = 0
		end
		if #bash.t &gt;= #bash[bash.area] then
			bash.t = {}
			bash.area, bash.targets = bash.next_area()
			bash.room = bash.next_room()
		end
		if bash.shard and os.time() - bash.shard_t &gt; 30 then
			bash.shard = false
			bash.shard_t = 0
		end
		if gmcp.Room.Info.name == &quot;In the chill grip of death&quot; then
		elseif gmcp.Room.Info.name == &quot;Wooden landing upon an expansive river&quot; then
		else
			send(str)
		end
	end
end

</script>
                        <eventHandlerList/>
                    </Script>
                    <Script isActive="yes" isFolder="no">
                        <name>bash.p</name>
                        <packageName></packageName>
                        <script>bash.p = function(name)
	if class then
		local str,target = &quot;&quot;,bash.target
		if name then target = name end
		if class == &quot;Amazon&quot; then			str = &quot;spear stab &quot;..target
		elseif class == &quot;Monk&quot; then			str = &quot;&quot;
		elseif class == &quot;Outrider&quot; then		str = &quot;spear stab &quot;..target
		elseif class == &quot;Predator&quot; then		if predator then str = predator.bash(name) end
		elseif class == &quot;Priest&quot; then			str = &quot;smite &quot;..target
		elseif class == &quot;Ranger&quot; then			str = &quot;qjab &quot;..target
		elseif class == &quot;Templar&quot; then		str = &quot;dsl &quot;..target

		elseif class == &quot;Assassin&quot; then		
			str = &quot;garrote &quot;..target
			-- str = &quot;wield dirk&quot;..bash.sp..&quot;puncture &quot;..target..&quot; with trioxin&quot;
		elseif class == &quot;Deathknight&quot; then	str = &quot;dsl &quot;..target
		elseif class == &quot;Defiler&quot; then		str = &quot;wield flail&quot;..bash.sp..&quot;ravage &quot;..target
		elseif class == &quot;Diabolist&quot; then		str = &quot;deadeyes &quot;..target..&quot; bleed bleed&quot;
		elseif class == &quot;Summoner&quot; then		str = &quot;invoke combustion &quot;..target
		elseif class == &quot;Wytch&quot; then			str = &quot;swiftcurse &quot;..target..&quot; bleed&quot;

		elseif class == &quot;Bard&quot; then			str = &quot;hum shaite &quot;..target..&quot; rubait &quot;..target
		elseif class == &quot;Druid&quot; then			str = &quot;quarterstaff batter &quot;..target
		elseif class == &quot;Hunter&quot; then			str = &quot;wyvern claw &quot;..target
		elseif class == &quot;Mage&quot; then			str = &quot;cast bloodboil batter at &quot;..target
		elseif class == &quot;Renegade&quot; then		str = &quot;wield dirk&quot;..bash.sp..&quot;puncture &quot;..target..&quot; with trioxin&quot;
		elseif class == &quot;Runeguard&quot; then		str = &quot;dsl &quot;..target
		end	
		return str
	end
end</script>
                        <eventHandlerList/>
                    </Script>
                    <Script isActive="yes" isFolder="no">
                        <name>bash.vitals</name>
                        <packageName></packageName>
                        <script>bash.vitals = function()
	if bash.on then
		bash.hp = math.floor(gmcp.Char.Vitals.hp/11)
		bash.mhp = math.floor(gmcp.Char.Vitals.maxhp/11)
		bash.mp = math.floor(gmcp.Char.Vitals.mp/11)
		bash.mxmp = math.floor(gmcp.Char.Vitals.maxmp/11)
		bash.eq = tonumber( gmcp.Char.Vitals.eq )
		bash.bal = tonumber( gmcp.Char.Vitals.bal )
	end
end
</script>
                        <eventHandlerList>
                            <string>gmcp.Char.Vitals</string>
                        </eventHandlerList>
                    </Script>
                    <Script isActive="yes" isFolder="no">
                        <name>bash.arrive</name>
                        <packageName></packageName>
                        <script>bash.arrive = function()
	if bash.on then

		local area = gmcp.Room.Info.area
		local aname = bash[bash.area..&quot;_name&quot;]

		if area == aname then
			for i=1,#bash.areas do
				local t = bash.areas[i]
				local ar, value = t[1], t[2]

				if ar == bash.area and not t[2] then
					bash.areas[i][2] = true
					cecho(&quot;\n&lt;green&gt;Setting area to true&quot;)
					return
				end
			end

			if not bash.moving and not table.contains( bash.t, gmcp.Room.Info.num ) then
				table.insert( bash.t, gmcp.Room.Info.num )
				bash.room = bash.next_room()
			else	if #bash.t &gt;= #bash[bash.area] then
				bash.t = {}
				bash.area, bash.targets = bash.next_area()
				bash.room = bash.next_room()
				end
			end
		end	
	end
end</script>
                        <eventHandlerList>
                            <string>gmcp.Room.Info</string>
                        </eventHandlerList>
                    </Script>
                    <Script isActive="yes" isFolder="no">
                        <name>bash.inroom</name>
                        <packageName></packageName>
                        <script>bash.inroom = function()
	if bash.on then
		bash.room_contents = gmcp.Char.Items.List.items
	end
end</script>
                        <eventHandlerList>
                            <string>gmcp.Char.Items</string>
                        </eventHandlerList>
                    </Script>
                    <Script isActive="yes" isFolder="no">
                        <name>bash.addroom</name>
                        <packageName></packageName>
                        <script>bash.addroom = function()
	if bash.on then
		table.insert( bash.room_contents, gmcp.Char.Items.Add.item )
	end
end</script>
                        <eventHandlerList>
                            <string>gmcp.Char.Items.Add</string>
                        </eventHandlerList>
                    </Script>
                    <ScriptGroup isActive="yes" isFolder="yes">
                        <name>bash areas</name>
                        <packageName></packageName>
                        <script></script>
                        <eventHandlerList/>
                        <Script isActive="yes" isFolder="no">
                            <name>mercenary</name>
                            <packageName></packageName>
                            <script>bash.mercenary_name = &quot;a Mercenary Encampment&quot;
bash.mercenary = {
  9420, -- A thick cluster of Redwoods.
  9421, -- A narrow dirt pathway lined with trees.
  9422, -- Nearing a small clearing.
  9423, -- Outside a large tent.
  9424, -- The center of a small camp.
  9425, -- Within a dark and cluttered tent.
  9426, -- A small sleeping area.
  9427, -- Along a small dirt path.
  9428, -- Surrounded by small green tents.
  9429, -- A flourishing forest near a clearing.
  9430, -- The forests edge.
  9432, -- Within a dark tent.
  9433, -- Inside a well-kept tent.
  9434, -- A leaf-covered path.
  9435, -- A large storage room.
  9436, -- A cluttered chamber.
  9437, -- Surrounded by tall Redwoods.
  9438, -- Below a thick green canopy.
  9439, -- Amongst the copse.
  9440, -- In the shelter of the woods.
  9441, -- An enclosed weapons armoury.
  9442, -- Within a personal chamber.
  9443, -- Before a small stream in the forest.
  9444, -- Along a rock-strewn stream.
  9446, -- Within the chilly waters.
  9447, -- A still pool of water.
  9448, -- A dense and dark section of the forest.
  9449, -- Within the wildwood.
  9450, -- A flourishing grove.
  9451, -- Surrounded by dark chaparel.
  9456, -- In the depths of a large forest.
  9458, -- Under the shelter of an exquisite tree.
  9459, -- Within the shadows of a large tree.
  9460, -- Surrounded by tall Redwoods.
  9461, -- Nearing a small sparring arena.
  9462, -- In the shade of an open tent.
  9463, -- Nearing a smoky campfire.
  9464, -- A casual eating area.
  9465, -- A warm and simple kitchen.
  9466, -- Within the Khandava forest.
  9467, -- Under a thick green canopy.
  9468, -- Deep within the wilds.
  9469, -- Within a small battle ring.
  9470, -- Amongst flourishing plantlife.
  9471, -- Within the cover of a Redwood.
  9472, -- A small patch of trees.
  9473, -- Within the depths of a large redwood forest.
  9474, -- Within the cover of a Redwood.
  9475, -- Surrounded by wildflowers.
  9476, -- Nearing the edge of the forest.
  9477, -- In the shade of a large redwood tree.
  9478, -- A bright clearing.
  9479, -- A small patch of trees.
  9483, -- Surrounded by leafy coppice.
  9484, -- Within the wildwood.
  9485, -- Atop a small hill.
}
bash.mercenary_targets = {
	[&quot;a dark skinned Muamrite female&quot;] = &quot;muamrite&quot;,
	[&quot;a camouflaged Muamrite mercenary&quot;] = &quot;muamrite&quot;,
	[&quot;a rough female mercenary&quot;] = &quot;mercenary&quot;,
	[&quot;a strong Tanari guardsman&quot;] = &quot;tanari&quot;,
	[&quot;a muscular Tanari thug&quot;] = &quot;tanari&quot;,
	[&quot;an aggressive brown bear&quot;] = &quot;bear&quot;,
}</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>eorgahl</name>
                            <packageName></packageName>
                            <script>bash.eorgahl_name = &quot;Eor'gahl Encampment&quot;
bash.eorgahl = {
 10278, -- A misty, tree-lined path.
 10279, -- Entrance to Eor'Gahl Encampment.
 10281, -- Meandering path through the encampment.
 10282, -- A tainted grotto.
 10283, -- Winding path through the clearing.
 10284, -- A grove of petrified trees.
 10285, -- Outside a large tent.
 10286, -- Path on the edge of the clearing.
 10287, -- Inside a large tent.
 10288, -- Sleeping area of a large tent.
 10289, -- Necromantic lab inside a large tent.
 10290, -- Path leading through several tents.
 10291, -- Entrance of a cluttered tent.
 10292, -- A small, portable laboratory.
 10293, -- A fork in the path.
 10294, -- Beginnings of a path to the mountains.
 10296, -- Pathway leading through foothills.
 10297, -- Exterminated trail through the barren foothills.
 10298, -- Path through lifeless foothills.
 10300, -- Rocky path to barren mountains.
 10301, -- Upward path through the barren mountains.
 10302, -- Blackened mountain trail.
 10303, -- Cliff overlooking a lifeless forest.
 10304, -- Path up to a cave in the rockface.
 10305, -- Entering a dark, dank cavern.
 10306, -- Rank, slimy cavern.
 10307, -- Back of a slimy, disgusting cavern.
 10308, -- Rank, slimy cavern.
 10309, -- Cave covered in rotting lichens.
 10310, -- Far side of the encampment.
 10312, -- A small, cluttered tent.
 10315, -- Path between tents and forest.
 10322, -- Edge of a petrified forest.
 10323, -- Disappearing path through petrified forest.
 10331, -- Disappearing path through petrified forest.
 10334, -- Lost in the petrified forest.
 10337, -- Lost in the petrified forest.
 10338, -- Lost in the petrified forest.
 10339, -- Clearing in the center of the forest.
 10340, -- Lost in the petrified forest.
 10341, -- Grove of dripping, decaying trees.
 10343, -- Lost in the petrified forest.
 10348, -- Lost in the petrified forest.
 10349, -- Lost in the petrified forest.
 10352, -- Fork in the path.
}
bash.eorgahl_targets = {
	[&quot;a necromancer&quot;] = &quot;necromancer&quot;,
	[&quot;an undead seagull&quot;] = &quot;seagull&quot;,
	[&quot;an undead wolf&quot;] = &quot;wolf&quot;,
	[&quot;an undead lion&quot;] = &quot;lion&quot;,

}</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>dregs</name>
                            <packageName></packageName>
                            <script>bash.dregs_name = &quot;the Dregs&quot;
bash.dregs = {
 10002, -- A dwindling mountain pass.
 10071, -- Pass between crags.
 10072, -- Above a recess within the crags.
 10073, -- A dark, earthen entrance.
 10074, -- A pitch-black cranny.
 10075, -- An unlit dead-end.
 10076, -- A torch-lit corridor.
 10077, -- A turn in the corridor.
 10078, -- A forked path.
 10079, -- Entering a ring of cages.
 10080, -- Among the cages.
 10081, -- Surrounded by cages.
 10082, -- Amid hanging cages.
 10083, -- Path amidst rubble.
 10084, -- A small midden in the rock.
 10085, -- Above a narrow chasm.
 10086, -- A wide junction.
 10087, -- A ring of cages.
 10088, -- Traversing a ring of cages.
 10089, -- Ring before a corridor.
 10090, -- Watery section of the ring.
 10100, -- A curving tunnel.
 10104, -- Along the winding tunnel.
 10116, -- A wide landing within the cavern.
 10146, -- Ledge atop a chasm.
 10158, -- Along the ledge.
 10168, -- An upper ring of cages.
 10171, -- Northern upper ring.
 10173, -- Eastern end of the upper ring.
 10174, -- Alongside a ring of cages.
 10175, -- Above a descent within the Dregs.
 10176, -- A narrow dead-end.
 10177, -- Bustling cavern floor.
 10178, --: An underground goblin market.
 10179, -- A fletcher's stall.
 10180, -- A goblin smithy.
 10183, -- A goblin haberdashery.
 10188, -- A distasteful butcher stall.
 10199, -- A tanner's stall.
 10201, -- A fruit stand within the Dregs.
 10207, -- Stall of the apothecary.
 10208, -- Atop a makeshift stairwell.
 10227, -- Lower level before a ring.
 10234, -- Lower ring of cages.
 10236, -- Northern lower ring.
 10237, -- Lower ring near a corridor.
 10239, -- Lower ring above a descent.
 10243, -- Along the western corridor.
 10245, -- Corridor before an abrupt drop.
 10246, -- A dark and narrow pit.
 10251, -- Before a small opening in the cavern.
 10252, -- A sheltered cliff outside the Dregs.
 10253, -- A shady orchard near the Dregs.
 10255, -- Nearing a residential district.
 10256, -- A cavernous foyer.
 10257, -- A barracks within the Dregs.
 10260, -- A games room.
 10261, -- A grungy mess hall.
 10271, -- A goblin kitchen.
 10272, -- Weapon room of the Dregs.

 28894, -- The mouth of the hidden cavern.
 28895, -- At a turn in the cavern.
 28896, -- Under a light shaft in the northern trail.
 28897, -- The entrance to the side shaft.
 28898, -- Rounding the side shaft.
 28899, -- a dead-end.
}
bash.dregs_targets = {
	[&quot;a nimble hobgoblin&quot;] = &quot;hobgoblin&quot;,
	[&quot;a hulking cave troll&quot;] = &quot;troll&quot;,
	[&quot;a diminutive cave ogre&quot;] = &quot;ogre&quot;,
	[&quot;a brawny goblin smith&quot;] = &quot;goblin&quot;,
	[&quot;an overgrown packrat&quot;] = &quot;packrat&quot;,
	[&quot;a common goblin&quot;] = &quot;goblin&quot;,
	[&quot;Egan&quot;] = &quot;egan&quot;,
	[&quot;Pembrok the gnome&quot;] = &quot;pembrok&quot;,
	[&quot;Drych&quot;] = &quot;drych&quot;,
	[&quot;Rhisiart&quot;] = &quot;rhisiart&quot;,
}</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>festeringbog</name>
                            <packageName></packageName>
                            <script>bash.festeringbog_name = &quot;the Festering Bog&quot;
bash.festeringbog = {
	9957,
	9960,
	10263,
	10265,
	9999,
	9958,
	10266,
	10960,
	10964,
	11606,
	11987,
	11988,
	11990,
	11991,
	11992,
	11993,
	11994,
	11995,
	11996,
	11997,
	11998,
	12000,
	12001,
	12002,
	12003,
	12004,
	12005,
	12007,
	12008,
	12010,
	12011,
	12012,
	12013,
	12035, 
	12037, 
	12038, 
	12039, 
	12040, 
	12041, 
	12042, 
	12043,
	12015,
	12016,
	12017,
	12370,
	12371,
	12372,
	12373,
	12374,
	12375,
	12376,
	12377,
	12031,
	12030,
	12032,
	12029,
	12028,
	12027,
	12026,
	12025,
	12033,
	12024,
	12023,
}
bash.festeringbog_targets = {			
	[&quot;a bloated mirebeast&quot;] = &quot;beast&quot;,
	[&quot;a snarling mutant bear&quot;] = &quot;beast&quot;,
	[&quot;a twin-headed festering crane&quot;] = &quot;beast&quot;,
	[&quot;a bladefanged crocodile&quot;] = &quot;beast&quot;,
	[&quot;a slime-coated tentacle&quot;] = &quot;beast&quot;,
	[&quot;a towering muskeg wolf&quot;] = &quot;beast&quot;,
	[&quot;a tumor-ridden hound&quot;] = &quot;beast&quot;,
	[&quot;an aberrant mirebeast&quot;] = &quot;beast&quot;,
	[&quot;a mindless guardian&quot;] = &quot;beast&quot;,
	[&quot;a twisted servant&quot;] = &quot;beast&quot;,
	[&quot;a shadowed heartsapper&quot;] = &quot;beast&quot;,
	[&quot;Duresach, a giant mirebeast&quot;] = &quot;beast&quot;,
}</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>demonstone</name>
                            <packageName></packageName>
                            <script>bash.demonstone_name = &quot;the Demon Stone&quot;
bash.demonstone = {
	9033, -- A steep walled canyon
	9034, -- A winding passage of ice	
	9647, -- A clearing before a chasm
	9648, -- Atop a bridge of ice
	9649, -- A bleak clearing
	9650, -- Within a small cave
	9651, -- A winding trail overlooking a forest
	9652, -- A divide in the path
	9653, -- A steep pathway
	9654, -- Within the ebon trees
	9655, -- Leaving an icy trail
	9656, -- Between the ebon trunks
	9657, -- A small animal trail
	9658, -- Before a small cabin
	9659, -- Within a dark forest
	9661, -- A towering dead pine
	9660, -- Deep within the ebon trees
	9663, -- Sparse trees in a field of snow
	9662, -- Sparse trees before a cliff
	10901, -- Within a sturdy cabin
	9664, -- Steep trail between the pines
	9665, -- At the top of a steep rise
	9666, -- 'Before a towering ebon pillar of rock.'
	9667, -- Alongside a twisted black stone
	9669, -- 'A narrow path along a ebon pillar.'
	9671, -- 'A winding path near a dark stone.'
	9672, -- 'Deep in an icy ravine.'
	9673, -- 'Within an icy ravine.'
	9674, -- 'Leaving an icy ravine.'
	9676, -- 'A small copse of black pine.'
	9677, -- 'Before an icy cavern.'
	9679, -- 'A crystalline ice cavern.'
	9681, -- 'A sharp turn within the frigid tunnel.'
	9682, -- 'A twisting tunnel.'
	9684, -- 'Deep within an icy tunnel.'
	9687, -- 'Within a brilliant icy cavern.'
	9688, -- 'A magnificent crystalline cavern.'
	9670, -- 'Among the broken stones.'
	9668, -- 'A steep path near a twisted black stone.'
	9689, -- 'A narrow meandering trail.'
	9690, -- 'Before a great glacier.'
	9691, -- 'A steep glacial path.'
	9692, -- 'Along the rim of a frigid glacier.'
	9696, -- 'A breathtaking glacial expanse.'
	9697, -- 'A trail cut into the glacier.'
	9698, -- 'Descending the glacier.'
	9699, -- 'A path across the snow fields.'
	9700, -- 'Entering the dark forest.'
	9701, -- 'A trail between tall pines.'
	9702, -- 'Along the trail in the black pines.'
	9703, -- 'Deep within the black pines.'
	9704, -- 'Trail to a frozen lake.'
	9705, -- 'Before a small frozen pond.'
	9707, -- 'Crossing a small frozen pond.'
	9708, -- 'On the banks of a frozen lake.'
	9709, -- 'Icy trail between the black pines.'
	9710, -- 'In the shadows of the black pines.'
	9711, -- 'The end of the frozen trail.'
	9712, -- 'A dead end in the pines.'
	9715, -- 'An icy gorge.'
	9716, -- 'Before a great cavern of ice.'
	10836, -- 'Within a crystalline glacial cavern.'
	10838, -- 'A frozen cavernous lair.'
	-- 10841, -- 'A chilly cavernous den.'
}
bash.demonstone_targets = {
	[&quot;a wiry carrion wolf&quot;] = &quot;wolf&quot;,
	[&quot;a vile crow&quot;] = &quot;crow&quot;,
	[&quot;a stone badger&quot;] = &quot;badger&quot;,
	[&quot;a tainted grizzly&quot;] = &quot;bear&quot;,
	[&quot;a blighted frost wolf&quot;] = &quot;wolf&quot;,
	[&quot;Lycrin Demonsbane, Warden of the Frost&quot;] = &quot;Lycrin&quot;,
	[&quot;a blood wisp&quot;] = &quot;wisp&quot;,
	[&quot;a crazed wanderer&quot;] = &quot;wanderer&quot;,
	[&quot;a frost behemoth&quot;] = &quot;behemoth&quot;,
}</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>riksha</name>
                            <packageName></packageName>
                            <script>bash.riksha_name = &quot;the Riksha Hills&quot;
bash.riksha = {
  -- 5031, --  A hillside covered in short grasses.
  -- 5032, --  A sloping hillside.
  -- 5033, --  Below a hill.
  -- 5034, --  A narrow valley.
  -- 5035, --  In a winding valley.
  -- 5036, --  A grassy hillside.
  -- 5037, --  Approaching the hilltop.
  -- 5038, --  A rocky crest.
  -- 5039, --  A rock-covered hilltop.
  -- 5040, --  A stone-covered hilltop.
  -- 5041, --  Descending into short grass.
  -- 5042, --  A grassy slope.
  -- 5043, --  A grassy valley.
  -- 5044, --  In a valley.
  -- 5045, --  A sloping hillside.
  -- 5047, --  A steeply sloping hillside.
  -- 5048, --  A low hilltop.
  -- 5049, --  On a hill.
  -- 5050, --  Amid crossing valleys.
  -- 5051, --  A continuing valley.
  -- 5052, --  In a valley nearing a camp.
  -- 5053, --  In a valley below a hill.
  -- 5054, --  A low hill.
  -- 5055, --  On a low hill.
  -- 5056, --  By a sod house.
  -- 5058, --  Before a beach.
  -- 5059, --  A valley between the hills.
  -- 5060, --  A shrubby hillside.
  -- 5061, --  A wheat-coloured hilltop.
  -- 5062, --  The crest of a high hill.
  -- 5063, --  The peak of a hill.
  -- 5064, --  A high hill.
  -- 5065, --  A hilltop.
  -- 5066, --  At the foot of a hill.
  -- 5067, --  A gently sloping valley.
  -- 5068, --  A descending hillside.
  -- 5069, --  A break between the hills.
  -- 5070, --  A steep descent.
  -- 5071, --  A narrow valley.
  -- 5072, --  An uneven footpath between the hills.
  -- 5074, --  Before a great hill.
  -- 5075, --  Ascending a high hill.
  -- 5076, --  Amidst the grasses.
  -- 5077, --  Atop a great hill.
  -- 5078, --  Overlooking the Brekknit Pass.
  -- 5079, --  Above the Brekknit Pass.
  -- 5080, --  A vista over the Brekknit Pass.
  -- 5081, --  A fork in the valley.
  -- 5082, --  Near a small hill.
  -- 5083, --  A small hill.
  -- 5084, --  In the shadow of a hill.
  -- 5085, --  A grass-covered hill.
  -- 5086, --  A rocky slope.
  -- 5087, --  A stone-covered hillside.
  5093, --  Nearing a settlement.
  5107, --  A wooden gate.
  5108, --  Before a solid stone building.
  5109, --  A dirty foyer.
  5110, --  A grimy office.
  5111, --  Cramped living quarters.
  5112, --  Bunk-lined barracks.
  5113, --  Bunk-lined barracks.
  5114, --  A dim hallway.
  5115, --  In a narrow hallway.
  5116, --  A planning room.
  5117, --  An armoury.
  5118, --  A large dining hall.
  5119, --  A filthy kitchen.
  5120, --  A gravel path.
  5121, --  A gravel path nearing a square.
  5122, --  West of a large fire.
  5123, --  Northwest of a large fire.
  5124, --  Around a large fire.
  5125, --  North of a large fire.
  5126, --  Northeast of a large fire.
  5127, --  East of a large fire.
  5128, --  Southeast of a large fire.
  5129, --  South of a large fire.
  5130, --  Southwest of a large fire.
  5131, --  Inside a small house.
  -- 5209, --  Atop a grassy hill.
  5222, --  A dark closet.
  5223, --  A half-organized office.
  5224, --  A dimly lit bedroom.
  5225, --  Near a broken gate.
  5226, --  Around a small cookfire.
  5228, --  Inside a poorly-constructed hut.
  5230, --  Inside a tiny hut.
  5775, --  Before a group of dwellings.
  5776, --  Between a few dwellings.
  5777, --  Inside a small dwelling.
  5778, --  Inside a wooden dwelling.
  5779, --  Between two dwellings.
  5780, --  A grimy dwelling.
  5781, --  A small, dirty home.
  5782, --  The end of a row of dwellings.
  5783, --  A small dwelling.
  5784, --  Inside a filthy dwelling.
  5785, --  Inside a wooden dwelling.
  5786, --  Before a small house.
  5787, --  Inside a small house.
  5788, --  A break in the fence.
  5789, --  Within a fenced area.
  5790, --  Amid thin grass.
  5860, --  Along a low fence.
  5861, --  Thin grass near a fence.
  5862, --  Amid thin, fenced grass.
  5863, --  Amid thinning grass.
  5864, --  Approaching a small camp.
  5865, --  A grassy path through the camp.
  5866, --  Nearing a cookfire.
  5867, --  A small cookfire.
  5868, --  Inside a hut.
  5869, --  A small, open gate.
  5870, --  Inside a small hut.
  5872, --  An empty yard between the huts.
  5873, --  A dirty hut.
  5874, --  A foul hut.
  5879, --  A grassy trail.
  5880, --  Before a house and a hut.
  5881, --  Inside a grimy hut.
  5882, --  In a dirty entryway.
  5883, --  A dark, grimy bedroom.
  5884, -- A tiny closet.
  5057, --  Inside a sod house.
  5030, -- Amidst low grasses.
}

bash.riksha_targets = {			
	[&quot;a thin goblin&quot;] = &quot;goblin&quot;,
	[&quot;a short, greasy orc&quot;] = &quot;orc&quot;,
	[&quot;a Klakan orc guard&quot;] = &quot;orc&quot;,
	[&quot;a Klakan orc soldier&quot;] = &quot;orc&quot;,
	-- [&quot;Norgash, the Klakan chief&quot;] = &quot;norgash&quot;,
	[&quot;a lithe pronghorn&quot;] = &quot;pronghorn&quot;,
	[&quot;a long-eared jackrabbit&quot;] = &quot;jackrabbit&quot;,
	-- [&quot;a bucktoothed gopher&quot;] = &quot;gopher&quot;,
	[&quot;a fierce bobcat&quot;] = &quot;bobcat&quot;,
}</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>mavitt</name>
                            <packageName></packageName>
                            <script>bash.mavitt_name = &quot;the Mavitt Woods&quot;
bash.mavitt = {
	20264, -- A break in the fern trees.
	20265, -- Amid sparse fern trees.
	20266, -- Firegrass between fern trees.
	20267, -- A fern forest about a gaping crack.
	20268, -- Under a canopy of fern trees and horsetails.
	20269, -- A thick fern forest.
	22444, -- A sulphurous bank in a primordial forest.
	24451, -- Ferns along sulphur banks.
	24452, -- A steep escarpment in a forest.
	24453, -- A crumbling escarpment.
	24454, -- At the base of a sulphur bank.
	24455, -- Black rock in the forest.
	24456, -- Jagged hills.
	24457, -- Jagged hills.
	24458, -- A sloping fern forest.
	24460, -- At the base of a ruddy cliff.
	24461, -- At the base of a reddened cliff.
	24462, -- Fern choked jungle.
	24463, -- Hupu tree and fern forest.
	24464, -- Fern and hupu treed hillside.
	24465, -- Steep hills leading into the Areish.
	24466, -- A crumbling mountain slope.
	24467, -- Neath a banyan tree.
	24468, -- A depression in a forest.
	24469, -- A forested hill.
	24470, -- Neath a mountain cliff.
	24471, -- A fern forest.
	24472, -- Steam vents in a forest.
	24473, -- At the edge of a wide crack.
	24474, -- A hupu and fern forest.
	24475, -- In a dense forest.
	24476, -- A mossy patch of fern forest.
	24477, -- A bed of forested wild orchids.
	24478, -- Amid dense fern trees.
	24479, -- Cracked ground in a fern forest.
	24480, -- A primordial fern forest.
	24481, -- A primordial fern forest.
	24482, -- Cragged forest.
	24483, -- Dense primordial forest.
	24484, -- Dense fern forest.
	24485, -- A steam filled forest.
	24486, -- Steamy jungle.
	24487, -- A boiling mud pit in the jungle.
	24488, -- A sickly green pool.
	24489, -- A steaming lime green pool.
	24490, -- An acidic pool in the jungle.
	24491, -- A thick, lime pool.
	24492, -- A steamy fern forest.
	24493, -- Amidst gaps in the jungle.
	24494, -- Dense, humid jungle.
	24495, -- Thick fern trees.
	24496, -- Primordial forest.
	24497, -- Deadfall in a forest.
	24498, -- Amidst firegrass and ferns.
	24499, -- Thinning forest by an escarpment.
	24500, -- Cracked bedrock in a fern forest.
	24501, -- Thick forest atop an escarpment.
	24502, -- Fern trees along an escarpment.
	24503, -- Corner of a steamy jungle.
	24504, -- An animal path in the jungle.
	24505, -- Tree fern forest.
	24506, -- Primordial forest.
	24507, -- Steamy jungle.
	24508, -- A cracked, steamy forest.
	24509, -- Trampled fern forest.
	24510, -- Trampled forest.
	24511, -- A concealed gryphon's nest.
	24512, -- Forest amidst cracked ground.
	20263, -- In a fern forest.
	24459, -- A camp amidst fern dotted hills.
}

bash.mavitt_targets = {
	[&quot;Mahusala, a regal gryphon&quot;] = &quot;Mahusala&quot;,
	[&quot;a female rimpin&quot;] = &quot;rimpin&quot;,
	[&quot;a masculine rimpin&quot;] = &quot;rimpin&quot;,
	[&quot;a cloud of juvenile rimpin&quot;] = &quot;rimpin&quot;,
}</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>khous</name>
                            <packageName></packageName>
                            <script>bash.khous_name = &quot;Khous Village&quot;
bash.khous = {
 28469, -- Surrounded by jagged piles.
 28470, -- Open water.
 28471, -- Open water.
 28472, -- Open water.
 28473, -- Open water.
 28474, -- Surrounded by jagged piles.
 28475, -- Surrounded by urgent waves.
 28476, -- Surrounded by urgent waves.
 28477, -- Murky ocean bottom.
 28478, -- Murky ocean bottom.
 28479, -- Murky ocean bottom.
 28480, -- Surrounded by submerged piles.
 28481, -- Tenebrous ocean bottom.
 28482, -- Tenebrous ocean bottom.
 28483, -- Tenebrous ocean bottom.
 28484, -- Tenebrous ocean bottom.
 28485, -- Surrounded by submerged piles.
 28486, -- Surrounded by submerged piles.
 28487, -- Before a dramatic ocean floor drop-off.
 28488, -- A crack in the reef.
 28489, -- In a vast cave.
 28490, -- Through the dark tunnel.
 28491, -- A sharp turn of the tunnel.
 28492, -- Through the dark tunnel.
 28493, -- In a dark underwater cavern.
 28496, -- Among thick marsh reeds.
 28497, -- Among thick marsh reeds.
 28498, -- Among muck and mire.
 28499, -- Murky meeting of marsh and ocean.
 28500, -- Stagnant marshwater.
 28501, -- Stagnant marshwater.
 28502, -- Before a stretch of scummy water.
 28503, -- Before a stretch of scummy water.
 28506, -- A cluttered mat maker's workshop.
 26400, -- A winding trail down the mountain.
}

bash.khous_targets = {
	-- [&quot;Noes the Shady&quot;] = &quot;noes&quot;,
	-- [&quot;Hectar the Fisher&quot;] = &quot;hectar&quot;,
	[&quot;a sun-browned sidhe woman&quot;] = &quot;woman&quot;,
	[&quot;a dark-haired sidhe girl&quot;] = &quot;girl&quot;,
	[&quot;an undead and rotting stingray&quot;] = &quot;undead&quot;,
	[&quot;a cadaverous sailor&quot;] = &quot;undead&quot;,
	[&quot;an immense undead jellyfish&quot;] = &quot;undead&quot;,
	[&quot;a decomposing sea turtle&quot;] = &quot;undead&quot;,
}</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>hollow</name>
                            <packageName></packageName>
                            <script>bash.hollow_name = &quot;the Blighted Hollow&quot;
bash.hollow = { 
 10658, --  A subterranean passageway.
 10659, --  Before an underground depression.
 10660,  --  Skirting a depression.
 10661,  --  Northwest corner of a depression.
 10662,  --  The edge of a depression.
 10663,  --  An earthen junction.
 10664,  --  Among diseased pathways.
 10665,  --  Near a half-buried tunnel.
 10668,  --  Juxtaposed tunnels.
 10669,  --  Amid a series of tunnels.
 10670,  --  Among earthen tunnels.
 10671,  --  Below an opening.
 10672,  --  A blighted opening in the hollow.
 10673,  --  A hub of earthy paths.
 10674,  --  Amongst burrowed paths.
 10675,  --  A slope amid earthy trails.
 10676,  --  A gradual turn.
 10677,  --  A long, narrow passage.
 10678,  --  A descending tunnel.
 10679,  --  Path amid roots.
 10710,  --  Astride a subterranean root.
 10711,  --  Below a root-lined shaft.
 10713,  --  A large burrow.
 10714,  --  A respite by a tree.
 10716,  --  A passage within roots.
 10717,  --  Bend in a narrow passage.
 10718,  --  Underground passage between boulders.
 10719,  --  A wide cavern.
 10720,  --  Along the cavern wall.
 10722,  --  Cavern wall before an alcove.
 10723,  --  A disquieting alcove.
 10725,  --  Along a narrow tunnel.
 10726,  --  Continuing along the tunnel.
 10728,  --  Along the winding tunnel.
 10729,  --  A cave-in amidst the tunnel.
 10731,  --  Dead-end of a blighted tunnel.
 10732,  --  A desolate hillock.
 10734,  --  Alongside the cavern walls.
 10735,  --  Rock heap amidst the cavern.
 10736,  --  Northern section of a cavern.
 10738,  --  Entering a dark tunnel.
 10739,  --  Within a blighted tunnel.
 10747,  --  A widening westward tunnel.
 10756,  --  Before an inward opening.
 10757,  --  A lair consumed by blight.
 10758,  --  A damp underground corridor.
 10759,   --   Skirting a shallow, blighted pool.
 10760,  --  South of a blighted pool.
 10761,  --  Approaching a blighted pool.
 10762,  --  A winding underground track.
 10763,  --  Along the bending track.
 10764,  --  Within a low-ceilinged tunnel.
 10656,  -- A blighted knoll.
 10765,  --  A level subterranean corridor.
}

bash.hollow_targets = {			
	[&quot;a mutated earwig&quot;] = &quot;earwig&quot;,
	[&quot;a blighted giant weta&quot;] = &quot;weta&quot;,
	[&quot;a malformed millipede&quot;] = &quot;millipede&quot;,
	[&quot;an enormous earthworm&quot;] = &quot;earthworm&quot;,
	[&quot;the gargantuan weta queen&quot;] = &quot;weta&quot;,
	[&quot;the stylite Trelyak&quot;] = &quot;trelyak&quot;,
}</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>aldrym</name>
                            <packageName></packageName>
                            <script>bash.aldrym_name = &quot;Al'drym Woods&quot;
bash.aldrym = {
 22874, --  A fog filled vale of sparse blackthorne trees.
 22875, --   Among a clump of sickly withered maple trees.
 22876, --   A forestal path lined with aging oak trees.
 22877, --   Beneath a pockmarked blackened oak.
 22878, --   A dense cluster of petrified oaks.
 22879, --   Departing from the forest to before an aging willow.
 22880, --   Beneath the petrified hulk of an aging willow.
 22881, --   Descending into a small vale of wilting trees.
 22882, --   A lone maple tree choked with brambles.
 22883, --   Surrounded by the peeling bark of ash trees.
 22884, --   A thinning stand of petrified ash trees.
 22885, --   A vile stream clogged with rotting debris.
 22886, --   A foul smelling brook.
 22887, --   Emerging from within a treacherous patch of petrified thorns.
 22888, --   Lost within a tangled briar of thorns.
 22889, --   Lost within a tangled briar of thorns.
 22890, --   Lost within a tangled briar of thorns.
 22891, --   A tangled maze of petrified brambles.
 22892, --   A towering thicket of hardened elm trees.
 22893, --   Lost within the swirling mists.
 22894, --   A muddy path through leafless elm trees.
 22895, --   A muddy path through leafless elm trees.
 22896, --   A muddy path through leafless elm trees.
 22897, --   A trail lined with ancient oaks.
 22898, --   On a path beside slime dripping oak trees.
 22899, --   Upon a faint trail of mucky footprints.
 22900, --   Within a hole of slime covered muck.
 22901, --   Lost within the swirling mists.
 22902, --   Stuck within a pond of bubbling black mud.
 22903, --   A towering thicket of hardened elm trees.
 22904, --   Lost within the swirling mists.
 22905, --   A muddy path through leafless elm trees.
 22906, --   Beside a wilted pair of entwined oak trees.
 22907, --   A trail lined with ancient oaks.
 22908, --   A fetid pool of swamp sludge.
 22910, --   Entering a small copse of ebony trees.
 22911, --   Within a small copse of ebony trees.
 22912, --   A twisted clump of ebony trees.
 22913, --   A dense and ominous ebony forest.
 22914, --   A small forest of ebony saplings.
 22915, --   Lost amongst a towering ebony forest.
 22916, --   Deep within an ebony copse.
 22917, --   Deep within an ebony copse.
 22918, --   Within an eerie clump of blackthorn trees.
 22919, --   Within an eerie clump of blackthorn trees.
 22920, --   Within an eerie clump of blackthorn trees.
 22921, --   Within an eerie clump of blackthorn trees.
 22922, --   A rushing underground river of disgusting muck.
 22923, --   Upon a muck filled pond.
 22924, --   The deepest part of a grime coated pond.
 22925, --   A slime filled pond beside an exposed and gnarled root.
 22926, --   A gigantic slime covered boulder before a beach of black sand.
 22927, --   A beach of black sand.
 22928, --   Amongst a small pile of pebbles coated in black algae.
 22929, --   Upon a beach of wet black sand.
 22930, --   A rocky black beach of rough stones.
 22931, --   Approaching a hollow blackthorn tree.
 22932, --   Within a dark hollow blackthorn tree.
 22933, --   A makeshift den carved into the hollow of a blackthorn tree.
 22934, --   An ebony forest penetrated with darkness.
 23237, --   Lost within the swirling mists.
 23238, --   Lost within the swirling mists.
 23239, --   Lost within the swirling mists.
 24772, --   Lost within the swirling mists.
 25100, --   Walking within a hollow blackthorn tree.
 25101, --   Standing by a towering petrified oak tree.
 25102, --   Within a thick copse of petrified trees.
 25103, --   In a clump of charred maple trees.
 25104, --   Amongst a forest of petrified trees.
 25105, --   Upon a felled petrified elm.
 25106, --   By a withered ebony tree.
 25107, --   Overlooking an ominously dark petrified forest.
 25108, --   Rounding a sharp bend in a flowing black stream.
 25109, --   Upon the sharp rocks of a shallow running stream.
 25110, --   Approaching a large black boulder covered in mold.
 25111, --   Within a trickling black stream.
 25112, --   Atop a black sand beach littered with molded pebbles.
 25113, --   A fallen petrified tree within a muck-filled stream.
 25114, --   A shallow rocky ditch encapsulating a black stream.
 25115, --   A black sand beach covered in blackthorn briars.
 25116, --   Half buried briars within black silt.
 25117, --   Tangled in a petrified blackthorn briar patch.
 25118, --   Tangled in a petrified blackthorn briar patch.
 25119, --   Tangled in a petrified blackthorn briar patch.
 25120, --   Tangled in a petrified blackthorn briar patch.
 25121, --   Trapped against a wall of blackthorn briars.
 25122, --   Overlooking a muddy black shoreline.
 25123, --   Tangled in a twisted bunch of young ebony trees.
 25124, --   A brief clearing littered with fallen petrified trees.
 25125, --   A large clearing amongst the mist.
 25126, --   Before a curtain of disorienting fog.
 25127, --   Within a forest strangled with an ominously thick fog.
 25128, --   Lost within the swirling mists.
 25129, --   Lost within the swirling mists.
 25130, --   Lost within the swirling mists.
 25131, --   Within a cave brightly bathed in firelight.
 25132, --   Lost within the swirling mists.
 25133, --   Deep within a rushing stream of black muck.
 25134, --   A twisted blackthorn tree atop a muck-filled stream.
 25450, --   Lost within the swirling mists.
 26109, --   A cleared plot of land.
 22873, --   Under a canopy of dense maple leaves.
}

bash.aldrym_targets = {			
	[&quot;a black fern&quot;] = &quot;fern&quot;,
	[&quot;a living thorn&quot;] = &quot;thorn&quot;,
	[&quot;a black mist tendril&quot;] = &quot;mist&quot;,
	[&quot;a black scaled father anaconda&quot;] = &quot;anaconda&quot;,
	[&quot;a blackthorn worm&quot;] = &quot;worm&quot;,
	[&quot;a black hawk&quot;] = &quot;hawk&quot;,
	[&quot; a black squirrel&quot;] = &quot;squirrel&quot;,
	[&quot;a sadistic scorab&quot;] = &quot;scorab&quot;,
	[&quot;a black-haired moose&quot;] = &quot;moose&quot;,
	[&quot;an ethereal mist spider&quot;] = &quot;spider&quot;,
	[&quot;a black scaled mother anaconda&quot;] = &quot;anaconda&quot;,
	[&quot;a black sandworm&quot;] = &quot;sandworm&quot;,
}

</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>erorag</name>
                            <packageName></packageName>
                            <script>bash.erorag_name = &quot;the Ogre Fort, Erorag&quot;
bash.erorag = {
  3833, --   Hardened path leading to a stone gate
  3834, --   A fallen entry gate.
  3835, --   Below a lookout tower.
  3836, --   A small guard checkpoint.
  3837, --   Below a lookout.
  3838, --   Below a lookout.
  3839, --   Northwestern common square of Erorag.
  3840, --   Western common square of Erorag.
  3841, --   Southwest corner of the Erorag common square.
  3842, --   Entry hall to the main tower.
  3843, --   Below a lookout tower.
  3844, --   Edge of the Erorag Common square.
  3845, --   A ruined Erorag village well.
  3846, --   Northern edge of the Erorag common square.
  3848, --   Northeastern edge of the Erorag common square.
  3849, --   Eastern common square before a tower.
  3850, --   Southeastern corner of the common square.
 14356, --   Under the northwest lookout.
 14359, --   Atop the ruins of a watchtower.
 14366, --   Atop the northern wall.
 14367, --   Under the northeast lookout.
 14371, --   Atop the ruins of a watchtower.
 14372, --   Atop the eastern wall.
 14373, --   Under the southeast lookout.
 14374, --   Atop the ruins of a watchtower.
 14375, --   Atop the southern wall.
 14376, --   Under the southwest lookout.
 14377, --   Atop the ruins of a watchtower.
 14378, --   Atop the western wall.
 14386, --   A guardhouse.
 14403, --   Fort road skirting the wall.
 14404, --   Fort road by small houses.
 14405, --   Curving Fort road.
 14406, --   Fort road behind the main tower.
 14407, --   Curving Fort road.
 14408, --   Fort road beside homes.
 14409, --   Fort road near a middens.
 14411, --   A ransacked fort smithy.
 14413, --   Fort Armoury.
 14416, --   A disheveled guards-room before stairs.
 14417, --   A wide landing.
 14418, --   Atop the main tower.
 14419, --   Captain's Office..
}
bash.erorag_targets = {
	[&quot;a hill giant&quot;] = &quot;giant&quot;,
	[&quot;a two-headed ogre&quot;] = &quot;ogre&quot;,
	[&quot;a decadent goblin priest&quot;] = &quot;goblin&quot;,
	[&quot;Horde Commander Tanjin Kaark'Goron&quot;] = &quot;tanjin&quot;,
}
</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>menanon</name>
                            <packageName></packageName>
                            <script>bash.menanon_name = &quot;the Temple at Menanon&quot;
bash.menanon = {
  9481, -- Overlooking the grasslands of the mighty redwood forest.
  9482, -- Among the mighty redwoods.
  9988, -- Among the mighty redwoods.
 10931, -- Redwood trail approaching a large gate.
 10940, -- Beyond a large sandstone gate.
 10941, -- A well-lit, sandstone foyer.
 10942, -- A sandstone training hall.
 10943, -- A musky, indoor stable.
 10949, -- A sandstone training hall of the western wing.
 10950, -- A sandstone training hall of the eastern wing.
 10951, -- An elegant chapel of yellow marble.
 10952, -- A dark stairway entrance.
 10953, -- Upon a shadowy stairwell.
 10955, -- A dreary butchery.
 10967, -- A damp and musky dungeon.
 11022, -- An enclosed, outdoor garden.
 11023, -- A brightly-lit antechamber.
 11057, -- A large dining hall.
 11058, -- A small hallway of marble and granite.
 11059, -- A small, sandstone smithy.
 11060, -- An open-air falconry.
 11061, -- A humbly decorated prayer antechamber.
 11062, -- A small hallway of granite and marble.
 11081, -- A long hallway of green marble.
 11082, -- A long hallway of blue marble.
 11083, -- A long hallway of red marble.
 11084, -- A lively, marble courtyard.
 11085, -- A long hallway of white marble.
 11086, -- A small hallway of mix-hued granite and marble.
 11087, -- A hallway of white and grey granite.
 11088, -- A hallway of mix-hued granite.
 11089, -- Before a priestly chamber.
 11090, -- A dimly-lit hallway of grey granite.
 11091, -- Outside the chamber of the High Priest.
 11092, -- A dimly-lit hallway of white granite.
 11093, -- Elaborately decorated chamber of the High Priest.
 11094, -- A plain, priestly chamber.
 11238, -- A hidden alcove.
 11239, -- The Norrjin ritual hall.
 11241, -- The Muamrite ritual hall.
 11242, -- The Sylayan ritual hall.
 11243, -- The Sidhe ritual hall.
 11244, -- The Akrabi ritual hall.
 11245, -- The Tanari ritual hall.
 11246, -- The Kohdon ritual hall.
 11247, -- The Ssylsin ritual hall.
 11248, -- The Lycaean ritual hall.
 11249, -- The Dwarf ritual hall.
 11250, -- The Xiur ritual hall.
 11251, -- A dark, hidden alcove.
 11259, -- A bleak, man-made passage.
 11260, -- An underground burial tomb.
 11261, -- A temperate bathing pool.
 11262, -- A cheerless underground brothel.
 11670, -- A Lamira ritual hall.
}
bash.menanon_targets = {
	[&quot;a young Tanari priest&quot;] = &quot;priest&quot;,
	[&quot;Jaenal, a Tanari cook&quot;] = &quot;jaenal&quot;,
	[&quot;an elderly Tanari priest&quot;] = &quot;priest&quot;,
	[&quot;a Tanari defender&quot;] = &quot;defender&quot;,
	[&quot;Raevis, the High Priest&quot;] = &quot;raevis&quot;,
}
</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>nagiri</name>
                            <packageName></packageName>
                            <script>bash.nagiri_name = &quot;Nagiri Caverns&quot;
bash.nagiri = {
 20942, -- A steam filled cavern.
 20943, -- A cramped hall.
 20944, -- A slime ridden cavern.
 20945, -- A fork in the caverns.
 20946, -- A well lit tunnel.
 20947, -- Wading through a trash pile.
 20948, -- A hole filled cavern.
 20949, -- A vine strewn cavern.
 20950, -- A path through the caverns.
 20951, -- A crystal path.
 20952, -- A maze of stone.
 20953, -- A slime-ridden well.
 20954, -- A stagnant pool of water.
 20955, -- A hatchery.
 20956, -- A weapon filled room.
 20957, -- A dangerous path.
 20958, -- A make-shift kitchen.
 20959, -- A dangerous path.
 20960, -- A cavern filled with moisture.
 20961, -- A chemical filled laboratory.
 20962, -- A smoke filled room.
 20963, -- A path through the cavern.
 20964, -- A crystal filled cave.
 20965, -- A well traveled path.
 20966, -- An antechamber of pus.
 20967, -- A pus-ridden throne room.
 20968, -- A darkened hall.
 20969, -- An untrodden path.
 20970, -- Nearing the exit of the cavern.
 20971, -- An entrance to the caverns.
}
bash.nagiri_targets = {
	[&quot;a Nagirian archer&quot;] = &quot;nagiri&quot;,
	[&quot;a Nagiri warrior&quot;] = &quot;nagiri&quot;,
	[&quot;Nagira, the Nagiri queen&quot;] = &quot;nagira&quot;,
	[&quot;Naugon, a Nagiri Necromancer&quot;] = &quot;naugon&quot;,
	[&quot;a nagiri hatchling&quot;] = &quot;nagiri&quot;,
}
</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>tresleins</name>
                            <packageName></packageName>
                            <script>bash.tresleins_name = &quot;Treslein's Keep&quot;
bash.tresleins = {
 10378, --  Border of the corrupted forest.
 10382, --  A rudimentary path.
 10386, --  Entering the corrupted forest.
 10387, --  Trees surrounded by gloom.
 10388, --  Before a large and corrupted tree.
 10389, --  Naze of dying trees.
 10396, --  Naze of dying trees.
 10397, --  Amidst choking and twisted trees.
 10403, --  Lost in the corrupted forest.
 10404, --  On the edge of a great wall of trees.
 10405, --  At the bank of a noxious river.
 10406, --  Following tracks between scarred trees.
 10407, --  A burned and blackened grove.
 10410, --  Thickening and intimidating trees.
 10411, --  On the edge of a great wall of trees.
 10413, --  At the bank of a noxious river.
 10414, --  On the toxic stream.
 10415, --  On the toxic stream.
 10416, --  Atop a small, spongy river island.
 10417, --  Atop a small, spongy river island.
 10418, --  A trio of strange trees atop the island.
 10419, --  Atop a small, spongy river island.
 10420, --  Atop a small, spongy river island.
 10421, --  On the toxic stream.
 10422, --  On the toxic stream.
 10423, --  At the toxic river's edge.
 10424, --  At the toxic river's edge.
 10425, --  Entering a patch of gargantuan mushrooms.
 10426, --  Passing through a patch of gruesome fungi.
 10427, --  Sloping path within a decay-laced mushroom patch.
 10428, --  Within sight of a black fortress.
 10430, --  Before a gaping chasm.
 10431, --  Before a gaping chasm.
 10432, --  At a menacing drawbridge.
 11235, --  Upon a menacing drawbridge.
 11610, --  Upon a menacing drawbridge.
 11611, --  Beneath a rusted portcullis.
 11762, --  Before the gatehouse.
 11763, --  Within the shadow of the dark fortress.
 11764, --  Inside the courtyard of Treslein's Keep.
 11765, --  Inside the stables.
 11766, --  Inside the western gatehouse.
 11767, --  Inside the gatehouse.
 11768, --  At the top of the western gatehouse.
 11769, --  Inside the eastern gatehouse.
 11770, --  The upper floor of the gatehouse.
 11771, --  At the top of the eastern gatehouse.
 11772, --  On the ramparts approaching the east tower.
 11774, --  Inside the east tower.
 11775, --  Inside the east tower.
 11776, --  Just inside the east tower.
 11777, --  Along the ramparts approaching the rear watch tower.
 11778, --  Inside the rear, watch tower.
 11779, --  Inside the rear, watch tower.
 11780, --  Lower level of the rear watch tower.
 11781, --  Along the ramparts approaching the west watch tower.
 11782, --  Inside the west watch tower.
 11783, --  Just beneath the turret of the west watch tower.
 11784, --  Lower level of the west watch tower.
 11785, --  Along the rampart approaching the gatehouse.
 11787, --  Inside the antechamber.
 11788, --  Within the main room of the keep.
 11789, --  Inside the kitchens.
 11791, --  Within the master's sanctum.
 11793, --  A hidden set of stairs behind the bookcase.
 11794, --  Along the second floor hallway.
 11795, --  Moving along the hallway.
 11796, --  --  At the end of the hallway.
 11797, --  Within the Master's bedchamber.
 11808, --  Inside a small bedchamber.
 11809, --  Inside a guest chamber.
 11810, --  Inside a guest chamber.
 11811, --  Inside a lady's bower.
 11815, --  Stone steps leading down.
 11816, --  A dark hallway beneath the keep.
 11817, --  At the end of a hallway.
 11818, --  Moving north along the hallway.
 11819, --  Moving along a hallway.
 11830, --  Moving north along the hallway.
 11831, --  Moving along a hallway.
 11832, --  Inside a small cell.
 11833, --  Inside a dungeon cell.
 11834, --  A secret cell.
 11835, --  A narrow passage.
 11836, --  Inside a small cell.
 11837, --  A narrow passage.
 11838, --  Inside the carvers room.
 11839, --  Inside a torture chamber.
 11840, --  Inside a torture chamber.
 21441, --  A continuing passage.
 21442, --  A foul-smelling dungeon.
 21443, --  A branching passageway.
 21444, --  Beside a pool of offal.
 21445, --  Before a gaping chasm.
 21446, --  A narrow dungeon walkway.
 21447, --  A low passageway.
 21448, --  A reeking depression.
 21449, --  A cordoned corner.
 21450, --  A collapsing wall of stone.
 21452, --  A continuing passage through the muck.
 21453, --  Beside a wall of corpses.
 21454, --  A roughly-carved passageway.
 21455, --  Before a rancid doorway.
 21456, --  An abandoned laboratory.
 21457, --  A bending corridor.
 21458, --  Before a gaping chasm.
 21459, --  A chamber suspended above darkness.
 21460, --  A storage room.
 21462, --  A sloping landing.
}
bash.tresleins_targets = {
	[&quot;a rabid rabbit&quot;] = &quot;rabbit&quot;,
	[&quot;a sly red fox&quot;] = &quot;fox&quot;,
	[&quot;a great black bear&quot;] = &quot;bear&quot;,
	[&quot;an eagle&quot;] = &quot;eagle&quot;,
	[&quot;a foul smelling skunk&quot;] = &quot;skunk&quot;,
	[&quot;a murder of crows&quot;] = &quot;crow&quot;,
	[&quot;a large elk&quot;] = &quot;elk&quot;,
	[&quot;a diseased raccoon&quot;] = &quot;raccoon&quot;,
	[&quot;a fierce black wolf&quot;] = &quot;wolf&quot;,
	[&quot;a crazed deer&quot;] = &quot;deer&quot;,
	[&quot;a fearsome atrocity&quot;] = &quot;atrocity&quot;,
	[&quot;a tormented scavenger&quot;] = &quot;scavenger&quot;,
	[&quot;a gruesome monstrosity&quot;] = &quot;monstrosity&quot;,
	[&quot;a foul abomination&quot;] = &quot;abomination&quot;,
	[&quot;Chraskelth, the Carver&quot;] = &quot;chraskelth&quot;,
	[&quot;Treslein, the Necromancer&quot;] = &quot;treslein&quot;,
}

-- A blackened and bloodstained cleaver in his hands, Chraskelth the Carver is here, his indomitable presence filling the room.</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="no" isFolder="no">
                            <name>incomplete scourge</name>
                            <packageName></packageName>
                            <script>bash.scourge_name = &quot;the Scourge Outpost&quot;
bash.scourge = {
  9486, -- A large palisade gate.
  9487, -- Outside a palisade fence.
  9488, -- Between a fence and a treeline.
  9489, -- Outside a palisade fence.
  9490, -- Along a palisade fence.
  9491, -- Along a palisade fence.
  9492, -- Abutting a cliffside.
  9493, -- Outside a palisade fence.
  9494, -- Between a fence and treeline.
  9495, -- Between a fence and treeline.
  9496, -- Along a palisade fence.
  9497, -- Along a palisade fence.
  9498, -- Abutting a cliffside.
  9499, -- Before a large bonfire.
  9500, -- Beside a large bonfire.
  9501, -- Centre of a ruined encampment.
  9502, -- Beside a large bonfire.
  9503, -- The mess pavilion.
  9506, -- The food pen.
  9507, -- The remnants of an outdoor kitchen.
  9508, -- Behind the shed.
  9509, -- Nearing the cliffside.
  9510, -- A charred barracks.
  9511, -- A large storage shed.
  9512, -- The whipping post.
  9513, -- Approaching the cliff.
  9517, -- A cleft in the escarpment.
  9521, -- Base of a stairway.
  9522, -- A pile of ash.
  9523, -- Outside a guard shack.
  9524, -- Outside the barracks.
  9525, -- A charred barracks.
  9526, -- A charred barracks.
  9527, -- Middle of the encampment.
  9528, -- Outside the barracks.
  9529, -- A charred barracks.
  9532, -- A pile of ash.
  9534, -- Upon the stairway.
  9535, -- Atop the cliff.
  9536, -- Atop the stairway.
  9537, -- A covered pavilion.
  9538, -- A wooden platform.
  9539, -- Edge of a cliff.
  9540, -- Amidst the outpost.
  9543, -- Inside the gate.
  9545, -- A pile of ash.
  9546, -- Against the cliff edge.
  9563, -- Outside a palisade fence.
  9564, -- Outside a wide gate.
  9565, -- Along the palisade.
  9566, -- Against the cliff edge.
  9567, -- Inside the cleft.
  9568, -- A large cavern.
  9569, -- A wide tunnel.
  9570, -- A spartan room.
  9571, -- A dark passageway.
  9572, -- A slovenly room.
  9573, -- The captain's quarters.
  9574, -- A sloping tunnel.
  9575, -- -- A ransacked storage room.
}
bash.scourge_targets = {
}
</script>
                            <eventHandlerList/>
                        </Script>
                    </ScriptGroup>
                </ScriptGroup>
                <ScriptGroup isActive="yes" isFolder="yes">
                    <name>arrowmaking</name>
                    <packageName></packageName>
                    <script></script>
                    <eventHandlerList/>
                    <Script isActive="yes" isFolder="no">
                        <name>[d] arrows</name>
                        <packageName></packageName>
                        <script>arrows = arrows or {}
arrows.queue = arrows.queue or {}
arrows.allow = arrows.allow or false

arrows.types = {
	wooden = { lots = 15, wood = 1},
	razor = { lots = 10, wood = 1, steel = 1 },
	spiral = { lots = 5, wood = 1 },
	barbed = { lots = 10, wood = 1, steel = 1 },
	pitched = { lots = 10, wood = 1 },
	broad = { lots = 10, wood = 1, steel = 1 },
	net = { lots = 5, wood = 1, steel = 1, rope = 1 },
}

function arrows.round_down( arg, places )
	return math.floor(arg * math.pow(10,places)) / math.pow(10,places)
end</script>
                        <eventHandlerList/>
                    </Script>
                    <Script isActive="yes" isFolder="no">
                        <name>functions</name>
                        <packageName></packageName>
                        <script>
function arrows.make( type, number, quiver ) 
	local output = 0
	local per_make = arrows.types[type].lots
	arrows.queue = {}
	number = tonumber( number )

	if quiver then
		output = number * 250 / per_make	
		output = arrows.round_down( output, 0 )
		for i=1, output do
			table.insert( arrows.queue, type )
		end
	else
		output = number / per_make
		output = arrows.round_down( output, 0 )
		for i=1, output do
			table.insert( arrows.queue, type )
		end
	end

	cecho(&quot;\n&lt;green&gt;Making &quot;..output..&quot; lots of &quot;..type..&quot; arrows.&quot;)
	arrows.next()
end

function arrows.next()
	if arrows.queue[1] then
		local str = &quot;fashion &quot;..arrows.queue[1]..&quot; arrows&quot;
		if eden then eden.send(str) else send(str) end
	else
		cecho(&quot;\n&lt;red&gt;No Arrows Waiting to be Made.&quot;)
		cecho(&quot;\n&lt;red&gt;Queue Complete.&quot;)
	end
end

function arrows.reset()
	arrows.queue = {}
	cecho(&quot;\n&lt;green&gt;Cleared Arrow-Making Queue.&quot;)
end

function arrows.display()
	if arrows.queue[1] then
		cecho(&quot;\n&lt;maroon&gt;Making these arrows: &quot;)
		local type, last_type, count, last_count = &quot;&quot;, &quot;&quot;, 0, 0
		local queue = {}
		for i=1, #arrows.queue do
			last_type = type --&lt; save the last_type
			last_count = count
			type = arrows.queue[i]
			if i ~= 1 and type ~= last_type then
				-- insert this type into the queue
				last_count = arrows.types[last_type].lots * last_count
				table.insert( queue, last_count..&quot; &quot;..last_type )
				count = 1
			elseif i == #arrows.queue then
				count = count + 1
				count = arrows.types[type].lots * count
				table.insert( queue, count..&quot; &quot;..type )
			elseif i == 1 then
				count = 1
			else
				count = count + 1
			end
		end 
		local str = &quot;&quot;
		for i=1, #queue do
			str = str..&quot;\n * &quot;..queue[i]
		end
		local duration = arrows.round_down( 16 * #arrows.queue / 60, 2 )
		str = str..&quot;\n&lt;green&gt;Expected turnaround time: &quot;..duration..&quot; minutes.&quot;
		cecho(str)
	else
		cecho(&quot;\n&lt;red&gt;No Arrows Waiting to be Made.&quot;)
	end
end

function arrows.add( type, number, quiver ) 
	local output = 0
	local per_make = arrows.types[type].lots
	number = tonumber( number )

	if quiver then
		output = number * 250 / per_make	
		output = arrows.round_down( output, 0 )
		for i=1, output do
			table.insert( arrows.queue, type )
		end
	else
		output = number / per_make
		output = arrows.round_down( output, 0 )
		for i=1, output do
			table.insert( arrows.queue, type )
		end
	end

	cecho(&quot;\n&lt;green&gt;Added &quot;..output..&quot; lots of &quot;..type..&quot; arrows.&quot;)
end</script>
                        <eventHandlerList/>
                    </Script>
                </ScriptGroup>
                <ScriptGroup isActive="yes" isFolder="yes">
                    <name>caravans</name>
                    <packageName></packageName>
                    <script>caravan = caravan or {}

caravan.t = caravan.t or {}
caravan.capture = caravan.capture or {}

caravan.commit = function(tablen)
	local tn = {&quot;Crop&quot;,&quot;Livestock&quot;,&quot;Ore&quot;,&quot;Rock&quot;,&quot;Water&quot;,&quot;Fish&quot;,&quot;Lumber&quot;}
	for i=1,#tn do
		caravan.capture[tn[i]] = caravan.capture[tn[i]] or {}
		if caravan.t[tn[i]] then
			caravan.capture[tn[i]][caravan.t.name] = caravan.t[tn[i]].count
		end
	end
end</script>
                    <eventHandlerList/>
                    <Script isActive="no" isFolder="no">
                        <name>NewScript</name>
                        <packageName></packageName>
                        <script></script>
                        <eventHandlerList/>
                    </Script>
                </ScriptGroup>
                <ScriptGroup isActive="yes" isFolder="yes">
                    <name>crits</name>
                    <packageName></packageName>
                    <script>crits = crits or {}

crits.on = crits.on or true
crits.atks = crits.atks or 0
crits.count = crits.count or 0
crits.dmg = crits.dmg or 0
crits.x1 = crits.x1 or 0
crits.x2 = crits.x2 or 0
crits.x4 = crits.x4 or 0
crits.x8 = crits.x8 or 0
crits.x16 = crits.x16 or 0
crits.x32 = crits.x32 or 0

crits.x1_dmg = crits.x1_dmg or 0
crits.x2_dmg = crits.x2_dmg or 0
crits.x4_dmg = crits.x4_dmg or 0
crits.x8_dmg = crits.x8_dmg or 0
crits.x16_dmg = crits.x16_dmg or 0
crits.x32_dmg = crits.x32_dmg or 0

crits.level = crits.level or false

crits.p1 = crits.p1 or 0
crits.p2 = crits.p2 or 0
crits.pd = crits.pd or 0
crits.vhp_allow = crits.vhp_allow or true
crits.vhp = crits.vhp or 0
crits.vhp_c = crits.vhp_c or 0</script>
                    <eventHandlerList/>
                    <Script isActive="yes" isFolder="no">
                        <name>functions</name>
                        <packageName></packageName>
                        <script>crits.reset = function()
	crits.atks = 0
	crits.count = 0
	crits.dmg = 0
	crits.x1 = 0
	crits.x2 = 0
	crits.x4 = 0
	crits.x8 = 0
	crits.x16 = 0
	crits.x32 = 0
	
	crits.x1_dmg = 0
	crits.x2_dmg = 0
	crits.x4_dmg = 0
	crits.x8_dmg = 0
	crits.x16_dmg = 0
	crits.x32_dmg = 0

	crits.level = false
	crits.vhp = 0
	crits.vhp_c = 0
	cecho(&quot;\n&lt;green&gt;Crit and hit numbers cleared.\n&quot;)
end

crits.display = function()
	local str = &quot;&quot;

	local count, atks, dmg = crits.count, crits.atks, crits.dmg
	local crit_rate = 100 * count / atks

	local  cx1,  cx1_p,  cx1_j = crits.x1, 0, crits.x1_dmg / crits.x1
	local  cx2,  cx2_p,  cx2_j = crits.x2, 100 * crits.x2 / count, crits.x2_dmg / crits.x2
	local  cx4,  cx4_p,  cx4_j = crits.x4, 100 * crits.x4 / count, crits.x4_dmg / crits.x4
	local  cx8,  cx8_p,  cx8_j = crits.x8, 100 * crits.x8 / count, crits.x8_dmg / crits.x8
	local cx16, cx16_p, cx16_j = crits.x16, 100 * crits.x16 / count, crits.x16_dmg / crits.x16
	local cx32, cx32_p, cx32_j = crits.x32, 100 * crits.x32 / count, crits.x32_dmg / crits.x32

	local cx2_e, cx4_e, cx8_e, cx16_e, cx32_e = 2*cx1_j, 4*cx1_j, 8*cx1_j, 16*cx1_j, 32*cx1_j
	local e = cx2_e + cx4_e + cx8_e + cx16_e + cx32_e

	local dmg_avg = dmg / atks
	local vhp = crits.vhp / crits.vhp_c
	local multiplier = (((atks - count) + 2*cx2 + 4*cx4 + 8*cx8 + 16*cx16 + 32*cx32) / atks)
	local actual = dmg_avg/cx1_j


	count = string.format(&quot;%4d&quot;,count)
	atks = string.format(&quot;%4d&quot;,atks)
	crit_rate = string.format( &quot;%6.1f&quot;, crit_rate )
	dmg = string.format(&quot;%5d&quot;,dmg)
	dmg_avg = string.format(&quot;%6.1f&quot;,dmg_avg)
	vhp = string.format(&quot;%4.2f&quot;, vhp)

	cx1 = string.format(&quot;%4d&quot;,cx1)
	cx1_p = string.format(&quot;%6.1f&quot;,cx1_p)
	cx1_j = string.format(&quot;%6.1f&quot;,cx1_j)
	cx2 = string.format(&quot;%4d&quot;,cx2)
	cx2_p = string.format(&quot;%6.1f&quot;,cx2_p)
	cx2_j = string.format(&quot;%6.1f&quot;,cx2_j)
	cx2_e = string.format(&quot;%6.1f&quot;,cx2_e)
	cx4 = string.format(&quot;%4d&quot;,cx4)
	cx4_p = string.format(&quot;%6.1f&quot;,cx4_p)
	cx4_j = string.format(&quot;%6.1f&quot;,cx4_j)
	cx4_e = string.format(&quot;%6.1f&quot;,cx4_e)
	cx8 = string.format(&quot;%4d&quot;,cx8)
	cx8_p = string.format(&quot;%6.1f&quot;,cx8_p)
	cx8_j = string.format(&quot;%6.1f&quot;,cx8_j)
	cx8_e = string.format(&quot;%6.1f&quot;,cx8_e)
	cx16 = string.format(&quot;%4d&quot;,cx16)
	cx16_p = string.format(&quot;%6.1f&quot;,cx16_p)
	cx16_j = string.format(&quot;%6.1f&quot;,cx16_j)
	cx16_e = string.format(&quot;%6.1f&quot;,cx16_e)
	cx32 = string.format(&quot;%4d&quot;,cx32)
	cx32_p = string.format(&quot;%6.1f&quot;,cx32_p)
	cx32_j = string.format(&quot;%6.1f&quot;,cx32_j)
	cx32_e = string.format(&quot;%6.1f&quot;,cx32_e)

	multiplier = string.format(&quot;%7.3f&quot;,multiplier)
	actual = string.format(&quot;%7.3f&quot;,actual)
	e = string.format(&quot;%6.1f&quot;,e)

	local heading1, heading2, heading3 = &quot;Rate (%)&quot;, &quot;Output&quot;, &quot;Expected&quot;
	heading1 = string.lpad(heading1,10,&quot; &quot;)
	heading2 = string.lpad(heading2,10,&quot; &quot;)
	heading3 = string.lpad(heading3,10,&quot; &quot;)

	str = str..&quot;\n&quot;
	str = str..&quot;\n&lt;grey&gt;Total Damage:              &lt;green&gt;&quot;..dmg
	-- str = str..&quot;\n&lt;grey&gt;Total Attacks:      &lt;green&gt;&quot;..atks
	-- str = str..&quot;\n&lt;grey&gt;Total Crits:        &lt;green&gt;&quot;..count
	-- str = str..&quot;\n&lt;grey&gt;Overall Critical Hit Rate: &lt;green&gt;&quot;..crit_rate..&quot;%&quot;
	-- str = str..&quot;\n&lt;grey&gt;Average Damage:            &lt;green&gt;&quot;..dmg_avg
	str = str..&quot;\n&lt;grey&gt;Average HP of Targets:     &lt;green&gt;&quot;..vhp
	str = str..&quot;\n&lt;grey&gt;------------------------------------------\n&quot;
	str = str..&quot;\n&lt;grey&gt;           &quot;..heading1..heading2..heading3
	str = str..&quot;\n&lt;grey&gt;1X  (&lt;red&gt;&quot;..cx1..&quot;&lt;grey&gt;): &lt;green&gt;             &quot;..cx1_j
	str = str..&quot;\n&lt;grey&gt;2X  (&lt;red&gt;&quot;..cx2..&quot;&lt;grey&gt;): &lt;green&gt;&quot;..cx2_p..&quot; %     &quot;..cx2_j..&quot;    &quot;..cx2_e
	str = str..&quot;\n&lt;grey&gt;4X  (&lt;red&gt;&quot;..cx4..&quot;&lt;grey&gt;): &lt;green&gt;&quot;..cx4_p..&quot; %     &quot;..cx4_j..&quot;    &quot;..cx4_e
	str = str..&quot;\n&lt;grey&gt;8X  (&lt;red&gt;&quot;..cx8..&quot;&lt;grey&gt;): &lt;green&gt;&quot;..cx8_p..&quot; %     &quot;..cx8_j..&quot;    &quot;..cx8_e
	str = str..&quot;\n&lt;grey&gt;16X (&lt;red&gt;&quot;..cx16..&quot;&lt;grey&gt;): &lt;green&gt;&quot;..cx16_p..&quot; %     &quot;..cx16_j..&quot;    &quot;..cx16_e
	str = str..&quot;\n&lt;grey&gt;32X (&lt;red&gt;&quot;..cx32..&quot;&lt;grey&gt;): &lt;green&gt;&quot;..cx32_p..&quot; %     &quot;..cx32_j..&quot;    &quot;..cx32_e
	str = str..&quot;\n&lt;grey&gt;-------------------------------------------&quot;
	str = str..&quot;\n&lt;grey&gt;&lt;red&gt;&quot;..count..&quot;&lt;grey&gt;/&lt;red&gt;&quot;..atks..&quot;&lt;grey&gt;: &lt;green&gt;&quot;..crit_rate..&quot; %     &quot;..dmg_avg..&quot;    &quot;..e..&quot;\n&quot;
	str = str..&quot;\n&lt;grey&gt;----------------------------------------------------&quot;
	str = str..&quot;\n&lt;grey&gt;Current Normalized Critical Hit Multiplier:  &lt;green&gt;&quot;..multiplier
	str = str..&quot;\n&lt;grey&gt;----------------------------------------------------&quot;
	str = str..&quot;\n&lt;grey&gt;Actual Critical Hit Multiplier:              &lt;green&gt;&quot;..actual
	str = str..&quot;\n&lt;grey&gt;----------------------------------------------------\n&quot;
	cecho(str)
end</script>
                        <eventHandlerList/>
                    </Script>
                </ScriptGroup>
                <ScriptGroup isActive="yes" isFolder="yes">
                    <name>merc</name>
                    <packageName></packageName>
                    <script>merc = merc or {}

merc.collect = merc.collect or false
merc.display = merc.display or false
merc.table = merc.table or {}
merc.hold = merc.hold or {}
merc.stats = merc.stats or {}

merc.list = {
	&quot;Mithmarenn Icerazor&quot;,
	-- &quot;Larinen Beargrave&quot;,
	&quot;Boylard Kingwrecker&quot;,
	&quot;Jeyress Venomrazor&quot;,
	&quot;Giltwen Bearender&quot;,
	&quot;Cyrrailynd Firemincer&quot;,
	&quot;Pyryalllyrr Zombiesword&quot;,
}

merc.do_hold = function() 
	if #merc.hold &gt; 0 then
		local str = &quot;&quot;
		local party, hostile = &quot;&lt;sea_green&gt;&quot;, &quot;&lt;violet_red&gt;&quot;
		
		local action = merc.hold[1]

		str = str..&quot;\n&lt;grey&gt;&quot;
		str = str..string.format(&quot;%4d&quot;,action[1])..&quot;: &quot;
		if table.contains(merc.list,action[2]) then
			str = str..party
		else
			str = str..hostile
		end
		str = str..string.rpad( string.cut(string.format(&quot;%10s&quot;,action[2]),19), 20, &quot; &quot; )..&quot; &lt;grey&gt;hit &quot;

		for i=2, #merc.hold do
			local tablen = merc.hold[i]
			if tablen[1] == &quot;kill&quot; then
				if i~=2 then
					str = str..string.rpad(&quot;\n&quot;,30,&quot; &quot;)
				end
				str = str..&quot;&lt;orange_red&gt;[ &quot;..string.trim(tablen[2])..&quot; ]&quot;
			else
				if merc.stats[action[2]] then 
					merc.stats[action[2]].hits = merc.stats[action[2]].hits + 1 
					merc.stats[action[2]].out = merc.stats[action[2]].out + tablen[5]
				end
				if merc.stats[tablen[1]] then 
					merc.stats[tablen[1]].hit = merc.stats[tablen[1]].hit + 1 
					merc.stats[tablen[1]].dmg = merc.stats[tablen[1]].dmg + tablen[5]
				end
				if i~=2 then
					str = str..string.rpad(&quot;\n&quot;,32,&quot; &quot;)
				end
				if table.contains(merc.list,tablen[1]) then
					str = str..party
				else
					str = str..hostile
				end
				str = str..string.rpad(string.cut(tablen[1],19),20,&quot; &quot;)
				str = str..&quot;&lt;grey&gt;(&quot;..string.format(&quot;%3d&quot;,tablen[4])..&quot;) &quot;
				if table.contains(merc.list,tablen[1]) then
					str = str..&quot;&lt;red&gt;&quot;
				else
					str = str..&quot;&lt;dodger_blue&gt;&quot;
				end
				str = str..&quot;-&quot;..string.lpad(string.format(&quot;%3.1f&quot;,tablen[2]),4,&quot; &quot;)..&quot;%&lt;grey&gt; / &quot;
				str = str..string.lpad(string.format(&quot;%3.1f&quot;,tablen[3]),4,&quot; &quot;) ..&quot;%&quot;
			end
		end
		table.insert( merc.table, str )
		merc.hold = {}

	end
end</script>
                    <eventHandlerList/>
                    <Script isActive="yes" isFolder="no">
                        <name>output</name>
                        <packageName></packageName>
                        <script>merc.output = function()
	local str,hits,out,hit,_in = &quot;&quot;,0,0,0,0

	for i=1, #merc.table do
		str = str..merc.table[i]
	end
	str = str..&quot;&lt;grey&gt;&quot;
	str = str..&quot;\n\n------------------------------------------------&quot;
	str = str..&quot;\n&quot;..string.rpad(&quot;Name&quot;,20,&quot; &quot;)..&quot;| Hits |  Out |  Hit |  In | &quot;
	str = str..&quot;\n------------------------------------------------&quot;
	for k,v in pairs(merc.stats) do
			hits = hits + v.hits
			out = out + v.out
			hit = hit + v.hit
			_in = _in + v.dmg
		str = str..&quot;\n&quot;..string.rpad(string.cut(tostring(k),19),20,&quot; &quot;)..&quot;: &quot;
		str = str..string.lpad(tostring(v.hits),5,&quot; &quot;)..&quot; &quot;
		str = str..string.lpad(tostring(v.out),5,&quot; &quot;)..&quot;  &quot;
		str = str..string.lpad(tostring(v.hit),5,&quot; &quot;)..&quot; &quot;
		str = str..string.lpad(tostring(v.dmg),5,&quot; &quot;)..&quot; &quot;
	end
	str = str..&quot;\n------------------------------------------------&quot;
	str = str..&quot;\n&quot;..string.rpad(&quot;&quot;,20,&quot; &quot;)..&quot;: &quot;
	str = str..string.lpad(tostring(hits),5,&quot; &quot;)..&quot; &quot;
	str = str..string.lpad(tostring(out),5,&quot; &quot;)..&quot;  &quot;
	str = str..string.lpad(tostring(hit),5,&quot; &quot;)..&quot; &quot;
	str = str..string.lpad(tostring(_in),5,&quot; &quot;)..&quot; &quot;
	str = str..&quot;\n------------------------------------------------&quot;

	cecho(str)

	merc.collect = false
	merc.hold = {}
	merc.table = {}
	merc.stats = {}
end</script>
                        <eventHandlerList/>
                    </Script>
                </ScriptGroup>
                <ScriptGroup isActive="yes" isFolder="yes">
                    <name>quotes</name>
                    <packageName></packageName>
                    <script>-------------------------------------------------
--         Put your Lua functions here.        --
--                                             --
-- Note that you can also use external Scripts --
-------------------------------------------------
</script>
                    <eventHandlerList/>
                    <Script isActive="yes" isFolder="no">
                        <name>[d] quote</name>
                        <packageName></packageName>
                        <script>quote = quote or {}
quote.bool = quote.bool or false
quote.timer = quote.timer or &quot;&quot;

function quote.randomizer()

	if quote.bool == true then

		local number = math.random( 1000, 3000 )
		if quote.timer then killTimer( quote.timer ) end
		quote.timer = tempTimer( number, function() quote.randomizer() end )
		-- cecho(&quot;\n&lt;white&gt;Next quote in &quot;..number..&quot; seconds.&quot;)
		quotes()
	end
end

function quote.start()
	cecho(&quot;\n&lt;white&gt;Starting quotes.&quot;)
	quote.bool = true
	quote.randomizer()
	-- cecho(&quot;\n&lt;white&gt;Stopping quotes.&quot;)
	-- quote.bool = false
	-- killTimer( quote.timer )
end

function quotes()
	local tablen = load_quotes()
	local number = math.random( 1, #tablen )

	local fontSize = 11 --adjust this value to your font size settings
	local fontWidth, fontHeight = calcFontSize( fontSize )
	local main = ui.main * width / fontWidth

	if main &lt; 50 then main = 50 end

	local str = &quot;\n\n&lt;steel_blue&gt;&quot;
		for i=1, main do
			str = str..&quot;=&quot;
		end
	str = str..&quot;\n\n&lt;cyan&gt;&quot;..tablen[number]
	str = str..&quot;\n&lt;steel_blue&gt;&quot;
		for i=1, main do
			str = str..&quot;=&quot;
		end
	str = str..&quot;\n\n&quot;

	cecho(str)
end

function load_quotes()

	local path = getMudletHomeDir()..&quot;/quotes.lua&quot;

	if io.exists(path) then
		--cecho(&quot;\n&lt;white&gt;&quot;..path..&quot; loaded&quot;)

		local tablen = {}

		local file = assert(io.open(path, &quot;r&quot;))
		local line = file:read(&quot;*all&quot;)	 
		local tabler = {}
		local divider = &quot;%d+ %-&quot;

		tablen = string.split( line, divider ) 

		local count = 0
		for i=1, #tablen do
			count = count + 1
			-- cecho(&quot;\n&quot;..tablen[i])
		end
		-- display(count)
		return tablen
	end
end

</script>
                        <eventHandlerList/>
                    </Script>
                </ScriptGroup>
                <ScriptGroup isActive="yes" isFolder="yes">
                    <name>rss</name>
                    <packageName>rss</packageName>
                    <script></script>
                    <eventHandlerList/>
                    <ScriptGroup isActive="yes" isFolder="yes">
                        <name>RSS Reader</name>
                        <packageName></packageName>
                        <script></script>
                        <eventHandlerList/>
                        <Script isActive="yes" isFolder="no">
                            <name>rss parser</name>
                            <packageName></packageName>
                            <script>--- XML.Lua
--
--  Overview:
--  =========
--
--      This module provides a non-validating XML stream parser in Lua. 
--  
--  Features:
--  =========
--  
--      * Tokenises well-formed XML (relatively robustly)
--      * Flexible handler based event API (see below)
--      * Parses all XML Infoset elements - ie.
--          - Tags
--          - Text
--          - Comments
--          - CDATA
--          - XML Decl
--          - Processing Instructions
--          - DOCTYPE declarations
--      * Provides limited well-formedness checking 
--        (checks for basic syntax &amp; balanced tags only)
--      * Flexible whitespace handling (selectable)
--      * Entity Handling (selectable)
--  
--  Limitations:
--  ============
--  
--      * Non-validating
--      * No charset handling 
--      * No namespace support 
--      * Shallow well-formedness checking only (fails
--        to detect most semantic errors)
--  
--  API:
--  ====
--
--  The parser provides a partially object-oriented API with 
--  functionality split into tokeniser and handler components.
--  
--  The handler instance is passed to the tokeniser and receives
--  callbacks for each XML element processed (if a suitable handler
--  function is defined). The API is conceptually similar to the 
--  SAX API but implemented differently.
--  
--  The following events are generated by the tokeniser
--  
--      handler:start       - Start Tag
--      handler:end         - End Tag
--      handler:text        - Text
--      handler:decl        - XML Declaration
--      handler:pi          - Processing Instruction
--      handler:comment     - Comment
--      handler:dtd         - DOCTYPE definition
--      handler:cdata       - CDATA 
--  
--  The function prototype for all the callback functions is
--      
--      callback(val,attrs,start,end)
--  
--  where attrs is a table and val/attrs are overloaded for 
--  specific callbacks - ie.
--  
--      Callback     val            attrs (table)
--      --------     ---            -------------
--      start        name           { attributes (name=val).. }
--      end          name           nil
--      text         &lt;text&gt;         nil
--      cdata        &lt;text&gt;         nil
--      decl         &quot;xml&quot;          { attributes (name=val).. }
--      pi           pi name        { attributes (if present)..
--                                    _text = &lt;PI Text&gt;
--                                  }
--      comment      &lt;text&gt;         nil     
--      dtd          root element   { _root = &lt;Root Element&gt;,
--                                    _type = SYSTEM|PUBLIC,
--                                    _name = &lt;name&gt;,
--                                    _uri = &lt;uri&gt;,
--                                    _internal = &lt;internal dtd&gt;
--                                  }
--
--  (start &amp; end provide the character positions of the start/end
--  of the element)
--
--  XML data is passed to the parser instance through the 'parse'
--  method (Note: must be passed a single string currently)
--
--  Options
--  =======
--
--  Parser options are controlled through the 'self.options' table.
--  Available options are -
--  
--      * stripWS   
--      
--        Strip non-significant whitespace (leading/trailing) 
--        and do not generate events for empty text elements
--  
--      * expandEntities 
--  
--        Expand entities (standard entities + single char 
--        numeric entities only currently - could be extended 
--        at runtime if suitable DTD parser added elements
--        to table (see obj._ENTITIES). May also be possible
--        to expand multibyre entities for UTF-8 only
--  
--      * errorHandler
--  
--        Custom error handler function 
--
--  NOTE: Boolean options must be set to 'nil' not '0'
--  
--  Usage
--  =====
--
--  Create a handler instance - 
--  
--      h = { start = function(t,a,s,e) .... end,
--            end = function(t,a,s,e) .... end,
--            text = function(t,a,s,e) .... end,
--            cdata = text }
--  
--  (or use predefined handler - see handler.lua)
--  
--  Create parser instance - 
--  
--      p = xmlParser(h)
--  
--  Set options -
--
--      p.options.xxxx = nil
--
--  Parse XML data -
--  
--      xmlParser:parse(&quot;&lt;?xml... &quot;)
--  License:
--  ========
--
--      This code is freely distributable under the terms of the Lua license
--      (http://www.lua.org/copyright.html)
--
--  History
--  =======
--  Added parameter parseAttributes (boolean) in xmlParser.parse method
--  If true (default value), tag attributtes are parsed. 
--  by Manoel Campos da Silva Filho
--  http://manoelcampos.com
--  http://about.me/manoelcampos

--
--  $Id: xml.lua,v 1.1.1.1 2001/11/28 06:11:33 paulc Exp $
--
--  $Log: xml.lua,v $
--  Revision 1.1.1.1  2001/11/28 06:11:33  paulc
--  Initial Import
--
--@author Paul Chakravarti (paulc@passtheaardvark.com)&lt;p/&gt;


---Parses a XML string
--@param handler Handler object to be used to convert the XML string
--to another formats. @see handler.lua
xmlParser1 = function(handler)     
    local obj = {}
    -- Public attributes 

    obj.options = { 
                    stripWS = 1, 
                    expandEntities = 1,
                    errorHandler = function(err,pos) 
                                       error(string.format(&quot;%s [char=%d]\n&quot;,
                                               err or &quot;Parse Error&quot;,pos))
                                   end,
                  }

    -- Public methods

    obj.parse = function(self, str, parseAttributes)
	    if parseAttributes == nil then
	       parseAttributes = true
	    end
	    self._handler.parseAttributes = parseAttributes
    
        local match,endmatch,pos = 0,0,1
        local text,endt1,endt2,tagstr,tagname,attrs,starttext,endtext
        local errstart,errend,extstart,extend
        while match do
            -- Get next tag (first pass - fix exceptions below)
            match,endmatch,text,endt1,tagstr,endt2 = string.find(str,self._XML,pos) 
            if not match then 
                if string.find(str, self._WS,pos) then
                    -- No more text - check document complete
                    if table.getn(self._stack) ~= 0 then
                        self:_err(self._errstr.incompleteXmlErr,pos)
                    else
                        break 
                    end
                else
                    -- Unparsable text
                    self:_err(self._errstr.xmlErr,pos)
                end
            end 
            -- Handle leading text
            starttext = match 
            endtext = match + string.len(text) - 1
            match = match + string.len(text)
            text = self:_parseEntities(self:_stripWS(text))
            if text ~= &quot;&quot; and self._handler.text then
                self._handler:text(text,nil,match,endtext)
            end
            -- Test for tag type
            if string.find(string.sub(tagstr,1,5),&quot;?xml%s&quot;) then
                -- XML Declaration
                match,endmatch,text = string.find(str,self._PI,pos)
                if not match then 
                    self:_err(self._errstr.declErr,pos)
                end 
                if match ~= 1 then
                    -- Must be at start of doc if present
                    self:_err(self._errstr.declStartErr,pos)
                end
                tagname,attrs = self:_parseTag(text) 
                -- TODO: Check attributes are valid
                -- Check for version (mandatory)
                if attrs.version == nil then
                    self:_err(self._errstr.declAttrErr,pos)
                end
                if self._handler.decl then 
                    self._handler:decl(tagname,attrs,match,endmatch) 
                end
            elseif string.sub(tagstr,1,1) == &quot;?&quot; then
                -- Processing Instruction
                match,endmatch,text = string.find(str,self._PI,pos)
                if not match then 
                    self:_err(self._errstr.piErr,pos)
                end 
                if self._handler.pi then 
                    -- Parse PI attributes &amp; text
                    tagname,attrs = self:_parseTag(text) 
                    local pi = string.sub(text,string.len(tagname)+1)
                    if pi ~= &quot;&quot; then
                        if attrs then
                            attrs._text = pi
                        else
                            attrs = { _text = pi }
                        end
                    end
                    self._handler:pi(tagname,attrs,match,endmatch) 
                end
            elseif string.sub(tagstr,1,3) == &quot;!--&quot; then
                -- Comment
                match,endmatch,text = string.find(str,self._COMMENT,pos)
                if not match then 
                    self:_err(self._errstr.commentErr,pos)
                end 
                if self._handler.comment then 
                    text = self:_parseEntities(self:_stripWS(text))
                    self._handler:comment(text,next,match,endmatch)
                end
            elseif string.sub(tagstr,1,8) == &quot;!DOCTYPE&quot; then
                -- DTD
                match,endmatch,attrs = self:_parseDTD(str,pos)
                if not match then 
                    self:_err(self._errstr.dtdErr,pos)
                end 
                if self._handler.dtd then
                    self._handler:dtd(attrs._root,attrs,match,endmatch)
                end
            elseif string.sub(tagstr,1,8) == &quot;![CDATA[&quot; then
                -- CDATA
                match,endmatch,text = string.find(str,self._CDATA,pos)
                if not match then 
                    self:_err(self._errstr.cdataErr,pos)
                end 
                if self._handler.cdata then
                    self._handler:cdata(text,nil,match,endmatch)
                end
            else
                -- Normal tag

                -- Need check for embedded '&gt;' in attribute value and extend
                -- match recursively if necessary eg. &lt;tag attr=&quot;123&gt;456&quot;&gt; 

                while 1 do
                    errstart,errend = string.find(tagstr,self._ATTRERR1)
                    if errend == nil then
                        errstart,errend = string.find(tagstr,self._ATTRERR2)
                        if errend == nil then
                            break
                        end
                    end
                    extstart,extend,endt2 = string.find(str,self._TAGEXT,endmatch+1)
                    tagstr = tagstr .. string.sub(string,endmatch,extend-1)
                    if not match then 
                        self:_err(self._errstr.xmlErr,pos)
                    end 
                    endmatch = extend
                end 

                -- Extract tagname/attrs
                
                tagname,attrs = self:_parseTag(tagstr) 

                if (endt1==&quot;/&quot;) then
                    -- End tag
                    if self._handler.endtag then
                        if attrs then
                            -- Shouldnt have any attributes in endtag
                            self:_err(string.format(&quot;%s (/%s)&quot;,
                                             self._errstr.endTagErr,
                                             tagname)
                                        ,pos)
                        end
                        if table.remove(self._stack) ~= tagname then
                            self:_err(string.format(&quot;%s (/%s)&quot;,
                                             self._errstr.unmatchedTagErr,
                                             tagname)
                                        ,pos)
                        end
                        self._handler:endtag(tagname,nil,match,endmatch)
                    end
                else
                    -- Start Tag
                    table.insert(self._stack,tagname)
                    if self._handler.starttag then
                        self._handler:starttag(tagname,attrs,match,endmatch)
                    end
                    --TODO: Tags com fechamento automático estão sendo
                    --retornadas como uma tabela, o que complica
                    --para a app NCLua tratar isso. É preciso
                    --fazer com que seja retornado um campo string vazio.
                    -- Self-Closing Tag
                    if (endt2==&quot;/&quot;) then
                        table.remove(self._stack)
                        if self._handler.endtag then
                            self._handler:endtag(tagname,nil,match,endmatch)
                        end
                    end
                end
            end
            pos = endmatch + 1
        end
    end

    -- Private attribures/functions

    obj._handler    = handler
    obj._stack      = {}

    obj._XML        = '^([^&lt;]*)&lt;(%/?)([^&gt;]-)(%/?)&gt;'
    obj._ATTR1      = '([%w-:_]+)%s*=%s*&quot;(.-)&quot;'
    obj._ATTR2      = '([%w-:_]+)%s*=%s*\'(.-)\''
    obj._CDATA      = '&lt;%!%[CDATA%[(.-)%]%]&gt;'
    obj._PI         = '&lt;%?(.-)%?&gt;'
    obj._COMMENT    = '&lt;!%-%-(.-)%-%-&gt;'
    obj._TAG        = '^(.-)%s.*'
    obj._LEADINGWS  = '^%s+'
    obj._TRAILINGWS = '%s+$'
    obj._WS         = '^%s*$'
    obj._DTD1       = '&lt;!DOCTYPE%s+(.-)%s+(SYSTEM)%s+[&quot;\'](.-)[&quot;\']%s*(%b[])%s*&gt;'
    obj._DTD2       = '&lt;!DOCTYPE%s+(.-)%s+(PUBLIC)%s+[&quot;\'](.-)[&quot;\']%s+[&quot;\'](.-)[&quot;\']%s*(%b[])%s*&gt;'
    obj._DTD3       = '&lt;!DOCTYPE%s+(.-)%s*(%b[])%s*&gt;'
    obj._DTD4       = '&lt;!DOCTYPE%s+(.-)%s+(SYSTEM)%s+[&quot;\'](.-)[&quot;\']%s*&gt;'
    obj._DTD5       = '&lt;!DOCTYPE%s+(.-)%s+(PUBLIC)%s+[&quot;\'](.-)[&quot;\']%s+[&quot;\'](.-)[&quot;\']%s*&gt;'

    obj._ATTRERR1   = '=%s*&quot;[^&quot;]*$'
    obj._ATTRERR2   = '=%s*\'[^\']*$'
    obj._TAGEXT     = '(%/?)&gt;'

    obj._ENTITIES = { [&quot;&amp;lt;&quot;] = &quot;&lt;&quot;,
                      [&quot;&amp;gt;&quot;] = &quot;&gt;&quot;,
                      [&quot;&amp;amp;&quot;] = &quot;&amp;&quot;,
                      [&quot;&amp;quot;&quot;] = '&quot;',
                      [&quot;&amp;apos;&quot;] = &quot;'&quot;,
                      [&quot;&amp;#(%d+);&quot;] = function (x) 
                                        local d = tonumber(x)
                                        if d &gt;= 0 and d &lt; 256 then
                                            return string.char(d) 
                                        else
                                            return &quot;&amp;#&quot;..d..&quot;;&quot;
                                        end
                                     end,
                      [&quot;&amp;#x(%x+);&quot;] = function (x) 
                                        local d = tonumber(x,16)
                                        if d &gt;= 0 and d &lt; 256 then
                                            return string.char(d) 
                                        else
                                            return &quot;&amp;#x&quot;..x..&quot;;&quot;
                                        end
                                      end,
                    }

    obj._err = function(self,err,pos)
                   if self.options.errorHandler then
                       self.options.errorHandler(err,pos)
                   end
               end
            
    obj._errstr = { xmlErr = &quot;Error Parsing XML&quot;,
                    declErr = &quot;Error Parsing XMLDecl&quot;,
                    declStartErr = &quot;XMLDecl not at start of document&quot;,
                    declAttrErr = &quot;Invalid XMLDecl attributes&quot;,
                    piErr = &quot;Error Parsing Processing Instruction&quot;,
                    commentErr = &quot;Error Parsing Comment&quot;,
                    cdataErr = &quot;Error Parsing CDATA&quot;,
                    dtdErr = &quot;Error Parsing DTD&quot;,
                    endTagErr = &quot;End Tag Attributes Invalid&quot;,
                    unmatchedTagErr = &quot;Unbalanced Tag&quot;,
                    incompleteXmlErr = &quot;Incomplete XML Document&quot;,
                  }

    obj._stripWS = function(self,s)
        if self.options.stripWS then
            s = string.gsub(s,'^%s+','')
            s = string.gsub(s,'%s+$','')
        end
        return s
    end

    obj._parseEntities = function(self,s) 
        if self.options.expandEntities then
            --for k,v in self._ENTITIES do
            for k,v in pairs(self._ENTITIES) do
                --print (k, v) 
                s = string.gsub(s,k,v)
            end
        end
        return s
    end
            
    obj._parseDTD = function(self,s,pos)
        -- match,endmatch,root,type,name,uri,internal
        local m,e,r,t,n,u,i
        m,e,r,t,u,i = string.find(s,self._DTD1,pos)
        if m then
            return m,e,{_root=r,_type=t,_uri=u,_internal=i} 
        end
        m,e,r,t,n,u,i = string.find(s,self._DTD2,pos)
        if m then
            return m,e,{_root=r,_type=t,_name=n,_uri=u,_internal=i} 
        end
        m,e,r,i = string.find(s,self._DTD3,pos)
        if m then
            return m,e,{_root=r,_internal=i} 
        end
        m,e,r,t,u = string.find(s,self._DTD4,pos)
        if m then
            return m,e,{_root=r,_type=t,_uri=u} 
        end
        m,e,r,t,n,u = string.find(s,self._DTD5,pos)
        if m then
            return m,e,{_root=r,_type=t,_name=n,_uri=u} 
        end
        return nil
    end

    ---Parses a string representing a tag
    --@param s String containing tag text
    --@return Returns a string containing the tagname and a table attrs
    --containing the atributtes of tag
    obj._parseTag = function(self,s)
        local attrs = {}            
        local tagname = string.gsub(s,self._TAG,'%1')
        string.gsub(s,self._ATTR1,function (k,v) 
                                attrs[string.lower(k)]=self:_parseEntities(v)
                                attrs._ = 1 
                           end) 
        string.gsub(s,self._ATTR2,function (k,v) 
                                attrs[string.lower(k)]=self:_parseEntities(v)
                                attrs._ = 1 
                           end) 
        if attrs._ then
            attrs._ = nil
        else 
            attrs = nil
        end
        return tagname,attrs
    end
            
    return obj

end

--- HANDLER.Lua
--
--  Overview:
--  =========
--      Standard XML event handler(s) for XML parser module (xml.lua)
--  
--  Features:
--  =========
--      printHandler        - Generate XML event trace
--      domHandler          - Generate DOM-like node tree
--      simpleTreeHandler   - Generate 'simple' node tree
--  
--  API:
--  ====
--      Must be called as handler function from xmlParser
--      and implement XML event callbacks (see xmlParser.lua 
--      for callback API definition)
--
--      printHandler:
--      -------------
--
--      printHandler prints event trace for debugging
--
--      domHandler:
--      -----------
--
--      domHandler generates a DOM-like node tree  structure with 
--      a single ROOT node parent - each node is a table comprising 
--      fields below.
--  
--      node = { _name = &lt;Element Name&gt;,
--              _type = ROOT|ELEMENT|TEXT|COMMENT|PI|DECL|DTD,
--              _attr = { Node attributes - see callback API },
--              _parent = &lt;Parent Node&gt;
--              _children = { List of child nodes - ROOT/NODE only }
--            }
--
--      The dom structure is capable of representing any valid XML document
--
--      simpleTreeHandler
--      -----------------
--
--      simpleTreeHandler is a simplified handler which attempts 
--      to generate a more 'natural' table based structure which
--      supports many common XML formats. 
--      
--      The XML tree structure is mapped directly into a recursive
--      table structure with node names as keys and child elements
--      as either a table of values or directly as a string value
--      for text. Where there is only a single child element this
--      is inserted as a named key - if there are multiple
--      elements these are inserted as a vector (in some cases it
--      may be preferable to always insert elements as a vector
--      which can be specified on a per element basis in the
--      options).  Attributes are inserted as a child element with
--      a key of '_attr'. 
--      
--      Only Tag/Text &amp; CDATA elements are processed - all others
--      are ignored.
--      
--      This format has some limitations - primarily
--  
--      * Mixed-Content behaves unpredictably - the relationship 
--        between text elements and embedded tags is lost and 
--        multiple levels of mixed content does not work
--      * If a leaf element has both a text element and attributes
--        then the text must be accessed through a vector (to
--        provide a container for the attribute)
--
--      In general however this format is relatively useful. 
--
--      It is much easier to understand by running some test
--      data through 'textxml.lua -simpletree' than to read this)
--
--  Options
--  =======
--      simpleTreeHandler.options.noReduce = { &lt;tag&gt; = bool,.. }
--
--          - Nodes not to reduce children vector even if only 
--            one child
--
--      domHandler.options.(comment|pi|dtd|decl)Node = bool 
--          
--          - Include/exclude given node types
--  
--  Usage
--  =====
--      Pased as delegate in xmlParser constructor and called 
--      as callback by xmlParser:parse(xml) method.
--
--      See textxml.lua for examples
--  License:
--  ========
--
--      This code is freely distributable under the terms of the Lua license
--      (&lt;a href=&quot;http://www.lua.org/copyright.html&quot;&gt;http://www.lua.org/copyright.html&lt;/a&gt;)
--
--  History
--  =======
--  $Id: handler.lua,v 1.1.1.1 2001/11/28 06:11:33 paulc Exp $
--
--  $Log: handler.lua,v $
--  Revision 1.1.1.1  2001/11/28 06:11:33  paulc
--  Initial Import
--@author Paul Chakravarti (paulc@passtheaardvark.com)&lt;p/&gt;


---Handler to generate a string prepresentation of a table
--Convenience function for printHandler (Does not support recursive tables).
--@param t Table to be parsed
--@returns Returns a string representation of table
function showTable(t)
    local sep = ''
    local res = ''
    if type(t) ~= 'table' then
        return t
    end
    for k,v in pairs(t) do
        if type(v) == 'table' then 
            v = showTable(v)
        end
        res = res .. sep .. string.format(&quot;%s=%s&quot;,k,v)    
        sep = ','
    end
    res = '{'..res..'}'
    return res
end
        
---Handler to generate a simple event trace
printHandler = function()
    local obj = {}
    obj.starttag = function(self,t,a,s,e) 
        io.write(&quot;Start    : &quot;..t..&quot;\n&quot;) 
        if a then 
            for k,v in pairs(a) do 
                io.write(string.format(&quot; + %s='%s'\n&quot;,k,v))
            end 
        end
    end
    obj.endtag = function(self,t,s,e) 
        io.write(&quot;End      : &quot;..t..&quot;\n&quot;) 
    end
    obj.text = function(self,t,s,e)
        io.write(&quot;Text     : &quot;..t..&quot;\n&quot;) 
    end
    obj.cdata = function(self,t,s,e)
        io.write(&quot;CDATA    : &quot;..t..&quot;\n&quot;) 
    end
    obj.comment = function(self,t,s,e)
        io.write(&quot;Comment  : &quot;..t..&quot;\n&quot;) 
    end
    obj.dtd = function(self,t,a,s,e)     
        io.write(&quot;DTD      : &quot;..t..&quot;\n&quot;) 
        if a then 
            for k,v in pairs(a) do 
                io.write(string.format(&quot; + %s='%s'\n&quot;,k,v))
            end 
        end
    end
    obj.pi = function(self,t,a,s,e) 
        io.write(&quot;PI       : &quot;..t..&quot;\n&quot;)
        if a then 
            for k,v in pairs(a) do 
               io. write(string.format(&quot; + %s='%s'\n&quot;,k,v))
            end 
        end
    end
    obj.decl = function(self,t,a,s,e) 
        io.write(&quot;XML Decl : &quot;..t..&quot;\n&quot;)
        if a then 
            for k,v in pairs(a) do 
                io.write(string.format(&quot; + %s='%s'\n&quot;,k,v))
            end 
        end
    end
    return obj
end


--Obtém a primeira chave de uma tabela
--@param Tabela de onde deverá ser obtido o primeiro elemento
--@return Retorna a primeira chave da tabela
local function getFirstKey(tb)
   if type(tb) == &quot;table&quot; then
       --O uso da função next não funciona para pegar o primeiro elemento. Trava aqui 
      --k, v = next(tb)
      --return k
      for k, v in pairs(tb) do
          return k
      end
      return nil
   else
     return tb
   end
end

---Handler to generate a lua table from a XML content string
function simpleTreeHandler()
    local obj = {}
    
    obj.root = {} 
    obj.stack = {obj.root;n=1}
    obj.options = {noreduce = {}}

    obj.reduce = function(self,node,key,parent)
        -- Recursively remove redundant vectors for nodes
        -- with single child elements
        for k,v in pairs(node) do
            if type(v) == 'table' then
                self:reduce(v,k,node)
            end
        end
        if table.getn(node) == 1 and not self.options.noreduce[key] and 
            node._attr == nil then
            parent[key] = node[1]
        else
            node.n = nil
        end
    end
        
    --@param t Table that represents a XML tag
    --@param a Attributes table (_attr)
    obj.starttag = function(self,t,a)
        local node = {}
        if self.parseAttributes == true then
           node._attr=a
        end
        
        local current = self.stack[table.getn(self.stack)]
        if current[t] then
            table.insert(current[t],node)
        else
            current[t] = {node;n=1}
        end
        table.insert(self.stack,node)
    end

    --@param t Tag name
    obj.endtag = function(self,t,s)
        --Tabela que representa a tag atualmente sendo processada
        local current = self.stack[table.getn(self.stack)]
        --Tabela que representa a tag na qual a tag
        --atual está contida.
        local prev = self.stack[table.getn(self.stack)-1]
        if not prev[t] then
            error(&quot;XML Error - Unmatched Tag [&quot;..s..&quot;:&quot;..t..&quot;]\n&quot;)
        end
        if prev == self.root then
            -- Once parsing complete recursively reduce tree
            self:reduce(prev,nil,nil)
        end
        
        local firstKey = getFirstKey(current)
        --Se a primeira chave da tabela que representa
        --a tag  atual não possui nenhum elemento,
        --é porque não há nenhum valor associado à tag
        -- (como nos casos de tags automaticamente fechadas como &lt;senha /&gt;).
        --Assim, atribui uma string vazia a mesma para
        --que seja retornado vazio no lugar da tag e não
        --uma tabela. Retornando uma string vazia
        --simplifica para as aplicações NCLua
        --para imprimir tal valor.
        if firstKey == nil then
           current[t] = &quot;&quot;
           prev[t] = &quot;&quot;
        end
         
        table.remove(self.stack)
    end
    
    obj.text = function(self,t)
        local current = self.stack[table.getn(self.stack)]
        table.insert(current,t)
    end

    obj.cdata = obj.text

    return obj
end

--- domHandler
function domHandler() 
    local obj = {}
    obj.options = {commentNode=1,piNode=1,dtdNode=1,declNode=1}
    obj.root = { _children = {n=0}, _type = &quot;ROOT&quot; }
    obj.current = obj.root
    obj.starttag = function(self,t,a)
            local node = { _type = 'ELEMENT', 
                           _name = t, 
                           _attr = a, 
                           _parent = self.current, 
                           _children = {n=0} }
            table.insert(self.current._children,node)
            self.current = node
    end
    obj.endtag = function(self,t,s)
            if t ~= self.current._name then
                error(&quot;XML Error - Unmatched Tag [&quot;..s..&quot;:&quot;..t..&quot;]\n&quot;)
            end
            self.current = self.current._parent
    end
    obj.text = function(self,t)
            local node = { _type = &quot;TEXT&quot;, 
                           _parent = self.current, 
                           _text = t }
            table.insert(self.current._children,node)
    end
    obj.comment = function(self,t)
            if self.options.commentNode then
                local node = { _type = &quot;COMMENT&quot;, 
                               _parent = self.current, 
                               _text = t }
                table.insert(self.current._children,node)
            end
    end
    obj.pi = function(self,t,a)
            if self.options.piNode then
                local node = { _type = &quot;PI&quot;, 
                               _name = t,
                               _attr = a, 
                               _parent = self.current } 
                table.insert(self.current._children,node)
            end
    end
    obj.decl = function(self,t,a)
            if self.options.declNode then
                local node = { _type = &quot;DECL&quot;, 
                               _name = t,
                               _attr = a, 
                               _parent = self.current }
                table.insert(self.current._children,node)
            end
    end
    obj.dtd = function(self,t,a)
            if self.options.dtdNode then
                local node = { _type = &quot;DTD&quot;, 
                               _name = t,
                               _attr = a, 
                               _parent = self.current }
                table.insert(self.current._children,node)
            end
    end
    obj.cdata = obj.text
    return obj
end




</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>[d] utility</name>
                            <packageName></packageName>
                            <script>rss = rss or {}

function rss.copy( master )
	local tablen = {}
	for k, v in pairs( master ) do 
		if type( v ) == &quot;table&quot; then
			tablen[k] = rss.copy( v )
		else
			tablen[k] = v 
		end
	end
	return tablen
end</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>[d] rss</name>
                            <packageName></packageName>
                            <script>rss = rss or {}
rss.allow = rss.allow or true
rss.interval = 300
rss.get_timer = rss.get_timer or &quot;&quot;
rss.display_timer = rss.display_timer or &quot;&quot;
rss.tablen = rss.tablen or {}

rss.feeds = {
	&quot;http://rss.nytimes.com/services/xml/rss/nyt/World.xml&quot;,
	&quot;http://feeds.lifehacker.com.au/lifehackeraustralia&quot;,
	&quot;http://feeds2.feedburner.com/TheArtOfManliness&quot;,
}

function rss.get()
	if rss.allow then
		rss.locale = getMudletHomeDir()..&quot;/rss&quot;

		if not downloadFile then
			cecho(&quot;\nYour version of Mudlet doesn't support downloading files - please upgrade to 2.0+&quot;)
		else
			local feed = rss.feeds[1]
			cecho(&quot;\n&lt;red&gt;Downloading RSS file from &quot;..feed..&quot;&lt;gray&gt;&quot;)
			downloadFile( rss.locale, feed )
			
			table.insert( rss.feeds, feed )
			table.remove( rss.feeds, 1 )
		end
	end
end

function rss.display()
	if #rss.tablen &gt; 0 then

		local tablen = rss.tablen[1]
		local head = tablen[1]
		local link = tablen[2]
		cecho(&quot;[&lt;cadet_blue&gt;NEWS&lt;gray&gt;]: &quot;..head..&quot; (&quot;)
		echoLink(&quot;Click for more info:&quot;, [[openUrl(&quot;]]..link..[[&quot;)]], head)
		cecho(&quot;)&quot;)

		table.remove( rss.tablen, 1 )	

		killTimer(rss.display_timer)
		rss.display_timer = tempTimer( rss.interval, function() rss.display() end )
	end
end

function rss.stop()
	killTimer(rss.display_timer)
	killTimer(rss.get_timer)
	cecho(&quot;\nStopped RSS Feeds.&quot;)
end</script>
                            <eventHandlerList/>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>rss.complete</name>
                            <packageName></packageName>
                            <script>
function rss.complete(_, filename)
	if not io.exists(filename) then return end

	if filename == tostring( rss.locale ) then   
		local f, s = io.open( filename )
		if f then s = f:read(&quot;*a&quot;); io.close(f) end
		-- cecho(&quot;\n&lt;red&gt;Excellent&lt;gray&gt;.&quot;)

		local h = simpleTreeHandler()
		local x = xmlParser1(h)

		x.options.stripWS = true

		x:parse(s)

		local product = x._handler.root.rss.channel.item

		local count, tablen = 0, {}
		for i=1, #product do
			count = count + 1
			local link = product[i].link
			local head = product[i].title
			head = head:gsub(&quot;â&quot;, &quot;'&quot;)
			head = head:gsub(&quot;[^%w%p ]+&quot;, &quot;&quot;)
			table.insert( tablen, { head, link } )
		end

		for i=1, #tablen do
			local head = tablen[i][1]
			local link = tablen[i][2]
			-- cecho(&quot;\n&quot;..head..&quot; (&quot;)
			-- echoLink(&quot;Click for more info:&quot;, [[send(]]..link..[[)]], head)
			-- cecho(&quot;)&quot;)
		end
	
		rss.tablen = rss.copy(tablen)
		cecho(&quot;\nLoaded RSS Table. Items: &quot;..count)

		count = count * rss.interval
		killTimer( rss.display_timer )
		killTimer( rss.get_timer ) 
		rss.get_timer = tempTimer( count, function() rss.get() end )

		rss.display()

		os.remove(filename)
	end
end
</script>
                            <eventHandlerList>
                                <string>sysDownloadDone</string>
                            </eventHandlerList>
                        </Script>
                    </ScriptGroup>
                </ScriptGroup>
                <ScriptGroup isActive="yes" isFolder="yes">
                    <name>smithing</name>
                    <packageName></packageName>
                    <script></script>
                    <eventHandlerList/>
                    <Script isActive="yes" isFolder="no">
                        <name>[d] smithing</name>
                        <packageName></packageName>
                        <script>-- instantiate
smithing = smithing or {}

-- options
smithing.use_crystehl = true
smithing.valid_containers = {
	&quot;259200&quot;,
	&quot;280619&quot;,
}

-- variables
smithing.on = smithing.on or false
smithing.forge_fired = smithing.forge_fired or false
smithing.queue = smithing.queue or {}
smithing.item = smithing.item or {}
smithing.containers = smithing.containers or {}


smithing.locations = {
	Khandava = &quot;15311&quot;,
	Stavenn = &quot;5488&quot;,
	Ithaqua = &quot;15637&quot;,
	Kinsarmar = &quot;13497&quot;,
	Antioch = &quot;20761&quot;,
	Celidon = &quot;7689&quot;,
}

smithing.defaults = {
	AM = &quot;Antioch&quot;,
	D = &quot;Khandava&quot;,
	M = &quot;Kinsarmar&quot;,
	loc = &quot;15311&quot;,
}

-- note: stehl is maintained as the baseline commodity, so leave it at the minimum number of comms required
--     : the function will attempt to use other commodities first, then use stehl to make up the minimum required
smithing.reqs = {

	fullplate = { crystehl = 1, stehl = 80, }, -- 80
	fieldplate = { crystehl = 1, stehl = 34, }, -- 34
	splintmail = { crystehl = 1, stehl = 18, }, -- 18
	chainmail = { crystehl = 1, stehl = 12, }, -- 12
	scalemail = { crystehl = 1, stehl = 6, }, -- 6
	ringmail = { crystehl = 1, stehl = 4, }, -- 4
	leatherarmour = { crystehl = 1, stehl = 3, }, -- 3

	towershield = { crystehl = 1, stehl = 9, }, -- 9
	kiteshield = { crystehl = 1, stehl = 5, }, -- 5
	bandedshield = { crystehl = 1, stehl = 2, }, -- 2
	calvaryshield = { crystehl = 1, stehl = 1, }, -- 1
	buckler = { crystehl = 1, stehl = 1, }, -- 1

	plategreaves = { crystehl = 1, stehl = 5, }, -- 5
	platehelmet = { crystehl = 1, stehl = 4, }, -- 4
	platevambraces = { crystehl = 1, stehl = 4, }, -- 4
	chainmailgreaves = { crystehl = 1, stehl = 4, }, -- 4
	chainmailhelmet = { crystehl = 1, stehl = 3, }, -- 3
	chainmailvambraces = { crystehl = 1, stehl = 3, }, -- 3
	leathergreaves = { crystehl = 1, stehl = 3, }, -- 3
	leathervambraces = { crystehl = 1, stehl = 2, }, -- 2
	leatherhelmet = { crystehl = 1, stehl = 2, }, -- 2
	
	claymore = { crystehl = 1, stehl = 9, }, -- 9
	longsword = { crystehl = 1, stehl = 8, }, -- 8
	broadsword = { crystehl = 1, stehl = 8, }, -- 8
	scimitar = { crystehl = 1, stehl = 8, }, -- 8
	battleaxe = { crystehl = 1, stehl = 7, }, -- 7
	bardiche = { crystehl = 1, stehl = 6, }, -- 6
	morningstar = { crystehl = 1, stehl = 6, }, -- 6
	flail = { crystehl = 1, stehl = 6, }, -- 6
	halberd = { crystehl = 1, stehl = 5, }, -- 5
	warhammer = { crystehl = 1, stehl = 5, }, -- 5
	sabre = { crystehl = 1, stehl = 5, }, -- 5
	mace = { crystehl = 1, stehl = 4, }, -- 4
	spear = { crystehl = 1, stehl = 4, }, -- 4
	trident = { crystehl = 1, stehl = 4, }, -- 4
	handaxe = { crystehl = 1, stehl = 3, }, -- 3
	shortsword = { crystehl = 1, stehl = 2, }, -- 2
	dirk = { crystehl = 1, stehl = 2, }, -- 2
	club = { crystehl = 1, stehl = 1, }, -- 1
	dagger = { crystehl = 1, stehl = 1, }, -- 1
	whip = { crystehl = 1, stehl = 1, }, -- 1
	javelin = { crystehl = 1, stehl = 1, }, -- 1
}

function smithing.round_down( arg, places )
	return math.floor(arg * math.pow(10,places)) / math.pow(10,places)
end</script>
                        <eventHandlerList/>
                    </Script>
                    <Script isActive="yes" isFolder="no">
                        <name>functions</name>
                        <packageName></packageName>
                        <script>
function smithing.display()
	if smithing.queue[1] then
		cecho(&quot;\n&lt;maroon&gt;Making these smithing items: &quot;)
		local type, last_type, count, last_count = &quot;&quot;, &quot;&quot;, 0, 0
		local queue = {}
		for i=1, #smithing.queue do
			last_type = type --&lt; save the last_type
			last_count = count
			type = smithing.queue[i][1] 
			if i ~= 1 and type ~= last_type then
				-- insert this type into the queue
				table.insert( queue, last_count..&quot; &quot;..last_type )
				count = 1
			elseif i == #smithing.queue then
				count = count + 1
				table.insert( queue, count..&quot; &quot;..type )
			elseif i == 1 then
				count = 1
			else
				count = count + 1
			end
		end 
		local str = &quot;&quot;
		for i=1, #queue do
			str = str..&quot;\n * &quot;..queue[i]
		end
		local duration = smithing.round_down( 20 * #smithing.queue / 60, 2 )
		str = str..&quot;\n&lt;green&gt;Rough turnaround time: &quot;..duration..&quot; minutes.&quot;
		cecho(str)
	else
		cecho(&quot;\n&lt;red&gt;No Smithing Items Waiting to be Made.&quot;)
	end
end

function smithing.options()
	local str = &quot;&lt;maroon&gt;Smithing Syntaxes: &lt;grey&gt;&quot;

	local output = {}
	for k, v in pairs( smithing.reqs ) do

		local count = v.stehl

		local temporary = { k, v } display(temporary)

		if #output &gt; 0 then
			for i=1, #output do
				if v.stehl &lt; output[i][2].stehl then display(v.stehl) display( output[i][2].stehl )
					table.insert( output, i, temporary )
					break
				elseif i == #output then
					table.insert( output, temporary )
				end
			end
		else
			table.insert( output, temporary )
		end
	end

	local category, last_category = &quot;&quot;, &quot;&quot;
	for i=1, #output do
		last_category = category --&lt;
		category = output[i][2].stehl
		if category ~= last_category or last_category == &quot;&quot; then
			str = str..&quot;\n&quot;
			str = str..&quot;\n&lt;green&gt;&quot;..category..&quot;&lt;maroon&gt; ingots required&quot;
			str = str..&quot;\n&lt;maroon&gt;==================&lt;grey&gt;&quot;
			str = str..&quot;\n * &quot;..output[i][1]
		elseif i == #output then
			str = str..&quot;\n * &quot;..output[i]	[1]
		else
			str = str..&quot;\n * &quot;..output[i]	[1]
		end
	end
	cecho(str)
end

function smithing.add( item, number, ingots )
	if ingots and type(ingots) == &quot;table&quot; then
		for i=1, number do
			table.insert( smithing.queue, { item, ingots } )
		end
	else
		local ingot = smithing.reqs[item]
		for i=1, number do
			table.insert( smithing.queue, { item, ingot } )
		end
	end

	cecho(&quot;\n&lt;green&gt;Added &quot;..number..&quot; &quot;..item..&quot;s to the Smithing Queue.&quot;)
end

function smithing.make( item, number, ingots )
	smithing.queue = {}
	if ingots and type(ingots) == &quot;table&quot; then
		for i=1, number do
			table.insert( smithing.queue, { item, ingots } )
		end
	else
		local ingot = smithing.reqs[item]
		for i=1, number do
			table.insert( smithing.queue, { item, ingot } )
		end
	end

	cecho(&quot;\n&lt;green&gt;Added &quot;..number..&quot; &quot;..item..&quot;s to the Smithing Queue.&quot;)

	smithing.next()
end

function smithing.next()
	-- add 1 stehl to forge
	if smithing.queue[1] then
		local str = &quot;&quot;
		local item = smithing.queue[1][1]
		local ingots = smithing.queue[1][2]
		local make = smithing.reqs[item] 
		local crystehl, orichalcum, veritum, bone, stehl, rahnse, cuhpfehr, isan, sinn = 0,0,0,0,0,0,0,0,0
	
		if ingots.crystehl then 
			crystehl = ingots.crystehl 
		elseif make and make.crystehl then
			crystehl = make.crystehl
		end
		if ingots.orichalcum then 
			orichalcum = ingots.orichalcum 
		elseif make and make.orichalcum then
			orichalcum = make.orichalcum
		end
		if ingots.veritum then 
			veritum = ingots.veritum 
		elseif make and make.veritum then
			veritum = make.veritum
		end
		if ingots.bone then 
			bone = ingots.bone 
		elseif make and make.bone then
			bone = make.bone
		end
		if ingots.rahnse then 
			rahnse = ingots.rahnse 
		elseif make and make.rahnse then
			rahnse = make.rahnse
		end
		if ingots.cuhpfehr then 
			cuhpfehr = ingots.cuhpfehr 
		elseif make and make.cuhpfehr then
			cuhpfehr = make.cuhpfehr
		end
		if ingots.isan then 
			isan = ingots.isan 
		elseif make and make.isan then
			isan = make.isan
		end
		if ingots.sinn then 
			sinn = ingots.sinn 
		elseif make and make.sinn then
			sinn = make.sinn
		end
		if ingots.stehl then 
			stehl = ingots.stehl 
		elseif make and make.stehl then
			stehl = make.stehl
			stehl = stehl - crystehl - orichalcum - veritum - bone - rahnse - cuhpfehr - isan - sinn
		end

		local count = stehl + crystehl + orichalcum + veritum + bone + rahnse + cuhpfehr + isan + sinn 
		if count &lt; make.stehl then 
			stehl = make.stehl - count + stehl
		end
		
		smithing.item = {}
		if crystehl &gt; 0 then table.insert( smithing.item, &quot;queue eqbal add &quot;..crystehl..&quot; crystehl to forge&quot; ) end
		if orichalcum &gt; 0 then table.insert( smithing.item, &quot;queue eqbal add &quot;..orichalcum..&quot; orichalcum to forge&quot; ) end
		if veritum &gt; 0 then table.insert( smithing.item, &quot;queue eqbal add &quot;..veritum..&quot; veritum to forge&quot; ) end
		if bone &gt; 0 then table.insert( smithing.item, &quot;queue eqbal add &quot;..bone..&quot; bone to forge&quot; ) end
		if rahnse &gt; 0 then table.insert( smithing.item, &quot;queue eqbal add &quot;..rahnse..&quot; rahnse to forge&quot; ) end
		if cuhpfehr &gt; 0 then table.insert( smithing.item, &quot;queue eqbal add &quot;..cuhpfehr..&quot; cuhpfehr to forge&quot; ) end
		if isan &gt; 0 then table.insert( smithing.item, &quot;queue eqbal add &quot;..isan..&quot; isan to forge&quot; ) end
		if sinn &gt; 0 then table.insert( smithing.item, &quot;queue eqbal add &quot;..sinn..&quot; sinn to forge&quot; ) end
		if stehl &gt; 0 then table.insert( smithing.item, &quot;queue eqbal add &quot;..stehl..&quot; stehl to forge&quot; ) end

		str = str..&quot;queue eqbal smith for &quot;..item
		if crystehl &gt; 0 then str = str..&quot; &quot;..crystehl..&quot; crystehl&quot; end
		if orichalcum &gt; 0 then str = str..&quot; &quot;..orichalcum..&quot; orichalcum&quot; end
		if veritum &gt; 0 then str = str..&quot; &quot;..veritum..&quot; veritum&quot; end
		if bone &gt; 0 then str = str..&quot; &quot;..bone..&quot; bone&quot; end
		if rahnse &gt; 0 then str = str..&quot; &quot;..rahnse..&quot; rahnse&quot; end
		if cuhpfehr &gt; 0 then str = str..&quot; &quot;..cuhpfehr..&quot; cuhpfehr&quot; end
		if isan &gt; 0 then str = str..&quot; &quot;..isan..&quot; isan&quot; end
		if sinn &gt; 0 then str = str..&quot; &quot;..sinn..&quot; sinn&quot; end
		if stehl &gt; 0 then str = str..&quot; &quot;..stehl..&quot; stehl&quot; end

		table.insert( smithing.item, str )
		table.insert( smithing.item, &quot;queue eqbal smith&quot; )

		local container = &quot;&quot;

		for i=1, #smithing.containers do 
			local tablen = smithing.containers[i]
			if #tablen.contents &lt; 50 then
				container = tablen.key
				break
			end
		end

		str = &quot;&quot;
		str = str..&quot;queue eqbal g &quot;..item..&quot; from forge&quot;..sp
		str = str..&quot;quench &quot;..item..sp
		str = str..&quot;ii &quot;..item..sp
		str = str..&quot;weaponprobe &quot;..item..sp
		str = str..&quot;put &quot;..item..&quot; in &quot;..container..sp
		table.insert( smithing.item, str )

		smithing.iterate()
	else
		cecho(&quot;\n&lt;red&gt;No Smithing Items to be Made.&quot;)
		cecho(&quot;\n&lt;red&gt;Queue Complete.&quot;)
	end
end

function smithing.iterate()
	if eden then
		eden.send( smithing.item[1] )
	else
		send( smithing.item[1] )
	end
end

function smithing.reset()
	smithing.queue = {}
	smithing.item = {}
	for i=1, #smithing.valid_containers do
		smithing.containers[i] = { key = smithing.valid_containers[i], contents = {} }
	end
	cecho(&quot;\n&lt;green&gt;Cleared Smithing Queue.&quot;)
end

</script>
                        <eventHandlerList/>
                    </Script>
                </ScriptGroup>
                <ScriptGroup isActive="no" isFolder="yes">
                    <name>quest</name>
                    <packageName></packageName>
                    <script>quest = quest or {}

quest.on = quest.on or false

quest.register = {
	&quot;slaves&quot;,
}

quest.pointers = quest.pointers or {}
quest.pointers.register = quest.pointers.register or 1

quest.sp = sp or &quot;|&quot;
quest.lockm = quest.lockm or false
quest.lockm_timer = quest.lockm_timer or 0
quest.moving = quest.moving or false

quest.here = quest.here or true

quest.t = quest.t or {}
quest.room = quest.room or 0
</script>
                    <eventHandlerList/>
                    <Script isActive="yes" isFolder="no">
                        <name>quest.slaves</name>
                        <packageName></packageName>
                        <script>quest.slaves = quest.slaves or {}

quest.slaves.on = quest.slaves.on or false
quest.slaves.pointer = quest.slaves.pointer or 1

quest.slaves.rlist = {
	303,
	339,
	3017,
	2979,
	2442,
	2444,
	8471,
	1615,
	13114,
}

quest.slaves.timer = function()
	if quest.slaves.on then
		local str = &quot;&quot; 
		if not quest.room or quest.room == 0 then 
			quest.t = {}
			quest.room = quest.next_room(quest.slaves.rlist) 
		end
		if quest.moving then -- do nothing
		else
			-- move
			if not quest.lockm then
				if gmcp.Room.Info.num == quest.slaves.rlist[#quest.slaves.rlist] then
					str = str..&quot;nod nigometh&quot;..quest.sp
				end
				str = str..&quot;say follow me&quot;..quest.sp
				str = str..&quot;path find &quot;..quest.room..quest.sp
				str = str..&quot;path go&quot;..quest.sp
				quest.lockm = true
				quest.lockm_timer = os.time()
			end 
		end
		if quest.lockm_timer ~= 0 and os.time() - quest.lockm_timer &gt; 1.2 then
			-- cecho(&quot;&lt;red&gt;\nResetting movement lockout&quot;)
			quest.lockm = false
			quest.lockm_timer = 0
		end
		if #quest.t &gt;= #quest.slaves.rlist then
			quest.t = {}
			quest.room = quest.next_room(quest.slaves.rlist)
		end
		if gmcp.Room.Info.name == &quot;In the chill grip of death&quot; then
		elseif gmcp.Room.Info.name == &quot;Wooden landing upon an expansive river&quot; then
		else
			send(str)
		end
	end
end

quest.next_room = function(list)
	local room = &quot;&quot;

	for i=1, #list do 
		local r = list[i]

		if not table.contains( quest.t, r ) then
			return r
		end
	end
end</script>
                        <eventHandlerList/>
                    </Script>
                    <Script isActive="yes" isFolder="no">
                        <name>timer</name>
                        <packageName></packageName>
                        <script>quest.timer = function()
	if quest.on then
		local q = quest.register[quest.pointers.register]
		quest[q].timer()
	end
end</script>
                        <eventHandlerList/>
                    </Script>
                    <Script isActive="yes" isFolder="no">
                        <name>quest.arrive</name>
                        <packageName></packageName>
                        <script>quest.arrive = function()
	if quest.on then

		if table.contains(quest.slaves.rlist, gmcp.Room.Info.num) and not table.contains(quest.t, gmcp.Room.Info.num) then
			table.insert( quest.t, gmcp.Room.Info.num )
			quest.room = quest.next_room(quest.slaves.rlist)
		elseif #quest.t &gt;= #quest[quest.pointers.register].rlist then
			quest.t = {}
			quest.room = quest.next_room(quest.slaves.rlist)
		end
	end
end</script>
                        <eventHandlerList>
                            <string>gmcp.Room.Info</string>
                        </eventHandlerList>
                    </Script>
                </ScriptGroup>
            </ScriptGroup>
            <Script isActive="yes" isFolder="no">
                <name>start</name>
                <packageName></packageName>
                <script>start = function()
	dbp.load()
	dbax.me_give()
	dbax.me_take()
	dbax.me_diag()
	dbax.m_give()
	dbax.m_take()
	dbax.herbs() 
	dbax.focus() 
	dbax.purge() 
	dbax.salve() 
	dbax.smoke() 
	dbax.tree()
	dbax.all()
	-- hard coded 
	dbax.hc()

	-- System management
	if mx and mx.check then mx.update(mx.time) end

	-- UI Management
	dbp.ui_make()
	dbp.ui_refresh()
	dbp.ui_make_()
	dbp.ui_refresh_()

	ui.draw()

	if class == &quot;Defiler&quot; then
		right = defiler.flail
		left = shield
	end

	if rss and rss.get then rss.get() end

	local str = &quot;&quot;

	str = str..&quot;join queue&quot;..sp

	msend(str)

	-- gmod.registerUser(me)
	-- gmod.enableModule(me, &quot;Comm.Channel&quot;)
	-- gmod.enableModule(me, &quot;Comm.Channel.Text&quot;)
	-- sendGMCP(&quot;Comm.Channel.Players&quot;)
	-- sendGMCP('Core.Supports.Add [&quot;Comm.Channel.Text 1&quot;]')
	-- gmod.reenableModules()
	-- gmod.printModules()

	quote.start()
end</script>
                <eventHandlerList/>
            </Script>
            <Script isActive="yes" isFolder="no">
                <name>msend</name>
                <packageName></packageName>
                <script>msend = function(...)
	if pause then
	else
		-- if not parry then parry
		-- if not mounted then mounted
		-- if chameleon then chameleon

		-- if queue eqbal then string.insert(&quot;eqbal %w+&quot;,free..sp) end
		send(...)
	end
end</script>
                <eventHandlerList/>
            </Script>
            <Script isActive="yes" isFolder="no">
                <name>_rebounding</name>
                <packageName></packageName>
                <script>_rebounding = function(name) 
	if eqbal ~= &quot;&quot; and string.match(eqbal,name) then
		local var = false
		if class == &quot;Amazon&quot; then
		elseif class == &quot;Monk&quot; then
		elseif class == &quot;Outrider&quot; then
		elseif class == &quot;Predator&quot; then
		elseif class == &quot;Priest&quot; then
		elseif class == &quot;Ranger&quot; then	
			if not string.match(eqbal,&quot;pierce&quot;) then var = true end
		elseif class == &quot;Templar&quot; then

		elseif class == &quot;Assassin&quot; then
			if not string.match(eqbal,&quot;flay&quot;) and not has(name,&quot;engulf&quot;) then var = true end
		elseif class == &quot;Deathknight&quot; then
			if not string.match(eqbal,&quot;rsl&quot;) then var = true end
		elseif class == &quot;Defiler&quot; then
			if not string.match(eqbal,&quot;devastate&quot;) then var = true end
		elseif class == &quot;Diabolist&quot; then
		elseif class == &quot;Summoner&quot; then
		elseif class == &quot;Wytch&quot; then

		elseif class == &quot;Bard&quot; then
		elseif class == &quot;Druid&quot; then
		elseif class == &quot;Hunter&quot; then
		elseif class == &quot;Mage&quot; then
		elseif class == &quot;Renegade&quot; then
		elseif class == &quot;Runeguard&quot; then

		else
		end
		
		if var then
			send(&quot;queue reset all&quot;)
		end
	end
end</script>
                <eventHandlerList/>
            </Script>
            <Script isActive="yes" isFolder="no">
                <name>test</name>
                <packageName></packageName>
                <script>test = function()
	local temp = &quot;&quot;
	local n = 0
	local nfx = function()
		n = n + 0.3
		return n
	end

	tempTimer(nfx(), function() cecho(sysfix..&quot;...&quot;) end)
	tempTimer(nfx(), function() cecho(sysfix..&quot;Checking MX module&quot;) 
								mx.test()
							end)
	tempTimer(nfx(), function() cecho(sysfix..&quot;...&quot;) end)
	tempTimer(nfx(), function() cecho(sysfix..&quot;...&quot;) end)
	tempTimer(nfx(), function() cecho(sysfix..&quot;Checking UI module&quot;) 
								ui.test()
							end)
	tempTimer(nfx(), function() cecho(sysfix..&quot;...&quot;) end)
	tempTimer(nfx(), function() cecho(sysfix..&quot;Checking OVERMIND module&quot;) 
								overmind.test()
							end)
	tempTimer(nfx(), function() cecho(sysfix..&quot;...&quot;) end)
	tempTimer(nfx(), function() cecho(sysfix..&quot;Checking report() function&quot;) 
								temp = pause
								pause = not temp
								report(&quot;Test&quot;)
								pause = temp
								report(&quot;Test&quot;)
								cecho(sysfix..&quot;  'pause' variable complete.&quot;)
								temp = share
								share = not temp
								report(&quot;Test&quot;)
								share = temp
								report(&quot;Test&quot;)
								cecho(sysfix..&quot;  'share' variable complete.&quot;)
								cecho(sysfix..&quot;report() check complete.&quot;)
							end)
	tempTimer(nfx(), function() cecho(sysfix..&quot;...&quot;) end)
	tempTimer(nfx(), function() cecho(sysfix..&quot;Checking ecopy() function&quot;) 
								local t = {&quot;a&quot;,&quot;b&quot;,&quot;c&quot;}
								local ct = ecopy(t)
								for k,v in pairs(ct) do
									cecho(sysfix..&quot;  Element: &quot;..tostring(v))
								end
								cecho(sysfix..&quot; ecopy() simple table complete&quot;)
								t = { {&quot;1&quot;,&quot;2&quot;,&quot;3&quot;},&quot;b&quot;,&quot;c&quot; }
								ct = ecopy(t)
								display(ct)
								cecho(sysfix..&quot; ecopy() tables complete&quot;)
							end)
	tempTimer(nfx(), function() cecho(sysfix..&quot;...&quot;) end)
	tempTimer(nfx(), function() cecho(sysfix..&quot;Tests complete.&quot;) end)

end</script>
                <eventHandlerList/>
            </Script>
        </ScriptGroup>
        <ScriptGroup isActive="yes" isFolder="yes">
            <name>medusa</name>
            <packageName></packageName>
            <script></script>
            <eventHandlerList/>
            <Script isActive="yes" isFolder="no">
                <name>[d]</name>
                <packageName></packageName>
                <script>medusa = medusa or {}

medusa.on = medusa.on or false
medusa.parry = medusa.parry or &quot;&quot;</script>
                <eventHandlerList/>
            </Script>
        </ScriptGroup>
        <Script isActive="yes" isFolder="no">
            <name>city</name>
            <packageName></packageName>
            <script>city = city or {}

city.funds = city.funds or {}
city.gold = city.gold or 0

city.materials = city.materials or &quot;&quot;

city.aides = city.aides or {}

city.mins = {
	architect = &quot;Imperial Architect&quot;,
	chancellor = &quot;Imperial Chancellor&quot;,
	clerk = &quot;Imperial Clerk&quot;,
	culture = &quot;Cultural Overseer&quot;,
	defense = &quot;Director of Defense&quot;,
	educator = &quot;Imperial Educator&quot;,
	general = &quot;Imperial General&quot;,
	judge = &quot;High Judge&quot;,
	merchant = &quot;Imperial Merchant&quot;,
	registrar = &quot;Grand Registrar&quot;,
}

city.minse = {
	architext = &quot;development&quot;,
	chancellor = &quot;chancellor&quot;,
	clerk = &quot;treasurer&quot;,
	culture = &quot;culture&quot;,
	defense = &quot;security&quot;,
	educator = &quot;&quot;,
	general = &quot;war&quot;,
	judge = &quot;&quot;,
	merchant = &quot;trade&quot;,
	registrar = &quot;ambassador&quot;,
}  

city.ministers = city.ministers or {}

city.townes = city.townes or {
	Annona = {
		Magistrate = &quot;&quot;,
		Bailiffs = &quot;&quot;,
	},
	Blackthorne = {
		Liege = &quot;&quot;,
		Pages = &quot;&quot;,
	},
	Cetara = {
		Doyen = &quot;&quot;,
		[&quot;Ritual Adjutants&quot;] = &quot;&quot;,
	},
	Kragge = {
		Overseer = &quot;&quot;,
		Keepers = &quot;&quot;,
	},
	Trevka = {
		Baron = &quot;&quot;,
		Corteges = &quot;&quot;,
	},
}

-- GOVERNORS NEEDED: Kragge, Trevka, Cetara
-- MINISTERS NEEDED: General, Clerk, Merchant</script>
            <eventHandlerList/>
        </Script>
        <ScriptGroup isActive="yes" isFolder="yes">
            <name>mudlet-mapper</name>
            <packageName>mudlet-mapper</packageName>
            <script></script>
            <eventHandlerList/>
            <ScriptGroup isActive="yes" isFolder="yes">
                <name>Mudlet Mapper</name>
                <packageName></packageName>
                <script>mudlet = mudlet or {}; mudlet.mapper_script = true</script>
                <eventHandlerList/>
                <Script isActive="yes" isFolder="no">
                    <name>Create Option Table</name>
                    <packageName></packageName>
                    <script>-------------------------------------------------
--         Put your Lua functions here.        --
--                                             --
-- Note that you can also use external Scripts --
-------------------------------------------------

function createOption(startingValue, onChangeFunc, allowedVarTypes, use)
	if allowedVarTypes then -- make sure our starting Value follows type rules
		if not table.contains(allowedVarTypes, type(startingValue)) then
			echo(&quot;Starting type is not of allowed type!\n&quot;)
			display(allowedVarTypes)
			echo(&quot;type: &quot; .. type(startingValue) .. &quot;\n&quot;)
			return
		end
	end

	local option = {
		value = startingValue,
		onChange = onChangeFunc,
		allowedVarTypes = allowedVarTypes,
		use = use or &quot;&quot;
	}

	return option
end

function createOptionsTable(defaultTable)
	local index = {} -- index to store the default table at in our proxy table


	local proxyTable = {} -- This is the table that is returned to the user

	proxyTable.disp = echo

	proxyTable.dispDefaultWriteError = function()
		echo(&quot;Can't overwrite default options. Please use the SetOption function to change the value\n&quot;)
	end

	proxyTable.dispOption = function(opt, val)
		if not opt or not val then return end
		echo(&quot;Name: &quot; .. string.title(opt) .. string.rep(&quot; &quot;, 10 - string.len(opt)))
		echo(&quot;Val: &quot; .. tostring(val.value))
		echo(string.rep(&quot; &quot;, 10 - string.len(tostring(val.value))) ..  &quot;- &quot; .. val.use .. &quot;\n&quot;)
	end

	function proxyTable:showAllOptions()
		proxyTable.disp(&quot;Available options: \n&quot;)
		for k, v in pairs(self[index]) do
			self.dispOption(k, v)
		end
		echo(&quot;\n&quot;)
		for k, v in pairs(self[&quot;_customOptions&quot;]) do
			self.dispOption(k, v)
		end

	end

	function proxyTable:getAllOptions()
		local t = {}
		for k, v in pairs(self[index]) do
			t[k] = v.value
		end

		return t
	end

   function proxyTable:setOption(option, value, silent)
		if self[option] == nil then
			proxyTable.disp(&quot;No such option!\n&quot;)
			return
		end

		-- otherwise, set the option
		if self[&quot;_customOptions&quot;][option] then
			if not table.contains(self[&quot;_customOptions&quot;][option].allowedVarTypes, type(value)) then
				proxyTable.disp(&quot;You can't set '&quot; .. option .. &quot;' to that!\n&quot;)
				return
			end
			self[&quot;_customOptions&quot;][option].value = value
			if self[&quot;_customOptions&quot;][option].onChange then
				self[&quot;_customOptions&quot;][option].onChange(option, value)
			end
		else
			if not table.contains(self[index][option].allowedVarTypes, type(value)) then
				proxyTable.disp(&quot;You can't set '&quot; .. option .. &quot;' to that!\n&quot;)
				return
			end
			rawset(self[index][option], &quot;value&quot;, value)
			local opt = rawget(self[index], option)
			if opt.onChange  and not silent then opt.onChange(option, value) end
		end
	end


	proxyTable._customOptions = {}

	local mt = {
		__index = function(t, k)
			local custOp = rawget(t, &quot;_customOptions&quot;)
			if custOp[k] then
			 	local opt = custOp[k]
				if opt then return opt.value else return nil end
			else
				local opt = t[index][k]
				if opt then return opt.value else return nil end
			end
		end,

		__newindex = function (t, k, v)
			if t[index][k] then
				proxyTable.dispDefaultWriteError()
			else
				t[&quot;_customOptions&quot;][k] = v
			end
		end
	}


	proxyTable[index] = defaultTable

	setmetatable(proxyTable, mt)

	return proxyTable

end</script>
                    <eventHandlerList/>
                </Script>
                <Script isActive="yes" isFolder="no">
                    <name>Load settings</name>
                    <packageName></packageName>
                    <script>-- mmp = mudlet mapper namespace
mmp = mmp or {
  paused = false,
  autowalking = false,
  currentroom = 0,
  currentroomname = &quot;(unknown)&quot;,
  firstRun = true,
  specials = {},
  ferry_rooms = {}
}

speedWalkWatch = createStopWatch()

-- populated by Mudlet from getPath() and gotoRoom()
speedWalkPath = speedWalkPath or {}
speedWalkDir = speedWalkDir or {}
speedWalkCounter = 0

-- actually used by the mapper for walking
mmp.speedWalkPath = mmp.speedWalkPath or {}
mmp.speedWalkDir = mmp.speedWalkDir or {}


local newversion = &quot;14.6.1&quot;
if mmp.version and mmp.version ~= newversion then
  if not mmp.game then mmp.echo(&quot;Mapper script updated - Thanks! I don't know what game are you connected to, though - so please reconnect, if you could.&quot;)
  else mmp.echo(&quot;Mapper script updated - thanks! You don't need to restart.&quot;) end
end
mmp.version = newversion

function mmp.startup()
  if not mmp.firstRun then
    return
  end

  local private_settings = {}
  private_settings[&quot;belt&quot;]          = createOption(false, mmp.setBelt, { &quot;boolean&quot; }, &quot;Make use of your Belt in Lusternia?&quot;)
  private_settings[&quot;blossom&quot;]       = createOption(false, mmp.setBlossom, { &quot;boolean&quot; }, &quot;Make use of your Flame of dae'Seren in Lusternia?&quot;)
  private_settings[&quot;bonecurio&quot;]     = createOption(false, mmp.setBonecurio, { &quot;boolean&quot; }, &quot;Make use of your Bone curios in Lusternia?&quot;)
  private_settings[&quot;caravan&quot;]       = createOption(false, mmp.changeBoolFunc,{ &quot;boolean&quot; }, &quot;Walk caravans?&quot;)
  private_settings[&quot;cookie&quot;]        = createOption(false, mmp.setCookie, { &quot;boolean&quot; }, &quot;Make use of your Cookie in Lusternia?&quot;)
  private_settings[&quot;crowdmap&quot;]      = createOption(false, mmp.chageMapSource, { &quot;boolean&quot; }, &quot;Use a crowd-sourced map instead of IREs default?&quot;)
  private_settings[&quot;cubix&quot;]         = createOption(false, mmp.setCubix, { &quot;boolean&quot; }, &quot;Make use of your Cubix in Lusternia?&quot;)
  private_settings[&quot;dash&quot;]          = createOption(false, mmp.changeBoolFunc, { &quot;boolean&quot; }, &quot;Use Dash?&quot;)
  private_settings[&quot;duanathar&quot;]     = createOption(false, mmp.setDuanathar, { &quot;boolean&quot; }, &quot;Use Eagle Wings in Achaea?&quot;)
  private_settings[&quot;duanatharan&quot;]   = createOption(false, mmp.setDuanatharan, { &quot;boolean&quot; }, &quot;Use Atavian Wings in Achaea?&quot;)
  private_settings[&quot;facecurio&quot;]     = createOption(false, mmp.setFacecurio, { &quot;boolean&quot; }, &quot;Make use of your Face curios in Lusternia?&quot;)
  private_settings[&quot;feathercurio&quot;]  = createOption(false, mmp.setFeathercurio, { &quot;boolean&quot; }, &quot;Make use of your Feather curios in Lusternia?&quot;)
  private_settings[&quot;figurecurio&quot;]   = createOption(false, mmp.setFigurecurio, { &quot;boolean&quot; }, &quot;Make use of your Figure curios in Lusternia?&quot;)
  private_settings[&quot;fingerblade&quot;]   = createOption(false, mmp.setFingerblade, { &quot;boolean&quot; }, &quot;Make use of your Fingerblade in Lusternia?&quot;)
  private_settings[&quot;flowercurio&quot;]   = createOption(false, mmp.setFlowercurio, { &quot;boolean&quot; }, &quot;Make use of your Flower curios in Lusternia?&quot;)
  private_settings[&quot;fluttercurio&quot;]  = createOption(false, mmp.setFluttercurio, { &quot;boolean&quot; }, &quot;Make use of your Flutter curios in Lusternia?&quot;)
  private_settings[&quot;gallop&quot;]        = createOption(false, mmp.changeBoolFunc, { &quot;boolean&quot; }, &quot;Use Gallop?&quot;)
  private_settings[&quot;head&quot;]          = createOption(false, mmp.setHead, { &quot;boolean&quot; }, &quot;Make use of your Doll's Head in Lusternia?&quot;)
  private_settings[&quot;icicle&quot;]        = createOption(false, mmp.setIcicle, { &quot;boolean&quot; }, &quot;Make use of your Icicle in Lusternia?&quot;)
  private_settings[&quot;lockpathways&quot;]  = createOption(true, mmp.lockPathways, { &quot;boolean&quot; }, &quot;Lock pathway exits?&quot;)
  private_settings[&quot;locksewers&quot;]    = createOption(false, mmp.lockSewers, { &quot;boolean&quot; }, &quot;Lock all sewers?&quot;)
  private_settings[&quot;lockspecials&quot;]  = createOption(false, mmp.lockSpecials, { &quot;boolean&quot; }, &quot;Lock all special exits?&quot;)
  private_settings[&quot;lockwormholes&quot;] = createOption(true, mmp.lockWormholes, { &quot;boolean&quot; }, &quot;Lock all wormholes?&quot;)
  private_settings[&quot;mandala&quot;]       = createOption(false, mmp.setMandala, { &quot;boolean&quot; }, &quot;Make use of your Mandala in Lusternia?&quot;)
  private_settings[&quot;medallion&quot;]     = createOption(false, mmp.setMedallion, { &quot;boolean&quot; }, &quot;Make use of your Medallion in Lusternia?&quot;)
  private_settings[&quot;mud&quot;]           = createOption(false, mmp.setMud, { &quot;boolean&quot; }, &quot;Make use of your Mud in Lusternia?&quot;)
  private_settings[&quot;pebble&quot;]        = createOption(false, mmp.lockPebble, { &quot;boolean&quot; }, &quot;Make use of your enchanted pebble in Achaea?&quot;)
  private_settings[&quot;prism&quot;]         = createOption(false, mmp.setPrism, {&quot;boolean&quot;}, &quot;Make use of your transplanar prism in Lusternia&quot;)
  private_settings[&quot;removewings&quot;]   = createOption(true, mmp.setWingsRemoval, { &quot;boolean&quot; }, &quot;Remove Wings after using them?&quot;)
  private_settings[&quot;runaway&quot;]       = createOption(false, mmp.changeBoolFunc, { &quot;boolean&quot; }, &quot;Use Jester Runaway?&quot;)
  private_settings[&quot;screwdriver&quot;]   = createOption(false, mmp.setScrewdriver, { &quot;boolean&quot; }, &quot;Make use of your Screwdriver in Lusternia?&quot;)
  private_settings[&quot;shackle&quot;]       = createOption(false, mmp.changeBoolFunc, { &quot;boolean&quot; }, &quot;Take off shackle?&quot;)
  private_settings[&quot;showcmds&quot;]      = createOption(true, mmp.changeBoolFunc, { &quot;boolean&quot; }, &quot;Show walking commands?&quot;)
  private_settings[&quot;slowwalk&quot;]      = createOption(false, mmp.setSlowWalk, { &quot;boolean&quot; }, &quot;Walk slowly instead of as quick as possible?&quot;)
  private_settings[&quot;snowglobe&quot;]     = createOption(false, mmp.setSnowglobe, { &quot;boolean&quot; }, &quot;Make use of your Snowglobe in Lusternia?&quot;)
  private_settings[&quot;sprint&quot;]        = createOption(false, mmp.changeBoolFunc, { &quot;boolean&quot; }, &quot;Use Sprint?&quot;)
  private_settings[&quot;tibia&quot;]         = createOption(false, mmp.setTibia, { &quot;boolean&quot; }, &quot;Make use of your Tibia in Lusternia?&quot;)
  private_settings[&quot;toolcurio&quot;]     = createOption(false, mmp.setToolcurio, { &quot;boolean&quot; }, &quot;Make use of your Tool curios in Lusternia?&quot;)
  private_settings[&quot;torus&quot;]         = createOption(false, mmp.setTorus, { &quot;boolean&quot; }, &quot;Make use of your Torus in Lusternia?&quot;)
  private_settings[&quot;toycurio&quot;]      = createOption(false, mmp.setToycurio, { &quot;boolean&quot; }, &quot;Make use of your Toy curios in Lusternia?&quot;)
  private_settings[&quot;updatemap&quot;]     = createOption(true, mmp.changeUpdateMap, { &quot;boolean&quot; }, &quot;Check for new maps from your MUD?&quot;)
  private_settings[&quot;utensilcurio&quot;]  = createOption(false, mmp.setUtensilcurio, { &quot;boolean&quot; }, &quot;Make use of your Utensil curios in Lusternia?&quot;)
  private_settings[&quot;vernalcurio&quot;]   = createOption(false, mmp.setVernalcurio, { &quot;boolean&quot; }, &quot;Make use of your Vernal curios in Lusternia?&quot;)
  private_settings[&quot;waterwalk&quot;]     = createOption(true, mmp.setWaterWalk, { &quot;boolean&quot; }, &quot;Have waterwalk (don't avoid water)?&quot;)
  private_settings[&quot;wheel&quot;]         = createOption(false, mmp.setWheel, { &quot;boolean&quot; }, &quot;Make use of your Wheel in Lusternia?&quot;)
  private_settings[&quot;winglanguage&quot;]  = createOption(&quot;&quot;, mmp.setWingsLanguage, { &quot;string&quot; }, &quot;Speak non-default language for wings:&quot;)

  mmp.settings = createOptionsTable(private_settings)
  mmp.settings.disp = mmp.echo

  mmp.game = false

  mmp.settings.dispOption = function(opt, val)
    cecho(&quot;&lt;green&gt;&quot; .. val.use .. &quot;&lt;white&gt; (&quot; ..opt..&quot;) &quot; .. string.rep(&quot; &quot;, 50 - val.use:len() - opt:len()) .. tostring(val.value) .. &quot;\n&quot;)
  end

  mmp.settings.dispDefaultWriteError = function()
    mmp.echo(&quot;Please use the mconfig alias to set options!&quot;)
  end

  local tmp = getRoomUserData(1, &quot;ferry rooms&quot;)
  if tmp ~= &quot;&quot; then
    for _, i in ipairs(yajl.to_value(tmp)) do
      mmp.ferry_rooms[i] = true
    end
  end

  raiseEvent(&quot;mmp areas changed&quot;)
  mmp.firstRun = false
  mmp.echon(&quot;Mudlet Mapper script for IREs (&quot;..tostring(mmp.version)..&quot;) loaded! (&quot;)
  echoLink(&quot;homepage&quot;,&quot;(openUrl or openURL)'http://wiki.mudlet.org/w/IRE_mapping_script'&quot;, &quot;Clicky clicky to read up on what's this about&quot;)
  echo(&quot;)\n&quot;)
end</script>
                    <eventHandlerList/>
                </Script>
                <Script isActive="yes" isFolder="no">
                    <name>speedwalking</name>
                    <packageName></packageName>
                    <script>function mmp.gotoRoom(where, dashtype)
  if not where or not tonumber(where) then
    mmp.echo(&quot;Where do you want to go to?&quot;) return end

  if tonumber(where) == mmp.currentroom then
    mmp.echo(&quot;We're already at &quot;..where..&quot;!&quot;)
   raiseEvent(&quot;mmapper arrived&quot;)
   return
  end

  local madeduanathar, madeduanatharan, mademedallion, madefingerblade, madeblossom, madebelt, madecubix, madeprism, madescrewdriver, madewheel, mademud, madesnowglobe, madecookie, madehead, madeicicle, madetibia, madebonecurio, madeflowercurio, madetorus, madeutensilcurio, madefluttercurio, madetoolcurio, madefacecurio, madetoycurio, madefeathercurio, madefigurecurio, mademandala, madevernalcurio

  local function getcmd(word)
		if mmp.game == &quot;achaea&quot; then
    		return mmp.settings.removewings and
      			[[script:sendAll(&quot;wear wings&quot;, &quot;say *]]..(mmp.settings.winglanguage)..[[ ]]..word..[[&quot;, &quot;remove wings&quot;, false)]]
      		or
      			[[script:send(&quot;say *]]..(mmp.settings.winglanguage)..[[ ]]..word..[[&quot;, false)]]
		elseif mmp.game == &quot;lusternia&quot; then
			if word == &quot;snowglobe&quot; then
				return [[script:send(&quot;shake snowglobe&quot;,false)]]
			elseif word == &quot;bonecurio&quot; then
				return [[script:send(&quot;curio collection activate bone&quot;,false)]]
			elseif word == &quot;flowercurio&quot; then
				return [[script:send(&quot;curio collection activate flower&quot;,false)]]
			elseif word == &quot;utensilcurio&quot; then
				return [[script:send(&quot;curio collection activate utensil&quot;,false)]]
			elseif word == &quot;fluttercurio&quot; then
				return [[script:send(&quot;curio collection activate flutter&quot;,false)]]
			elseif word == &quot;toolcurio&quot; then
				return [[script:send(&quot;curio collection activate tool&quot;,false)]]
			elseif word == &quot;facecurio&quot; then
				return [[script:send(&quot;curio collection activate face&quot;,false)]]
			elseif word == &quot;toycurio&quot; then
				return [[script:send(&quot;curio collection activate toy&quot;,false)]]
			elseif word == &quot;feathercurio&quot; then
				return [[script:send(&quot;curio collection activate feather&quot;,false)]]
			elseif word == &quot;figurecurio&quot; then
				return [[script:send(&quot;curio collection activate figure&quot;,false)]]
			elseif word == &quot;vernalcurio&quot; then
				return [[script:send(&quot;curio collection activate vernal&quot;,false)]]
			else
				return [[script:send(&quot;touch ]]..word..[[&quot;, false)]]
			end
		end
  end

  -- allow mapper 'addons' to link their own exits in
  raiseEvent(&quot;mmp link externals&quot;)

  if mmp.game == &quot;achaea&quot; and (mmp.settings.duanathar or mmp.settings.duanatharan) and gmcp.Room and not table.contains(gmcp.Room.Info.details, &quot;indoors&quot;) and mmp.oncontinent(getRoomArea(mmp.currentroom), &quot;Prime&quot;) then
    if mmp.settings.duanatharan then
      addSpecialExit(mmp.currentroom, 4882, getcmd(&quot;duanatharan&quot;))
      addSpecialExit(mmp.currentroom, 3885, getcmd(&quot;duanathar&quot;))
      mmp.clearpathcache() -- clear cache so mmp.getPath accounts for the new way
      madeduanatharan = true
    else
      addSpecialExit(mmp.currentroom, 3885, getcmd(&quot;duanathar&quot;))
      mmp.clearpathcache() -- clear cache so mmp.getPath accounts for the new way
      madeduanathar = true
    end
	elseif mmp.game == &quot;lusternia&quot; and (mmp.settings.medallion or mmp.settings.fingerblade or mmp.settings.blossom or mmp.settings.mandala or mmp.settings.belt or mmp.settings.cubix or mmp.settings.screwdriver or mmp.settings.wheel or mmp.settings.mud or mmp.settings.snowglobe or mmp.settings.cookie or mmp.settings.head or mmp.settings.icicle or mmp.settings.tibia or mmp.settings.bonecurio or mmp.settings.flowercurio or mmp.settings.torus or mmp.settings.vernalcurio) and gmcp.Room and (not table.contains(gmcp.Room.Info.details,&quot;indoors&quot;) or table.contains(gmcp.Room.Info.details, &quot;an Aetherbubble&quot;)) then
	if mmp.settings.medallion and mmp.usebix() then
      addSpecialExit(mmp.currentroom, 13367, getcmd(&quot;medallion&quot;))
      mmp.clearpathcache() -- clear cache so mmp.getPath accounts for the new way
      mademedallion = true
	end
	if mmp.settings.fingerblade and mmp.usebix() then
      addSpecialExit(mmp.currentroom, 18777, getcmd(&quot;fingerblade&quot;))
      mmp.clearpathcache() -- clear cache so mmp.getPath accounts for the new way
      madefingerblade = true
	end
	if mmp.settings.blossom and mmp.usebix() then
      addSpecialExit(mmp.currentroom, 18730, getcmd(&quot;blossom&quot;))
      mmp.clearpathcache() -- clear cache so mmp.getPath accounts for the new way
      madeblossom = true
	end
	if mmp.settings.mandala and mmp.usebix() then
      addSpecialExit(mmp.currentroom, 19563, getcmd(&quot;mandala&quot;))
      mmp.clearpathcache() -- clear cache so mmp.getPath accounts for the new way
      mademandala = true
	end
	if mmp.settings.belt and mmp.usebix() then
      addSpecialExit(mmp.currentroom, 19627, getcmd(&quot;belt&quot;))
      mmp.clearpathcache() -- clear cache so mmp.getPath accounts for the new way
      madebelt = true
	end
	if mmp.settings.cubix and mmp.usebix() then
      addSpecialExit(mmp.currentroom, 6184, getcmd(&quot;cubix&quot;))
      mmp.clearpathcache() -- clear cache so mmp.getPath accounts for the new way
      madecubix = true
	end
	if mmp.settings.screwdriver and mmp.usebubblix() then
		if gmcp.Room.Info.area == &quot;the Facility&quot; then
      		addSpecialExit(mmp.currentroom, 6831, getcmd(&quot;screwdriver&quot;))
		elseif not table.contains(gmcp.Room.Info.details, &quot;an Aetherbubble&quot;) then
      		addSpecialExit(mmp.currentroom, 10185, getcmd(&quot;screwdriver&quot;))
		end
      mmp.clearpathcache() -- clear cache so mmp.getPath accounts for the new way
      madescrewdriver = true
	end
	if mmp.settings.wheel and mmp.usebubblix() then
		if gmcp.Room.Info.area == &quot;the Dramube Triangle&quot; then
      		addSpecialExit(mmp.currentroom, 6831, getcmd(&quot;wheel&quot;))
		elseif not table.contains(gmcp.Room.Info.details, &quot;an Aetherbubble&quot;) then
      		addSpecialExit(mmp.currentroom, 10509, getcmd(&quot;wheel&quot;))
		end
      mmp.clearpathcache() -- clear cache so mmp.getPath accounts for the new way
      madewheel = true
	end
	if mmp.settings.mud and mmp.usebubblix() then
		if gmcp.Room.Info.area == &quot;Mucklemarsh&quot; then
      		addSpecialExit(mmp.currentroom, 6831, getcmd(&quot;mud&quot;))
		elseif not table.contains(gmcp.Room.Info.details, &quot;an Aetherbubble&quot;) then
      		addSpecialExit(mmp.currentroom, 9985, getcmd(&quot;mud&quot;))
		end
      mmp.clearpathcache() -- clear cache so mmp.getPath accounts for the new way
      mademud = true
	end
	if mmp.settings.snowglobe and mmp.usebubblix() then
		if gmcp.Room.Info.area == &quot;the Great Spirit Tree&quot; then
      		addSpecialExit(mmp.currentroom, 6831, getcmd(&quot;snowglobe&quot;))
		elseif not table.contains(gmcp.Room.Info.details, &quot;an Aetherbubble&quot;) then
      		addSpecialExit(mmp.currentroom, 10992, getcmd(&quot;snowglobe&quot;))
		end
      mmp.clearpathcache() -- clear cache so mmp.getPath accounts for the new way
      madesnowglobe = true
	end
	if mmp.settings.cookie and mmp.usebubblix() then
		if gmcp.Room.Info.area == &quot;Crumkindivia&quot; then
      		addSpecialExit(mmp.currentroom, 6831, getcmd(&quot;cookie&quot;))
		elseif not table.contains(gmcp.Room.Info.details, &quot;an Aetherbubble&quot;) then
      		addSpecialExit(mmp.currentroom, 9888, getcmd(&quot;cookie&quot;))
		end
      mmp.clearpathcache() -- clear cache so mmp.getPath accounts for the new way
      madecookie = true
	end
	if mmp.settings.head and mmp.usebubblix() then
		if gmcp.Room.Info.area == &quot;the Bubble of Bottledowns&quot; then
      		addSpecialExit(mmp.currentroom, 6831, getcmd(&quot;doll&quot;))
		elseif not table.contains(gmcp.Room.Info.details, &quot;an Aetherbubble&quot;) then
      		addSpecialExit(mmp.currentroom, 11811, getcmd(&quot;doll&quot;))
		end
      mmp.clearpathcache() -- clear cache so mmp.getPath accounts for the new way
      madedoll = true
	end
	if mmp.settings.icicle and mmp.usebubblix() then
		if gmcp.Room.Info.area == &quot;Frosticia&quot; then
      		addSpecialExit(mmp.currentroom, 6831, getcmd(&quot;icicle&quot;))
		elseif not table.contains(gmcp.Room.Info.details, &quot;an Aetherbubble&quot;) then
      		addSpecialExit(mmp.currentroom, 10457, getcmd(&quot;icicle&quot;))
		end
      mmp.clearpathcache() -- clear cache so mmp.getPath accounts for the new way
      madeicicle = true
	end
	if mmp.settings.tibia and mmp.usebubblix() then
		if gmcp.Room.Info.area == &quot;the Cankermore Battlegrounds&quot; then
      		addSpecialExit(mmp.currentroom, 6831, getcmd(&quot;tibia&quot;))
		elseif not table.contains(gmcp.Room.Info.details, &quot;an Aetherbubble&quot;) then
      		addSpecialExit(mmp.currentroom, 11600, getcmd(&quot;tibia&quot;))
		end
      mmp.clearpathcache() -- clear cache so mmp.getPath accounts for the new way
      madetibia = true
	end
	if mmp.settings.bonecurio and mmp.usebix() then
      addSpecialExit(mmp.currentroom, 28613, getcmd(&quot;bonecurio&quot;))
      mmp.clearpathcache() -- clear cache so mmp.getPath accounts for the new way
      madebonecurio = true
	end
	if mmp.settings.flowercurio and mmp.usebix() then
      addSpecialExit(mmp.currentroom, 28624, getcmd(&quot;flowercurio&quot;))
      mmp.clearpathcache() -- clear cache so mmp.getPath accounts for the new way
      madeflowercurio = true
	end
	if mmp.settings.torus and mmp.usebix() then
      addSpecialExit(mmp.currentroom, 28548, getcmd(&quot;torus&quot;))		-- room number will vary for each torus
      mmp.clearpathcache() -- clear cache so mmp.getPath accounts for the new way
      madetorus = true
	end
	if mmp.settings.utensilcurio and mmp.usebix() then
      addSpecialExit(mmp.currentroom, 28617, getcmd(&quot;utensilcurio&quot;))
      mmp.clearpathcache() -- clear cache so mmp.getPath accounts for the new way
      madeutensilcurio = true
	end
	if mmp.settings.fluttercurio and mmp.usebix() then
      addSpecialExit(mmp.currentroom, 28622, getcmd(&quot;fluttercurio&quot;))
      mmp.clearpathcache() -- clear cache so mmp.getPath accounts for the new way
      madefluttercurio = true
	end
	if mmp.settings.toolcurio and mmp.usebix() then
      addSpecialExit(mmp.currentroom, 28586, getcmd(&quot;toolcurio&quot;))
      mmp.clearpathcache() -- clear cache so mmp.getPath accounts for the new way
      madetoolcurio = true
	end
	if mmp.settings.facecurio and mmp.usebix() then
      addSpecialExit(mmp.currentroom, 28433, getcmd(&quot;facecurio&quot;))
      mmp.clearpathcache() -- clear cache so mmp.getPath accounts for the new way
      madefacecurio = true
	end
	if mmp.settings.toycurio and mmp.usebix() then
      addSpecialExit(mmp.currentroom, 21548, getcmd(&quot;toycurio&quot;))
      mmp.clearpathcache() -- clear cache so mmp.getPath accounts for the new way
      madetoycurio = true
	end
	if mmp.settings.feathercurio and mmp.usebix() then
      addSpecialExit(mmp.currentroom, 28591, getcmd(&quot;feathercurio&quot;))
      mmp.clearpathcache() -- clear cache so mmp.getPath accounts for the new way
      madefeathercurio = true
	end
	if mmp.settings.figurecurio and mmp.usebix() then
      addSpecialExit(mmp.currentroom, 28312, getcmd(&quot;figurecurio&quot;))
      mmp.clearpathcache() -- clear cache so mmp.getPath accounts for the new way
      madefigurecurio = true
	end
   if mmp.settings.prism and mmp.useprism() then
		addSpecialExit(mmp.currentroom, 6182, getcmd(&quot;prism&quot;))
		mmp.clearpathcache()
		madeprism = true
	end
	if mmp.settings.vernalcurio and mmp.usebix() then
      addSpecialExit(mmp.currentroom, 29908, getcmd(&quot;vernalcurio&quot;))
      mmp.clearpathcache() -- clear cache so mmp.getPath accounts for the new way
      madevernalcurio = true
	end
  end

  -- if getPath worked, then the dirs and room #'s tables were populated for us
  if not mmp.getPath(mmp.currentroom, tonumber(where)) then
    mmp.echo(&quot;Don't know how to get there (&quot;..tostring(where)..&quot;) from here :(&quot;)
    mmp.speedWalkPath = {}
    mmp.speedWalkDir = {}
    speedWalkCounter = 0
    raiseEvent(&quot;mmapper failed path&quot;)
    if mmp.settings.shackle then expandAlias(&quot;wear shackle&quot;) end
    if madeduanatharan then mmp.clearspecials{4882, 3885} elseif madeduanathar then mmp.clearspecials{3885} end
  	 if mademedallion then mmp.clearspecials{13367} end
  	 if madefingerblade then mmp.clearspecials{18777} end
     if madeblossom then mmp.clearspecials{18730} end
  	 if mademandala then mmp.clearspecials{19563} end
  	 if madebelt then mmp.clearspecials{19627} end
 	 if madecubix then mmp.clearspecials{6184} end
  	 if madescrewdriver then mmp.clearspecials{6831, 10185} end
 	 if madewheel then mmp.clearspecials{6831, 10509} end
 	 if mademud then mmp.clearspecials{6831, 9985} end
 	 if madesnowglobe then mmp.clearspecials{6831, 10992} end
     if madecookie then mmp.clearspecials{6831, 9888} end
 	 if madehead then mmp.clearspecials{6831, 11811} end
 	 if madeicicle then mmp.clearspecials{6831, 10457} end
 	 if madetibia then mmp.clearspecials{6831, 11600} end
 	 if madebonecurio then mmp.clearspecials{28613} end
 	 if madeflowercurio then mmp.clearspecials{28624} end
 	 if madetorus then mmp.clearspecials{28548} end
 	 if madeutensilcurio then mmp.clearspecials{28617} end
 	 if madefluttercurio then mmp.clearspecials{28622} end
 	 if madetoolcurio then mmp.clearspecials{28586} end
 	 if madefacecurio then mmp.clearspecials{28433} end
 	 if madetoycurio then mmp.clearspecials{21548} end
 	 if madefeathercurio then mmp.clearspecials{28591} end
 	 if madefigurecurio then mmp.clearspecials{28312} end
     if madeprism then mmp.clearspecials{6182} end
 	 if madevernalcurio then mmp.clearspecials{22908} end

    -- allow mapper 'addons' to unlink their special exits
    raiseEvent(&quot;mmp clear externals&quot;)
    return
  end

  doSpeedWalk(dashtype)
  if madeduanatharan then mmp.clearspecials{4882, 3885} elseif madeduanathar then mmp.clearspecials{3885} end
  if mademedallion then mmp.clearspecials{13367} end
  if madefingerblade then mmp.clearspecials{18777} end
  if madeblossom then mmp.clearspecials{18730} end
  if mademandala then mmp.clearspecials{19563} end
  if madebelt then mmp.clearspecials{19627} end
  if madecubix then mmp.clearspecials{6184} end
  if madescrewdriver then mmp.clearspecials{6831, 10185} end
  if madewheel then mmp.clearspecials{6831, 10509} end
  if mademud then mmp.clearspecials{6831, 9985} end
  if madesnowglobe then mmp.clearspecials{6831, 10992} end
  if madecookie then mmp.clearspecials{6831, 9888} end
  if madehead then mmp.clearspecials{6831, 11811} end
  if madeicicle then mmp.clearspecials{6831, 10457} end
  if madetibia then mmp.clearspecials{6831, 11600} end
  if madebonecurio then mmp.clearspecials{28613} end
  if madeflowercurio then mmp.clearspecials{28624} end
  if madetorus then mmp.clearspecials{28548} end
  if madeutensilcurio then mmp.clearspecials{28617} end
  if madefluttercurio then mmp.clearspecials{28622} end
  if madetoolcurio then mmp.clearspecials{28586} end
  if madefacecurio then mmp.clearspecials{28433} end
  if madetoycurio then mmp.clearspecials{21548} end
  if madefeathercurio then mmp.clearspecials{28591} end
  if madefigurecurio then mmp.clearspecials{28312} end
  if madeprism then mmp.clearspecials{6182} end
  if madevernalcurio then mmp.clearspecials{22908} end

  -- allow mapper 'addons' to unlink their special exits
  raiseEvent(&quot;mmp clear externals&quot;)
end

function mmp.gotoArea (where, number, dashtype, exact)
  if not where or type(where) ~= &quot;string&quot; then
    mmp.echo(&quot;Where do you want to go to?&quot;) return end

  local where = where:lower()

  number = tonumber(number)
  local tmp = getRoomUserData(1, &quot;gotoMapping&quot;)
  if not tmp or tmp == '' then tmp = &quot;[]&quot; end

  local temp, maptable = yajl.to_value(tmp), {}
  for k,v in pairs(temp) do maptable[k:lower()] = v end

  local goto = maptable[where]
  if goto then
  	mmp.gotoRoom(goto, dashtype)
  	return
  end

  local possibleRooms, shortestPath, shortestBorder = {}, {}, 0

  mmp.computeShortestWatch = mmp.computeShortestWatch or createStopWatch()
  startStopWatch(mmp.computeShortestWatch)

  local areaid, msg, multiples = mmp.findAreaID(where, exact)
  if areaid then
     possibleRooms = mmp.getAreaBorders(areaid)

  elseif not areaid and #multiples &gt; 0 then
    if number and number&lt;=#multiples then
        mmp.gotoArea(multiples[number], nil, dashtype, true)
        return
    end
    mmp.echo(&quot;Which area would you like to go to?&quot;)
    fg(&quot;DimGrey&quot;)
    for key, areaname in ipairs(multiples) do
      echo&quot;  &quot;; echoLink(key .. &quot;) &quot;, 'mmp.gotoArea(&quot;'..areaname..'&quot;, nil, '..(dashtype and '&quot;'..dashtype..'&quot;' or &quot;nil&quot;)..', true)', &quot;Click to go to &quot;..areaname, true)
        setUnderline(true) echoLink(areaname, 'mmp.gotoArea(&quot;'..areaname..'&quot;, nil, '..(dashtype and '&quot;'..dashtype..'&quot;' or &quot;nil&quot;)..', true)', &quot;Click to go to &quot;..areaname, true) setUnderline(false) echo&quot;\n&quot;
    end
    resetFormat()
    return
  else
    mmp.echo(string.format(&quot;Don't know of any area named '%s'.&quot;, where))
    return
  end

  local getStopWatchTime, tonumber, getPath = getStopWatchTime, tonumber, mmp.getPath

--mmp.echo(string.format(&quot;Have %s area edge nodes, %ss taken so far...&quot;, table.size(possibleRooms), getStopWatchTime(mmp.computeShortestWatch)))

  -- allocate only 500ms to finding the shortest path, or more if we failed to find anything
  local checkedsofar, outoftime = 0
  for id, _ in pairs(possibleRooms) do
    if mmp.getPath(mmp.currentroom, tonumber(id)) then
      if shortestBorder==0 or #shortestPath &gt; #speedWalkPath then
        shortestPath = speedWalkPath
        shortestBorder = tonumber(id)
      end
    end
    checkedsofar = checkedsofar + 1

    if (getStopWatchTime(mmp.computeShortestWatch) &gt;= .5) then outoftime = true break end
   -- mmp.echo(string.format(&quot;pathed from %s to %s, running time so far: %s&quot;, mmp.currentroom, id, getStopWatchTime(mmp.computeShortestWatch)))
  end

  --mmp.echo(string.format(&quot;total time took: %s&quot;, getStopWatchTime(mmp.computeShortestWatch)))
  stopStopWatch(mmp.computeShortestWatch)

  if shortestBorder == 0 then
    if outoftime then
      mmp.echo(string.format(
        &quot;I checked %d of the %d possible exits \&quot;%s\&quot; has, but none of the ways there worked and it was taking too long :( try doing this again?&quot;,
        checkedsofar, table.size(possibleRooms), where
      ))
    else
      mmp.echo(&quot;Checked &quot;..table.size(possibleRooms)..&quot; exits in that area, and none of them worked :( I Don't know how to get you there.&quot;)
    end
    mmp.speedWalkPath = {}
    mmp.speedWalkDir = {}
    speedWalkCounter = 0
    raiseEvent(&quot;mmapper failed path&quot;)
    return
  end

  mmp.gotoRoom(shortestBorder, dashtype)
end

--- DOES NOT ACCOUNT FOR CHANGING THE MAP YET (within a profile load), because we don't know when it happens
local getpathcache = {}
--setmetatable(getpathcache, {__mode = &quot;kv&quot;}) -- weak keys/values = it'll periodically get cleaned up by gc

function mmp.getPath(from, to)
  assert(tonumber(from) and tonumber(to), &quot;mmp.getPath: both from and to have to be room IDs&quot;)

  local key = string.format(&quot;%s_%s&quot;, from, to)
  local resulttbl = getpathcache[key]

  -- not in cache?
  if not resulttbl then
    mmp.computeGetPath = mmp.computeGetPath or createStopWatch()
    startStopWatch(mmp.computeGetPath)
    local boolean = getPath(from, to)
    if mmp.debug then mmp.echo(&quot;a new getPath() from &quot;..from..&quot; to &quot;..to..&quot; took &quot;..stopStopWatch(mmp.computeGetPath)..&quot;s.&quot;) end
    -- save it into the cache &amp; send away
    getpathcache[key] = {boolean, speedWalkDir, speedWalkPath}
    return boolean
  end

  -- or if it is, retrieve &amp; send away
  speedWalkDir = resulttbl[2]
  speedWalkPath = resulttbl[3]
  return resulttbl[1]
end

function mmp.clearpathcache()
  if mmp.debug then mmp.echo(&quot;path cache cleared&quot;) end
  getpathcache = {}
end
function mmp.showpathcache() return getpathcache end

function mmp.setmovetimer(time)
  if mmp.movetimer then killTimer(mmp.movetimer) end
  if mmp.settings.slowwalk then return end

  mmp.movetimer = tempTimer(getNetworkLatency()+(time or 0.5), function ()
    mmp.movetimer = false
    mmp.move()
  end)
end

-- moves to the next room we need to.
function mmp.move()
  if mmp.paused or not mmp.autowalking or mmp.movetimer or not mmp.canmove() then return end
  -- sometimes it's 0 - default to 1
  if speedWalkCounter == 0 then speedWalkCounter = 1 end

  local cmd
  if mmp.settings[&quot;caravan&quot;] then cmd = &quot;lead caravan &quot;..mmp.speedWalkDir[speedWalkCounter]
  else
    cmd = mmp.speedWalkDir[speedWalkCounter]
  end

  cmd = cmd or ''

  -- timeout before loadstring, so it can set its own if it would like to.
  mmp.setmovetimer()

  if string.starts(cmd, &quot;script:&quot;) then
    cmd = string.gsub( cmd, &quot;script:&quot;, &quot;&quot; ) loadstring(cmd)()
    if mmp.settings.showcmds then cecho(string.format(&quot;&lt;red&gt;(&lt;maroon&gt;%d - &lt;dark_slate_grey&gt;%s&lt;red&gt;)&quot;, #mmp.speedWalkDir - speedWalkCounter + 1, &quot;&lt;script&gt;&quot;)) end
  else
    send(cmd, false)
    if mmp.settings.showcmds then cecho(string.format(&quot;&lt;red&gt;(&lt;maroon&gt;%d - &lt;dark_slate_grey&gt;%s&lt;red&gt;)&quot;, #mmp.speedWalkDir - speedWalkCounter + 1, cmd)) end
  end
end

function mmp.swim()
  -- not going anywhere? don't do anything
  if not mmp.speedWalkDir[speedWalkCounter] then return end

  send(&quot;swim &quot; .. mmp.speedWalkDir[speedWalkCounter], false)
  if mmp.settings.showcmds then cecho(string.format(&quot;&lt;red&gt;(&lt;maroon&gt;%d - &lt;dark_slate_grey&gt;swim %s&lt;red&gt;)&quot;, #mmp.speedWalkDir - speedWalkCounter + 1, mmp.speedWalkDir[speedWalkCounter])) end

  mmp.setmovetimer(2.5)
end

function mmp.enterGrate()
  -- not going anywhere? don't do anything
  if not mmp.speedWalkDir[speedWalkCounter] then return end

  send(&quot;enter grate &quot; .. mmp.speedWalkDir[speedWalkCounter], false)
  if mmp.settings.showcmds then cecho(string.format(&quot;&lt;red&gt;(&lt;maroon&gt;%d - &lt;dark_slate_grey&gt;enter grate %s&lt;red&gt;)&quot;, #mmp.speedWalkDir - speedWalkCounter + 1, mmp.speedWalkDir[speedWalkCounter])) end

  mmp.setmovetimer(2.5)
end

function mmp.openDoor()
  -- not going anywhere? don't do anything
  if not mmp.speedWalkDir[speedWalkCounter] then return end

  send(&quot;open door &quot; .. mmp.speedWalkDir[speedWalkCounter], false)
  if mmp.settings.showcmds then cecho(string.format(&quot;&lt;red&gt;(&lt;maroon&gt;%d - &lt;dark_slate_grey&gt;open door %s&lt;red&gt;)&quot;, #mmp.speedWalkDir - speedWalkCounter + 1, mmp.speedWalkDir[speedWalkCounter])) end

  mmp.setmovetimer(getNetworkLatency())
end

function mmp.unlockDoor()
  -- not going anywhere? don't do anything
  if not mmp.speedWalkDir[speedWalkCounter] then return end

  send(&quot;unlock door &quot; .. mmp.speedWalkDir[speedWalkCounter], false)
  if mmp.settings.showcmds then cecho(string.format(&quot;&lt;red&gt;(&lt;maroon&gt;%d - &lt;dark_slate_grey&gt;unlock door %s&lt;red&gt;)&quot;, #mmp.speedWalkDir - speedWalkCounter, mmp.speedWalkDir[speedWalkCounter])) end

  mmp.setmovetimer(getNetworkLatency())
end

function mmp.customwalkdelay(delay)
  mmp.setmovetimer(getNetworkLatency()+delay)
end

function mmp.stop()
  mmp.speedWalkPath = {}
  mmp.speedWalkDir = {}
  speedWalkCounter = 0
  stopStopWatch(speedWalkWatch)
  --if mmp.movetimer then killTimer( mmp.movetimer ) end
  mmp.autowalking = false

  -- clear all the temps we've got
  for trigger, ID in pairs(mmp.specials) do
    killTrigger(ID)
  end
  mmp.specials = {}

  mmp.echo(&quot;Stopped walking.&quot;)
  raiseEvent(&quot;mmapper stopped&quot;)
  if mmp.settings.shackle then expandAlias(&quot;wear shackle&quot;) end
end

-- Aetolia and Lusternia support showing balances in GMCP. This is easy to support, so we do!
-- if we can't move, setup a polling timer to prompt walking when we can again.
-- popular systems that expose balance &amp; equilibrium values can be added here as well, perhaps though a similarly-named function.
function mmp.canmove(fromtimer)
  if mapper_can_move and mapper_can_move() then
	if fromtimer then
      mmp.move()
    else return true end
  elseif mapper_can_move then
    tempTimer(0.2, [[mmp.canmove(true)]])
    return false
  end

  if not gmcp.Char then return true end

  if (gmcp.Char and
    -- Achaea
    (not gmcp.Char.Vitals.bal or gmcp.Char.Vitals.bal == &quot;1&quot;) and
    (not gmcp.Char.Vitals.eq or gmcp.Char.Vitals.eq == &quot;1&quot;) and
    -- Lusternia
    (not gmcp.Char.Vitals.balance or gmcp.Char.Vitals.balance == &quot;1&quot;) and
    (not gmcp.Char.Vitals.equilibrium or gmcp.Char.Vitals.equilibrium == &quot;1&quot;) and
    (not gmcp.Char.Vitals.right_arm or gmcp.Char.Vitals.right_arm == &quot;1&quot;) and
    (not gmcp.Char.Vitals.left_arm or gmcp.Char.Vitals.left_arm == &quot;1&quot;) and
    (not gmcp.Char.Vitals.right_leg or gmcp.Char.Vitals.right_leg == &quot;1&quot;) and
    (not gmcp.Char.Vitals.left_leg or gmcp.Char.Vitals.left_leg == &quot;1&quot;) and
    (not gmcp.Char.Vitals.psisuper or gmcp.Char.Vitals.psisuper ~= &quot;0&quot;) and
    (not gmcp.Char.Vitals.psisub or gmcp.Char.Vitals.psisub ~= &quot;0&quot;) and
    (not gmcp.Char.Vitals.psiid or gmcp.Char.Vitals.psiid ~= &quot;0&quot;) and
    (not gmcp.Char.Balance or gmcp.Char.Balance.List.balance == &quot;1&quot;) and
    (not gmcp.Char.Balance or gmcp.Char.Balance.List.equilibrium == &quot;1&quot;) and
    (not gmcp.Char.Balance or gmcp.Char.Balance.List.rarm == &quot;1&quot;) and
    (not gmcp.Char.Balance or gmcp.Char.Balance.List.larm == &quot;1&quot;) and
    (not gmcp.Char.Balance or gmcp.Char.Balance.List.legs == &quot;1&quot;) and
    (not gmcp.Char.Vitals.prone or (gmcp.Char.Vitals.prone == &quot;0&quot; or gmcp.Char.Vitals.prone == 0))
  ) then
	if fromtimer then
      mmp.move()
    else return true end
  else
    tempTimer(0.2, [[mmp.canmove(true)]])
    return false
  end
end

local oldnum
function speedwalking( event, num )
  local num = tonumber(num) or tonumber(gmcp.Room.Info.num)
  if num ~= mmp.currentroom then mmp.previousroom = mmp.currentroom end
  mmp.currentroom = num
  mmp.currentroomname = getRoomName(num)

  -- track if we're inside or outside, if possible
  if gmcp.Room then
    if mmp.inside and not table.contains(gmcp.Room.Info.details, &quot;indoors&quot;) then
      mmp.inside = false
      raiseEvent(&quot;mmapper went outside&quot;)
    elseif not mmp.inside and table.contains(gmcp.Room.Info.details, &quot;indoors&quot;) then
      mmp.inside = true
      raiseEvent(&quot;mmapper went inside&quot;)
    end
    -- the event could cancel speedwalking - in this case quit
    if mmp.ignore_speedwalking then
      mmp.ignore_speedwalking = nil
      return
    end
  end
  if oldnum == num then return else oldnum = num end

  if not mmp.autowalking then return end

  if mmp.movetimer then killTimer(mmp.movetimer); mmp.movetimer = false end

  if num == mmp.speedWalkPath[#mmp.speedWalkPath] then
    local walktime = stopStopWatch(speedWalkWatch)
    mmp.echo(string.format(&quot;We've arrived! Took us %.1fs.\n&quot;, walktime))
    raiseEvent(&quot;mmapper arrived&quot;)
    if mmp.settings.shackle then expandAlias(&quot;wear shackle&quot;) end
    mmp.speedWalkPath = {}
    mmp.speedWalkDir = {}
    speedWalkCounter = 0
    mmp.autowalking = false
  elseif mmp.speedWalkPath[speedWalkCounter] == num then
    speedWalkCounter = speedWalkCounter + 1
    mmp.move()
  elseif #mmp.speedWalkPath&gt; 0 and not mmp.ferry_rooms[num] and not (gmcp.Room.Info.details and table.contains(gmcp.Room.Info.details, &quot;ferry&quot;)) then -- ended up somewhere we didn't want to be, and this isn't a ferry room?
    speedWalkMoved = false
    -- re-calculate path then
    mmp.echo(&quot;Ended up off the path, recalculating a new path...&quot;)
    local destination = mmp.speedWalkPath[#mmp.speedWalkPath]
    if not mmp.getPath(num, destination) then
      mmp.echo(string.format(&quot;Don't know how to get to %d (%s) anymore :( Move into a room we know of to continue&quot;,
        destination, getRoomName(destination)))
    else
      mmp.gotoRoom (destination)
    end
  end
end

function doSpeedWalk(dashtype)
  mmp.speedWalkDir = mmp.deepcopy(speedWalkDir)
  mmp.speedWalkPath = mmp.deepcopy(speedWalkPath)
  speedWalkDir, speedWalkPath = {}, {}

  resetStopWatch(speedWalkWatch)
  startStopWatch(speedWalkWatch)
  if mmp.settings[&quot;gallop&quot;] or mmp.settings[&quot;dash&quot;] or mmp.settings.sprint or dashtype then
    mmp.fixPath(mmp.currentroom, mmp.speedWalkPath[#mmp.speedWalkPath],
      (mmp.settings[&quot;gallop&quot;] and &quot;gallop&quot;) or (mmp.settings[&quot;dash&quot;] and &quot;dash&quot;) or (mmp.settings.sprint and &quot;sprint&quot;) or (mmp.settings.runaway and &quot;runaway&quot;) or dashtype)
  end

  mmp.fixSpecialExits(mmp.speedWalkDir)

  if #mmp.speedWalkPath == 0 then
    mmp.autowalking = false
    mmp.echo(&quot;Couldn't find a path to the destination :(&quot;)
    raiseEvent(&quot;mmapper failed path&quot;)
    if mmp.settings.shackle then expandAlias(&quot;wear shackle&quot;) end
    return
  end

  mmp.autowalking = true

  -- this is a fix: convert nums to actual numbers
  for i = 1, #mmp.speedWalkPath do
    mmp.speedWalkPath[i] = tonumber(mmp.speedWalkPath[i])
  end

  if mmp.settings.shackle then expandAlias(&quot;remove shackle&quot;) end
  if not mmp.paused then
    mmp.echon(&quot;Starting speedwalk from &quot;..(atcp.RoomNum or gmcp.Room.Info.num)..&quot; to &quot;) echoLink(mmp.speedWalkPath[#mmp.speedWalkPath], 'mmp.gotoRoom &quot;' .. mmp.speedWalkPath[#mmp.speedWalkPath].. '&quot;', 'Go to ' .. mmp.speedWalkPath[#mmp.speedWalkPath]) echo(&quot;: &quot;)
    speedWalkCounter = 1
    if mmp.canmove() then mmp.move() else echo(&quot;(when we get balance back / aren't hindered)&quot;) end
  else
    mmp.echo(&quot;Will go to &quot;..mmp.speedWalkPath[#mmp.speedWalkPath]..&quot; as soon as the mapper is unpaused.&quot;)
  end
end

function mmp.failpath()
  if mmp.movetimer then
    local walktime = stopStopWatch(speedWalkWatch)
    mmp.echo(string.format(&quot;Can't continue further! Took us %.1fs to get here.\n&quot;, walktime))
  end

  mmp.autowalking = false
  
  if mmp.settings.shackle then expandAlias(&quot;wear shackle&quot;) end
  mmp.speedWalkPath = {}
  mmp.speedWalkDir = {}
  speedWalkCounter = 0
  if mmp.movetimer then killTimer( mmp.movetimer ); mmp.movetimer = nil end
  raiseEvent(&quot;mmapper failed path&quot;)
end

function mmp.changeBoolFunc(name, option)
  local en
  if option then en = &quot;will now use&quot; else en = &quot;will no longer use&quot; end
  mmp.echo(&quot;&lt;green&gt;Okay, the mapper &quot; .. en .. &quot; &lt;white&gt;&quot; .. name .. &quot;&lt;green&gt;!&quot;)
end

function mmp.fixPath(rFrom,rTo,dashtype)
  local currentPath, currentIds = {}, {}
  local dRef = {[&quot;n&quot;] = &quot;north&quot;, [&quot;e&quot;] = &quot;east&quot;, [&quot;s&quot;] = &quot;south&quot;, [&quot;w&quot;] = &quot;west&quot;}
  if not getPath(rFrom,rTo) then return false end

  -- Logic: Look for a direction repeated at least two times.
  -- count the number of times it repeats, then look that many rooms ahead.
  -- if that room also contains the direction we're headed, just travel that many directions.
  -- otherwise, dash.

  local repCount = 1
  local index = 1
  local dashExaust = false
  while mmp.speedWalkDir[index] do
    dashExaust = false
    repCount = 1
    while mmp.speedWalkDir[index+repCount] == mmp.speedWalkDir[index] do
      repCount = repCount + 1
      if repCount == 11 then
        dashExaust = true
        break
      end
    end
    if repCount &gt; 1 then
      -- Found direction repitition. Calculate dash path.
      local exits = getRoomExits(mmp.speedWalkPath[index+(repCount-1)])
      local pname = &quot;&quot;
      for word in mmp.speedWalkDir[index]:gmatch(&quot;%w&quot;) do pname = pname .. (dRef[word] or word) end
      if not exits[pname] or dashExaust then
        -- Final room in this direction does not continue, dash!
        table.insert(currentPath,string.format(&quot;%s %s&quot;,dashtype,mmp.speedWalkDir[index]))
        currentIds[#currentIds+1] = mmp.speedWalkPath[index+repCount-1]
      else
        -- Final room in this direction continues onwards, don't dash
        for i = 1,repCount do
          table.insert(currentPath,mmp.speedWalkDir[index])
          currentIds[#currentIds+1] = mmp.speedWalkPath[index+i-1]
        end
      end
      index = index + repCount
    else
      -- No repetition, just add the direction.
      table.insert(currentPath,mmp.speedWalkDir[index])
      currentIds[#currentIds+1] = mmp.speedWalkPath[index]
      index = index + 1
    end
  end

  mmp.speedWalkDir = currentPath
  mmp.speedWalkPath = currentIds
  return true
end

-- a certain version of the mapper gave us special exits prepended with 0 or 1 in the command
-- depending on if it was locked. Need to remove these before we can use them
function mmp.fixSpecialExits(directions)
  for i = 1, #directions do
    if directions[i]:match(&quot;^%d&quot;) then directions[i] = directions[i]:sub(2) end
  end
end

-- cleanup function to remove the temp special exit we made - only way to remove specials in Mudlet atm is by clearing them all
function mmp.clearspecials(ignorerooms)
  local t = getSpecialExits(mmp.currentroom)
  clearSpecialExits(mmp.currentroom)

  for connectingroom, exits in pairs(t) do
    if not table.contains(ignorerooms,connectingroom) then -- don't re-add this one back as it's our temp
      for command, locked in pairs(exits) do
        --debug echo: mmp.echo(&quot;need to re-link this room to &quot;..connectingroom..&quot; with &quot;..command..&quot; that is &quot;..(locked == &quot;1&quot; and &quot;locked&quot; or &quot;unlocked&quot;)..&quot;.&quot;)
        addSpecialExit(mmp.currentroom, connectingroom, command)
        if locked == &quot;1&quot; then lockSpecialExit(mmp.currentroom, connectingroom, command, true) end
      end
    end
  end
end</script>
                    <eventHandlerList>
                        <string>RoomNum</string>
                        <string>gmcp.Room.Info</string>
                    </eventHandlerList>
                </Script>
                <Script isActive="yes" isFolder="no">
                    <name>Utilities</name>
                    <packageName></packageName>
                    <script>-- functions internal to the mapper

function mmp.highlight_unfinished_rooms()
	if not mmp.areatable then return end
	for a,b in pairs (mmp.areatable) do
		local roomList = getAreaRooms(b) or {}
		for c,d in pairs (roomList) do
			if (getRoomName(d) == &quot;&quot;) then
				local fgr,fgg,fgb = unpack(color_table.red)
				local bgr,bgg,bgb = unpack(color_table.blue)
				highlightRoom(d, fgr,fgg,fgb,bgr,bgg,bgb, 1, 100, 100)
			end
		end
	end
end

function mmp.usebix()
	if mmp.game ~= &quot;lusternia&quot; then return end

	if (table.contains(gmcp.Room.Info.details, &quot;the Prime Material Plane&quot;) or
		table.contains(gmcp.Room.Info.details, &quot;the Ethereal Plane&quot;) or
		table.contains(gmcp.Room.Info.details, &quot;the Water Elemental Plane&quot;) or
		table.contains(gmcp.Room.Info.details, &quot;the Air Elemental Plane&quot;) or
		table.contains(gmcp.Room.Info.details, &quot;the Fire Elemental Plane&quot;) or
		table.contains(gmcp.Room.Info.details, &quot;the Earth Elemental Plane&quot;) or
		table.contains(gmcp.Room.Info.details, &quot;Celestia, Plane of Light&quot;) or
		table.contains(gmcp.Room.Info.details, &quot;the Tainted Plane of Nil&quot;) or
		table.contains(gmcp.Room.Info.details, &quot;the Cosmic Plane of Continuum&quot;) or
		table.contains(gmcp.Room.Info.details, &quot;the Cosmic Plane of Vortex&quot;) or
		table.contains(gmcp.Room.Info.details, &quot;the Astral Plane&quot;)) and
        gmcp.Room.Info.area ~= &quot;the City of Climanti&quot; and
		table.contains(gmcp.Room.Info.details, &quot;outdoors&quot;) then
		return true
	end
	return false
end

function mmp.useprism()
	if mmp.game ~= &quot;lusternia&quot; then return end
	if (table.contains(gmcp.Room.Info.details, &quot;the Prime Material Plane&quot;) or
	table.contains(gmcp.Room.Info.details, &quot;the Ethereal Plane&quot;) or
	table.contains(gmcp.Room.Info.details, &quot;the Water Elemental Plane&quot;) or
	table.contains(gmcp.Room.Info.details, &quot;the Air Elemental Plane&quot;) or
	table.contains(gmcp.Room.Info.details, &quot;the Fire Elemental Plane&quot;) or
	table.contains(gmcp.Room.Info.details, &quot;the Earth Elemental Plane&quot;)) and
    gmcp.Room.Info.area ~= &quot;the City of Climanti&quot; and
	table.contains(gmcp.Room.Info.details, &quot;outdoors&quot;) then
		return true
	end
	return false
end
function mmp.usebubblix()
	if mmp.game ~= &quot;lusternia&quot; then return end

	if ((table.contains(gmcp.Room.Info.details, &quot;the Prime Material Plane&quot;) or
		table.contains(gmcp.Room.Info.details, &quot;the Ethereal Plane&quot;) or
		table.contains(gmcp.Room.Info.details, &quot;the Water Elemental Plane&quot;) or
		table.contains(gmcp.Room.Info.details, &quot;the Air Elemental Plane&quot;) or
		table.contains(gmcp.Room.Info.details, &quot;the Fire Elemental Plane&quot;) or
		table.contains(gmcp.Room.Info.details, &quot;the Earth Elemental Plane&quot;)) and
        gmcp.Room.Info.area ~= &quot;the City of Climanti&quot; and
		table.contains(gmcp.Room.Info.details, &quot;outdoors&quot;)) or
		table.contains(gmcp.Room.Info.details, &quot;an Aetherbubble&quot;) then
		return true
	end
	return false
end</script>
                    <eventHandlerList/>
                    <Script isActive="yes" isFolder="no">
                        <name>Locating &amp; echoing functions</name>
                        <packageName></packageName>
                        <script>-- for a given room name, we'll echo all the vnums
function mmp.echonums(roomname)
  local t = mmp.searchRoomExact(roomname)

  if not next(t) then
    echo &quot;?&quot; return nil end

  -- transform the kv table into a table of tables for cleaner code.
    -- + perhaps Mudlet in future will give this us anyway, sorted by relevancy
  local dt = {}
  for roomid,room in pairs(t) do
    dt[#dt+1] = {name = room, id = roomid}
  end

  -- we can have nothing if we asked for exact match
  if not dt[1] then echo &quot;?---&quot; return end

  -- display first three ids. Can't really nicely table.concat them.
  echoLink(dt[1].id, 'mmp.gotoRoom('..dt[1].id..')', string.format(&quot;Go to %s (%s)&quot;, dt[1].id, dt[1].name))
  if not dt[2] then return end

  echo&quot;, &quot;
  echoLink(dt[2].id, 'mmp.gotoRoom('..dt[2].id..')', string.format(&quot;Go to %s (%s)&quot;, dt[2].id, dt[2].name))
  if not dt[3] then return end

  echo&quot;, &quot;
  echoLink(dt[3].id, 'mmp.gotoRoom('..dt[3].id..')', string.format(&quot;Go to %s (%s)&quot;, dt[3].id, dt[3].name))
  if not dt[4] then return end

  echo&quot;, ...&quot;
end

function mmp.roomEcho(query)
  local result = mmp.searchRoom(query)

  if not tonumber(select(2, next(result))) then
    for roomid, roomname in pairs(result) do roomid = tonumber(roomid)
      cecho(&quot;&lt;DarkSlateGrey&gt; (&lt;blue&gt;&quot;)
      echoLink(roomid, 'mmp.gotoRoom('..roomid..')', string.format(&quot;Go to %s (%s)&quot;, roomid, tostring(roomname)))
      cecho(&quot;&lt;DarkSlateGrey&gt;)&quot;)
    end

  else
    for roomname, roomid in pairs(result) do roomid = tonumber(roomid)
      cecho(&quot;&lt;DarkSlateGrey&gt; (&lt;blue&gt;&quot;)
      echoLink(roomid, 'mmp.gotoRoom('..roomid..')', string.format(&quot;Go to %s (%s)&quot;, roomid, tostring(roomname)))
      cecho(&quot;&lt;DarkSlateGrey&gt;)&quot;)
    end
  end
end

function mmp.locateAndEcho(room, person)
    local t = mmp.searchRoomExact(room)

    echo &quot;  (&quot;
    mmp.echonums(room, true)
    echo &quot;)&quot;

	-- lowercase results
	for k,v in pairs(t) do if tonumber(k) then t[k] = v:lower() else t[k:lower()] = v end end

    if not (t[room:lower()] or table.contains(t, room:lower())) then return end

    echo&quot;\n&quot;
    if table.size(t) == 1 then
      local k,v = next(t)
      cecho(&quot;&lt;red&gt;From your knowledge, that room is in &lt;orange_red&gt;&quot;..mmp.cleanAreaName(mmp.areatabler[getRoomArea(type(k) == &quot;number&quot; and k or v)] or &quot;?&quot;)..&quot;&lt;red&gt;.&quot;)
    else
      local k,v = next(t)
    local areas = {}
      if type(k) == &quot;number&quot; then
        for k, _ in pairs(t) do
          areas[mmp.areatabler[getRoomArea(k)] or &quot;?&quot;] = true
        end
      else
        for _, k in pairs(t) do
          areas[mmp.areatabler[getRoomArea(k)] or &quot;?&quot;] = true
        end
      end

      local flattened_areas = {}
      for k, _ in pairs(areas) do
        if k ~= &quot;&quot; then flattened_areas[#flattened_areas+1] = mmp.cleanAreaName(k) end
      end

      cecho(&quot;&lt;red&gt;From your knowledge, that room might be in &lt;orange_red&gt;&quot;..table.concat(flattened_areas, &quot;, or &quot;)..&quot;&lt;red&gt;.&quot;)
    end

   if person then
      mmp.pdb[person] = room
      mmp.pdb_lastupdate[person] = true
      raiseEvent(&quot;mmapper updated pdb&quot;)
   end
end

function mmp.locateAndEchoSide(room, person)
    local t = mmp.searchRoomExact(room)

    echo &quot;  (&quot;
    mmp.echonums(room, true)
    echo &quot;)&quot;

	-- lowercase results
	for k,v in pairs(t) do if tonumber(k) then t[k] = v:lower() else t[k:lower()] = v end end

    if not (t[room:lower()] or table.contains(t, room:lower())) then return end

    --echo&quot;\n&quot;
    if table.size(t) == 1 then
      local k,v = next(t)
      cecho(&quot;&lt;red&gt;  (&quot;..mmp.cleanAreaName(mmp.areatabler[getRoomArea(type(k) == &quot;number&quot; and k or v)] or &quot;?&quot;)..&quot;)&quot;)
    else
      local k,v = next(t)
    local areas = {}
      if type(k) == &quot;number&quot; then
        for k, _ in pairs(t) do
          areas[mmp.areatabler[getRoomArea(k)] or &quot;?&quot;] = true
        end
      else
        for _, k in pairs(t) do
          areas[mmp.areatabler[getRoomArea(k)] or &quot;?&quot;] = true
        end
      end

      local flattened_areas = {}
      for k, _ in pairs(areas) do
        if k ~= &quot;&quot; then flattened_areas[#flattened_areas+1] = mmp.cleanAreaName(k) end
      end

      cecho(&quot;&lt;red&gt; (&quot;..table.concat(flattened_areas, &quot;, &quot;)..&quot;)&quot;)
    end

   if person then
      mmp.pdb[person] = room
      mmp.pdb_lastupdate[person] = true
      raiseEvent(&quot;mmapper updated pdb&quot;)
   end
end

function mmp.locateAndEchoInternal(room, person)
    local t = mmp.searchRoomExact(room)



	-- lowercase results
	for k,v in pairs(t) do if tonumber(k) then t[k] = v:lower() else t[k:lower()] = v end end

    if not (t[room:lower()] or table.contains(t, room:lower())) then return end

    --echo&quot;\n&quot;
    if table.size(t) == 1 then
      local k,v = next(t)
      cecho(&quot;&lt;red&gt; in &quot;..mmp.cleanAreaName(mmp.areatabler[getRoomArea(type(k) == &quot;number&quot; and k or v)] or &quot;?&quot;)..&quot;.&quot;)
    else
      local k,v = next(t)
    local areas = {}
      if type(k) == &quot;number&quot; then
        for k, _ in pairs(t) do
          areas[mmp.areatabler[getRoomArea(k)] or &quot;?&quot;] = true
        end
      else
        for _, k in pairs(t) do
          areas[mmp.areatabler[getRoomArea(k)] or &quot;?&quot;] = true
        end
      end

      local flattened_areas = {}
      for k, _ in pairs(areas) do
        if k ~= &quot;&quot; then flattened_areas[#flattened_areas+1] = mmp.cleanAreaName(k) end
      end

      cecho(&quot;&lt;red&gt; in &quot;..table.concat(flattened_areas, &quot;, &quot;)..&quot;.&quot;)
    end

	echo &quot;  (&quot;
    mmp.echonums(room, true)
    echo &quot;)&quot;

   if person then
      mmp.pdb[person] = room
      mmp.pdb_lastupdate[person] = true
      raiseEvent(&quot;mmapper updated pdb&quot;)
   end
end</script>
                        <eventHandlerList/>
                    </Script>
                    <Script isActive="yes" isFolder="no">
                        <name>Aliases</name>
                        <packageName></packageName>
                        <script>function mmp.roomWhoFind(query)
  if query:ends('.') then query = query:sub(1,-2) end
  local result = mmp.searchRoomExact(query)

  if type(result) == &quot;string&quot; or not next(result) then
    cecho(&quot;&lt;CadetBlue&gt;  You have no recollection of any room with that name.&quot;) return end

  if not tonumber(select(2, next(result))) then -- old style
    for roomid, roomname in pairs(result) do roomid = tonumber(roomid)
      cecho(string.format(&quot;  &lt;LightSlateGray&gt;%s&lt;DarkSlateGrey&gt; (&lt;blue&gt;&quot;,
        tostring(roomname)))
      echoLink(roomid, 'mmp.gotoRoom('..roomid..')', string.format(&quot;Go to %s (%s)&quot;, roomid, tostring(roomname)))
      cecho(string.format(&quot;&lt;DarkSlateGrey&gt;) &lt;white&gt;%s&lt;DarkSlateGrey&gt;.\n&quot;, tostring(mmp.areatabler[getRoomArea(roomid)])))
    end

  else -- new style
    for roomname, roomid in pairs(result) do roomid = tonumber(roomid)
      cecho(string.format(&quot;  &lt;LightSlateGray&gt;%s&lt;DarkSlateGrey&gt; (&lt;blue&gt;&quot;,
        tostring(roomname)))
      echoLink(roomid, 'mmp.gotoRoom('..roomid..')', string.format(&quot;Go to %s (%s)&quot;, roomid, tostring(roomname)))
      cecho(string.format(&quot;&lt;DarkSlateGrey&gt;) &lt;white&gt;%s&lt;DarkSlateGrey&gt;.\n&quot;, tostring(mmp.areatabler[getRoomArea(roomid)])))
    end
  end
end

function mmp.roomFind(query)
  if query:ends('.') then query = query:sub(1,-2) end
  local result = mmp.searchRoom(query)

  if type(result) == &quot;string&quot; or not next(result) then
    cecho(&quot;&lt;grey&gt;You have no recollection of any room with that name.&quot;) return end

  cecho(&quot;&lt;DarkSlateGrey&gt;You know the following relevant rooms:\n&quot;)

  local function showmeropis(roomid)
    if mmp.game ~= &quot;achaea&quot; then return '' end

    return mmp.oncontinent(getRoomArea(roomid), &quot;Prime&quot;) and '' or ' (Meropis)'
  end

  if not tonumber(select(2, next(result))) then -- old style
    for roomid, roomname in pairs(result) do roomid = tonumber(roomid)
      cecho(string.format(&quot;  &lt;LightSlateGray&gt;%s&lt;DarkSlateGrey&gt; (&lt;blue&gt;&quot;,
        tostring(roomname)))
      echoLink(roomid, 'mmp.gotoRoom('..roomid..')', string.format(&quot;Go to %s (%s)&quot;, roomid, tostring(roomname)))
      cecho(string.format(&quot;&lt;DarkSlateGrey&gt;) in &lt;LightSlateGray&gt;%s%s&lt;DarkSlateGrey&gt;.&quot;, mmp.cleanAreaName(tostring(mmp.areatabler[getRoomArea(roomid)])), showmeropis(roomid)))
      fg(&quot;DarkSlateGrey&quot;) echoLink(&quot; &gt; Show path\n&quot;, [[mmp.echoPath(mmp.currentroom, ]]..roomid..[[)]], &quot;Display directions from here to &quot;..roomname, true) resetFormat()
    end

  else -- new style
    for roomname, roomid in pairs(result) do roomid = tonumber(roomid)
      cecho(string.format(&quot;  &lt;LightSlateGray&gt;%s&lt;DarkSlateGrey&gt; (&lt;blue&gt;&quot;,
        tostring(roomname)))
      echoLink(roomid, 'mmp.gotoRoom('..roomid..')', string.format(&quot;Go to %s (%s)&quot;, roomid, tostring(roomname)))
      cecho(string.format(&quot;&lt;DarkSlateGrey&gt;) in &lt;LightSlateGray&gt;%s%s&lt;DarkSlateGrey&gt;.&quot;, mmp.cleanAreaName(tostring(mmp.areatabler[getRoomArea(roomid)])), showmeropis(roomid)))
      fg(&quot;DarkSlateGrey&quot;) echoLink(&quot; &gt; Show path\n&quot;, [[mmp.echoPath(mmp.currentroom, ]]..roomid..[[)]], &quot;Display directions from here to &quot;..roomname, true) resetFormat()
    end
  end

  cecho(string.format(&quot;  &lt;DarkSlateGrey&gt;%d rooms found.\n&quot;, table.size(result)))
end

function mmp.echoRoomList(areaname, exact)
  local areaid, msg, multiples = mmp.findAreaID(areaname, exact)
  if areaid then
    local roomlist, endresult = getAreaRooms(areaid) or {}, {}

    -- obtain a room list for each of the room IDs we got
    local getRoomName = getRoomName
    for _, id in pairs(roomlist) do
      endresult[id] = getRoomName(id)
    end

    -- sort room IDs so we can display them in order
    table.sort(roomlist)

    -- now display something half-decent looking
    cecho(string.format(
      &quot;&lt;DarkSlateGrey&gt;List of all rooms in &lt;grey&gt;%s&lt;DarkSlateGrey&gt; (areaid &lt;grey&gt;%s&lt;DarkSlateGrey&gt; - &lt;grey&gt;%d&lt;DarkSlateGrey&gt; rooms):\n&quot;, msg, areaid, table.size(endresult)))
    local echoLink, sformat, fg, echo = echoLink, string.format, fg, cecho
    -- use pairs, as we can have gaps between room IDs
    for _, roomid in pairs(roomlist) do
      local roomname = endresult[roomid]
      fg(&quot;blue&quot;) echoLink(sformat(&quot;%6s&quot;, roomid), 'mmp.gotoRoom('..roomid..')', string.format(&quot;Go to %s (%s)&quot;, roomid, tostring(roomname)), true)
       cecho(string.format(&quot;&lt;DarkSlateGrey&gt;: &lt;LightSlateGray&gt;%s&lt;DarkSlateGrey&gt;.\n&quot;, roomname))
    end

  elseif not id and #multiples &gt; 0 then
    mmp.echo(&quot;For which area would you want to list rooms for?&quot;)
    fg(&quot;DimGrey&quot;)
    for _, areaname in ipairs(multiples) do
      echo&quot;  &quot;; setUnderline(true) echoLink(areaname, 'mmp.echoRoomList(&quot;'..areaname..'&quot;, true)', &quot;Click to view the room list for &quot;..areaname, true) setUnderline(false) echo&quot;\n&quot;
    end
    resetFormat()

  else
    mmp.echo(string.format(&quot;Don't know of any area named '%s'.&quot;, areaname))
  end
end

function mmp.echoAreaList()
  local list = getAreaTable()
  local ids, rlist = {}, {}
  local totalroomcount = 0
  for area, id in pairs(list) do
    if id ~= 0 then ids[#ids+1] = id; rlist[id] = area end end
  table.sort(ids)


  -- count the amount of rooms in an area, taking care to count the room in the 0th
  -- index as well if there is one
  -- saves the total room count on the side as well
  local function countrooms(areaid)
    local allrooms = getAreaRooms(areaid) or {}
    local areac = (#allrooms or 0) + (allrooms[0] and 1 or 0)
    totalroomcount = totalroomcount + areac
    return areac
  end

  cecho(string.format(
      &quot;&lt;DarkSlateGrey&gt;List of all areas we know of (click to view room list):\n&quot;))
  local getAreaRooms, cecho, fg, echoLink, format, rep = getAreaRooms, cecho, fg, echoLink, string.format, string.rep
  for _, id in pairs(ids) do
    cecho(format(&quot;&lt;blue&gt;%s%d &quot;, rep(&quot; &quot;, (7-#tostring(id))), id))
    -- +1 because getAreaRooms starts counting at 0
    fg(&quot;DarkSlateGrey&quot;) echoLink(rlist[id]..(&quot; &quot;):rep(40-#rlist[id])..&quot;(&quot;..mmp.comma_value(countrooms(id))..&quot; rooms)&quot;, 'mmp.echoRoomList(&quot;'..rlist[id]..'&quot;, true)', &quot;View the room list for &quot;..rlist[id], true) echo(&quot;\n&quot;)
  end
  cecho(string.format(
      &quot;&lt;DarkSlateGrey&gt;Total amount of rooms in this map: %s\n&quot;, mmp.comma_value(totalroomcount)))
end

function mmp.clearLabels(areaid)
  local function clearlabels(areaid)
    local t = getMapLabels(areaid)
    if type(t) ~= &quot;table&quot; then return end

    for labelid, _ in pairs(t) do deleteMapLabel(areaid, labelid) end
  end

  if areaid == &quot;map&quot; then
    for areaid in pairs(mmp.areatabler) do
      clearlabels(areaid)
    end

    mmp.echo(&quot;Cleared labels in all of the map.&quot;)
    return
  end

  clearlabels(areaid)
  mmp.echo(string.format(&quot;Cleared all labels in '%s'.&quot;, mmp.areatabler[areaid]))
end

function mmp.deleteArea(name, exact)
  local id, fname, ma = mmp.findAreaID(name, exact)

  if id then
    mmp.doareadelete(id)
  elseif next(ma) then
    mmp.echo(&quot;Which one of these specifically would you like to delete?&quot;)

    fg(&quot;DimGrey&quot;)
    for _,name in ipairs(ma) do
    echo &quot;  &quot; setUnderline(true) echoLink(name, [[mmp.deleteArea(&quot;]]..name..[[&quot;, true)]], &quot;Delete &quot;..name, true) setUnderline(false) echo&quot;\n&quot;
    end
    resetFormat()
    else
      mmp.echo(&quot;Don't know of that area.&quot;)
  end

  raiseEvent(&quot;mmp areas changed&quot;)
end

-- the function actually doing area deletion
function mmp.doareadelete(areaid)
  mmp.deletingarea = {}

  local t = mmp.deletingarea

  local rooms = getAreaRooms(areaid)
  t.roomcount = table.size(rooms)
  t.roombatches = {}
  t.currentbatch = 1
  t.areaid = areaid
  t.areaname = getAreaTableSwap()[areaid]

  -- delete the area right away if there's nothing in it
  if t.roomcount == 0 then
    deleteArea(t.areaid)
    mmp.echo(&quot;All done! The area was already gone/empty.&quot;)
  end

  local rooms_per_batch = 100

  -- split up rooms into tables of tables, to be deleted in batches so
  -- that our print statements in between get a chance to be processed
  for batch = 1, t.roomcount, 100 do
    t.roombatches[#t.roombatches+1] = {}
    local onebatch = t.roombatches[#t.roombatches]
    for inbatch = 1, 100 do
      onebatch[#onebatch+1] = rooms[batch+inbatch]
    end
  end

  function mmp.deletenextbatch()
    local t = mmp.deletingarea
    if not t then return end

    local currentbatch = t.roombatches[t.currentbatchi]

    if currentbatch == nil then
      deleteArea(t.areaid)
      mmp.echo(&quot;All done! Deleted the '&quot;..t.areaname..&quot;' area.&quot;)
      mmp.deletingarea = nil
      centerview(mmp.currentroom)
      return
    end

    local deleteRoom = deleteRoom
    for i = 1, #currentbatch do
      deleteRoom(currentbatch[i])
    end

    mmp.echo(string.format(&quot;Deleted %d batch%s so far, %d left to go - %.2f%% done out of %d needed&quot;, 
          t.currentbatchi, (t.currentbatchi == 1 and '' or 'es'), #t.roombatches - t.currentbatchi, 
          (100/#t.roombatches)*t.currentbatchi, #t.roombatches))

    t.currentbatchi = t.currentbatchi + 1
    tempTimer(0.010, mmp.deletenextbatch)
  end

  t.currentbatchi = 1
  mmp.echo(&quot;Prepped room batches, starting deletion...&quot;)
  tempTimer(0.010, mmp.deletenextbatch)
end

function mmp.renameArea(name, exact)
  if not (mmp.currentroom or getRoomArea(mmp.currentroom)) then
    mmp.echo(&quot;Don't know what area are we in at the moment, to rename it.&quot;)
  else
  setAreaName(getRoomArea(mmp.currentroom), name)
  mmp.echo(string.format(&quot;Renamed %s to %s (%d).&quot;, mmp.areatabler[getRoomArea(mmp.currentroom)], name, getRoomArea(mmp.currentroom)))
  centerview(mmp.currentroom)
  end

  raiseEvent(&quot;mmp areas changed&quot;)
end

function mmp.roomArea(otherroom, name, exact)
    local id,fname,ma
    if tonumber(name) then id = tonumber(name); fname = mmp.areatabler[id]
    else id, fname, ma = mmp.findAreaID(name, exact) end

    if otherroom ~= &quot;&quot; and not mmp.roomexists(otherroom) then
      mmp.echo(&quot;Room id &quot;..otherroom..&quot; doesn't seem to exist.&quot;)
      return
    elseif otherroom == &quot;&quot; and not mmp.roomexists(mmp.currentroom) then
      mmp.echo(&quot;Don't know where we are at the moment.&quot;)
      return
    end

   otherroom = otherroom ~= &quot;&quot; and otherroom or mmp.currentroom

  if id then
    setRoomArea(otherroom, id)
    mmp.echo(string.format(&quot;Moved %s to %s (%d).&quot;, (getRoomName(otherroom) ~= &quot;&quot; and getRoomName(otherroom) or &quot;''&quot;), fname, id))
    centerview(otherroom)
  elseif next(ma) then
    mmp.echo(&quot;Into which area exactly would you like to move the room?&quot;)

    fg(&quot;DimGrey&quot;)
    for _,name in ipairs(ma) do
    echo &quot;  &quot; setUnderline(true) echoLink(name, [[mmp.roomArea('', &quot;]]..name..[[&quot;, true)]], &quot;Move the room to &quot;..name, true) setUnderline(false) echo&quot;\n&quot;
    end
    resetFormat()
    else
      mmp.echo(&quot;Don't know of that area.&quot;)
  end
end

function mmp.getAreaBorders(areaid)
	if mmp.debug then
		mmp.getAreaBordersTimer = mmp.getAreaBordersTimer or createStopWatch()
		startStopWatch(mmp.getAreaBordersTimer)
	end

    local roomlist, endresult = getAreaRooms(areaid), {}
    -- sometimes getAreaRooms can give us no result :(
    if not roomlist then mmp.echo(&quot;Sorry, seems we can't go there - getAreaRooms(&quot;..areaid..&quot;) didn't give us any results (Mudlet problem - redownloading the map might help fix it)&quot;) return end

	local getRoomExits, getRoomName, getSpecialExitsSwap, contains, pairs = getRoomExits, getRoomName, getSpecialExitsSwap, table.contains, pairs

    -- make a key-value list of room IDs
    local reverselist = {}
    for i = 0, #roomlist do reverselist[roomlist[i]] = true end

    -- obtain a room list for each of the room IDs we got
    --for _, id in pairs(roomlist) do
    for i = 0, #roomlist do
      local id = roomlist[i]
      local exits = getRoomExits(id)
      for _, to in pairs(exits) do
        if not reverselist[to] then
          endresult[id] = getRoomName(id)
        end
      end
      local specialexits = getSpecialExitsSwap(id)
      for _, to in pairs(specialexits) do
        if not reverselist[to] then
          endresult[id] = getRoomName(id)
        end
      end
    end

	if mmp.debug then
		mmp.echo(&quot;mmp.getAreaBordersTimer() on areaid &quot;..areaid..&quot; took &quot;..stopStopWatch(mmp.getAreaBordersTimer)..&quot;s to run. Returned &quot;..table.size(endresult)..&quot; results.&quot;)
	end

    return endresult
end


function mmp.viewArea (where, exact)
  if not where or not type(where)==&quot;string&quot; then
    mmp.echo(&quot;Which area would you like to view?&quot;) return end


  local areaid, msg, multiples = mmp.findAreaID(where, exact)
  if areaid then
    -- center on the first room ID, which typically is the start of an area
    local rooms = getAreaRooms(areaid) or {}
    if not rooms[1] then mmp.echo(&quot;The area has no rooms in it.&quot;) else
    centerview(rooms[1]) end

  elseif not areaid and #multiples &gt; 0 then
    mmp.echo(&quot;Which area would you like to view exactly?&quot;)
    fg(&quot;DimGrey&quot;)
    for _, areaname in ipairs(multiples) do
      echo&quot;  &quot;; setUnderline(true) echoLink(areaname, 'mmp.viewArea(&quot;'..areaname..'&quot;, true)', &quot;Click to view &quot;..areaname, true) setUnderline(false) echo&quot;\n&quot;
    end
    resetFormat()
    return
  else
    mmp.echo(string.format(&quot;Don't know of any area named '%s'.&quot;, where))
    return
  end
end

-- room label the room I'm in
-- room label 342 this is a label in room 342
-- room label green this is a green label where I'm at
-- room label green black this is a green to black label where I'm at
-- room label 34 green black this is a green to black label at room 34
-- how it works: split input string into tokens by space, then determine
-- what to do by checking first few tokens, and finally call the local
-- function with the proper arguments
function mmp.roomLabel(input)
  if not createMapLabel then
    mmp.echo(&quot;Your Mudlet doesn't support createMapLabel() yet - please update to 2.0-test3 or better.&quot;) return
  end

  local tk = input:split(&quot; &quot;)
  local room, fg, bg, message = mmp.currentroom, &quot;yellow&quot;, &quot;red&quot;, &quot;Some room label&quot;

  -- input always have to be something, so tk[1] at least always exists
  if tonumber(tk[1]) then
    room = tonumber(table.remove(tk, 1)) -- remove the number, so we're left with the colors or msg
  end

  -- next: is this a foreground color?
  if tk[1] and color_table[tk[1]] then
    fg = table.remove(tk, 1)
  end

  -- next: is this a backround color?
  if tk[1] and color_table[tk[1]] then
    bg = table.remove(tk, 1)
  end

  -- the rest would be our message
  if tk[1] then
    message = table.concat(tk, &quot; &quot;)
  end

  -- if we haven't provided a room ID and we don't know where we are yet, we can't make a label
  if not room then
    mmp.echo(&quot;We don't know where we are to make a label here.&quot;) return
  end

  local x,y = getRoomCoordinates(room)
  local f1,f2,f3 = unpack(color_table[fg])
  local b1,b2,b3 = unpack(color_table[bg])

  -- finally: do it :)

  local lid = createMapLabel(getRoomArea(room), message, x, y, f1,f2,f3, b1,b2,b3)
  mmp.echo(string.format(&quot;Created new label #%d '%s' in %s.&quot;, lid, message, getRoomAreaName(getRoomArea(room))))
end

function mmp.areaLabels (where, exact)
  if not getMapLabels then
    mmp.echo(&quot;Your Mudlet doesn't support getMapLabels() yet - please update to 2.0-test3 or better.&quot;) return
  end

  if (not where or not type(where)==&quot;string&quot;) and not mmp.currentroom then
    mmp.echo(&quot;For which area would you like to view labels?&quot;) return end

  if not where then
  exact = true
    where = getRoomAreaName(getRoomArea(mmp.currentroom))
  end

  local areaid, msg, multiples = mmp.findAreaID(where, exact)
  if areaid then
    local t = getMapLabels(areaid)
    if type(t) ~= &quot;table&quot; or not next(t) then
      mmp.echo(string.format(&quot;'%s' doesn't seem to have any labels.&quot;, getRoomAreaName(areaid)))
      return
    end

    mmp.echo(string.format(&quot;Area labels for '%s'&quot;, getRoomAreaName(areaid)))
    for labelid, labeltext in pairs(t) do
      fg(&quot;DimGrey&quot;)
      echo(string.format(&quot;  %d) %s (&quot;, labelid, labeltext))
      fg&quot;orange_red&quot; setUnderline(true) echoLink('delete', string.format('deleteMapLabel(%d, %d); mmp.echo(&quot;Deleted label #'..labelid..'&quot;)', areaid, labelid), &quot;Delete label #&quot;..labelid..&quot; from &quot;..getRoomAreaName(areaid))
      setUnderline(false) echo&quot;)\n&quot;
    end
    resetFormat()

  elseif not areaid and #multiples &gt; 0 then
    mmp.echo(&quot;Which area would you like to view exactly?&quot;)
    fg(&quot;DimGrey&quot;)
    for _, areaname in ipairs(multiples) do
      echo&quot;  &quot;; setUnderline(true) echoLink(areaname, 'mmp.areaLabels(&quot;'..areaname..'&quot;, true)', &quot;Click to view labels in &quot;..areaname, true) setUnderline(false) echo&quot;\n&quot;
    end
    resetFormat()
    return
  else
    mmp.echo(string.format(&quot;Don't know of any area named '%s'.&quot;, where))
    return
  end
end

function mmp.echoPath(from, to)
	assert(tonumber(from) and tonumber(to), &quot;mmp.getPath: both from and to have to be room IDs&quot;)
	if mmp.getPath(from, to) then
		mmp.echo(&quot;&lt;white&gt;Directions from &lt;yellow&gt;&quot; .. string.upper(searchRoom(from)) .. &quot; &lt;white&gt;to &lt;yellow&gt;&quot; .. string.upper(searchRoom(to)) .. &quot;&lt;white&gt;:&quot;)
		mmp.echo(table.concat(speedWalkDir, &quot;, &quot;))
		return mmp.speedWalkDir
	end
end

function mmp.listSpecialExits(filter)
  local c = 0

  mmp.echo(&quot;Listing special exits...&quot;)
  for area, areaname in pairs(mmp.areatabler) do
    local rooms = getAreaRooms(area) or {}
    for i = 0, #rooms do
      local exits = getSpecialExits(rooms[i] or 0)

       if exits and next(exits) then
         for exit, cmd in pairs(exits) do
           if type(cmd) == &quot;table&quot; then cmd = next(cmd) end
           if cmd:match(&quot;^%d&quot;) then cmd = cmd:sub(2) end

           if not filter or cmd:lower():find(filter, 1, true) then
            if getRoomArea(exit) ~= area then
              cecho(string.format(&quot;&lt;dark_slate_grey&gt;%s &lt;LightSlateGray&gt;(%d, in %s)&lt;dark_slate_grey&gt; &lt;MediumSlateBlue&gt;-&gt; &lt;coral&gt;%s -&lt;MediumSlateBlue&gt;&gt;&lt;dark_slate_grey&gt; %s &lt;LightSlateGray&gt;(%d, in %s)\n&quot;, getRoomName(rooms[i]), rooms[i], areaname,
                cmd, getRoomName(exit), exit, mmp.areatabler[getRoomArea(exit)] or '?'))
            else
              cecho(string.format(&quot;&lt;dark_slate_grey&gt;%s &lt;LightSlateGray&gt;(%d)&lt;dark_slate_grey&gt; &lt;MediumSlateBlue&gt;-&gt; &lt;coral&gt;%s &lt;MediumSlateBlue&gt;-&gt;&lt;dark_slate_grey&gt; %s &lt;LightSlateGray&gt;(%d)&lt;dark_slate_grey&gt; in %s\n&quot;, getRoomName(rooms[i]), rooms[i], cmd, getRoomName(exit), exit, areaname))
            end
            c = c + 1
           end
         end
       end
    end
  end

  mmp.echo(string.format(&quot;%d exits listed%s.&quot;, c, (not filter and '' or &quot;, with for the filter '&quot;..filter..&quot;'&quot;)))
end

function mmp.delSpecialExits(filter)
  local c = 0
  for area, areaname in pairs(mmp.areatabler) do
    local rooms = getAreaRooms(area) or {}
    for i = 0, #rooms do
      local exits = getSpecialExits(rooms[i] or 0)

       if exits and next(exits) then
         for exit, cmd in pairs(exits) do
           if type(cmd) == &quot;table&quot; then cmd = next(cmd) end
           if cmd:match(&quot;^%d&quot;) then cmd = cmd:sub(2) end

           if not filter or cmd:lower():find(filter, 1, true) then
            local rid, action
            local originalExits = {}
            local e = getSpecialExits(rooms[i])
            for t,n in pairs(e) do
              rid = tonumber(t)
              for a,l in pairs(n) do
                action = tostring(a)
              end
              if not action:find(filter,1,true) then
                originalExits[rid] = action
              end
            end
            clearSpecialExits(rooms[i])
            for rid, act in pairs(originalExits) do
              addSpecialExit(rooms[i], tonumber(rid), tostring(act))
            end
            c = c + 1
           end
         end
       end
    end
  end

  mmp.echo(string.format(&quot;%d exits deleted%s.&quot;, c, (not filter and '' or &quot;, with for the filter '&quot;..filter..&quot;'&quot;)))
end</script>
                        <eventHandlerList/>
                    </Script>
                    <Script isActive="yes" isFolder="no">
                        <name>Directions-translating functions</name>
                        <packageName></packageName>
                        <script>-- translates n to north and so forth
local temp = {
    n = &quot;north&quot;,
    e = &quot;east&quot;,
    s = &quot;south&quot;,
    w = &quot;west&quot;,
    ne = &quot;northeast&quot;,
    se = &quot;southeast&quot;,
    sw = &quot;southwest&quot;,
    nw = &quot;northwest&quot;,
    u = &quot;up&quot;,
    d = &quot;down&quot;,
    i = &quot;in&quot;,
    o = &quot;out&quot;,
    [&quot;in&quot;] = &quot;in&quot;
}
local anytolongmap = {}
for s, l in pairs(temp) do anytolongmap[l] = l; anytolongmap[s] = l end
function mmp.anytolong(exit)

  return anytolongmap[exit]
end

function mmp.anytoshort(exit)
  local t = {
    n = &quot;north&quot;,
    e = &quot;east&quot;,
    s = &quot;south&quot;,
    w = &quot;west&quot;,
    ne = &quot;northeast&quot;,
    se = &quot;southeast&quot;,
    sw = &quot;southwest&quot;,
    nw = &quot;northwest&quot;,
    u = &quot;up&quot;,
    d = &quot;down&quot;,
    [&quot;in&quot;] = &quot;in&quot;,
    out = &quot;out&quot;
  }
  local rt = {}
  for s,l in pairs(t) do
    rt[l] = s; rt[s] = s
  end

  return rt[exit]
end


function mmp.ranytolong(exit)
  local t = {
    n = &quot;south&quot;,
    north = &quot;south&quot;,
    e = &quot;west&quot;,
    east = &quot;west&quot;,
    s = &quot;north&quot;,
    south = &quot;north&quot;,
    w = &quot;east&quot;,
    west = &quot;east&quot;,
    ne = &quot;southwest&quot;,
    northeast = &quot;southwest&quot;,
    se = &quot;northwest&quot;,
    southeast = &quot;northwest&quot;,
    sw = &quot;northeast&quot;,
    southwest = &quot;northeast&quot;,
    nw = &quot;southeast&quot;,
    northwest = &quot;southeast&quot;,
    u = &quot;down&quot;,
    up = &quot;down&quot;,
    d = &quot;up&quot;,
    down = &quot;up&quot;,
    i = &quot;out&quot;,
    [&quot;in&quot;] = &quot;out&quot;,
    o = &quot;in&quot;,
    out = &quot;in&quot;
  }

  return t[exit]
end

-- returns nil or the room number relative to this one
function mmp.relativeroom(from, dir)
  if not mmp.roomexists(from) then return end

  local exits = getRoomExits(tonumber(from))
  return exits[mmp.anytolong(dir)]
end
</script>
                        <eventHandlerList/>
                    </Script>
                    <Script isActive="yes" isFolder="no">
                        <name>mconfig settings functions</name>
                        <packageName></packageName>
                        <script>function mmp.doLock(what, lock, filter)
  if what then mmp.echo(string.format(&quot;%s all %s...&quot;, (lock and &quot;Locking&quot; or &quot;Unlocking&quot;), what)) end
  local c = 0

  local getAreaRooms, getSpecialExits, lockSpecialExit, next = getAreaRooms, getSpecialExits, lockSpecialExit, next
  for _, area in pairs(getAreaTable()) do
    local rooms = getAreaRooms(area) or {}
    for i = 0, #rooms do
      local exits = getSpecialExits(rooms[i] or 0)

       if exits and next(exits) then
         for exit, cmd in pairs(exits) do
           if type(cmd) == &quot;table&quot; then cmd = next(cmd) end

           if (not filter and not (cmd:lower():find(&quot;pathfind&quot;, 1, true) or cmd:lower():find(&quot;worm warp&quot;, 1, true) or cmd:lower():find(&quot;enter grate&quot;, 1, true))) or (filter and cmd:lower():find(filter, 1, true)) then
             lockSpecialExit(rooms[i], exit, cmd, lock)
             c = c + 1
           end
         end
       end
    end
  end

  if what then mmp.echo(string.format(&quot;%s %s known %s.&quot;, (lock and &quot;Locked&quot; or &quot;Unlocked&quot;), c, what)) end
  return c
end

function mmp.lockPathways()
  local lock = mmp.settings.lockpathways and true or false
  mmp.doLock(&quot;pathways&quot;, lock, &quot;pathfind&quot;)
end

function mmp.lockSewers()
  local lock = mmp.settings.locksewers and true or false
  return mmp.doLock(&quot;sewer grates&quot;, lock, &quot;enter grate&quot;)
end

function mmp.lockWormholes()
  local lock = mmp.settings.lockwormholes and true or false
  return mmp.doLock(&quot;wormholes&quot;, lock, &quot;worm warp&quot;)
end
tempTimer(0, function() if mmp.firstRun then mmp.lockWormholes() end end)

function mmp.lockPebble()
  local disabled = (not mmp.settings.pebble) and true or false
  mmp.doLock(nil, disabled, &quot;touch 116998&quot;)
  mmp.doLock(nil, disabled, &quot;touch 277930&quot;)

  mmp.echo(string.format(&quot;Use of pebble %s.&quot;, disabled and &quot;disabled&quot; or &quot;enabled&quot;))
end

function mmp.lockSpecials()
  local lock = mmp.settings.lockspecials and true or false
  mmp.doLock(&quot;special exits&quot;, lock)
end

function mmp.setDuanathar()
  mmp.clearpathcache() -- clear the cache so it'll use wings or will stop using wings

  if mmp.settings.duanathar then mmp.echo(&quot;Okay, will see about using Eagle wings when you goto somewhere while outside!&quot;)
  else mmp.echo(&quot;Won't use Eagle wings anymore.&quot;) end
end

function mmp.setDuanatharan()
  mmp.clearpathcache() -- clear the cache so it'll use wings or will stop using wings

  if mmp.settings.duanatharan then mmp.echo(&quot;Okay, will see about using Atavian wings (both duanathar and duanatharan) when you goto somewhere while outside!&quot;)
  else mmp.echo(&quot;Won't use Atavian wings anymore.&quot;) end
end

function mmp.chageMapSource()
  local use = mmp.settings.crowdmap and true or false
  if use and not mmp.game or mmp.game ~= &quot;achaea&quot; then
    mmp.echo(&quot;Sorry - the crowdsourced map is only available for use in Achaea. If you'd like to help start one for your game, please post at http://forums.mudlet.org/viewtopic.php?f=13&amp;t=1696. If you are playing Achaea, then it is likely that you just downloaded the script - and it doens't know what you are playing. Reconnect and it'll know.&quot;)
    mmp.settings.crowdmap = false
  elseif use and not loadMap then
   mmp.echo(&quot;Sorry - your Mudlet is too old and can't load maps. Please update: http://forums.mudlet.org/viewtopic.php?f=5&amp;t=1874&quot;)
   mmp.settings.crowdmap = false
  elseif use then
    mmp.echo(&quot;Will use the crowdsourced map for updates instead!&quot;)
    mmp.checkforupdate()
  else
    mmp.echo(&quot;Will use the default Achaea map for updates.&quot;)
  end
end

function mmp.setWingsLanguage()
  mmp.echo(&quot;Alright, will say Duanathar and Duanathar in &quot;..mmp.settings.winglanguage:title()..&quot;.&quot;)
end

function mmp.setWingsRemoval()
  mmp.echo(&quot;Okay - &quot;..(mmp.settings.removewings and &quot;will&quot; or &quot;won't&quot;)..&quot; remove wings after using them.&quot;)
end

function mmp.setSlowWalk()
  if mmp.settings.slowwalk then
    mmp.echo(&quot;Will walk 'slowly' - that is, only try to move in a direction once per room, and move again once we've arrived. This will make us better walkers when it's very laggy, as we won't spam directions unnecessarily and miss certain turns - but it does mean that if we fail to move for some reason, we won't retry again either at all.&quot;)
  else
    mmp.echo(&quot;Will walk as quick as we can!&quot;)
  end
end

function mmp.disableWaterWalk()
  local c = 0
  local getRoomEnv, setRoomWeight = getRoomEnv, setRoomWeight
  for roomid, roomname in pairs(getRooms()) do
    if mmp.waterenvs[getRoomEnv(roomid)] then
      setRoomWeight(roomid, 3)
      c = c + 1
    end
  end

  return c
end

function mmp.enableWaterWalk()
  local c = 0
  local getRoomEnv, setRoomWeight = getRoomEnv, setRoomWeight
  for roomid, roomname in pairs(getRooms()) do
    if mmp.waterenvs[getRoomEnv(roomid)] then
      setRoomWeight(roomid, 1)
      c = c + 1
    end
  end

  return c
end

function mmp.setWaterWalk()
  if mmp.settings.waterwalk then
    mmp.echo(&quot;Enabled waterwalk for &quot;..mmp.enableWaterWalk()..&quot; rooms - so we'll be treating land and water rooms the same now in terms of traverse speed over them.&quot;)
  else
    mmp.echo(&quot;Disabled waterwalk for &quot;..mmp.disableWaterWalk()..&quot; rooms - so we'll be preferring land rooms over water ones wherever it's quicker.&quot;)
  end
end

function mmp.setMedallion()
  mmp.clearpathcache() -- clear the cache so it'll use wings or will stop using wings

  if mmp.settings.medallion then mmp.echo(&quot;Okay, will see about using Medallion whenever it's quicker&quot;)
  else mmp.echo(&quot;Won't use Medallion anymore.&quot;) end
end

function mmp.setFingerblade()
  mmp.clearpathcache() -- clear the cache so it'll use wings or will stop using wings

  if mmp.settings.fingerblade then mmp.echo(&quot;Okay, will see about using Fingerblade whenever it's quicker&quot;)
  else mmp.echo(&quot;Won't use Fingerblade anymore.&quot;) end
end

function mmp.setBlossom()
  mmp.clearpathcache() -- clear the cache so it'll use wings or will stop using wings

  if mmp.settings.blossom then mmp.echo(&quot;Okay, will see about using the Flame whenever it's quicker&quot;)
  else mmp.echo(&quot;Won't use the Flame anymore.&quot;) end
end

function mmp.setMandala()
  mmp.clearpathcache() -- clear the cache so it'll use wings or will stop using wings

  if mmp.settings.mandala then mmp.echo(&quot;Okay, will see about using Mandala whenever it's quicker&quot;)
  else mmp.echo(&quot;Won't use Mandala anymore.&quot;) end
end

function mmp.setBelt()
  mmp.clearpathcache() -- clear the cache so it'll use wings or will stop using wings

  if mmp.settings.belt then mmp.echo(&quot;Okay, will see about using Belt whenever it's quicker&quot;)
  else mmp.echo(&quot;Won't use Belt anymore.&quot;) end
end

function mmp.setCubix()
  mmp.clearpathcache() -- clear the cache so it'll use wings or will stop using wings

  if mmp.settings.cubix then mmp.echo(&quot;Okay, will see about using Cubix whenever it's quicker&quot;)
  else mmp.echo(&quot;Won't use Cubix anymore.&quot;) end
end

function mmp.setPrism()
	mmp.clearpathcache()
	if mmp.settings.prism then mmp.echo(&quot;Okay, will see about using Prism whenever it's quicker&quot;)
	else mmp.echo(&quot;Won't use Prism anymore.&quot;) end
end

function mmp.setScrewdriver()
  mmp.clearpathcache() -- clear the cache so it'll use wings or will stop using wings

  if mmp.settings.screwdriver then mmp.echo(&quot;Okay, will see about using Screwdriver whenever it's quicker&quot;)
  else mmp.echo(&quot;Won't use Screwdriver anymore.&quot;) end
end

function mmp.setWheel()
  mmp.clearpathcache() -- clear the cache so it'll use wings or will stop using wings

  if mmp.settings.wheel then mmp.echo(&quot;Okay, will see about using Wheel whenever it's quicker&quot;)
  else mmp.echo(&quot;Won't use Wheel anymore.&quot;) end
end

function mmp.setMud()
  mmp.clearpathcache() -- clear the cache so it'll use wings or will stop using wings

  if mmp.settings.mud then mmp.echo(&quot;Okay, will see about using Mud whenever it's quicker&quot;)
  else mmp.echo(&quot;Won't use Mud anymore.&quot;) end
end
function mmp.setSnowglobe()
  mmp.clearpathcache() -- clear the cache so it'll use wings or will stop using wings

  if mmp.settings.snowglobe then mmp.echo(&quot;Okay, will see about using Snowglobe whenever it's quicker&quot;)
  else mmp.echo(&quot;Won't use Snowglobe anymore.&quot;) end
end

function mmp.setCookie()
  mmp.clearpathcache() -- clear the cache so it'll use wings or will stop using wings

  if mmp.settings.cookie then mmp.echo(&quot;Okay, will see about using Cookie whenever it's quicker&quot;)
  else mmp.echo(&quot;Won't use Cookie anymore.&quot;) end
end

function mmp.setHead()
  mmp.clearpathcache() -- clear the cache so it'll use wings or will stop using wings

  if mmp.settings.head then mmp.echo(&quot;Okay, will see about using Doll's Head whenever it's quicker&quot;)
  else mmp.echo(&quot;Won't use Doll's Head anymore.&quot;) end
end

function mmp.setIcicle()
  mmp.clearpathcache() -- clear the cache so it'll use wings or will stop using wings

  if mmp.settings.icicle then mmp.echo(&quot;Okay, will see about using Icicle whenever it's quicker&quot;)
  else mmp.echo(&quot;Won't use Icicle anymore.&quot;) end
end

function mmp.setTibia()
  mmp.clearpathcache() -- clear the cache so it'll use wings or will stop using wings

  if mmp.settings.tibia then mmp.echo(&quot;Okay, will see about using Tibia whenever it's quicker&quot;)
  else mmp.echo(&quot;Won't use Tibia anymore.&quot;) end
end

function mmp.setBonecurio()
  mmp.clearpathcache() -- clear the cache so it'll use wings or will stop using wings

  if mmp.settings.bonecurio then mmp.echo(&quot;Okay, will see about using Bone Curio collection whenever it's quicker&quot;)
  else mmp.echo(&quot;Won't use Bone Curio collection anymore.&quot;) end
end

function mmp.setFlowercurio()
  mmp.clearpathcache() -- clear the cache so it'll use wings or will stop using wings

  if mmp.settings.flowercurio then mmp.echo(&quot;Okay, will see about using Flower Curio collection whenever it's quicker&quot;)
  else mmp.echo(&quot;Won't use Flower Curio collection anymore.&quot;) end
end

function mmp.setTorus()
  mmp.clearpathcache() -- clear the cache so it'll use wings or will stop using wings

  if mmp.settings.torus then mmp.echo(&quot;Okay, will see about using your Torus whenever it's quicker&quot;)
  else mmp.echo(&quot;Won't use your Torus anymore.&quot;) end
end

function mmp.setUtensilcurio()
  mmp.clearpathcache() -- clear the cache so it'll use wings or will stop using wings

  if mmp.settings.utensilcurio then mmp.echo(&quot;Okay, will see about using Utensil Curio collection whenever it's quicker&quot;)
  else mmp.echo(&quot;Won't use Utensil Curio collection anymore.&quot;) end
end

function mmp.setFluttercurio()
  mmp.clearpathcache() -- clear the cache so it'll use wings or will stop using wings

  if mmp.settings.fluttercurio then mmp.echo(&quot;Okay, will see about using Flutter Curio collection whenever it's quicker&quot;)
  else mmp.echo(&quot;Won't use Flutter Curio collection anymore.&quot;) end
end

function mmp.setToolcurio()
  mmp.clearpathcache() -- clear the cache so it'll use wings or will stop using wings

  if mmp.settings.toolcurio then mmp.echo(&quot;Okay, will see about using Tool Curio collection whenever it's quicker&quot;)
  else mmp.echo(&quot;Won't use Tool Curio collection anymore.&quot;) end
end

function mmp.setFacecurio()
  mmp.clearpathcache() -- clear the cache so it'll use wings or will stop using wings

  if mmp.settings.facecurio then mmp.echo(&quot;Okay, will see about using Face Curio collection whenever it's quicker&quot;)
  else mmp.echo(&quot;Won't use Face Curio collection anymore.&quot;) end
end

function mmp.setToycurio()
  mmp.clearpathcache() -- clear the cache so it'll use wings or will stop using wings

  if mmp.settings.toycurio then mmp.echo(&quot;Okay, will see about using Toy Curio collection whenever it's quicker&quot;)
  else mmp.echo(&quot;Won't use Toy Curio collection anymore.&quot;) end
end

function mmp.setFeathercurio()
  mmp.clearpathcache() -- clear the cache so it'll use wings or will stop using wings

  if mmp.settings.feathercurio then mmp.echo(&quot;Okay, will see about using Feather Curio collection whenever it's quicker&quot;)
  else mmp.echo(&quot;Won't use Feather Curio collection anymore.&quot;) end
end

function mmp.setFigurecurio()
  mmp.clearpathcache() -- clear the cache so it'll use wings or will stop using wings

  if mmp.settings.figurecurio then mmp.echo(&quot;Okay, will see about using Figure Curio collection whenever it's quicker&quot;)
  else mmp.echo(&quot;Won't use Figure Curio collection anymore.&quot;) end
end

function mmp.setVernalcurio()
  mmp.clearpathcache() -- clear the cache so it'll use wings or will stop using wings

  if mmp.settings.vernalcurio then mmp.echo(&quot;Okay, will see about using Vernal Curio collection whenever it's quicker&quot;)
  else mmp.echo(&quot;Won't use Vernal Curio collection anymore.&quot;) end
end</script>
                        <eventHandlerList/>
                    </Script>
                    <Script isActive="yes" isFolder="no">
                        <name>API</name>
                        <packageName></packageName>
                        <script>-------------------------------------------------
-- This script lists some of the API functions available from the IRE mudlet-mapper
-- not all functions that are available are included here, however.

function mmp.echo(what)
  what = what or &quot;&quot;
  moveCursorEnd(&quot;main&quot;) if getCurrentLine() ~= &quot;&quot; then echo&quot;\n&quot; end
  decho(&quot;&lt;112,229,0&gt;(&lt;73,149,0&gt;mapper&lt;112,229,0&gt;): &lt;255,255,255&gt;&quot;)
  cecho(tostring(what))
  echo(&quot;\n&quot;)
end

function mmp.echon(what)
  moveCursorEnd(&quot;main&quot;) if getCurrentLine() ~= &quot;&quot; then echo&quot;\n&quot; end
  decho(&quot;&lt;112,229,0&gt;(&lt;73,149,0&gt;mapper&lt;112,229,0&gt;): &lt;255,255,255&gt;&quot;)
  cecho(tostring(what))
end

function mmp.deleteLineP()
  deleteLine()
  tempLineTrigger(1,1,[[
    if isPrompt() then deleteLine() end
  ]])
end

function mmp.pause(what)
  assert(what == nil or what == &quot;on&quot; or what == &quot;off&quot;, &quot;mmp.pause wants 'on', 'off' or nothing as an argument&quot;)

  if what == &quot;on&quot; or (what == nil and not mmp.paused) then
    mmp.paused = true
  elseif  what == &quot;off&quot; or (what == nil and mmp.paused) then
    mmp.paused = false
  end

  mmp.echo(&quot;Speedwalking &quot; .. (mmp.paused and &quot;paused&quot; or &quot;unpaused&quot;) .. &quot;.&quot;)
  if not mmp.paused then mmp.move() end
end

function mmp.mapLook(roomid, delay)
  centerview(roomid)
  if mmp.maplooktimer then killTimer(mmp.maplooktimer) end
  mmp.maplooktimer = tempTimer(tonumber(delay) or 4, [[centerview(mmp.currentroom); mmp.maplooktimer = nil]])
end

function mmp.getnums(roomname, exact)
  if tonumber(roomname) then return {roomname} end

  local t = (not exact and mmp.searchRoom or mmp.searchRoomExact)(roomname)

  if not t or not next(t) then
    return nil end

  local result = {}

  if not tonumber(select(2, next(t))) then
    for roomid,_ in pairs(t) do
      if roomid ~= 0 then result[#result+1] = tonumber(roomid) end
    end
  else
    for _,roomid in pairs(t) do
      if roomid ~= 0 then result[#result+1] = tonumber(roomid) end
    end
  end

  return result
end

-- searchRoom with a cache!
local cache = {}
setmetatable(cache, {__mode = &quot;kv&quot;}) -- weak keys/values = it'll periodically get cleaned up by gc

function mmp.searchRoom(what)
  local result = cache[what]
  if not result then
    result = searchRoom(what)
    local realResult = {}
    for key, value in pairs(type(result) == &quot;table&quot; and result or {}) do
        -- both ways, because searchRoom can return either id-room name or the reverse
        if type(key) == &quot;string&quot; then
          realResult[key:ends(&quot; (road)&quot;) and key:sub(1, -8) or key] = value
        else
          realResult[key] = value:ends(&quot; (road)&quot;) and value:sub(1, -8) or value
        end
    end
    cache[what] = realResult
    result = realResult
  end
  return result
end

local function endswith(s, suffix)
    return s:sub(#s - #suffix + 1) == suffix
end

function mmp.searchRoomExact(what)
  if type(what) ~= 'string' then return end

  local roomTable = mmp.searchRoom(what)
  local realResult = {}
  what = what:lower()
  for key, value in pairs (roomTable) do
    if type(key) == &quot;string&quot; and (key:lower() == what or (endswith(key, '.') and key:sub(1, -2) == what)) then
        realResult[key:ends(&quot; (road)&quot;) and key:sub(1, -8) or key] = value
    elseif type(value) == &quot;string&quot; and (value:lower() == what or (endswith(value, '.') and value:sub(1, -2) == what)) then
        realResult[key] = value:ends(&quot; (road)&quot;) and value:sub(1, -8) or value
    end
  end
  if (table.is_empty(realResult)) then
    return roomTable
  else
    return realResult
  end
end

function mmp.findAreaID(areaname, exact)
  local areaname = areaname:lower()
  local list = getAreaTable()

  -- iterate over the list of areas, matching them with substring match.
  -- if we get match a single area, then return it's ID, otherwise return
  -- 'false' and a message that there are than one are matches
  local returnid, fullareaname, multipleareas = nil, nil, {}
  for area, id in pairs(list) do
    if (not exact and area:lower():find(areaname, 1, true)) or (exact and areaname == area:lower()) then
      returnid = id; fullareaname = area; multipleareas[#multipleareas+1] = area
    end
  end

  if #multipleareas == 1 then
    return returnid, fullareaname
  else
    return nil, nil, multipleareas
  end
end

function mmp.roomexists(num)
  if not num then return false end
  if roomExists then return roomExists(num) end

  local s,m = pcall(getRoomArea, tonumber(num))
  return (s and true or false)
end

-- patches welcome to finish this function.
function mmp.removecontinent(area, continent)
  local tmp = getRoomUserData(1, &quot;areaContinents&quot;)
  local continents = {}

  if tmp ~= &quot;&quot; then
    continents = yajl.to_value(tmp)
  end

  if not next(continents) then return nil, &quot;no continents are known&quot; end
  if not continents[continent] then return nil, &quot;no such continent is recorded&quot; end

end

function mmp.indexof_valueonly(data, value)
  for i = 1, #data do
    if data[i] == value then return i end
  end

  return false
end

-- checks if given area ID is on the given continent. Returns true only if certainly knows
function mmp.oncontinent(areaid, continent)
  local tmp = getRoomUserData(1, &quot;areaContinents&quot;)
  if tmp == &quot;&quot; then return end

  local continents = yajl.to_value(tmp)
  if not continents[continent] then return end

  return mmp.indexof_valueonly(continents[continent], areaid)
end

-- accepts areaname or ID
function mmp.cleanAreaName(area)
  local areaname = type(area) == &quot;number&quot; and mmp.areatabler[area] or area
  if not areaname then return area end

  -- strip , the
  areaname = areaname:gsub(&quot;, the$&quot;, '')

  -- strip , the Type of
  areaname = areaname:gsub(&quot;, the %w+ of$&quot;, '')

  -- strip , the Type of (important)
  areaname = areaname:gsub(&quot;, the %w+ of %((.+)%)$&quot;, &quot; (%1)&quot;)

  -- strip , the (important)
  areaname = areaname:gsub(&quot;, the %((.+)%)$&quot;, &quot; (%1)&quot;)

  return areaname
end

-- if this room is in a unique area, report it. Otherwise gives nil
function mmp.getexactarea(roomname)
  local rooms = mmp.searchRoomExact(roomname)

  if not rooms or not next(rooms) then return nil end

  local areaid
  for roomid, roomname in pairs(rooms) do

    local caid = getRoomArea(roomid)
    if areaid and areaid ~= caid then return nil end
    areaid = caid
  end

  if areaid then return mmp.areatabler[areaid] end
end

-- returns the area name of a room or ?
function mmp.getAreaName(roomid)
   return mmp.areatabler[getRoomArea(roomid)] or '?'
end

-- removes extra prefixes and suffixes that are not part of the actual room name
function mmp.cleanroomname(roomname)
  local starts, ends = string.starts, string.ends

  if starts(roomname, &quot;Flying above &quot;) then
    roomname = string.sub(roomname, -(#roomname-13))
  end
  if starts(roomname, &quot;In the trees above &quot;) then
    roomname = string.sub(roomname, -(#roomname-19))
  end
  if starts(roomname, &quot;The ruins of &quot;) then
    roomname = string.sub(roomname, -(#roomname-13))
  end
  if ends(roomname, &quot; (road)&quot;) then
    roomname = string.sub(roomname, 1, (#roomname-7))
  end
  if ends(roomname, &quot; (indoors)&quot;) then
    roomname = string.sub(roomname, 1, (#roomname-10))
  end
  if ends(roomname, &quot;.&quot;) then
    roomname = string.sub(roomname, 1, (#roomname-1))
  end
  if ends(roomname, &quot; (indoor road)&quot;) then
    roomname = string.sub(roomname, 1, (#roomname-14))
  end

  return roomname
end</script>
                        <eventHandlerList/>
                    </Script>
                    <Script isActive="yes" isFolder="no">
                        <name>mmp.roomLook</name>
                        <packageName></packageName>
                        <script>function mmp.roomLook(input)
  -- we can do a report with a number
  local function handle_number(num)
    -- compile all available data
    if not mmp.roomexists(num) then mmp.echo(num..&quot; doesn't seem to exist.&quot;) return end
    local s, areanum = pcall(getRoomArea,num)
    if not s then mmp.echo(areanum); return; end

    local exits = getRoomExits(num)
    local name = getRoomName(num)
    local islocked = roomLocked(num)
    local weight = (getRoomWeight(num) and getRoomWeight(num) or &quot;?&quot;) -- getRoomWeight is buggy in one of the versions, is actually linked to setRoomWeight and thus returns nil
    local exitweights = (getExitWeights and getExitWeights(num) or {})
    local coords = {getRoomCoordinates(num)}
    local specexits = getSpecialExits(num)
    local env = getRoomEnv(num)
    local envname = (mmp.envidsr and mmp.envidsr[env]) or &quot;?&quot;

    -- generate a report
    mmp.echo(string.format(&quot;Room: %s #: %d area: %s (%d)&quot;,
      name, num, tostring(mmp.areatabler[areanum]), areanum))

    mmp.echo(string.format(&quot;Coordinates: x:%d, y:%d, z:%d, locked: %s, weight: %s&quot;, coords[1], coords[2], coords[3], (islocked and &quot;yep&quot; or &quot;nope&quot;), tostring(weight)))

    mmp.echo(string.format(&quot;Environment: %s (%d)%s&quot;, tostring(envname), env, (getRoomUserData(num, &quot;indoors&quot;) ~= '' and &quot;, indoors&quot; or '')))

    mmp.echo(string.format(&quot;Exits (%d):&quot;, table.size(exits)))
    for exit, leadsto in pairs(exits) do
      echo(string.format(&quot;  %s -&gt; %s (%d)%s%s\n&quot;, exit, getRoomName(leadsto), leadsto,
        ((getRoomArea(leadsto) or &quot;?&quot;) == areanum and &quot;&quot;
        or &quot; (in &quot;..(mmp.areatabler[getRoomArea(leadsto)] or &quot;?&quot;)..&quot;)&quot;),
        ((not exitweights[mmp.anytoshort(exit)] or exitweights[mmp.anytoshort(exit)] == 0) and &quot;&quot; or &quot; (weight: &quot;..exitweights[mmp.anytoshort(exit)]..&quot;)&quot;)
      ))
    end

    -- display special exits if we got any
    if next(specexits) then
      mmp.echo(string.format(&quot;Special exits (%d):&quot;,table.size(specexits)))

      for leadsto, command in pairs(specexits) do
        if type(command) == &quot;string&quot; then
          echo(string.format(&quot;  %s -&gt; %s (%d)\n&quot;, command, getRoomName(leadsto), leadsto))
        else -- new format - exit name, command
          for cmd, locked in pairs(command) do
            if locked == '1' then
              cecho(string.format(&quot;&lt;DarkSlateGrey&gt;  %s -&gt; %s (%d) (locked)\n&quot;, cmd, getRoomName(leadsto), leadsto))
            else
              echo(string.format(&quot;  %s -&gt; %s (%d)\n&quot;, cmd, getRoomName(leadsto), leadsto))
            end
          end
        end
      end
    end

    -- actions we can do. This will be a short menu of sorts for actions
    mmp.echo(&quot;Stuff you can do:&quot;)
    echo&quot;  &quot; echo(&quot;Clear all labels &quot;) setUnderline(true) echoLink(&quot;(in area)&quot;, 'mmp.clearLabels('..areanum..')', '', true) setUnderline(false)
    echo&quot; &quot; setUnderline(true)
    echoLink(&quot;(whole map)&quot;, [[
    if not mmp.clearinglabels then
      mmp.echo(&quot;Are you sure you want to clear all of your labels on this map? If yes, click the link again.&quot;)
      mmp.clearinglabels = true
    else
      mmp.clearLabels(&quot;map&quot;)
      mmp.clearinglabels = nil
    end
    ]], '', true) setUnderline(false) echo&quot;\n&quot;
    echo&quot;  &quot; setUnderline(true) echoLink(&quot;Check for mapper &amp; map updates&quot;, 'mmp.echo(&quot;Checking...&quot;) mmp.checkforupdate()', '', true) setUnderline(false)
    echo&quot; &quot; setUnderline(true) echoLink(&quot;(force map)&quot;, [[
      if io.exists(getMudletHomeDir()..&quot;/map downloads/current&quot;) then
        local s,m = os.remove(getMudletHomeDir()..&quot;/map downloads/current&quot;)
        if not s then mmp.echo(&quot;Couldn't delete '&quot;..getMudletHomeDir()..&quot;/map downloads/current' file: &quot;..tostring(m)..&quot;.&quot;) end
      end
      mmp.echo(&quot;Re-downloading the latest crowdmap...&quot;)
      mmp.checkforupdate()
    ]], &quot;Re-download the map regardless if you have latest&quot;, true)
    setUnderline(false)
    echo&quot;\n&quot;
  end

  -- see if we can do anything with the name
  local function handle_name(name)
    local result = mmp.searchRoom(name)

    if type(result) == &quot;string&quot; then
      cecho(&quot;&lt;grey&gt;You have no recollection of any room with that name.&quot;) return end

    -- if we got one result, then act on it
    if table.size(result) == 1 then
      if type(next(result)) == &quot;number&quot; then
        handle_number(next(result))
      else
        handle_number(select(2, next(result)))
      end
      return
    end

    -- if not, then ask the user to clarify which one would they want
    mmp.echo(&quot;Which room specifically would you like to look up?&quot;)
    if not select(2, next(result)) or not tonumber(select(2, next(result))) then
      for roomid, roomname in pairs(result) do roomid = tonumber(roomid)
        cecho(string.format(&quot;  &lt;LightSlateGray&gt;%s&lt;DarkSlateGrey&gt; (&lt;blue&gt;&quot;,
          tostring(roomname)))
        echoLink(roomid, 'mmp.roomLook('..roomid..')', string.format(&quot;View room details for %s (%s)&quot;, roomid, tostring(roomname)))
        cecho(string.format(&quot;&lt;DarkSlateGrey&gt;) in the &lt;LightSlateGray&gt;%s&lt;DarkSlateGrey&gt;.\n&quot;, tostring(mmp.areatabler[getRoomArea(roomid)])))
      end

    else
      for roomname, roomid in pairs(result) do roomid = tonumber(roomid)
        cecho(string.format(&quot;  &lt;LightSlateGray&gt;%s&lt;DarkSlateGrey&gt; (&lt;blue&gt;&quot;,
          tostring(roomname)))
        echoLink(roomid, 'mmp.roomLook('..roomid..')', string.format(&quot;View room details for %s (%s)&quot;, roomid, tostring(roomname)))
        cecho(string.format(&quot;&lt;DarkSlateGrey&gt;) in the &lt;LightSlateGray&gt;%s&lt;DarkSlateGrey&gt;.\n&quot;, tostring(mmp.areatabler[getRoomArea(roomid)])))
      end
    end
  end

  if not input then
    if not mmp.roomexists(mmp.currentroom) then
      mmp.echo(mmp.currentroom.. &quot; doesn't seem to be mapped yet.&quot;)
      mmp.echo(&quot;Stuff you can do:&quot;)
      echo&quot;  &quot; echoLink(&quot;Check for all updates&quot;, 'mmp.echo(&quot;Checking...&quot;) mmp.checkforupdate()', '')
      echo&quot; &quot; echoLink(&quot;(force map)&quot;, [[
      local s,m = os.remove(getMudletHomeDir()..&quot;/map downloads/current&quot;)
        if io.exists(getMudletHomeDir()..&quot;/map downloads/current&quot;) then
          local s,m = os.remove(getMudletHomeDir()..&quot;/map downloads/current&quot;)
          if not s then mmp.echo(&quot;Couldn't delete '&quot;..getMudletHomeDir()..&quot;/map downloads/current' file: &quot;..tostring(m)..&quot;.&quot;) end
        end
        mmp.echo(&quot;Re-downloading the latest map...&quot;)
        mmp.checkforupdate()
      ]], &quot;Re-download the map regardless if you have latest&quot;)
      echo&quot;\n&quot;
    else input = mmp.currentroom end
  end

  if tonumber(input) then
    handle_number(tonumber(input))
  else
    handle_name(input)
  end

  mmp.echo(string.format(&quot;version %s.&quot;, tostring(mmp.version)))
end</script>
                        <eventHandlerList/>
                    </Script>
                    <Script isActive="yes" isFolder="no">
                        <name>mmp.wormholesfix</name>
                        <packageName></packageName>
                        <script>function mmp.wormholesfix()
  local c = 0
  local weight = 10
  for _, area in pairs(getAreaTable()) do
    local rooms = getAreaRooms(area) or {}
    for i = 0, #rooms do
      local exits = getSpecialExits(rooms[i] or 0)

       if exits and next(exits) then
         for exit, cmd in pairs(exits) do
           if type(cmd) == &quot;table&quot; then cmd = next(cmd) end

           if (cmd:lower():find(&quot;worm warp&quot;, 1, true)) then
				setExitWeight(rooms[i], cmd, weight)
             c = c + 1
           end
         end
       end
    end
  end

  if c &gt; 0 then mmp.echo(string.format(&quot;%s wormholes weighted to %s (so we don't take them over too short distances).&quot;, c, weight)) end
end</script>
                        <eventHandlerList>
                            <string>mmapper updated map</string>
                            <string>sysMapDownloadEvent</string>
                        </eventHandlerList>
                    </Script>
                    <Script isActive="yes" isFolder="no">
                        <name>mmp.clearlastupdate</name>
                        <packageName></packageName>
                        <script>function mmp.clearlastupdate()
  -- reset mmp.pdb_lastupdate on the prompt
  enableTrigger&quot;Mudlet Mapper prompt trigger&quot;
end</script>
                        <eventHandlerList>
                            <string>mmapper updated pdb</string>
                        </eventHandlerList>
                    </Script>
                    <Script isActive="yes" isFolder="no">
                        <name>Third-party functions</name>
                        <packageName></packageName>
                        <script>-- from: http://lua-users.org/wiki/CopyTable
local function deepcopy(orig)
    local orig_type = type(orig)
    local copy
    if orig_type == 'table' then
        copy = {}
        for orig_key, orig_value in next, orig, nil do
            copy[deepcopy(orig_key)] = deepcopy(orig_value)
        end
        setmetatable(copy, deepcopy(getmetatable(orig)))
    else -- number, string, boolean, etc
        copy = orig
    end
    return copy
end

mmp.deepcopy = deepcopy</script>
                        <eventHandlerList/>
                    </Script>
                    <Script isActive="yes" isFolder="no">
                        <name>mmp_regenerate_areas</name>
                        <packageName></packageName>
                        <script>function mmp_regenerate_areas()
  -- cached data
  mmp.areatable = getAreaTable() -- this translates an area name to an ID
  mmp.areatabler = {} -- this translates an ID to an area name

  local t = getAreaTable()
  for k,v in pairs(t) do
    mmp.areatabler[tonumber(v)] = k
  end

  mmp.clearpathcache()
end</script>
                        <eventHandlerList>
                            <string>mmp areas changed</string>
                            <string>mmapper map reloaded</string>
                        </eventHandlerList>
                    </Script>
                    <Script isActive="yes" isFolder="no">
                        <name>mmp_relock_areas</name>
                        <packageName></packageName>
                        <script>function mmp_relock_areas()
	local getAreaRooms, lockRoom, lockedareas = getAreaRooms, lockRoom, mmp.locked

	for areaid, areaname in pairs(getAreaTableSwap()) do
		if lockedareas[areaid] then
			local rooms = getAreaRooms(areaid) or {}
			for _, roomid in pairs(rooms) do
				lockRoom(roomid, true)
			end
		else
			local rooms = getAreaRooms(areaid) or {}
			for _, roomid in pairs(rooms) do
				lockRoom(roomid, false)
			end
		end
	end

	-- make sure area with ID 0 is locked - this was causing crashing issues
	local rooms = getAreaRooms(0) or {}
	for _, roomid in pairs(rooms) do
		lockRoom(roomid, true)
	end	
end</script>
                        <eventHandlerList>
                            <string>mmapper map reloaded</string>
                        </eventHandlerList>
                    </Script>
                    <Script isActive="yes" isFolder="no">
                        <name>Fix setExit</name>
                        <packageName></packageName>
                        <script>do
local oldsetExit = setExit

local exitmap = {
  n = 1,
  north = 1,
  ne = 2,
  northeast = 2,
  nw = 3,
  northwest = 3,
  e = 4,
  east = 4,
  w = 5,
  west = 5,
  s = 6,
  south = 6,
  se = 7,
  southeast = 7,
  sw = 8,
  southwest = 8,
  u = 9,
  up = 9,
  d = 10,
  down = 10,
  [&quot;in&quot;] = 11,
  out = 12
}

function setExit(from, to, direction)
  if type(direction) == &quot;string&quot; and not exitmap[direction] then return false end

  return oldsetExit(from, to, type(direction) == &quot;string&quot; and exitmap[direction] or direction)
end
end</script>
                        <eventHandlerList/>
                    </Script>
                    <Script isActive="yes" isFolder="no">
                        <name>Fix exit locking funcs</name>
                        <packageName></packageName>
                        <script>do
local oldlockExit = lockExit
local oldhasExitLock = hasExitLock

local exitmap = {
  n = 1,
  north = 1,
  ne = 2,
  northeast = 2,
  nw = 3,
  northwest = 3,
  e = 4,
  east = 4,
  w = 5,
  west = 5,
  s = 6,
  south = 6,
  se = 7,
  southeast = 7,
  sw = 8,
  southwest = 8,
  u = 9,
  up = 9,
  d = 10,
  down = 10,
  [&quot;in&quot;] = 11,
  out = 12
}

function lockExit(from, direction, status)
  if type(direction) == &quot;string&quot; and not exitmap[direction] then return false end

  return oldlockExit(from, type(direction) == &quot;string&quot; and exitmap[direction] or direction, status)
end

function hasExitLock(from, direction)
  if type(direction) == &quot;string&quot; and not exitmap[direction] then return false end

  return oldhasExitLock(from, type(direction) == &quot;string&quot; and exitmap[direction] or direction)
end
end</script>
                        <eventHandlerList/>
                    </Script>
                    <Script isActive="yes" isFolder="no">
                        <name>Assorted small utilities</name>
                        <packageName></packageName>
                        <script>function mmp.comma_value(n) -- credit http://richard.warburton.it
	local left,num,right = string.match(n,'^([^%d]*%d)(%d*)(.-)$')
	return left..(num:reverse():gsub('(%d%d%d)','%1,'):reverse())..right
end</script>
                        <eventHandlerList/>
                    </Script>
                </Script>
                <Script isActive="yes" isFolder="no">
                    <name>Person tracking</name>
                    <packageName></packageName>
                    <script>--[[
mmp will have 2 person tracking databases:
- mmp.pdb  =  used to store the last known location of a person
- mmp.pdb_lastupdate  =  used to store the output of the last locating command

Both databases work with the person's name as key and the location name as value.

]]
mmp.pdb = mmp.pdb or {}
mmp.pdb_lastupdate = mmp.pdb_lastupdate or {}

function mmp.is_here(who)
  return (mmp.pdb[who] and mmp.pdb[who] == mmp.currentroomname) and true or false
end</script>
                    <eventHandlerList/>
                </Script>
                <Script isActive="yes" isFolder="no">
                    <name>Lock Area</name>
                    <packageName></packageName>
                    <script>-- Lock Area

mmp.locked = mmp.locked or {}
mmp.lastLockSearch = mmp.lastLockSearch or nil

function mmp.doLockArea(search)
	local areaList
	if search ~= nil then
		local r = rex.new(string.lower(search))
		mmp.lastLockSearch = search
		for name, id in pairs(getAreaTable()) do
			if r:match(string.lower(name)) then
				areaList = areaList or {}
				areaList[name] = id
			end
		end
		if areaList == nil then
			mmp.echo(&quot;'&quot; .. search .. &quot;' did not match any known areas!&quot;)
			return
		end
	else
		mmp.lastLockSearch = nil
		areaList = getAreaTable()
	end

	for name, id in pairs(areaList) do
		mmp.echon(name .. string.rep(&quot; &quot;, 40 - string.len(name)))
		if not mmp.locked[id] then
			setFgColor(0, 200, 0)
			setUnderline(true)
			echoLink(&quot;Lock!&quot;, [[mmp.lockArea( ']] .. name:gsub(&quot;'&quot;, [[\']]) .. [[', true )]], &quot;Click to lock area '&quot; .. name .. &quot;'&quot;, true)
		else
			setFgColor(200, 0, 0)
			setUnderline(true)
			echoLink(&quot;Unlock!&quot;, [[mmp.lockArea( ']] .. name:gsub(&quot;'&quot;, [[\']]) .. [[', false )]], &quot;Click to unlock area '&quot; .. name .. &quot;'&quot;, true)
		end
	end

	if not search then
		echo&quot;\n\n&quot; mmp.echo(&quot;Use &lt;green&gt;arealock &lt;area&gt;&lt;white&gt; to filter areas.&quot;)
	end
end

function mmp.lockArea(name, lock, dontreshow)
	local areas = getAreaTable()
	local rooms = getAreaRooms(areas[name]) or {}
    local lockRoom = lockRoom
    local count = 0
	for _, room in pairs(rooms) do
		lockRoom(room, lock)
        count = count + 1
	end

	mmp.locked[areas[name]] = lock and true or nil
	mmp.echo(string.format(&quot;Area '%s' %slocked! All %s room%s within it.&quot;, name, (lock and '' or 'un'), count, (count == 1 and '' or 's')))

	if not dontreshow then mmp.doLockArea(mmp.lastLockSearch) end
end


</script>
                    <eventHandlerList/>
                </Script>
                <Script isActive="yes" isFolder="no">
                    <name>Center view via GMCP</name>
                    <packageName></packageName>
                    <script></script>
                    <eventHandlerList/>
                    <Script isActive="yes" isFolder="no">
                        <name>mmp_center_roominfo</name>
                        <packageName></packageName>
                        <script>function mmp_center_roominfo()
  -- lusternia has gmcp.Room.Players before gmcp.Room.Info is created
  if gmcp.Room.Info then centerview(gmcp.Room.Info.num) end
end</script>
                        <eventHandlerList>
                            <string>gmcp.Room</string>
                        </eventHandlerList>
                    </Script>
                </Script>
                <ScriptGroup isActive="yes" isFolder="yes">
                    <name>mm Mapping</name>
                    <packageName></packageName>
                    <script>-------------------------------------------------
--         Put your Lua functions here.        --
--                                             --
-- Note that you can also use external Scripts --
-------------------------------------------------
</script>
                    <eventHandlerList/>
                    <Script isActive="yes" isFolder="no">
                        <name>mmp_mapping_newroom</name>
                        <packageName></packageName>
                        <script>--mmp_mapping_newroom
local function makeroom(oldid, newid, x,y,z)
  assert(x and y and z, &quot;makeroom: need all 3 coordinates&quot;)
  addRoom(newid)
  setRoomCoordinates(newid, x, y, z)
  setRoomArea(newid, getRoomArea(oldid))

  local fgr,fgg,fgb = unpack(color_table.red)
  local bgr,bgg,bgb = unpack(color_table.blue)
  highlightRoom(newid, fgr,fgg,fgb,bgr,bgg,bgb, 1, 100, 100)

  if mmp.envids[gmcp.Room.Info.environment] then
    setRoomEnv(newid, mmp.envids[gmcp.Room.Info.environment])
  else setRoomEnv(newid, getRoomEnv(oldid)) end

  return string.format(&quot;Created new room %d at %dx,%dy,%dz.&quot;, newid, x,y,z)
end

-- gives the reverse shifted coordinates, ie asking for the sw exit + coords will give the coords at ne
local function getshiftedcoords(original,ox,oy,oz)
  local x,y,z
  local has = table.contains

  -- reverse the exit
  w = mmp.ranytolong(original)

  if has({&quot;west&quot;, &quot;left&quot;, &quot;w&quot;, &quot;l&quot;}, w) then
    x = (x or ox) - 1; y = (y or oy); z = (z or oz)
  elseif has({&quot;east&quot;, &quot;right&quot;, &quot;e&quot;, &quot;r&quot;}, w) then
    x = (x or ox) + 1; y = (y or oy); z = (z or oz)
  elseif has({&quot;north&quot;, &quot;top&quot;, &quot;n&quot;, &quot;t&quot;}, w) then
    x = (x or ox); y = (y or oy) + 1; z = (z or oz)
  elseif has({&quot;south&quot;, &quot;bottom&quot;, &quot;s&quot;, &quot;b&quot;}, w) then
    x = (x or ox); y = (y or oy) - 1; z = (z or oz)
  elseif has({&quot;northwest&quot;, &quot;topleft&quot;, &quot;nw&quot;, &quot;tl&quot;}, w) then
    x = (x or ox) - 1; y = (y or oy) + 1; z = (z or oz)
  elseif has({&quot;northeast&quot;, &quot;topright&quot;, &quot;ne&quot;, &quot;tr&quot;}, w) then
    x = (x or ox) + 1; y = (y or oy) + 1; z = (z or oz)
  elseif has({&quot;southeast&quot;, &quot;bottomright&quot;, &quot;se&quot;, &quot;br&quot;}, w) then
    x = (x or ox) + 1; y = (y or oy) - 1; z = (z or oz)
  elseif has({&quot;southwest&quot;, &quot;bottomleft&quot;, &quot;sw&quot;, &quot;bl&quot;}, w) then
    x = (x or ox) - 1; y = (y or oy) - 1; z = (z or oz)
  elseif has({&quot;up&quot;, &quot;u&quot;}, w) then
    x = (x or ox); y = (y or oy); z = (z or oz) + 1
  elseif has({&quot;down&quot;, &quot;d&quot;}, w) then
    x = (x or ox); y = (y or oy); z = (z or oz) - 1
  elseif has({&quot;in&quot;, &quot;i&quot;}, w) then
    x = (x or ox); y = (y or oy); z = (z or oz) - 1
  elseif has({&quot;out&quot;, &quot;o&quot;}, w) then
    x = (x or ox); y = (y or oy); z = (z or oz) + 1
  else
    mmp.echo(&quot;Don't know where to shift the coordinates for a &quot;..tostring(w)..&quot; (&quot;..tostring(original)..&quot;) exit.&quot;)
  end

  return x,y,z
end

function mmp_mapping_newroom(_, num)
local s,m = xpcall(function ()
  if not mmp.editing then return end
  if not gmcp.Room then
    mmp.echo(&quot;You need to have GMCP turned on (see preferences on a recent Mudlet) for mapping stuff.&quot;)
    return
  end

  -- wilderness mapping right now is UNFINISHED! It does not handle the grid breakup. So, please don't try it, and please won't whine about it.
  local function inwilderness()
    return (gmcp.Room.Info.coords == &quot;&quot; and gmcp.Room.Info.area == &quot;&quot;)
  end

  local getRoomName, getRoomCoordinates, getRoomsByPosition = getRoomName, getRoomCoordinates, getRoomsByPosition

  local num = tonumber(num) or tonumber(gmcp.Room.Info.num)
  local currentexits = gmcp.Room.Info.exits
  local s = &quot;&quot;

  if not mmp.roomexists(num) then
    -- see if we can create and link this room with an existing one
    -- wilderness and non-wilderness rooms require different methods of calculating relative coordinates
    if not inwilderness() then
      for exit, id in pairs(currentexits) do
        if mmp.roomexists(id) then
          s = makeroom(id, num, getshiftedcoords(exit, getRoomCoordinates(id)))
        end
      end
    else
      local x,y = tostring(num):match(&quot;.-(%d%d%d)(%d%d%d)$&quot;)
      -- Achaea's coordinates seem to be in the 4th quadrant, while Mudlets 0,0 is in the middle of the map. Invert y so going north-south looks alright
      s = makeroom(mmp.previousroom, num, x,y*-1,0)
    end
  end

  -- if we created it, and some data could be filled in
  if mmp.roomexists(num) then
    -- cleanup the room name
    local rootroomname = mmp.cleanroomname(gmcp.Room.Info.name)

    -- match exact case, so mappers alertness' works properly
    if getRoomName(num) ~= rootroomname then
      setRoomName(num, rootroomname)
      unHighlightRoom(num)
      s = s .. (#s &gt; 0 and &quot; &quot; or &quot;&quot;) .. &quot;Updated room name to '&quot;..rootroomname..&quot;'.&quot;
    end

    -- autolink exits
    if not inwilderness() then
      local x = getRoomExits(num) or {}
      -- check for missing exits
      for exit, id in pairs(currentexits) do
        if id == 0 then
          s = s .. (#s &gt; 0 and &quot; &quot; or &quot;&quot;) .. &quot;Can't link to the &quot;..exit..&quot;, it leads to a room with ID 0 (and that's not supported yet).&quot;
        else
          if not x[mmp.anytolong(exit)] then
            if not mmp.roomexists(id) then
              s = makeroom(num, id, getshiftedcoords(mmp.ranytolong(exit), getRoomCoordinates(num)))
            end
            if setExit(num, id, exit) then
              s = s .. (#s &gt; 0 and &quot; &quot; or &quot;&quot;) .. &quot;Added missing exit &quot;..exit..&quot; to &quot;..(getRoomName(id) ~= &quot;&quot; and getRoomName(id) or &quot;''&quot;)..&quot; (&quot;..id..&quot;).&quot;
            else
              s = s .. (#s &gt; 0 and &quot; &quot; or &quot;&quot;) .. string.format(&quot;Failed to link %d withh %d via %s exit for some reason :/&quot;, num, id, exit)
            end
          end
        end
      end
    else
      local function getshiftedcoords(direction, ox, oy, oz)
        if direction == 'n' then return ox, oy+1, oz
        elseif direction == 'e' then return ox+1, oy, oz
        elseif direction == 's' then return ox, oy-1, oz
        elseif direction == 'w' then return ox-1, oy, oz
        elseif direction == 'ne' then return ox+1, oy+1, oz
        elseif direction == 'se' then return ox+1, oy-1, oz
        elseif direction == 'sw' then return ox-1, oy-1, oz
        elseif direction == 'nw' then return ox-1, oy+1, oz
        else error(&quot;getshiftedcoords: direction &quot;..direction..&quot; isn't supported yet.&quot;)
        end
      end

      local x,y,z = getRoomCoordinates(num)
      local currentexits = getRoomExits(num) or {}
      for _, exit in ipairs{'n', 'e', 's', 'w', 'ne', 'se', 'sw', 'nw'} do
        local roomatdir = getRoomsByPosition(getRoomArea(num), getshiftedcoords(exit, x,y,z))

        if roomatdir[0] then
          local id = roomatdir[0]

          if not currentexits[mmp.anytolong(exit)] then
            if setExit(num, id, exit) then
              s = s .. (#s &gt; 0 and &quot; &quot; or &quot;&quot;) .. &quot;Added missing exit &quot;..exit..&quot; to &quot;..(getRoomName(id) ~= &quot;&quot; and getRoomName(id) or &quot;''&quot;)..&quot; (&quot;..id..&quot;).&quot;
            else
              s = s .. (#s &gt; 0 and &quot; &quot; or &quot;&quot;) .. string.format(&quot;Failed to link %d withh %d via %s exit for some reason :/&quot;, num, id, exit)
            end

            local exit = mmp.anytoshort(mmp.ranytolong(exit))
            if setExit(id, num, exit) then
              s = s .. (#s &gt; 0 and &quot; &quot; or &quot;&quot;) .. &quot;Added missing exit &quot;..exit..&quot; to &quot;..(getRoomName(id) ~= &quot;&quot; and getRoomName(id) or &quot;''&quot;)..&quot; (&quot;..id..&quot;).&quot;
            else
              s = s .. (#s &gt; 0 and &quot; &quot; or &quot;&quot;) .. string.format(&quot;Failed to link %d withh %d via %s exit for some reason :/&quot;, num, id, exit)
            end
          end
        end
      end
    end

    -- check for unexisting exits
    if mmp.settings[&quot;autoclear&quot;] then
      for exit, id in pairs(getRoomExits(num)) do
        if not currentexits[mmp.anytoshort(exit)] then
          setExit(num, -1, exit)
          s = s .. (#s &gt; 0 and &quot; &quot; or &quot;&quot;) .. exit .. &quot; exit to &quot;..id..&quot; doesn't actually exist, removed it.&quot;
        end
      end
    end

    -- check for environment update, if we have environments mapped out
    if mmp.envids[gmcp.Room.Info.environment] and mmp.envids[gmcp.Room.Info.environment] ~= getRoomEnv(num) then
      setRoomEnv(num, mmp.envids[gmcp.Room.Info.environment])
      s = s .. (#s &gt; 0 and &quot; &quot; or &quot;&quot;) .. &quot;Updated environment name to &quot;..gmcp.Room.Info.environment..&quot;.&quot;
    end

    -- check indoors status
    local indoors = table.contains(gmcp.Room.Info.details, &quot;indoors&quot;)
    if indoors and getRoomUserData(num, &quot;indoors&quot;) == '' then
      setRoomUserData(num, &quot;indoors&quot;, &quot;y&quot;)
      s = s .. (#s &gt; 0 and &quot; &quot; or &quot;&quot;) .. &quot;Updated room to be indoors.&quot;
    elseif not indoors and getRoomUserData(num, &quot;indoors&quot;) ~= '' then
      setRoomUserData(num, &quot;indoors&quot;, &quot;&quot;)
      s = s .. (#s &gt; 0 and &quot; &quot; or &quot;&quot;) .. &quot;Updated room to be outdoors.&quot;
    end

    -- check for wilderness exits
    if getRoomChar(num) ~= &quot;W&quot; and table.contains(gmcp.Room.Info.details, &quot;wilderness&quot;) then
      setRoomChar(num, &quot;W&quot;)
      s = s .. (#s &gt; 0 and &quot; &quot; or &quot;&quot;) .. &quot;Added the wilderness mark.&quot;
    end
  end

  if #s &gt; 0 then mmp.echo(s); centerview(mmp.currentroom) end
end, function (error)
  mmp.echo(&quot;Oops! Has a small problem (&quot;..error..&quot;).&quot;)
  echo&quot;  &quot; echoLink(&quot;view steps&quot;, 'echo[['..debug.traceback()..']]', &quot;View steps of code that led up to it&quot;)
end)
if not s then mmp.echo(m) end
end
</script>
                        <eventHandlerList>
                            <string>gmcp.Room.Info</string>
                            <string>RoomNum</string>
                        </eventHandlerList>
                    </Script>
                    <Script isActive="yes" isFolder="no">
                        <name>mmp_save_options</name>
                        <packageName></packageName>
                        <script>function mmp_save_options()
	local saveTable = {
		locked_areas = mmp.locked,
		options = mmp.settings:getAllOptions()
	}

	if string.char(getMudletHomeDir():byte()) == &quot;/&quot; then _sep = &quot;/&quot; else  _sep = &quot;\\&quot; end
	local saveFile = getMudletHomeDir() ..  _sep .. &quot;mapper.options.lua&quot;

	table.save(saveFile, saveTable)
end</script>
                        <eventHandlerList>
                            <string>sysExitEvent</string>
                        </eventHandlerList>
                    </Script>
                    <Script isActive="yes" isFolder="no">
                        <name>mmp_load_options</name>
                        <packageName></packageName>
                        <script>function mmp_load_options()
	local loadTable = mmp_load_locks()

	if loadTable.options then
		for k, v in pairs(loadTable.options) do
			mmp.settings:setOption(k, v, true)
		end
	end
end

function mmp_load_locks()
	local loadTable = {}

	if string.char(getMudletHomeDir():byte()) == &quot;/&quot; then _sep = &quot;/&quot; else  _sep = &quot;\\&quot; end
	local loadFile = getMudletHomeDir() ..  _sep .. &quot;mapper.options.lua&quot;

    if io.exists(loadFile) then table.load(loadFile, loadTable) end

	if loadTable.locked_areas then
		mmp.locked = loadTable.locked_areas
	end

    local lockRoom, getAreaRooms = lockRoom, getAreaRooms
	for area in pairs(mmp.locked) do
		local rooms = getAreaRooms(area)
		for _, roomid in pairs(rooms or {}) do
			lockRoom(roomid, true)
		end
	end

	return loadTable
end</script>
                        <eventHandlerList>
                            <string>sysLoadEvent</string>
                        </eventHandlerList>
                    </Script>
                </ScriptGroup>
                <ScriptGroup isActive="yes" isFolder="yes">
                    <name>Game-specific</name>
                    <packageName></packageName>
                    <script>-------------------------------------------------
--         Put your Lua functions here.        --
--                                             --
-- Note that you can also use external Scripts --
-------------------------------------------------
</script>
                    <eventHandlerList/>
                    <Script isActive="yes" isFolder="no">
                        <name>Achaea</name>
                        <packageName></packageName>
                        <script></script>
                        <eventHandlerList/>
                        <Script isActive="yes" isFolder="no">
                            <name>register_achaeas_envdata</name>
                            <packageName></packageName>
                            <script>function register_achaeas_envdata(_, game)
  if game ~= &quot;Achaea&quot; then return end

  mmp.envids =
  {
    Catacombs                   = 14,
    [&quot;Constructed underground&quot;] = 2,
    [&quot;Deep Ocean&quot;]              = 24,
    [&quot;Deep Ocean floor&quot;]        = 30,
    [&quot;Dwarven city&quot;]            = 18,
    [&quot;Magma Caves&quot;]             = 31,
    [&quot;Natural underground&quot;]     = 3,
    [&quot;Ocean floor&quot;]             = 34,
    [&quot;Tsol'aa city&quot;]            = 19,
    Beach                       = 5,
    Blighted                    = 29,
    Desert                      = 6,
    Forest                      = 4,
    Freshwater                  = 22,
    Garden                      = 21,
    Grasslands                  = 7,
    Hills                       = 9,
    Jungle                      = 17,
    Mountains                   = 14,
    Nothing                     = 0,
    Ocean                       = 20,
    Path                        = 11,
    Polar                       = 27,
    Reef                        = 25,
    River                       = 10,
    Road                        = 12,
    Ruins                       = 32,
    Sewer                       = 23,
    Skies                       = 10,
    Swamp                       = 15,
    Trees                       = 28,
    Tundra                      = 16,
    Urban                       = 8,
    Valley                      = 13,
    Vessel                      = 36,
    Water                       = 30,
  }

  mmp.waterenvs = {}
  local waterids = { &quot;Freshwater&quot;, &quot;Ocean&quot;, &quot;River&quot;, &quot;Deep Ocean&quot;, &quot;Water&quot;, &quot;Reef&quot;, &quot;Ocean floor&quot; }
  for i = 1, #waterids do mmp.waterenvs[mmp.envids[waterids[i]]] = true end

  mmp.envidsr = {};
  for name, id in pairs(mmp.envids) do mmp.envidsr[id] = name end
end</script>
                            <eventHandlerList>
                                <string>mmp logged in</string>
                            </eventHandlerList>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>mmapper_achaea_went_outside</name>
                            <packageName></packageName>
                            <script>-- track whenever we need to use wings when we get outside!
function mmapper_achaea_went_outside()
  if not mmp.autowalking or not (mmp.settings.duanathar or mmp.settings.duanatharan) or mmp.game ~= &quot;achaea&quot; or
    (mmp.currentroom == mmp.speedWalkPath[#mmp.speedWalkPath]) or
    not mmp.oncontinent(getRoomArea(mmp.currentroom), &quot;Prime&quot;) then return end

  -- repath, maybe that'll allow us to use wings now.
  local madeduanatharan, madeduanathar

  local function getcmd(word)
    return mmp.settings.removewings and
      [[script:sendAll(&quot;wear wings&quot;, &quot;say *]]..(mmp.settings.winglanguage)..[[ ]]..word..[[&quot;, &quot;remove wings&quot;, false)]]
      or
      [[script:send(&quot;say *]]..(mmp.settings.winglanguage)..[[ ]]..word..[[&quot;, false)]]
  end

    if mmp.settings.duanatharan then
      addSpecialExit(mmp.currentroom, 4882, getcmd(&quot;duanatharan&quot;))
      addSpecialExit(mmp.currentroom, 3885, getcmd(&quot;duanathar&quot;))
      --mmp.clearpathcache() -- clear cache so mmp.getPath accounts for the new way
      madeduanatharan = true
    else
      addSpecialExit(mmp.currentroom, 3885, getcmd(&quot;duanathar&quot;))
      --mmp.clearpathcache() -- clear cache so mmp.getPath accounts for the new way
      madeduanathar = true
    end

  mmp.getPath(mmp.currentroom, mmp.speedWalkPath[#mmp.speedWalkPath]) -- don't need to check return value since that fact shouldnt've changed

  -- if our path didn't change, re-instate it as it was (since the new path starts from this room that we checked at)
  if speedWalkDir[1]:find(&quot;duanathar&quot;, 1, true) then
    speedWalkCounter = 0
    mmp.echo(&quot;We got outside - going to shortcut with wings.&quot;)
    mmp.gotoRoom(mmp.speedWalkPath[#mmp.speedWalkPath])
    mmp.ignore_speedwalking = true
  end

  if madeduanatharan then mmp.clearspecials{4882, 3885} elseif madeduanathar then mmp.clearspecials{3885} end
end</script>
                            <eventHandlerList>
                                <string>mmapper went outside</string>
                            </eventHandlerList>
                        </Script>
                    </Script>
                    <Script isActive="yes" isFolder="no">
                        <name>Aetolia</name>
                        <packageName></packageName>
                        <script>-------------------------------------------------
--         Put your Lua functions here.        --
--                                             --
-- Note that you can also use external Scripts --
-------------------------------------------------
</script>
                        <eventHandlerList/>
                        <Script isActive="yes" isFolder="no">
                            <name>register_aetolias_envdata</name>
                            <packageName></packageName>
                            <script>function register_aetolias_envdata(_, game)
  if game ~= &quot;Aetolia&quot; then return end

  mmp.envids =
  {
    [&quot;a bridge&quot;]                = 55,
    [&quot;Airship wreckage&quot;]        = 62,
    [&quot;camp site&quot;]               = 57,
    [&quot;Constructed underground&quot;] = 2,
    [&quot;Deep ocean&quot;]              = 24,
    [&quot;lifeless sands&quot;]          = 54,
    [&quot;logged forest&quot;]           = 56,
    [&quot;Natural underground&quot;]     = 3,
    [&quot;Tsol'aa city&quot;]            = 19,
    [&quot;Underwater city&quot;]         = 28,
    [&quot;within a tree&quot;]           = 36,
    Beach                       = 5,
    Canyon                      = 34,
    Castle                      = 61,
    Cavern                      = 69,
    Chaos                       = 1,
    Crater                      = 37,
    Desert                      = 6,
    Ethereal                    = 67,
    Forest                      = 4,
    Freshwater                  = 22,
    Garden                      = 21,
    Grasslands                  = 7,
    Graveyard                   = 31,
    grotto                      = 70,
    Hills                       = 9,
    Ice                         = 30,
    Jungle                      = 17,
    lava                        = 39,
    Mines                       = 32,
    Mountains                   = 14,
    Ocean                       = 20,
    Onboard                     = 33,
    Path                        = 11,
    Reef                        = 25,
    River                       = 10,
    Road                        = 12,
    Ruins                       = 26,
    Sewer                       = 23,
    Shadows                     = 58,
    Swamp                       = 15,
    Temple                      = 29,
    Tundra                      = 16,
    Urban                       = 8,
    Valley                      = 13,
    Village                     = 27,
  }

  mmp.waterenvs = {}
  local waterids = { &quot;River&quot;, &quot;Freshwater&quot;, &quot;Deep ocean&quot;, &quot;Reef&quot;, &quot;Underwater city&quot; }
  for i = 1, #waterids do mmp.waterenvs[mmp.envids[waterids[i]]] = true end

  mmp.envidsr = {};
  for name, id in pairs(mmp.envids) do mmp.envidsr[id] = name end
end</script>
                            <eventHandlerList>
                                <string>mmp logged in</string>
                            </eventHandlerList>
                        </Script>
                    </Script>
                    <Script isActive="yes" isFolder="no">
                        <name>Lusternia</name>
                        <packageName></packageName>
                        <script>-------------------------------------------------
--         Put your Lua functions here.        --
--                                             --
-- Note that you can also use external Scripts --
-------------------------------------------------
</script>
                        <eventHandlerList/>
                        <Script isActive="yes" isFolder="no">
                            <name>register_lusternias_envdata</name>
                            <packageName></packageName>
                            <script>function register_lusternias_envdata(_, game)
  if game ~= &quot;Lusternia&quot; then return end

  mmp.envids =
  {
    [&quot;constructed underground&quot;] = 2,
    [&quot;deep ocean&quot;]              = 24,
    [&quot;natural underground&quot;]     = 3,
    aether                      = 36,
    astral                      = 35,
    beach                       = 5,
    chaos                       = 39,
    clouds                      = 37,
    concordance                 = 38,
    darkness                    = 1,
    desert                      = 6,
    divine                      = 33,
    farmlands                   = 30,
    flesh                       = 18,
    forest                      = 4,
    freshwater                  = 22,
    garden                      = 21,
    grasslands                  = 7,
    hills                       = 9,
    jungle                      = 17,
    mountains                   = 14,
    netherworld                 = 34,
    ocean                       = 20,
    path                        = 11,
    polar                       = 27,
    reef                        = 25,
    river                       = 10,
    road                        = 12,
    ruins                       = 19,
    sewer                       = 23,
    swamp                       = 15,
    trees                       = 28,
    tundra                      = 16,
    urban                       = 8,
    valley                      = 13,
    volcanic                    = 32,
    wasteland                   = 29,
  }

  mmp.waterenvs = {}
  local waterids = { &quot;river&quot;, &quot;ocean&quot;, &quot;freshwater&quot;, &quot;deep ocean&quot; }
  for i = 1, #waterids do mmp.waterenvs[mmp.envids[waterids[i]]] = true end

  mmp.envidsr = {};
  for name, id in pairs(mmp.envids) do mmp.envidsr[id] = name end
end</script>
                            <eventHandlerList>
                                <string>mmp logged in</string>
                            </eventHandlerList>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>mmapper_lusternia_went_outside</name>
                            <packageName></packageName>
                            <script>function mmapper_lusternia_went_outside()
  -- track whenever we need to use items when we get outside!
  if not mmp.autowalking or not (mmp.settings.medallion or mmp.settings.fingerblade or mmp.settings.blossom or mmp.settings.belt or mmp.settings.cubix or mmp.settings.screwdriver or mmp.settings.wheel or mmp.settings.mud or mmp.settings.snowglobe or mmp.settings.cookie or mmp.settings.head or mmp.settings.icicle or mmp.settings.tibia or mmp.settings.bonecurio or mmp.settings.flowercurio or mmp.settings.torus or mmp.settings.utensilcurio or mmp.settings.fluttercurio or mmp.settings.toolcurio or mmp.settings.facecurio or mmp.settings.toycurio or mmp.settings.mandala or mmp.settings.feathercurio or mmp.settings.figurecurio or mmp.settings.vernalcurio) or mmp.game ~= &quot;lusternia&quot; or
    (mmp.currentroom == mmp.speedWalkPath[#mmp.speedWalkPath]) then return end

  -- repath, maybe that'll allow us to use wings now.
  local mademedallion, madefingerblade, madeblossom, madebelt, madeprism, madecubix, madescrewdriver, madewheel, mademud, madesnowglobe, madehead, madecookie, madeicicle, madetibia, madebonecurio, madeflowercurio, madetorus, madeutensilcurio, madefluttercurio, madetoolcurio, madefacecurio, madetoycurio, madefeathercurio, madefigurecurio, mademandala, madevernalcurio

  local function getcmd(item)
		if item == &quot;snowglobe&quot; then
			return [[script:send(&quot;shake snowglobe&quot;,false)]]
		elseif word == &quot;bonecurio&quot; then
			return [[script:send(&quot;curio collection activate bone&quot;,false)]]
		elseif word == &quot;flowercurio&quot; then
			return [[script:send(&quot;curio collection activate flower&quot;,false)]]
		elseif word == &quot;utensilcurio&quot; then
			return [[script:send(&quot;curio collection activate utensil&quot;,false)]]
		elseif word == &quot;fluttercurio&quot; then
			return [[script:send(&quot;curio collection activate flutter&quot;,false)]]
		elseif word == &quot;toolcurio&quot; then
			return [[script:send(&quot;curio collection activate tool&quot;,false)]]
		elseif word == &quot;facecurio&quot; then
			return [[script:send(&quot;curio collection activate face&quot;,false)]]
		elseif word == &quot;toycurio&quot; then
			return [[script:send(&quot;curio collection activate toy&quot;,false)]]
		elseif word == &quot;feathercurio&quot; then
			return [[script:send(&quot;curio collection activate feather&quot;,false)]]
		elseif word == &quot;figurecurio&quot; then
			return [[script:send(&quot;curio collection activate figure&quot;,false)]]
		elseif word == &quot;vernalcurio&quot; then
			return [[script:send(&quot;curio collection activate vernal&quot;,false)]]
		else
			return [[script:send(&quot;touch ]]..(item)..[[&quot;, false)]]
		end
  end

    if mmp.settings.medallion and mmp.usebix() then
      addSpecialExit(mmp.currentroom, 13367, getcmd(&quot;medallion&quot;))
      mmp.clearpathcache() -- clear cache so mmp.getPath accounts for the new way
      mademedallion = true
	end
	if mmp.settings.fingerblade and mmp.usebix() then
      addSpecialExit(mmp.currentroom, 18777, getcmd(&quot;fingerblade&quot;))
      mmp.clearpathcache() -- clear cache so mmp.getPath accounts for the new way
      madefingerblade = true
	end
	if mmp.settings.blossom and mmp.usebix() then
      addSpecialExit(mmp.currentroom, 18730, getcmd(&quot;blossom&quot;))
      mmp.clearpathcache() -- clear cache so mmp.getPath accounts for the new way
      madeblossom = true
	end
	if mmp.settings.mandala and mmp.usebix() then
      addSpecialExit(mmp.currentroom, 19563, getcmd(&quot;mandala&quot;))
      mmp.clearpathcache() -- clear cache so mmp.getPath accounts for the new way
      mademandala = true
	end
	if mmp.settings.belt and mmp.usebix() then
      addSpecialExit(mmp.currentroom, 19627, getcmd(&quot;belt&quot;))
      mmp.clearpathcache() -- clear cache so mmp.getPath accounts for the new way
      madebelt = true
	end
	if mmp.settings.cubix and mmp.usebix() then
      addSpecialExit(mmp.currentroom, 6184, getcmd(&quot;cubix&quot;))
      mmp.clearpathcache() -- clear cache so mmp.getPath accounts for the new way
      madecubix = true
	end
	if mmp.settings.screwdriver and mmp.usebubblix() then
		if gmcp.Room.Info.area == &quot;the Facility&quot; then
      		addSpecialExit(mmp.currentroom, 6831, getcmd(&quot;screwdriver&quot;))
		elseif not table.contains(gmcp.Room.Info.details, &quot;an Aetherbubble&quot;) then
      		addSpecialExit(mmp.currentroom, 10185, getcmd(&quot;screwdriver&quot;))
		end
      mmp.clearpathcache() -- clear cache so mmp.getPath accounts for the new way
      madescrewdriver = true
	end
	if mmp.settings.wheel and mmp.usebubblix() then
		if gmcp.Room.Info.area == &quot;the Dramube Triangle&quot; then
      		addSpecialExit(mmp.currentroom, 6831, getcmd(&quot;wheel&quot;))
		elseif not table.contains(gmcp.Room.Info.details, &quot;an Aetherbubble&quot;) then
      		addSpecialExit(mmp.currentroom, 10509, getcmd(&quot;wheel&quot;))
		end
      mmp.clearpathcache() -- clear cache so mmp.getPath accounts for the new way
      madewheel = true
	end
	if mmp.settings.mud and mmp.usebubblix() then
		if gmcp.Room.Info.area == &quot;Mucklemarsh&quot; then
      		addSpecialExit(mmp.currentroom, 6831, getcmd(&quot;mud&quot;))
		elseif not table.contains(gmcp.Room.Info.details, &quot;an Aetherbubble&quot;) then
      		addSpecialExit(mmp.currentroom, 9985, getcmd(&quot;mud&quot;))
		end
      mmp.clearpathcache() -- clear cache so mmp.getPath accounts for the new way
      mademud = true
	end
	if mmp.settings.snowglobe and mmp.usebubblix() then
		if gmcp.Room.Info.area == &quot;the Great Spirit Tree&quot; then
      		addSpecialExit(mmp.currentroom, 6831, getcmd(&quot;snowglobe&quot;))
		elseif not table.contains(gmcp.Room.Info.details, &quot;an Aetherbubble&quot;) then
      		addSpecialExit(mmp.currentroom, 10992, getcmd(&quot;snowglobe&quot;))
		end
      mmp.clearpathcache() -- clear cache so mmp.getPath accounts for the new way
      madesnowglobe = true
	end
	if mmp.settings.cookie and mmp.usebubblix() then
		if gmcp.Room.Info.area == &quot;Crumkindivia&quot; then
      		addSpecialExit(mmp.currentroom, 6831, getcmd(&quot;cookie&quot;))
		elseif not table.contains(gmcp.Room.Info.details, &quot;an Aetherbubble&quot;) then
      		addSpecialExit(mmp.currentroom, 9888, getcmd(&quot;cookie&quot;))
		end
      mmp.clearpathcache() -- clear cache so mmp.getPath accounts for the new way
      madecookie = true
	end
	if mmp.settings.head and mmp.usebubblix() then
		if gmcp.Room.Info.area == &quot;the Bubble of Bottledowns&quot; then
      		addSpecialExit(mmp.currentroom, 6831, getcmd(&quot;doll&quot;))
		elseif not table.contains(gmcp.Room.Info.details, &quot;an Aetherbubble&quot;) then
      		addSpecialExit(mmp.currentroom, 11811, getcmd(&quot;doll&quot;))
		end
      mmp.clearpathcache() -- clear cache so mmp.getPath accounts for the new way
      madedoll = true
	end
	if mmp.settings.icicle and mmp.usebubblix() then
		if gmcp.Room.Info.area == &quot;Frosticia&quot; then
      		addSpecialExit(mmp.currentroom, 6831, getcmd(&quot;icicle&quot;))
		elseif not table.contains(gmcp.Room.Info.details, &quot;an Aetherbubble&quot;) then
      		addSpecialExit(mmp.currentroom, 10457, getcmd(&quot;icicle&quot;))
		end
      mmp.clearpathcache() -- clear cache so mmp.getPath accounts for the new way
      madeicicle = true
	end
	if mmp.settings.tibia and mmp.usebubblix() then
		if gmcp.Room.Info.area == &quot;the Cankermore Battlegrounds&quot; then
      		addSpecialExit(mmp.currentroom, 6831, getcmd(&quot;tibia&quot;))
		elseif not table.contains(gmcp.Room.Info.details, &quot;an Aetherbubble&quot;) then
      		addSpecialExit(mmp.currentroom, 11600, getcmd(&quot;tibia&quot;))
		end
      mmp.clearpathcache() -- clear cache so mmp.getPath accounts for the new way
      madetibia = true
	end
   if mmp.settings.bonecurio and mmp.usebix() then
      addSpecialExit(mmp.currentroom, 28613, getcmd(&quot;bonecurio&quot;))
      mmp.clearpathcache() -- clear cache so mmp.getPath accounts for the new way
      madebonecurio = true
	end
	if mmp.settings.flowercurio and mmp.usebix() then
      addSpecialExit(mmp.currentroom, 28624, getcmd(&quot;flowercurio&quot;))
      mmp.clearpathcache() -- clear cache so mmp.getPath accounts for the new way
      madeflowercurio = true
	end
	if mmp.settings.torus and mmp.usebix() then
      addSpecialExit(mmp.currentroom, 25848, getcmd(&quot;torus&quot;))
      mmp.clearpathcache() -- clear cache so mmp.getPath accounts for the new way
      madetorus = true
	end
	if mmp.settings.utensilcurio and mmp.usebix() then
      addSpecialExit(mmp.currentroom, 28617, getcmd(&quot;utensilcurio&quot;))
      mmp.clearpathcache() -- clear cache so mmp.getPath accounts for the new way
      madeutensilcurio = true
	end
	if mmp.settings.fluttercurio and mmp.usebix() then
      addSpecialExit(mmp.currentroom, 28622, getcmd(&quot;fluttercurio&quot;))
      mmp.clearpathcache() -- clear cache so mmp.getPath accounts for the new way
      madefluttercurio = true
	end
	if mmp.settings.toolcurio and mmp.usebix() then
      addSpecialExit(mmp.currentroom, 28586, getcmd(&quot;toolcurio&quot;))
      mmp.clearpathcache() -- clear cache so mmp.getPath accounts for the new way
      madetoolcurio = true
	end
	if mmp.settings.facecurio and mmp.usebix() then
      addSpecialExit(mmp.currentroom, 28433, getcmd(&quot;facecurio&quot;))
      mmp.clearpathcache() -- clear cache so mmp.getPath accounts for the new way
      madefacecurio = true
	end
	if mmp.settings.toycurio and mmp.usebix() then
      addSpecialExit(mmp.currentroom, 21548, getcmd(&quot;toycurio&quot;))
      mmp.clearpathcache() -- clear cache so mmp.getPath accounts for the new way
      madetoycurio = true
	end
	if mmp.settings.feathercurio and mmp.usebix() then
      addSpecialExit(mmp.currentroom, 28591, getcmd(&quot;feathercurio&quot;))
      mmp.clearpathcache() -- clear cache so mmp.getPath accounts for the new way
      madefeathercurio = true
	end
	if mmp.settings.figurecurio and mmp.usebix() then
      addSpecialExit(mmp.currentroom, 28312, getcmd(&quot;figurecurio&quot;))
      mmp.clearpathcache() -- clear cache so mmp.getPath accounts for the new way
      madefigurecurio = true
	end
   if mmp.settings.prism and mmp.useprism() then
		addSpecialExit(mmp.currentroom, 6182, getcmd(&quot;prism&quot;))
		mmp.clearpathcache()
		madeprism = true
	end
	if mmp.settings.vernalcurio and mmp.usebix() then
      addSpecialExit(mmp.currentroom, 29908, getcmd(&quot;vernalcurio&quot;))
      mmp.clearpathcache() -- clear cache so mmp.getPath accounts for the new way
      madevernalcurio = true
	end

  mmp.getPath(mmp.currentroom, mmp.speedWalkPath[#mmp.speedWalkPath]) -- don't need to check return value since that fact shouldnt've changed

  -- if our path didn't change, re-instate it as it was (since the new path starts from this room that we checked at)
  if speedWalkDir[1]:find(&quot;medallion&quot;,1,true) or speedWalkDir[1]:find(&quot;fingerblade&quot;,1,true) or speedWalkDir[1]:find(&quot;blossom&quot;,1,true) or speedWalkDir[1]:find(&quot;belt&quot;) or speedWalkDir[1]:find(&quot;cubix&quot;) or speedWalkDir[1]:find(&quot;bonecurio&quot;,1,true) or speedWalkDir[1]:find(&quot;flowercurio&quot;,1,true) or speedWalkDir[1]:find(&quot;torus&quot;,1,true) or speedWalkDir[1]:find(&quot;utensilcurio&quot;,1,true) or speedWalkDir[1]:find(&quot;fluttercurio&quot;,1,true) or speedWalkDir[1]:find(&quot;toolcurio&quot;,1,true) or speedWalkDir[1]:find(&quot;facecurio&quot;,1,true) or speedWalkDir[1]:find(&quot;toycurio&quot;,1,true) or speedWalkDir[1]:find(&quot;feathercurio&quot;,1,true) or speedWalkDir[1]:find(&quot;mandala&quot;,1,true) or speedWalkDir[1]:find(&quot;figurecurio&quot;,1,true) or speedWalkDir[1]:find(&quot;prism&quot;,1,true) or speedWalkDir[1]:find(&quot;vernalcurio&quot;,1,true) then
    speedWalkCounter = 0
    mmp.echo(&quot;We got outside - going to shortcut with 'bix device.&quot;)
    mmp.gotoRoom(mmp.speedWalkPath[#mmp.speedWalkPath])
    mmp.ignore_speedwalking = true
  end

  if mademedallion then mmp.clearspecials{13367} end
  if madefingerblade then mmp.clearspecials{18777} end
  if madeblossom then mmp.clearspecials{18730} end
  if madebelt then mmp.clearspecials{19627} end
  if madecubix then mmp.clearspecials{6184} end
  if madescrewdriver then mmp.clearspecials{6831, 10185} end
  if madewheel then mmp.clearspecials{6831, 10509} end
  if mademud then mmp.clearspecials{6831, 9985} end
  if madesnowglobe then mmp.clearspecials{6831, 10992} end
  if madecookie then mmp.clearspecials{6831, 9888} end
  if madehead then mmp.clearspecials{6831, 11811} end
  if madeicicle then mmp.clearspecials{6831, 10457} end
  if madetibia then mmp.clearspecials{6831, 11600} end
  if madebonecurio then mmp.clearspecials{28613} end
  if madeflowercurio then mmp.clearspecials{28624} end
  if madetorus then mmp.clearspecials{25848} end
  if madeutensilcurio then mmp.clearspecials{28617} end
  if madefluttercurio then mmp.clearspecials{28622} end
  if madetoolcurio then mmp.clearspecials{28586} end
  if madefacecurio then mmp.clearspecials{28433} end
  if madetoycurio then mmp.clearspecials{21548} end
  if madefeathercurio then mmp.clearspecials{28591} end
  if madefigurecurio then mmp.clearspecials{28312} end
  if madeprism then mmp.clearspecials{6182} end
  if madevernalcurio then mmp.clearspecials{29908} end
  if mademandala then mmp.clearspecials{19563} end
end
</script>
                            <eventHandlerList>
                                <string>mmapper went outside</string>
                            </eventHandlerList>
                        </Script>
                    </Script>
                    <Script isActive="yes" isFolder="no">
                        <name>Imperian</name>
                        <packageName></packageName>
                        <script>-------------------------------------------------
--         Put your Lua functions here.        --
--                                             --
-- Note that you can also use external Scripts --
-------------------------------------------------
</script>
                        <eventHandlerList/>
                        <Script isActive="yes" isFolder="no">
                            <name>register_imperians_envdata</name>
                            <packageName></packageName>
                            <script>function register_imperians_envdata(_, game)
  if game ~= &quot;Imperian&quot; then return end
  mmp.envids =
  {
    [&quot;a sheltered dell&quot;]        = 68,
    [&quot;Arcane Temple&quot;]           = 66,
    [&quot;Blackened Lands&quot;]         = 58,
    [&quot;Blackstone Dungeon&quot;]      = 65,
    [&quot;Blackstone Keep&quot;]         = 62,
    [&quot;Constructed underground&quot;] = 2,
    [&quot;Dark Forest&quot;]             = 1,
    [&quot;Deep Ocean&quot;]              = 24,
    [&quot;Desert Ruins&quot;]            = 38,
    [&quot;Dwarven city&quot;]            = 18,
    [&quot;Forestal Council&quot;]        = 44,
    [&quot;Frozen Bog&quot;]              = 76,
    [&quot;Lake of Fire&quot;]            = 56,
    [&quot;Natural underground&quot;]     = 3,
    [&quot;Noble Bar&quot;]               = 53,
    [&quot;Noble Chambers&quot;]          = 51,
    [&quot;Rocky Shore&quot;]             = 77,
    [&quot;Sylayan city&quot;]            = 19,
    [&quot;Tainted Underground&quot;]     = 35,
    [&quot;Tainted Water&quot;]           = 39,
    [&quot;Underground Lake&quot;]        = 36,
    [&quot;Vast Ocean&quot;]              = 26,
    [&quot;Wetlands Village&quot;]        = 64,
    [&quot;within a tent&quot;]           = 69,
    Academia                    = 42,
    Acropolis                   = 33,
    Beach                       = 5,
    Blighted                    = 74,
    bog                         = 73,
    Catacombs                   = 63,
    Church                      = 54,
    Cliffs                      = 67,
    Crags                       = 32,
    Desert                      = 6,
    Docks                       = 30,
    Farmland                    = 41,
    Forest                      = 4,
    Freshwater                  = 22,
    Garden                      = 21,
    garrison                    = 71,
    Grasslands                  = 7,
    Graveyard                   = 46,
    Hills                       = 9,
    Jungle                      = 17,
    Mountains                   = 14,
    Nobility                    = 50,
    Ocean                       = 20,
    Path                        = 11,
    Polar                       = 27,
    Pond                        = 49,
    pyramid                     = 72,
    quarry                      = 70,
    River                       = 10,
    Road                        = 12,
    Ruins                       = 37,
    Scrublands                  = 78,
    Sewer                       = 23,
    Swamp                       = 15,
    Temple                      = 57,
    Tower                       = 79,
    transportation              = 48,
    Tundra                      = 16,
    Underworld                  = 28,
    Urban                       = 8,
    Valley                      = 13,
    Villa                       = 75,
    Village                     = 47,
    Village                     = 55,
    Volcano                     = 59,
    Warrens                     = 31,
  }

  mmp.waterenvs = {}
  local waterids = { &quot;River&quot;, &quot;Ocean&quot;, &quot;Deep Ocean&quot;, &quot;Vast Ocean&quot;, &quot;Underground Lake&quot;, &quot;Tainted Water&quot;, &quot;Lake of Fire&quot; }
  for i = 1, #waterids do mmp.waterenvs[mmp.envids[waterids[i]]] = true end

  mmp.envidsr = {};
  for name, id in pairs(mmp.envids) do mmp.envidsr[id] = name end
end</script>
                            <eventHandlerList>
                                <string>mmp logged in</string>
                            </eventHandlerList>
                        </Script>
                    </Script>
                    <Script isActive="yes" isFolder="no">
                        <name>Midmekia Online</name>
                        <packageName></packageName>
                        <script>-------------------------------------------------
--         Put your Lua functions here.        --
--                                             --
-- Note that you can also use external Scripts --
-------------------------------------------------
</script>
                        <eventHandlerList/>
                        <Script isActive="yes" isFolder="no">
                            <name>register_midkemias_envdata</name>
                            <packageName></packageName>
                            <script>function register_midkemias_envdata(_, game)
  if game ~= &quot;Midkemia Online&quot; then return end
  mmp.envids =
  {
    [&quot;constructed underground&quot;] = 2,
    [&quot;fresh water&quot;]             = 20,
    [&quot;natural underground&quot;]     = 3,
    [&quot;shores of Lake Moraelin&quot;] = 33,
    beach                       = 5,
    canyon                      = 29,
    farmlands                   = 31,
    forest                      = 4,
    garden                      = 19,
    grasslands                  = 7,
    hills                       = 9,
    ice                         = 27,
    mines                       = 28,
    mountains                   = 14,
    ocean                       = 18,
    path                        = 11,
    plains                      = 30,
    reef                        = 23,
    river                       = 10,
    road                        = 12,
    ruins                       = 24,
    sewers                      = 21,
    swamp                       = 15,
    temple                      = 26,
    tundra                      = 16,
    urban                       = 8,
    valley                      = 13,
    village                     = 25,
    volcanic                    = 32,
  }

  mmp.waterenvs = {}
  local waterids = { &quot;river&quot;, &quot;ocean&quot;, &quot;fresh water&quot;, &quot;reef&quot; }
  for i = 1, #waterids do mmp.waterenvs[mmp.envids[waterids[i]]] = true end

  mmp.envidsr = {};
  for name, id in pairs(mmp.envids) do mmp.envidsr[id] = name end
end</script>
                            <eventHandlerList>
                                <string>mmp logged in</string>
                            </eventHandlerList>
                        </Script>
                    </Script>
                    <Script isActive="yes" isFolder="no">
                        <name>Lithmeria</name>
                        <packageName></packageName>
                        <script>-------------------------------------------------
--         Put your Lua functions here.        --
--                                             --
-- Note that you can also use external Scripts --
-------------------------------------------------
</script>
                        <eventHandlerList/>
                        <Script isActive="yes" isFolder="no">
                            <name>register_lithmerias_envdata</name>
                            <packageName></packageName>
                            <script>function register_lithmerias_envdata(_, game)
  if game ~= &quot;Lithmeria&quot; then return end

  mmp.envids =
  {
    [&quot;deep water&quot;] = 4,
    beach          = 11,
    bridge         = 6,
    building       = 13,
    cliffs         = 1,
    desert         = 11,
    forest         = 2,
    highway        = 6,
    jungle         = 10,
    mountain       = 1,
    ocean          = 4,
    path           = 6,
    plains         = 3,
    river          = 4,
    road           = 6,
    shallowwater   = 4,
    swamp          = 2,
    tundra         = 7,
    underground    = 8,
    urban          = 8,
    water          = 4,
  }

  for name, number in pairs(mmp.envids) do
    mmp.envids[name] = number+256 -- adjust for in-built colors
  end

  mmp.waterenvs = {}
  local waterids = { &quot;shallowwater&quot;, &quot;river&quot;, &quot;water&quot;, &quot;deep water&quot;, &quot;ocean&quot; }
  for i = 1, #waterids do mmp.waterenvs[mmp.envids[waterids[i]]] = true end

  mmp.envidsr = {};
  for name, id in pairs(mmp.envids) do mmp.envidsr[id] = name end
end</script>
                            <eventHandlerList>
                                <string>mmp logged in</string>
                            </eventHandlerList>
                        </Script>
                    </Script>
                </ScriptGroup>
                <ScriptGroup isActive="yes" isFolder="yes">
                    <name>Test / one-time things</name>
                    <packageName></packageName>
                    <script>-------------------------------------------------
--         Put your Lua functions here.        --
--                                             --
-- Note that you can also use external Scripts --
-------------------------------------------------
</script>
                    <eventHandlerList/>
                    <Script isActive="no" isFolder="no">
                        <name>mmp_grabenvid</name>
                        <packageName></packageName>
                        <script>function mmp_grabenvid()
  if not mmp.envids[gmcp.Room.Info.environment] then
    mmp.envids[gmcp.Room.Info.environment] = getRoomEnv(mmp.currentroom)
    mmp.echo(string.format(&quot;Remembered environment %s as %d&quot;, gmcp.Room.Info.environment, mmp.envids[gmcp.Room.Info.environment]))
  end
end

function mmp.getMaxID()
  local roomIDs = {}
  for area, _ in pairs(mmp.areatabler) do
    local ok, t = pcall(getAreaRooms, area)
    if ok then
      for _, id in pairs(t or {}) do
        roomIDs[id] = true
      end
    end
  end

  return table.maxn(roomIDs)
end

function mmp.getUnknownEnvs()
  local maxid, missing = mmp.getMaxID(), {}

  for i = 1, maxid do
    if mmp.roomexists(i) then
      if not table.contains(mmp.envids, getRoomEnv(i)) and not table.contains(missing, getRoomEnv(i)) then
        mmp.echo(string.format(&quot;Missing env %d from room %d ('%s' in '%s')&quot;,
          tostring(getRoomEnv(i)), i, tostring(getRoomName(i)), tostring(mmp.areatabler[getRoomArea(i)])))
        missing[i] = getRoomEnv(i)
      end
    end
  end
end</script>
                        <eventHandlerList>
                            <string>gmcp.Room.Info</string>
                        </eventHandlerList>
                    </Script>
                </ScriptGroup>
                <ScriptGroup isActive="yes" isFolder="yes">
                    <name>Check for map updates</name>
                    <packageName></packageName>
                    <script>-------------------------------------------------
--         Put your Lua functions here.        --
--                                             --
-- Note that you can also use external Scripts --
-------------------------------------------------
</script>
                    <eventHandlerList/>
                    <Script isActive="yes" isFolder="no">
                        <name>mmp_downloaded_file</name>
                        <packageName></packageName>
                        <script>function mmp_downloaded_file(_, filename)
  if not io.exists(filename) then return end

  -- workaround for https://bugs.launchpad.net/mudlet/+bug/1092769
--  if mmp[&quot;downloaded_file_block_&quot;..filename] then return end
--  mmp[&quot;downloaded_file_block_&quot;..filename] = tempTimer(5, [[mmp[&quot;downloaded_file_block_]]..filename..[[&quot;] = nil]])

  if filename == tostring(mmp.mapperfile) then   -- mapper script version
	mmp.checkingupdates = false

    local f, s = io.open(filename)
    if f then s = f:read(&quot;*l&quot;):trim(); io.close(f) end

    if s ~= tostring(mmp.version) then
      mmp.newmapperversion = s
      mmp.retrievechangelog()
    end

  elseif filename == tostring(mmp.changelogfile) then   -- changelog for the mapper script
	mmp.checkingupdates = false

    local f, s = io.open(filename)
    if f then s = f:read(&quot;*a&quot;); io.close(f) end

    local changelog = string.match(s, [[&lt;div class=&quot;information&quot;&gt;(.-)&lt;/div]])
    changelog = string.gsub(changelog, &quot;Â&quot;, '')
    changelog = string.gsub(changelog, &quot;&lt;br/&gt;&quot;, '\n')
    changelog = string.gsub(changelog, &quot;&amp;#39;&quot;, &quot;'&quot;)
    mmp.echon(&quot;&quot;)
    echoLink(&quot;The mapper script was updated! Would you like to download the update? Click here if so.&quot;, &quot;mmp.downloadmapperscript()&quot;, &quot;Changelog for the latest (&quot;..tostring(mmp.version)..&quot; -&gt; &quot;..tostring(mmp.newmapperversion)..&quot;) update:\n&quot;..changelog, true)

  elseif filename == mmp.crowdchangelogfile then   -- changelog for the crowdmap
    local f, s = io.open(filename)
    if f then s = f:read(&quot;*a&quot;); io.close(f) end

    -- make environment
    local env = {} -- add functions you know are safe here

    -- run code under environment [Lua 5.1]
    local function run(untrusted_code)
      if untrusted_code:byte(1) == 27 then return nil, &quot;binary bytecode prohibited&quot; end
      local untrusted_function, message = loadstring(untrusted_code)
      if not untrusted_function then return nil, message end
      setfenv(untrusted_function, env)
      return pcall(untrusted_function)
    end

    run(s)

	mmp.crowdchangelog = env.changelog

    mmp.echon(&quot;The crowdmap map was &quot;)
    setUnderline(true)
    echoLink(&quot;updated&quot;, '', &quot;New version: &quot;..tostring(mmp.newversion)..&quot;, previous version: &quot;..(mmp.oldversion or &quot;(none)&quot;), true)
    setUnderline(false)
    echo(&quot; (&quot;)
    setUnderline(true)
    echoLink(&quot;see full changelog&quot;, &quot;mmp.showcrowdchangelog()&quot;, 'View the full changelog for mappers', true)
    setUnderline(false)
    echo(&quot;). Latest improvement is: &quot;..tostring(mmp.crowdchangelog and mmp.crowdchangelog[#mmp.crowdchangelog] or '?')..&quot;.\n&quot;)

    mmp.downloadcrowdmap(mmp.newversion)

  elseif filename == mmp.crowdmapfile then    -- crowdmap map
    mmp.echo(&quot;Map downloaded, loading it in...&quot;)

    local tmp = getRoomUserData(1, &quot;gotoMapping&quot;)
    local oldmaptable = {}

    if tmp ~= &quot;&quot; then
      oldmaptable = yajl.to_value(tmp)
    end

    local ok = loadMap(filename)

    if ok then
      local wc = mmp.lockWormholes()
	  local ws = mmp.lockSewers()
      mmp.lockPebble()
      if mmp.game == &quot;achaea&quot; and wc == 0 and ws == 0 then -- in achaea, using crowdmap, if we didn't get any special exits - it means Mudlet needs to be updated
        mmp.echo(&quot;Sorry, it seems your Mudlet isn't compatible with the new crowdmap format - and the map cannot be loaded fully. Please update your Mudlet:\n  http://www.mudlet.org/download/&quot;)
        return
      end

      if mmp.settings.waterwalk then mmp.enableWaterWalk() else mmp.disableWaterWalk() end

      mmp.echo(&quot;Map loaded fine - enjoy!&quot;)

      tmp = getRoomUserData(1, &quot;gotoMapping&quot;)
      local newmaptable = {}

      if tmp ~= &quot;&quot; then
        newmaptable = yajl.to_value(tmp)
      end

      for k,v in pairs(oldmaptable) do newmaptable[k] = v end
      setRoomUserData(1, &quot;gotoMapping&quot;, yajl.to_string(newmaptable))
      mmp.echo(&quot;Marks from the old map migrated successfully.&quot;)

      raiseEvent(&quot;mmapper updated map&quot;)
    else
      mmp.echon(&quot;Map failed to load - you need to have the mapper open. Please open it, and then &quot;)
      echoLink(&quot;click here&quot;, [[
        local tmp = getRoomUserData(1, &quot;gotoMapping&quot;)
        local oldmaptable = {}
        if tmp ~= &quot;&quot; then
          oldmaptable = yajl.to_value(tmp)
        end

        local ok = loadMap(']]..filename..[[')
        if ok then
        local wc = mmp.lockWormholes()
	    local ws = mmp.lockSewers()
        mmp.lockPebble()
        if mmp.game == &quot;achaea&quot; and wc == 0 and ws == 0 then -- in achaea, using crowdmap, if we didn't get any special exits - it means Mudlet needs to be updated
          mmp.echo(&quot;Sorry, it seems your Mudlet isn't compatible with the new crowdmap format - and the map cannot be loaded fully. Please update your Mudlet:\n  http://www.mudlet.org/download/&quot;)
          return
        end

        if mmp.settings.waterwalk then mmp.enableWaterWalk() else mmp.disableWaterWalk() end

        mmp.echo(&quot;Map loaded successfully!&quot;)

          tmp = getRoomUserData(1, &quot;gotoMapping&quot;)
          local newmaptable = {}
          if tmp ~= &quot;&quot; then
            newmaptable = yajl.to_value(tmp)
          end
          for k,v in pairs(oldmaptable) do newmaptable[k] = v end
          setRoomUserData(1, &quot;gotoMapping&quot;, yajl.to_string(newmaptable))
          mmp.echo(&quot;Marks from the old map migrated successfully.&quot;)
          raiseEvent(&quot;mmapper updated map&quot;)
        else mmp.echo(&quot;Nope, didn't work. Open the map and try again?&quot;) end
      ]],
      &quot;Click here to try loading the map again&quot;)
      echo(&quot; to try loading it in again.\n&quot;)
    end

  elseif filename == tostring(mmp.downloadedscript) then   -- new mapper script xml downloaded
	mmp.checkingupdates = false

    mmp.echo(&quot;Your mapper script was downloaded to '&quot;..filename..&quot;' - uninstall the current copy and install the new one now!&quot;)

  elseif filename == tostring(mmp.mapfile) then   -- map version #, either IRE's or crowd
	mmp.checkingupdates = false

    local function needupdate(currentmd5, oldmd5)
      if not mmp.settings.crowdmap then
        mmp.echon(&quot;The games map was &quot;)
        echoLink(&quot;updated&quot;, '', &quot;New MD5: &quot;..tostring(currentmd5)..&quot;, previous MD5: &quot;..(oldmd5 or &quot;(none)&quot;), true)
        echo(&quot; - you should update yours! Go to Settings -&gt; Mapper tab and click on the button there. Once you've updated, &quot;)
        echoLink(&quot;click here&quot;, &quot;mmp.updatedmap('&quot;..currentmd5..&quot;')&quot;, &quot;Click here to quiet the update reminder&quot;)
        echo(&quot; to remove the reminder.&quot;)
      else
        mmp.newversion, mmp.oldversion = currentmd5, oldmd5
        mmp.retrievecrowdchangelog()
      end
    end

    local f, s = io.open(filename)
    if f then s = f:read(&quot;*a&quot;); io.close(f) end
    local currentmd5 = string.match(s, &quot;([a-z0-9]+)  map%.xml&quot;)

    -- using crowdsourced map
    if not currentmd5 then
      currentmd5 = s:trim()
    end

	os.remove(filename)

    -- never checked yet?
    if not io.exists(getMudletHomeDir()..&quot;/map downloads/current&quot;) then needupdate(currentmd5) return end

    -- otherwise read old file and check
    local f, s = io.open(getMudletHomeDir()..&quot;/map downloads/current&quot;)
    if f then s = f:read(&quot;*a&quot;); io.close(f) end

    if s ~= currentmd5 then needupdate(currentmd5, s) end
  end
end</script>
                        <eventHandlerList>
                            <string>sysDownloadDone</string>
                        </eventHandlerList>
                    </Script>
                    <Script isActive="yes" isFolder="no">
                        <name>Check for updates</name>
                        <packageName></packageName>
                        <script>local downloadfolder = getMudletHomeDir()..&quot;/map downloads/&quot;
local whereisit

-- this should get called at start and every hour after that
function mmp.checkforupdate()
  if not mmp.game or mmp.checkingupdates then return end

  local game = (mmp.game == &quot;mko&quot;) and &quot;midkemiaonline&quot; or mmp.game
  mmp.mapfile = downloadfolder..&quot;MD5&quot;
  mmp.mapperfile = downloadfolder..&quot;mapper&quot;

  if not downloadFile then
    mmp.echo(&quot;Your version of Mudlet doesn't support downloading files - please upgrade to 2.0+&quot;)
  else
    if not lfs.attributes(downloadfolder) then
      if lfs and lfs.mkdir then
         local t,s = lfs.mkdir(downloadfolder)
         if not t and s ~= &quot;File exists&quot; then mmp.echo(&quot;Couldn't make the '&quot;..downloadfolder..&quot;' folder; &quot;..s) return end
      else
        mmp.echo(&quot;Sorry, but you need LuaFileSystem (lfs) installed, or have the '&quot;..downloadfolder..&quot;' folder exist.&quot;)
        return
      end
    end

    if mmp.settings.crowdmap and mmp.game and mmp.game == &quot;achaea&quot; then
      downloadFile(mmp.mapfile, &quot;http://vadisystems.com/achaea-mudlet-map/.latest_map_version&quot;)
    elseif mmp.settings.updatemap then
      downloadFile(mmp.mapfile, &quot;http://www.&quot;..game..&quot;.com/maps/MD5SUM&quot;)
    end

    downloadFile(mmp.mapperfile, &quot;http://bazaar.launchpad.net/~mudlet-makers/mudlet/mapper-lua/download/head:/version-20110910005237-2917fpevgi4koxqk-1/version&quot;)
	mmp.checkingupdates = true
  end
end

-- called by the user when the map is updated to register the fact that it was
function mmp.updatedmap(currentmd5)
  assert(currentmd5, &quot;need md5 sum to write to file&quot;)

  local f,err = io.open(downloadfolder..&quot;current&quot;, &quot;w&quot;)
  if not f then return mmp.echo(&quot;Couldn't write to the update file, because: &quot;..err) end
  f:write(currentmd5)
  f:close()

  local t = {&quot;Go you for updating!&quot;, &quot;Thanks for updating the map!&quot;, &quot;Alright, map updated!&quot;}
  mmp.echo(t[math.random(1, #t)])
end

-- downloads the latest changelog for the mapper if it was updated
function mmp.retrievechangelog()
  mmp.changelogfile = downloadfolder..&quot;changelog&quot;

  downloadFile(mmp.changelogfile, &quot;http://bazaar.launchpad.net/~mudlet-makers/mudlet/mapper-lua/files&quot;)
end

function mmp.retrievecrowdchangelog()
  mmp.crowdchangelogfile = downloadfolder..&quot;crowdchangelogfile&quot;

  downloadFile(mmp.crowdchangelogfile, &quot;http://vadisystems.com/achaea-mudlet-map/changelog&quot;)
end

-- downloads the public crowdsources map!
function mmp.downloadmapperscript()
  local downloadlocationfile = downloadfolder..&quot;savepath&quot;
  local downloadlocation
  local exists = lfs.attributes

  -- somewhat complicated thing to nicely deal with all scenarios.
  if not exists(downloadlocationfile) then
    downloadlocation = whereisit()
    if not downloadlocation then return end
  end

  if not downloadlocation then
    local f, s = io.open(downloadlocationfile)
    if f then downloadlocation = f:read(&quot;*a&quot;); io.close(f) end


    if not exists(downloadlocation) then
      downloadlocation = whereisit()
      if not downloadlocation or not exists(downloadlocation) then return end
    end
  end


  mmp.downloadedscript = downloadlocation..&quot;/mudlet-mapper.xml&quot;
  downloadFile(mmp.downloadedscript, &quot;http://bazaar.launchpad.net/~mudlet-makers/mudlet/mapper-lua/download/head:/mudletmapper.xml-20100916000616-71kbxngi7b3nybta-1/mudlet-mapper.xml&quot;)

  local f,err = io.open(downloadlocationfile, &quot;w&quot;)
  if not f then return mmp.echo(&quot;Couldn't write to the location file, because: &quot;..err) end
  f:write(downloadlocation)
  f:close()
  mmp.echo(&quot;Okay, downloading the mapper script...&quot;)
end

function mmp.downloadcrowdmap(newversion)
  mmp.crowdmapfile = downloadfolder..&quot;crowdmap&quot;

  local f,err = io.open(downloadfolder..&quot;current&quot;, &quot;w&quot;)
  if not f then return mmp.echo(&quot;Couldn't write to the update file, because: &quot;..err) end
  f:write(newversion)
  f:close()


  downloadFile(mmp.crowdmapfile, &quot;http://vadisystems.com/achaea-mudlet-map/map&quot;)

  mmp.echo(&quot;Downloading the latest crowdmap...&quot;)
end

function mmp.showcrowdchangelog()
  mmp.echo(&quot;Public map changelog:&quot;)

  if not mmp.crowdchangelog then mmp.echo(&quot;(none yet)&quot;) return end

  for k,v in ipairs(mmp.crowdchangelog) do
    cecho(string.format(&quot;  %s) %s\n&quot;, k,v:gsub(&quot;\t&quot;, &quot;     &quot;)))
  end
end

whereisit = function()
  local path = invokeFileDialog(false, &quot;Where should we save the file? Select a folder and click Open&quot;)

  if path == &quot;&quot; then return nil else return path end
end</script>
                        <eventHandlerList/>
                        <Script isActive="yes" isFolder="no">
                            <name>mmp_checkupdatestart</name>
                            <packageName></packageName>
                            <script>function mmp_checkupdatestart(...)
  if mmp.checkforupdatetimer then killTimer(mmp.checkforupdatetimer) end
  mmp.checkforupdatetimer = tempTimer(math.random(3, 10), mmp.checkforupdate)
end

function mmp.changeUpdateMap()
  if mmp.settings.updatemap then
    mmp.echo(&quot;Will check for new map updates from your MUD.&quot;)
    enableTimer&quot;Check for updates periodically&quot;
    mmp_checkupdatestart()
  else
    mmp.echo(&quot;Won't check for new map updates from your MUD.&quot;)
    disableTimer&quot;Check for updates periodically&quot;
	if mmp.checkforupdatetimer then killTimer(&quot;mmp.checkforupdatetimer&quot;) end
  end
end</script>
                            <eventHandlerList>
                                <string>mmp logged in</string>
                            </eventHandlerList>
                        </Script>
                    </Script>
                    <Script isActive="no" isFolder="no">
                        <name>mmp_see_dl_errors</name>
                        <packageName></packageName>
                        <script>-- this should be off by default
function mmp_see_dl_errors(...)
  display{...}
end</script>
                        <eventHandlerList>
                            <string>sysDownloadError</string>
                        </eventHandlerList>
                    </Script>
                </ScriptGroup>
                <Script isActive="yes" isFolder="no">
                    <name>Initialize</name>
                    <packageName></packageName>
                    <script>mmp.startup()</script>
                    <eventHandlerList/>
                    <Script isActive="yes" isFolder="no">
                        <name>mmp.mapdata_changed</name>
                        <packageName></packageName>
                        <script>-- aggregates map load and such events into one
function mmp.mapdata_changed()
  raiseEvent(&quot;mmapper map reloaded&quot;)
end</script>
                        <eventHandlerList>
                            <string>sysMapLoad</string>
                            <string>sys2DMapLoad</string>
                            <string>sys3DMapLoad</string>
                            <string>sysMapDownloadEvent</string>
                        </eventHandlerList>
                    </Script>
                </Script>
            </ScriptGroup>
        </ScriptGroup>
    </ScriptPackage>
    <KeyPackage>
        <KeyGroup isActive="yes" isFolder="yes">
            <name>eden</name>
            <packageName>eden</packageName>
            <script></script>
            <command></command>
            <keyCode>0</keyCode>
            <keyModifier>0</keyModifier>
            <KeyGroup isActive="yes" isFolder="yes">
                <name>common</name>
                <packageName></packageName>
                <script></script>
                <command></command>
                <keyCode>-1</keyCode>
                <keyModifier>-1</keyModifier>
                <Key isActive="yes" isFolder="no">
                    <name>observe, ctrl '</name>
                    <packageName></packageName>
                    <script>send(&quot;observe&quot;)</script>
                    <command></command>
                    <keyCode>39</keyCode>
                    <keyModifier>67108864</keyModifier>
                </Key>
                <Key isActive="yes" isFolder="no">
                    <name>share, ctrl w</name>
                    <packageName></packageName>
                    <script>if share then 
	share = false 
	cecho(&quot;\n&lt;red&gt;Stopped sharing.&quot;)
	if overmind then overmind.ui_refresh() end
else 
	share = true 
	cecho(&quot;\n&lt;green&gt;Started sharing.&quot;)
	if overmind then overmind.ui_refresh() end
end</script>
                    <command></command>
                    <keyCode>87</keyCode>
                    <keyModifier>67108864</keyModifier>
                </Key>
                <Key isActive="yes" isFolder="no">
                    <name>lyre, ctrl 6</name>
                    <packageName></packageName>
                    <script>expandAlias(&quot;ac off&quot;)
send(&quot;strum lyre&quot;)</script>
                    <command></command>
                    <keyCode>54</keyCode>
                    <keyModifier>67108864</keyModifier>
                </Key>
                <Key isActive="yes" isFolder="no">
                    <name>bash, ctrl =</name>
                    <packageName></packageName>
                    <script>local str = bash.p(target)
send(str)</script>
                    <command></command>
                    <keyCode>61</keyCode>
                    <keyModifier>67108864</keyModifier>
                </Key>
                <Key isActive="yes" isFolder="no">
                    <name>ctrl m (sleep)</name>
                    <packageName></packageName>
                    <script>if class == &quot;Amazon&quot; then			
elseif class == &quot;Monk&quot; then			
elseif class == &quot;Outrider&quot; then		
elseif class == &quot;Predator&quot; then		send(&quot;twinshot &quot;..target..&quot; opium opium&quot;)
elseif class == &quot;Priest&quot; then			
elseif class == &quot;Ranger&quot; then			ranger.sleep(target)
elseif class == &quot;Templar&quot; then		

elseif class == &quot;Assassin&quot; then		assassin.sleep(target)
elseif class == &quot;Deathknight&quot; then	deathknight.sleep(target)
elseif class == &quot;Defiler&quot; then		defiler.sleep(target)
elseif class == &quot;Diabolist&quot; then		diabolist.sleep(target)
elseif class == &quot;Summoner&quot; then		summoner.control(target)
elseif class == &quot;Wytch&quot; then			wytch.sleep(target)

elseif class == &quot;Bard&quot; then			
elseif class == &quot;Druid&quot; then			
elseif class == &quot;Hunter&quot; then			
elseif class == &quot;Mage&quot; then			
elseif class == &quot;Renegade&quot; then		
elseif class == &quot;Runeguard&quot; then		
end	</script>
                    <command></command>
                    <keyCode>77</keyCode>
                    <keyModifier>67108864</keyModifier>
                </Key>
            </KeyGroup>
            <KeyGroup isActive="yes" isFolder="yes">
                <name>limbs</name>
                <packageName></packageName>
                <script></script>
                <command></command>
                <keyCode>-1</keyCode>
                <keyModifier>-1</keyModifier>
                <Key isActive="yes" isFolder="no">
                    <name>left arm ctrl-u</name>
                    <packageName></packageName>
                    <script>if class == &quot;Amazon&quot; then
elseif class == &quot;Monk&quot; then
elseif class == &quot;Outrider&quot; then
elseif class == &quot;Predator&quot; then
	local str = predator.arms(target,&quot;left&quot;)

	send(str)
elseif class == &quot;Priest&quot; then
elseif class == &quot;Ranger&quot; then	
	local str = &quot;&quot;
	local arg = ranger.qjab(target)

	str = str..&quot;queue eqbal displace nothing&quot;..sp
	str = str..&quot;target left arm&quot;..sp
	str = str..arg
	send(str)
elseif class == &quot;Templar&quot; then

elseif class == &quot;Assassin&quot; then
elseif class == &quot;Deathknight&quot; then
	local str = &quot;&quot;
	local arg = deathknight.dsl(target) 
	
	str = str..&quot;queue eqbal displace nothing&quot;..sp
	str = str..&quot;target left arm&quot;..sp
	str = str..arg
	send(str)
elseif class == &quot;Defiler&quot; then
	local str = &quot;&quot;
	local arg = defiler.hit(target)
	
	str = str..&quot;queue eqbal displace nothing&quot;..sp
	str = str..&quot;target left arm&quot;..sp
	str = str..arg
	send(str)
elseif class == &quot;Diabolist&quot; then
elseif class == &quot;Summoner&quot; then
elseif class == &quot;Wytch&quot; then

elseif class == &quot;Bard&quot; then
elseif class == &quot;Druid&quot; then
elseif class == &quot;Hunter&quot; then
elseif class == &quot;Mage&quot; then
elseif class == &quot;Renegade&quot; then
elseif class == &quot;Runeguard&quot; then

else
end
</script>
                    <command></command>
                    <keyCode>85</keyCode>
                    <keyModifier>67108864</keyModifier>
                </Key>
                <Key isActive="yes" isFolder="no">
                    <name>right arm ctrl-t</name>
                    <packageName></packageName>
                    <script>if class == &quot;Amazon&quot; then
elseif class == &quot;Monk&quot; then
elseif class == &quot;Outrider&quot; then
elseif class == &quot;Predator&quot; then
	local str = predator.arms(target,&quot;right&quot;)

	send(str)
elseif class == &quot;Priest&quot; then
elseif class == &quot;Ranger&quot; then
	local str = &quot;&quot;
	local arg = ranger.qjab(target)

	str = str..&quot;queue eqbal displace nothing&quot;..sp
	str = str..&quot;target right arm&quot;..sp
	str = str..arg
	send(str)
elseif class == &quot;Templar&quot; then

elseif class == &quot;Assassin&quot; then
elseif class == &quot;Deathknight&quot; then
	local str = &quot;&quot;
	local arg = deathknight.dsl(target) 
	
	str = str..&quot;queue eqbal displace nothing&quot;..sp
	str = str..&quot;target right arm&quot;..sp
	str = str..arg
	send(str)
elseif class == &quot;Defiler&quot; then
	local str = &quot;&quot;
	local arg = defiler.hit(target)
	
	str = str..&quot;queue eqbal displace nothing&quot;..sp
	str = str..&quot;target right arm&quot;..sp
	str = str..arg
	send(str)
elseif class == &quot;Diabolist&quot; then
elseif class == &quot;Summoner&quot; then
elseif class == &quot;Wytch&quot; then

elseif class == &quot;Bard&quot; then
elseif class == &quot;Druid&quot; then
elseif class == &quot;Hunter&quot; then
elseif class == &quot;Mage&quot; then
elseif class == &quot;Renegade&quot; then
elseif class == &quot;Runeguard&quot; then

else
end
</script>
                    <command></command>
                    <keyCode>84</keyCode>
                    <keyModifier>67108864</keyModifier>
                </Key>
                <Key isActive="yes" isFolder="no">
                    <name>left leg ctrl-j</name>
                    <packageName></packageName>
                    <script>if class == &quot;Amazon&quot; then
elseif class == &quot;Monk&quot; then
elseif class == &quot;Outrider&quot; then
elseif class == &quot;Predator&quot; then
	local str = predator.legs(target,&quot;left&quot;)

	send(str)
elseif class == &quot;Priest&quot; then
elseif class == &quot;Ranger&quot; then	
	local str = &quot;&quot;
	local arg = ranger.qjab(target)

	str = str..&quot;queue eqbal displace nothing&quot;..sp
	str = str..&quot;target left leg&quot;..sp
	str = str..arg
	send(str)
elseif class == &quot;Templar&quot; then

elseif class == &quot;Assassin&quot; then
elseif class == &quot;Deathknight&quot; then
	local str = &quot;&quot;
	local arg = deathknight.dsl(target) 
	
	str = str..&quot;queue eqbal displace nothing&quot;..sp
	str = str..&quot;target left leg&quot;..sp
	str = str..arg
	send(str)
elseif class == &quot;Defiler&quot; then
	local str = &quot;&quot;
	local arg = defiler.hit(target)
	
	str = str..&quot;queue eqbal displace nothing&quot;..sp
	str = str..&quot;target left leg&quot;..sp
	str = str..arg
	send(str)
elseif class == &quot;Diabolist&quot; then
elseif class == &quot;Summoner&quot; then
elseif class == &quot;Wytch&quot; then

elseif class == &quot;Bard&quot; then
elseif class == &quot;Druid&quot; then
elseif class == &quot;Hunter&quot; then
elseif class == &quot;Mage&quot; then
elseif class == &quot;Renegade&quot; then
elseif class == &quot;Runeguard&quot; then

else
end
</script>
                    <command></command>
                    <keyCode>74</keyCode>
                    <keyModifier>67108864</keyModifier>
                </Key>
                <Key isActive="yes" isFolder="no">
                    <name>right leg ctrl-g</name>
                    <packageName></packageName>
                    <script>if class == &quot;Amazon&quot; then
elseif class == &quot;Monk&quot; then
elseif class == &quot;Outrider&quot; then
elseif class == &quot;Predator&quot; then
	local str = predator.legs(target,&quot;right&quot;)

	send(str)
elseif class == &quot;Priest&quot; then
elseif class == &quot;Ranger&quot; then	
	local str = &quot;&quot;
	local arg = ranger.qjab(target)

	str = str..&quot;queue eqbal displace nothing&quot;..sp
	str = str..&quot;target right leg&quot;..sp
	str = str..arg
	send(str)
elseif class == &quot;Templar&quot; then

elseif class == &quot;Assassin&quot; then
elseif class == &quot;Deathknight&quot; then
	local str = &quot;&quot;
	local arg = deathknight.dsl(target) 
	
	str = str..&quot;queue eqbal displace nothing&quot;..sp
	str = str..&quot;target right leg&quot;..sp
	str = str..arg
	send(str)
elseif class == &quot;Defiler&quot; then
	local str = &quot;&quot;
	local arg = defiler.hit(target)
	
	str = str..&quot;queue eqbal displace nothing&quot;..sp
	str = str..&quot;target right leg&quot;..sp
	str = str..arg
	send(str)
elseif class == &quot;Diabolist&quot; then
elseif class == &quot;Summoner&quot; then
elseif class == &quot;Wytch&quot; then

elseif class == &quot;Bard&quot; then
elseif class == &quot;Druid&quot; then
elseif class == &quot;Hunter&quot; then
elseif class == &quot;Mage&quot; then
elseif class == &quot;Renegade&quot; then
elseif class == &quot;Runeguard&quot; then

else
end
</script>
                    <command></command>
                    <keyCode>71</keyCode>
                    <keyModifier>67108864</keyModifier>
                </Key>
                <Key isActive="yes" isFolder="no">
                    <name>left arm feint ctrl-shft-u</name>
                    <packageName></packageName>
                    <script>if class == &quot;Amazon&quot; then
elseif class == &quot;Monk&quot; then
elseif class == &quot;Outrider&quot; then
elseif class == &quot;Predator&quot; then
elseif class == &quot;Priest&quot; then
elseif class == &quot;Ranger&quot; then		ranger.plimb(target,&quot;left arm&quot;)
elseif class == &quot;Templar&quot; then

elseif class == &quot;Assassin&quot; then
elseif class == &quot;Deathknight&quot; then
	local str = &quot;&quot;
	local toxin, toxin2 = deathknight.choose_toxin( target )
	
	if has(target,&quot;rebounding&quot;) or has(target,&quot;shield&quot;) then
		str = str..&quot;queue eqbal target nothing&quot;..sp
		str = str..&quot;displace nothing&quot;..sp
		str = str..&quot;rsl &quot;..target..&quot; &quot;..toxin..&quot; &quot;..sp
	else
		str = str..&quot;queue eqbal target nothing&quot;..sp
		str = str..&quot;displace left arm&quot;..sp
		str = str..&quot;fsl &quot;..target..&quot; head &quot;..toxin..sp
	end
	str = str..&quot;engage &quot;..target
	send(str)
elseif class == &quot;Defiler&quot; then
	local str = &quot;&quot;
	local arg = defiler.hit(target)
	
	str = str..&quot;queue eqbal displace nothing&quot;..sp
	str = str..&quot;target left arm&quot;..sp
	if has(target,&quot;rebounding&quot;) or has(target,&quot;shield&quot;) then
		str = str..&quot;devastate &quot;..target..&quot; hemotoxin&quot;..sp
	else
		str = str..&quot;ravage &quot;..target..&quot; hemotoxin&quot;..sp
	end
	str = str..&quot;shadowbind &quot;..target..&quot; with augury of applying restoration&quot;..sp
	send(str)
elseif class == &quot;Diabolist&quot; then
elseif class == &quot;Summoner&quot; then
elseif class == &quot;Wytch&quot; then

elseif class == &quot;Bard&quot; then
elseif class == &quot;Druid&quot; then
elseif class == &quot;Hunter&quot; then
elseif class == &quot;Mage&quot; then
elseif class == &quot;Renegade&quot; then
elseif class == &quot;Runeguard&quot; then

else
end
</script>
                    <command></command>
                    <keyCode>85</keyCode>
                    <keyModifier>100663296</keyModifier>
                </Key>
                <Key isActive="yes" isFolder="no">
                    <name>right arm feint ctrl-shft-t</name>
                    <packageName></packageName>
                    <script>if class == &quot;Amazon&quot; then
elseif class == &quot;Monk&quot; then
elseif class == &quot;Outrider&quot; then
elseif class == &quot;Predator&quot; then
elseif class == &quot;Priest&quot; then
elseif class == &quot;Ranger&quot; then			ranger.plimb(target,&quot;right arm&quot;)
elseif class == &quot;Templar&quot; then

elseif class == &quot;Assassin&quot; then
elseif class == &quot;Deathknight&quot; then
	local str = &quot;&quot;
	local toxin, toxin2 = deathknight.choose_toxin( target )
	
	if has(target,&quot;rebounding&quot;) or has(target,&quot;shield&quot;) then
		str = str..&quot;queue eqbal target nothing&quot;..sp
		str = str..&quot;displace nothing&quot;..sp
		str = str..&quot;rsl &quot;..target..&quot; &quot;..toxin..&quot; &quot;..sp
	else
		str = str..&quot;queue eqbal target nothing&quot;..sp
		str = str..&quot;displace right arm&quot;..sp
		str = str..&quot;fsl &quot;..target..&quot; head &quot;..toxin..sp
	end
	str = str..&quot;engage &quot;..target
	send(str)
elseif class == &quot;Defiler&quot; then
	local str = &quot;&quot;
	local arg = defiler.hit(target)
	
	str = str..&quot;queue eqbal displace nothing&quot;..sp
	str = str..&quot;target right arm&quot;..sp
	if has(target,&quot;rebounding&quot;) or has(target,&quot;shield&quot;) then
		str = str..&quot;devastate &quot;..target..&quot; hemotoxin&quot;..sp
	else
		str = str..&quot;ravage &quot;..target..&quot; hemotoxin&quot;..sp
	end
	str = str..&quot;shadowbind &quot;..target..&quot; with augury of applying restoration&quot;..sp
	send(str)
elseif class == &quot;Diabolist&quot; then
elseif class == &quot;Summoner&quot; then
elseif class == &quot;Wytch&quot; then

elseif class == &quot;Bard&quot; then
elseif class == &quot;Druid&quot; then
elseif class == &quot;Hunter&quot; then
elseif class == &quot;Mage&quot; then
elseif class == &quot;Renegade&quot; then
elseif class == &quot;Runeguard&quot; then

else
end
</script>
                    <command></command>
                    <keyCode>84</keyCode>
                    <keyModifier>100663296</keyModifier>
                </Key>
                <Key isActive="yes" isFolder="no">
                    <name>left leg feint ctrl-shft-j</name>
                    <packageName></packageName>
                    <script>if class == &quot;Amazon&quot; then
elseif class == &quot;Monk&quot; then
elseif class == &quot;Outrider&quot; then
elseif class == &quot;Predator&quot; then
elseif class == &quot;Priest&quot; then
elseif class == &quot;Ranger&quot; then		ranger.plimb(target,&quot;left leg&quot;)
elseif class == &quot;Templar&quot; then

elseif class == &quot;Assassin&quot; then
elseif class == &quot;Deathknight&quot; then
	local str = &quot;&quot;
	local toxin, toxin2 = deathknight.choose_toxin( target )
	
	if has(target,&quot;rebounding&quot;) or has(target,&quot;shield&quot;) then
		str = str..&quot;queue eqbal target nothing&quot;..sp
		str = str..&quot;displace nothing&quot;..sp
		str = str..&quot;rsl &quot;..target..&quot; &quot;..toxin..&quot; &quot;..sp
	else
		str = str..&quot;queue eqbal target nothing&quot;..sp
		str = str..&quot;displace left leg&quot;..sp
		str = str..&quot;fsl &quot;..target..&quot; head &quot;..toxin..sp
	end
	str = str..&quot;engage &quot;..target
	send(str)
elseif class == &quot;Defiler&quot; then
	local str = &quot;&quot;
	local arg = defiler.hit(target)
	
	str = str..&quot;queue eqbal displace nothing&quot;..sp
	str = str..&quot;target left leg&quot;..sp
	if has(target,&quot;rebounding&quot;) or has(target,&quot;shield&quot;) then
		str = str..&quot;devastate &quot;..target..&quot; hemotoxin&quot;..sp
	else
		str = str..&quot;ravage &quot;..target..&quot; hemotoxin&quot;..sp
	end
	str = str..&quot;shadowbind &quot;..target..&quot; with augury of applying restoration&quot;..sp
	send(str)
elseif class == &quot;Diabolist&quot; then
elseif class == &quot;Summoner&quot; then
elseif class == &quot;Wytch&quot; then

elseif class == &quot;Bard&quot; then
elseif class == &quot;Druid&quot; then
elseif class == &quot;Hunter&quot; then
elseif class == &quot;Mage&quot; then
elseif class == &quot;Renegade&quot; then
elseif class == &quot;Runeguard&quot; then

else
end
</script>
                    <command></command>
                    <keyCode>74</keyCode>
                    <keyModifier>100663296</keyModifier>
                </Key>
                <Key isActive="yes" isFolder="no">
                    <name>right leg feint ctrl-shft-g</name>
                    <packageName></packageName>
                    <script>if class == &quot;Amazon&quot; then
elseif class == &quot;Monk&quot; then
elseif class == &quot;Outrider&quot; then
elseif class == &quot;Predator&quot; then
elseif class == &quot;Priest&quot; then
elseif class == &quot;Ranger&quot; then		ranger.plimb(target,&quot;right leg&quot;)
elseif class == &quot;Templar&quot; then

elseif class == &quot;Assassin&quot; then
elseif class == &quot;Deathknight&quot; then
	local str = &quot;&quot;
	local toxin, toxin2 = deathknight.choose_toxin( target )
	
	if has(target,&quot;rebounding&quot;) or has(target,&quot;shield&quot;) then
		str = str..&quot;queue eqbal target nothing&quot;..sp
		str = str..&quot;displace nothing&quot;..sp
		str = str..&quot;rsl &quot;..target..&quot; &quot;..toxin..&quot; &quot;..sp
	else
		str = str..&quot;queue eqbal target nothing&quot;..sp
		str = str..&quot;displace right leg&quot;..sp
		str = str..&quot;fsl &quot;..target..&quot; head &quot;..toxin..sp
	end
	str = str..&quot;engage &quot;..target
	send(str)
elseif class == &quot;Defiler&quot; then
	local str = &quot;&quot;
	local arg = defiler.hit(target)
	
	str = str..&quot;queue eqbal displace nothing&quot;..sp
	str = str..&quot;target right leg&quot;..sp
	if has(target,&quot;rebounding&quot;) or has(target,&quot;shield&quot;) then
		str = str..&quot;devastate &quot;..target..&quot; hemotoxin&quot;..sp
	else
		str = str..&quot;ravage &quot;..target..&quot; hemotoxin&quot;..sp
	end
	str = str..&quot;shadowbind &quot;..target..&quot; with augury of applying restoration&quot;..sp
	send(str)
elseif class == &quot;Diabolist&quot; then
elseif class == &quot;Summoner&quot; then
elseif class == &quot;Wytch&quot; then

elseif class == &quot;Bard&quot; then
elseif class == &quot;Druid&quot; then
elseif class == &quot;Hunter&quot; then
elseif class == &quot;Mage&quot; then
elseif class == &quot;Renegade&quot; then
elseif class == &quot;Runeguard&quot; then

else
end
</script>
                    <command></command>
                    <keyCode>71</keyCode>
                    <keyModifier>100663296</keyModifier>
                </Key>
                <Key isActive="yes" isFolder="no">
                    <name>left arm butisol/hemo ctrl-i</name>
                    <packageName></packageName>
                    <script>if class == &quot;Amazon&quot; then
elseif class == &quot;Monk&quot; then
elseif class == &quot;Outrider&quot; then
elseif class == &quot;Predator&quot; then
elseif class == &quot;Priest&quot; then
elseif class == &quot;Ranger&quot; then
	local str = &quot;&quot;
	
	str = str..&quot;queue eqbal displace nothing&quot;..sp
	str = str..&quot;target left arm&quot;..sp
	if has(target,&quot;rebounding&quot;) or has(target,&quot;shield&quot;) then
		str = str..&quot;pierce &quot;..target..sp
	else
		str = str..&quot;qjab &quot;..target..&quot; butisol hemotoxin&quot;..sp
	end
	send(str)
elseif class == &quot;Templar&quot; then

elseif class == &quot;Assassin&quot; then
elseif class == &quot;Deathknight&quot; then
	local str = &quot;&quot;
	
	str = str..&quot;queue eqbal displace nothing&quot;..sp
	str = str..&quot;target left arm&quot;..sp
	if has(target,&quot;rebounding&quot;) or has(target,&quot;shield&quot;) then
		str = str..&quot;rsl &quot;..target..&quot; butisol&quot;..sp
	else
		str = str..&quot;dsl &quot;..target..&quot; butisol benzene&quot;..sp
	end
	str = str..&quot;engage &quot;..target
	send(str)
elseif class == &quot;Defiler&quot; then
	local str = &quot;&quot;
	local arg = defiler.hit(target)
	
	str = str..&quot;queue eqbal displace nothing&quot;..sp
	str = str..&quot;target left arm&quot;..sp
	if has(target,&quot;rebounding&quot;) or has(target,&quot;shield&quot;) then
		str = str..&quot;devastate &quot;..target..&quot; hemotoxin&quot;..sp
	else
		str = str..&quot;ravage &quot;..target..&quot; hemotoxin&quot;..sp
	end	
	str = str..&quot;treant trip &quot;..target..sp
	send(str)
elseif class == &quot;Diabolist&quot; then
elseif class == &quot;Summoner&quot; then
elseif class == &quot;Wytch&quot; then

elseif class == &quot;Bard&quot; then
elseif class == &quot;Druid&quot; then
elseif class == &quot;Hunter&quot; then
elseif class == &quot;Mage&quot; then
elseif class == &quot;Renegade&quot; then
elseif class == &quot;Runeguard&quot; then

else
end
</script>
                    <command></command>
                    <keyCode>73</keyCode>
                    <keyModifier>67108864</keyModifier>
                </Key>
                <Key isActive="yes" isFolder="no">
                    <name>right arm butisol/hemo ctrl-r</name>
                    <packageName></packageName>
                    <script>if class == &quot;Amazon&quot; then
elseif class == &quot;Monk&quot; then
elseif class == &quot;Outrider&quot; then
elseif class == &quot;Predator&quot; then
elseif class == &quot;Priest&quot; then
elseif class == &quot;Ranger&quot; then
	local str = &quot;&quot;
	
	str = str..&quot;queue eqbal displace nothing&quot;..sp
	str = str..&quot;target right arm&quot;..sp
	if has(target,&quot;rebounding&quot;) or has(target,&quot;shield&quot;) then
		str = str..&quot;pierce &quot;..target..sp
	else
		str = str..&quot;qjab &quot;..target..&quot; butisol hemotoxin&quot;..sp
	end
	send(str)
elseif class == &quot;Templar&quot; then

elseif class == &quot;Assassin&quot; then
elseif class == &quot;Deathknight&quot; then
	local str = &quot;&quot;
	
	str = str..&quot;queue eqbal displace nothing&quot;..sp
	str = str..&quot;target right arm&quot;..sp
	if has(target,&quot;rebounding&quot;) or has(target,&quot;shield&quot;) then
		str = str..&quot;rsl &quot;..target..&quot; butisol&quot;..sp
	else
		str = str..&quot;dsl &quot;..target..&quot; butisol benzene&quot;..sp
	end
	str = str..&quot;engage &quot;..target
	send(str)
elseif class == &quot;Defiler&quot; then
	local str = &quot;&quot;
	local arg = defiler.hit(target)
	
	str = str..&quot;queue eqbal displace nothing&quot;..sp
	str = str..&quot;target right arm&quot;..sp
	if has(target,&quot;rebounding&quot;) or has(target,&quot;shield&quot;) then
		str = str..&quot;devastate &quot;..target..&quot; hemotoxin&quot;..sp
	else
		str = str..&quot;ravage &quot;..target..&quot; hemotoxin&quot;..sp
	end	
	str = str..&quot;treant trip &quot;..target..sp
	send(str)
elseif class == &quot;Diabolist&quot; then
elseif class == &quot;Summoner&quot; then
elseif class == &quot;Wytch&quot; then			send(&quot;brand &quot;..target..&quot; with hecate and arctar&quot;)

elseif class == &quot;Bard&quot; then
elseif class == &quot;Druid&quot; then
elseif class == &quot;Hunter&quot; then
elseif class == &quot;Mage&quot; then
elseif class == &quot;Renegade&quot; then
elseif class == &quot;Runeguard&quot; then

else
end
</script>
                    <command></command>
                    <keyCode>82</keyCode>
                    <keyModifier>67108864</keyModifier>
                </Key>
                <Key isActive="yes" isFolder="no">
                    <name>left leg butisol/hemo ctrl-k</name>
                    <packageName></packageName>
                    <script>if class == &quot;Amazon&quot; then
elseif class == &quot;Monk&quot; then
elseif class == &quot;Outrider&quot; then
elseif class == &quot;Predator&quot; then
elseif class == &quot;Priest&quot; then
elseif class == &quot;Ranger&quot; then
	local str = &quot;&quot;
	
	str = str..&quot;queue eqbal displace nothing&quot;..sp
	str = str..&quot;target left leg&quot;..sp
	if has(target,&quot;rebounding&quot;) or has(target,&quot;shield&quot;) then
		str = str..&quot;pierce &quot;..target..sp
	else
		str = str..&quot;qjab &quot;..target..&quot; butisol hemotoxin&quot;..sp
	end
	send(str)
elseif class == &quot;Templar&quot; then

elseif class == &quot;Assassin&quot; then			assassin.annihilate(target)
elseif class == &quot;Deathknight&quot; then
	local str = &quot;&quot;
	
	str = str..&quot;queue eqbal displace nothing&quot;..sp
	str = str..&quot;target left leg&quot;..sp
	if has(target,&quot;rebounding&quot;) or has(target,&quot;shield&quot;) then
		str = str..&quot;rsl &quot;..target..&quot; butisol&quot;..sp
	else
		str = str..&quot;dsl &quot;..target..&quot; butisol benzedrine&quot;..sp
	end
	str = str..&quot;engage &quot;..target
	send(str)
elseif class == &quot;Defiler&quot; then
	local str = &quot;&quot;
	local arg = defiler.hit(target)
	
	str = str..&quot;queue eqbal displace nothing&quot;..sp
	str = str..&quot;target left leg&quot;..sp
	if has(target,&quot;rebounding&quot;) or has(target,&quot;shield&quot;) then
		str = str..&quot;devastate &quot;..target..&quot; hemotoxin&quot;..sp
	else
		str = str..&quot;ravage &quot;..target..&quot; hemotoxin&quot;..sp
	end	
	str = str..&quot;treant trip &quot;..target..sp
	send(str)
elseif class == &quot;Diabolist&quot; then
elseif class == &quot;Summoner&quot; then			summoner.enlighten(target)
elseif class == &quot;Wytch&quot; then

elseif class == &quot;Bard&quot; then
elseif class == &quot;Druid&quot; then
elseif class == &quot;Hunter&quot; then
elseif class == &quot;Mage&quot; then				expandAlias(&quot;mx&quot;)	
elseif class == &quot;Renegade&quot; then
elseif class == &quot;Runeguard&quot; then

else
end
</script>
                    <command></command>
                    <keyCode>75</keyCode>
                    <keyModifier>67108864</keyModifier>
                </Key>
                <Key isActive="yes" isFolder="no">
                    <name>right leg butisol/hemo ctrl-f</name>
                    <packageName></packageName>
                    <script>if class == &quot;Amazon&quot; then
elseif class == &quot;Monk&quot; then
elseif class == &quot;Outrider&quot; then
elseif class == &quot;Predator&quot; then
elseif class == &quot;Priest&quot; then
elseif class == &quot;Ranger&quot; then
	local str = &quot;&quot;
	
	str = str..&quot;queue eqbal displace nothing&quot;..sp
	str = str..&quot;target right leg&quot;..sp
	if has(target,&quot;rebounding&quot;) or has(target,&quot;shield&quot;) then
		str = str..&quot;pierce &quot;..target..sp
	else
		str = str..&quot;qjab &quot;..target..&quot; butisol hemotoxin&quot;..sp
	end
	send(str)
elseif class == &quot;Templar&quot; then

elseif class == &quot;Assassin&quot; then
elseif class == &quot;Deathknight&quot; then
	local str = &quot;&quot;
	
	str = str..&quot;queue eqbal displace nothing&quot;..sp
	str = str..&quot;target right leg&quot;..sp
	if has(target,&quot;rebounding&quot;) or has(target,&quot;shield&quot;) then
		str = str..&quot;rsl &quot;..target..&quot; butisol&quot;..sp
	else
		str = str..&quot;dsl &quot;..target..&quot; butisol benzedrine&quot;..sp
	end
	str = str..&quot;engage &quot;..target
	send(str)
elseif class == &quot;Defiler&quot; then
	local str = &quot;&quot;
	local arg = defiler.hit(target)
	
	str = str..&quot;queue eqbal displace nothing&quot;..sp
	str = str..&quot;target right leg&quot;..sp
	if has(target,&quot;rebounding&quot;) or has(target,&quot;shield&quot;) then
		str = str..&quot;devastate &quot;..target..&quot; hemotoxin&quot;..sp
	else
		str = str..&quot;ravage &quot;..target..&quot; hemotoxin&quot;..sp
	end	
	str = str..&quot;treant trip &quot;..target..sp
	send(str)
elseif class == &quot;Diabolist&quot; then
elseif class == &quot;Summoner&quot; then
elseif class == &quot;Wytch&quot; then			send(&quot;brand &quot;..target..&quot; with hecate and buul&quot;)

elseif class == &quot;Bard&quot; then
elseif class == &quot;Druid&quot; then
elseif class == &quot;Hunter&quot; then
elseif class == &quot;Mage&quot; then
elseif class == &quot;Renegade&quot; then
elseif class == &quot;Runeguard&quot; then

else
end
</script>
                    <command></command>
                    <keyCode>70</keyCode>
                    <keyModifier>67108864</keyModifier>
                </Key>
                <Key isActive="yes" isFolder="no">
                    <name>left arm ctrl-shft-i</name>
                    <packageName></packageName>
                    <script>if class == &quot;Amazon&quot; then
elseif class == &quot;Monk&quot; then
elseif class == &quot;Outrider&quot; then
elseif class == &quot;Predator&quot; then
elseif class == &quot;Priest&quot; then
elseif class == &quot;Ranger&quot; then
	local str = &quot;&quot;
	
	str = str..&quot;queue eqbal displace nothing&quot;..sp
	str = str..&quot;target left arm&quot;..sp
	if has(target,&quot;rebounding&quot;) or has(target,&quot;shield&quot;) then
		str = str..&quot;pierce &quot;..target..sp
	else
		str = str..&quot;qjab &quot;..target..&quot; opium opium&quot;..sp
	end
	send(str)
elseif class == &quot;Templar&quot; then

elseif class == &quot;Assassin&quot; then
elseif class == &quot;Deathknight&quot; then
	local str = &quot;&quot;

	str = str..&quot;queue eqbal displace nothing&quot;..sp
	str = str..&quot;target left arm&quot;..sp
	if has(target,&quot;rebounding&quot;) or has(target,&quot;shield&quot;) then
		str = str..&quot;rsl &quot;..target..&quot; benzedrine&quot;..sp
	else
		str = str..&quot;dsl &quot;..target..&quot; benzedrine benzedrine&quot;..sp
	end
	str = str..&quot;engage &quot;..target
	send(str)
elseif class == &quot;Defiler&quot; then
elseif class == &quot;Diabolist&quot; then
elseif class == &quot;Summoner&quot; then
elseif class == &quot;Wytch&quot; then

elseif class == &quot;Bard&quot; then
elseif class == &quot;Druid&quot; then
elseif class == &quot;Hunter&quot; then
elseif class == &quot;Mage&quot; then
elseif class == &quot;Renegade&quot; then
elseif class == &quot;Runeguard&quot; then

else
end
</script>
                    <command></command>
                    <keyCode>73</keyCode>
                    <keyModifier>100663296</keyModifier>
                </Key>
                <Key isActive="yes" isFolder="no">
                    <name>right arm ctrl-shft-r</name>
                    <packageName></packageName>
                    <script>if class == &quot;Amazon&quot; then
elseif class == &quot;Monk&quot; then
elseif class == &quot;Outrider&quot; then
elseif class == &quot;Predator&quot; then
elseif class == &quot;Priest&quot; then
elseif class == &quot;Ranger&quot; then
	local str = &quot;&quot;
	
	str = str..&quot;queue eqbal displace nothing&quot;..sp
	str = str..&quot;target right arm&quot;..sp
	if has(target,&quot;rebounding&quot;) or has(target,&quot;shield&quot;) then
		str = str..&quot;pierce &quot;..target..sp
	else
		str = str..&quot;qjab &quot;..target..&quot; opium opium&quot;..sp
	end
	send(str)
elseif class == &quot;Templar&quot; then

elseif class == &quot;Assassin&quot; then
elseif class == &quot;Deathknight&quot; then
	local str = &quot;&quot;

	str = str..&quot;queue eqbal displace nothing&quot;..sp
	str = str..&quot;target right arm&quot;..sp
	if has(target,&quot;rebounding&quot;) or has(target,&quot;shield&quot;) then
		str = str..&quot;rsl &quot;..target..&quot; benzedrine&quot;..sp
	else
		str = str..&quot;dsl &quot;..target..&quot; benzedrine benzedrine&quot;..sp
	end
	str = str..&quot;engage &quot;..target
	send(str)
elseif class == &quot;Defiler&quot; then
elseif class == &quot;Diabolist&quot; then
elseif class == &quot;Summoner&quot; then
elseif class == &quot;Wytch&quot; then

elseif class == &quot;Bard&quot; then
elseif class == &quot;Druid&quot; then
elseif class == &quot;Hunter&quot; then
elseif class == &quot;Mage&quot; then
elseif class == &quot;Renegade&quot; then
elseif class == &quot;Runeguard&quot; then

else
end
</script>
                    <command></command>
                    <keyCode>82</keyCode>
                    <keyModifier>100663296</keyModifier>
                </Key>
                <Key isActive="yes" isFolder="no">
                    <name>left leg ctrl-shft-k</name>
                    <packageName></packageName>
                    <script>if class == &quot;Amazon&quot; then
elseif class == &quot;Monk&quot; then
elseif class == &quot;Outrider&quot; then
elseif class == &quot;Predator&quot; then
elseif class == &quot;Priest&quot; then
elseif class == &quot;Ranger&quot; then
	local str = &quot;&quot;
	
	str = str..&quot;queue eqbal displace nothing&quot;..sp
	str = str..&quot;target left leg&quot;..sp
	if has(target,&quot;rebounding&quot;) or has(target,&quot;shield&quot;) then
		str = str..&quot;pierce &quot;..target..sp
	else
		str = str..&quot;qjab &quot;..target..&quot; opium opium&quot;..sp
	end
	send(str)
elseif class == &quot;Templar&quot; then

elseif class == &quot;Assassin&quot; then
elseif class == &quot;Deathknight&quot; then
	local str = &quot;&quot;

	str = str..&quot;queue eqbal displace nothing&quot;..sp
	str = str..&quot;target left leg&quot;..sp
	if has(target,&quot;rebounding&quot;) or has(target,&quot;shield&quot;) then
		str = str..&quot;rsl &quot;..target..&quot; benzene&quot;..sp
	else
		str = str..&quot;dsl &quot;..target..&quot; benzene benzene&quot;..sp
	end
	str = str..&quot;engage &quot;..target
	send(str)
elseif class == &quot;Defiler&quot; then
elseif class == &quot;Diabolist&quot; then
elseif class == &quot;Summoner&quot; then
elseif class == &quot;Wytch&quot; then

elseif class == &quot;Bard&quot; then
elseif class == &quot;Druid&quot; then
elseif class == &quot;Hunter&quot; then
elseif class == &quot;Mage&quot; then
elseif class == &quot;Renegade&quot; then
elseif class == &quot;Runeguard&quot; then

else
end
</script>
                    <command></command>
                    <keyCode>75</keyCode>
                    <keyModifier>100663296</keyModifier>
                </Key>
                <Key isActive="yes" isFolder="no">
                    <name>right leg ctrl-shft-f</name>
                    <packageName></packageName>
                    <script>if class == &quot;Amazon&quot; then
elseif class == &quot;Monk&quot; then
elseif class == &quot;Outrider&quot; then
elseif class == &quot;Predator&quot; then
elseif class == &quot;Priest&quot; then
elseif class == &quot;Ranger&quot; then
	local str = &quot;&quot;
	
	str = str..&quot;queue eqbal displace nothing&quot;..sp
	str = str..&quot;target right leg&quot;..sp
	if has(target,&quot;rebounding&quot;) or has(target,&quot;shield&quot;) then
		str = str..&quot;pierce &quot;..target..sp
	else
		str = str..&quot;qjab &quot;..target..&quot; opium opium&quot;..sp
	end
	send(str)
elseif class == &quot;Templar&quot; then

elseif class == &quot;Assassin&quot; then
elseif class == &quot;Deathknight&quot; then
	local str = &quot;&quot;

	str = str..&quot;queue eqbal displace nothing&quot;..sp
	str = str..&quot;target right leg&quot;..sp
	if has(target,&quot;rebounding&quot;) or has(target,&quot;shield&quot;) then
		str = str..&quot;rsl &quot;..target..&quot; benzene&quot;..sp
	else
		str = str..&quot;dsl &quot;..target..&quot; benzene benzene&quot;..sp
	end
	str = str..&quot;engage &quot;..target
	send(str)
elseif class == &quot;Defiler&quot; then
elseif class == &quot;Diabolist&quot; then
elseif class == &quot;Summoner&quot; then
elseif class == &quot;Wytch&quot; then

elseif class == &quot;Bard&quot; then
elseif class == &quot;Druid&quot; then
elseif class == &quot;Hunter&quot; then
elseif class == &quot;Mage&quot; then
elseif class == &quot;Renegade&quot; then
elseif class == &quot;Runeguard&quot; then

else
end
</script>
                    <command></command>
                    <keyCode>70</keyCode>
                    <keyModifier>100663296</keyModifier>
                </Key>
            </KeyGroup>
            <Key isActive="yes" isFolder="no">
                <name>ctrl 1</name>
                <packageName></packageName>
                <script>if class == &quot;Amazon&quot; then			
elseif class == &quot;Monk&quot; then			
elseif class == &quot;Outrider&quot; then		
elseif class == &quot;Predator&quot; then		predator.ccut(target)
elseif class == &quot;Priest&quot; then			
elseif class == &quot;Ranger&quot; then			
									local str = ranger.qjab(target)
									send(str)
elseif class == &quot;Templar&quot; then		

elseif class == &quot;Assassin&quot; then		assassin.final(target)
elseif class == &quot;Deathknight&quot; then	
									local str = deathknight.damage(target) 
									send(str)
elseif class == &quot;Defiler&quot; then		defiler.damage(target)
elseif class == &quot;Diabolist&quot; then		diabolist.damage(target)
elseif class == &quot;Summoner&quot; then		summoner.damage(target)
elseif class == &quot;Wytch&quot; then			wytch.damage(target)

elseif class == &quot;Bard&quot; then			bard.damage(target)
elseif class == &quot;Druid&quot; then			
elseif class == &quot;Hunter&quot; then			
elseif class == &quot;Mage&quot; then			mage.fireball(target)
elseif class == &quot;Renegade&quot; then		
elseif class == &quot;Runeguard&quot; then		
end	</script>
                <command></command>
                <keyCode>49</keyCode>
                <keyModifier>67108864</keyModifier>
            </Key>
            <Key isActive="yes" isFolder="no">
                <name>ctrl 2</name>
                <packageName></packageName>
                <script>if class == &quot;Amazon&quot; then			
elseif class == &quot;Monk&quot; then			
elseif class == &quot;Outrider&quot; then		
elseif class == &quot;Predator&quot; then	send(&quot;dismount | combo spinslash trip spinslash &quot;..target..&quot; cirisosis | &quot;)	
elseif class == &quot;Priest&quot; then			
elseif class == &quot;Ranger&quot; then			
elseif class == &quot;Templar&quot; then		

elseif class == &quot;Assassin&quot; then		assassin.whisper(target)
elseif class == &quot;Deathknight&quot; then
									local str = deathknight.broadsword(target) 
									send(str)
elseif class == &quot;Defiler&quot; then		defiler.control(target)
elseif class == &quot;Diabolist&quot; then		diabolist.damage_(target)
elseif class == &quot;Summoner&quot; then		summoner.duplicate(target)
elseif class == &quot;Wytch&quot; then			wytch.lock(target)

elseif class == &quot;Bard&quot; then			
elseif class == &quot;Druid&quot; then			
elseif class == &quot;Hunter&quot; then			
elseif class == &quot;Mage&quot; then			mage.bury(target)	
elseif class == &quot;Renegade&quot; then		
elseif class == &quot;Runeguard&quot; then		
end	</script>
                <command></command>
                <keyCode>50</keyCode>
                <keyModifier>67108864</keyModifier>
            </Key>
            <Key isActive="yes" isFolder="no">
                <name>ctrl 3</name>
                <packageName></packageName>
                <script>if class == &quot;Amazon&quot; then			
elseif class == &quot;Monk&quot; then			
elseif class == &quot;Outrider&quot; then		
elseif class == &quot;Predator&quot; then		predator.fkick(target)
elseif class == &quot;Priest&quot; then			
elseif class == &quot;Ranger&quot; then			expandAlias(&quot;lup&quot;)
elseif class == &quot;Templar&quot; then		

elseif class == &quot;Assassin&quot; then		assassin.damage(target)
elseif class == &quot;Deathknight&quot; then	
elseif class == &quot;Defiler&quot; then		defiler.stall(target)
elseif class == &quot;Diabolist&quot; then		diabolist.kelp(target)
elseif class == &quot;Summoner&quot; then		summoner.duplicate(target) -- summoner.perfidy(target)
elseif class == &quot;Wytch&quot; then			send(&quot;curse &quot;..target..&quot; steal mana&quot;)

elseif class == &quot;Bard&quot; then			
elseif class == &quot;Druid&quot; then			
elseif class == &quot;Hunter&quot; then			
elseif class == &quot;Mage&quot; then			
elseif class == &quot;Renegade&quot; then		
elseif class == &quot;Runeguard&quot; then		
end	</script>
                <command></command>
                <keyCode>51</keyCode>
                <keyModifier>67108864</keyModifier>
            </Key>
            <Key isActive="yes" isFolder="no">
                <name>ctrl 4</name>
                <packageName></packageName>
                <script>if class == &quot;Amazon&quot; then			
elseif class == &quot;Monk&quot; then			
elseif class == &quot;Outrider&quot; then		
elseif class == &quot;Predator&quot; then		predator.slit(target)
elseif class == &quot;Priest&quot; then			
elseif class == &quot;Ranger&quot; then			
	local str = &quot;&quot;
	str = str..&quot;unwield right&quot;..sp
	str = str..&quot;unwield left&quot;..sp
	str = str..&quot;wield bow&quot;..sp
	str = str..&quot;lshot &quot;..target..sp

	send(str)
elseif class == &quot;Templar&quot; then		

elseif class == &quot;Assassin&quot; then		
elseif class == &quot;Deathknight&quot; then	
elseif class == &quot;Defiler&quot; then		defiler.breaker(target)
elseif class == &quot;Diabolist&quot; then		diabolist.orphine(target)
elseif class == &quot;Summoner&quot; then		summoner.dps(target)
elseif class == &quot;Wytch&quot; then			

elseif class == &quot;Bard&quot; then			
elseif class == &quot;Druid&quot; then			
elseif class == &quot;Hunter&quot; then			
elseif class == &quot;Mage&quot; then			
elseif class == &quot;Renegade&quot; then		
elseif class == &quot;Runeguard&quot; then		
end	</script>
                <command></command>
                <keyCode>52</keyCode>
                <keyModifier>67108864</keyModifier>
            </Key>
            <Key isActive="yes" isFolder="no">
                <name>ctrl 5</name>
                <packageName></packageName>
                <script>if class == &quot;Amazon&quot; then			
elseif class == &quot;Monk&quot; then			
elseif class == &quot;Outrider&quot; then		
elseif class == &quot;Predator&quot; then		
elseif class == &quot;Priest&quot; then			
elseif class == &quot;Ranger&quot; then		send(&quot;plimb &quot;..target..&quot;  right leg&quot;) 
elseif class == &quot;Templar&quot; then		

elseif class == &quot;Assassin&quot; then		
elseif class == &quot;Deathknight&quot; then	
elseif class == &quot;Defiler&quot; then		
elseif class == &quot;Diabolist&quot; then		diabolist.wormwood(target)
elseif class == &quot;Summoner&quot; then		
elseif class == &quot;Wytch&quot; then			

elseif class == &quot;Bard&quot; then			
elseif class == &quot;Druid&quot; then			
elseif class == &quot;Hunter&quot; then			
elseif class == &quot;Mage&quot; then			
elseif class == &quot;Renegade&quot; then		
elseif class == &quot;Runeguard&quot; then		
end	</script>
                <command></command>
                <keyCode>53</keyCode>
                <keyModifier>67108864</keyModifier>
            </Key>
            <Key isActive="yes" isFolder="no">
                <name>ctrl S</name>
                <packageName></packageName>
                <script>if class == &quot;Amazon&quot; then			
elseif class == &quot;Monk&quot; then			
elseif class == &quot;Outrider&quot; then		
elseif class == &quot;Predator&quot; then		predator.tshot(target)
elseif class == &quot;Priest&quot; then			
elseif class == &quot;Ranger&quot; then									
									local str = ranger.qjab(target)
									send(str)
			-- send(&quot;qjab &quot;..target..&quot; benzene benzene&quot;)
elseif class == &quot;Templar&quot; then		

elseif class == &quot;Assassin&quot; then		assassin.dstab(target)
elseif class == &quot;Deathknight&quot; then	
									local str = deathknight.dsl(target) 
									send(str)
elseif class == &quot;Defiler&quot; then		defiler.push(target)
elseif class == &quot;Diabolist&quot; then		diabolist.deadeyes(target)
elseif class == &quot;Summoner&quot; then		summoner.afflict(target)
elseif class == &quot;Wytch&quot; then			wytch.curse(target)

elseif class == &quot;Bard&quot; then			bard.overload(target)
elseif class == &quot;Druid&quot; then			
elseif class == &quot;Hunter&quot; then			
elseif class == &quot;Mage&quot; then			mage.fry(target)	
elseif class == &quot;Renegade&quot; then		
elseif class == &quot;Runeguard&quot; then		
end	</script>
                <command></command>
                <keyCode>83</keyCode>
                <keyModifier>67108864</keyModifier>
            </Key>
            <Key isActive="yes" isFolder="no">
                <name>ctrl E</name>
                <packageName></packageName>
                <script>if class == &quot;Amazon&quot; then			
elseif class == &quot;Monk&quot; then			
elseif class == &quot;Outrider&quot; then		
elseif class == &quot;Predator&quot; then
	local str = &quot;&quot;
	str = str..&quot;queue eqbal wipe sitara&quot;..sp
	str = str..&quot;envenom sitara with luminal&quot;..sp
	str = str..&quot;combo trip spinslash trip pindown crescentcut spinslash spinslash &quot;..target..sp
	send(str)

elseif class == &quot;Priest&quot; then	
elseif class == &quot;Ranger&quot; then			expandAlias(&quot;sht&quot;)	
elseif class == &quot;Templar&quot; then		

elseif class == &quot;Assassin&quot; then		assassin.asthma(target)
elseif class == &quot;Deathknight&quot; then	deathknight.vivisect(target)
elseif class == &quot;Defiler&quot; then		defiler.damager(target) -- defiler.germinate(target)
elseif class == &quot;Diabolist&quot; then		
elseif class == &quot;Summoner&quot; then		summoner.control(target)
elseif class == &quot;Wytch&quot; then			send(&quot;brand &quot;..target..&quot; with cadmus and arctar&quot;)

elseif class == &quot;Bard&quot; then			
elseif class == &quot;Druid&quot; then			
elseif class == &quot;Hunter&quot; then			
elseif class == &quot;Mage&quot; then			mage.ice(target)	
elseif class == &quot;Renegade&quot; then		
elseif class == &quot;Runeguard&quot; then		
end	</script>
                <command></command>
                <keyCode>69</keyCode>
                <keyModifier>67108864</keyModifier>
            </Key>
            <Key isActive="yes" isFolder="no">
                <name>ctrl L</name>
                <packageName></packageName>
                <script>if class == &quot;Amazon&quot; then			
elseif class == &quot;Monk&quot; then			
elseif class == &quot;Outrider&quot; then		
elseif class == &quot;Predator&quot; then		
elseif class == &quot;Priest&quot; then			
elseif class == &quot;Ranger&quot; then			
	local str = &quot;&quot;
	str = str..&quot;inspect quiver&quot;..sp
	send(str)
elseif class == &quot;Templar&quot; then		

elseif class == &quot;Assassin&quot; then		assassin.impatience(target)	
elseif class == &quot;Deathknight&quot; then	
	local str = &quot;&quot;
	send(&quot;queue reset all&quot;)
	str = str..&quot;quickdraw sword shield&quot;..sp
	str = str..&quot;bulwark&quot;..sp

	send(str)
elseif class == &quot;Defiler&quot; then		defiler.shatter(target)
elseif class == &quot;Diabolist&quot; then		send(&quot;stare &quot;..target..&quot; infirmity&quot;)
elseif class == &quot;Summoner&quot; then		
elseif class == &quot;Wytch&quot; then			wytch.hecate(target)

elseif class == &quot;Bard&quot; then			
elseif class == &quot;Druid&quot; then			
elseif class == &quot;Hunter&quot; then			
elseif class == &quot;Mage&quot; then			
elseif class == &quot;Renegade&quot; then		
elseif class == &quot;Runeguard&quot; then		
end	</script>
                <command></command>
                <keyCode>76</keyCode>
                <keyModifier>67108864</keyModifier>
            </Key>
            <Key isActive="yes" isFolder="no">
                <name>ctrl /</name>
                <packageName></packageName>
                <script>dbp.clear_(target)</script>
                <command></command>
                <keyCode>47</keyCode>
                <keyModifier>67108864</keyModifier>
            </Key>
            <Key isActive="yes" isFolder="no">
                <name>ctrl .</name>
                <packageName></packageName>
                <script>dbp.clear(target)</script>
                <command></command>
                <keyCode>46</keyCode>
                <keyModifier>67108864</keyModifier>
            </Key>
            <Key isActive="yes" isFolder="no">
                <name>ctrl 0</name>
                <packageName></packageName>
                <script>if class == &quot;Summoner&quot; then
	local str = &quot;&quot;
	str = str..&quot;summon piridon&quot;..sp
	str = str..&quot;config mapview on&quot;..sp
	str = str..&quot;order doppleganger seek &quot;..target..sp
	str = str..&quot;order doppleganger look&quot;..sp
	str = str..&quot;config mapview off&quot;..sp
	str = str..&quot;queue eqbal order doppleganger return&quot;
	send(str)
elseif class == &quot;Ranger&quot; then
	local str = &quot;&quot;
	str = str..&quot;unwield left&quot;..sp
	str = str..&quot;unwield right&quot;..sp
	str = str..&quot;wield &quot;.._l..sp
	str = str..&quot;wield &quot;.._r..sp
	str = str..&quot;strangle &quot;..target..sp
	send(str)
elseif class == &quot;Wytch&quot; then			wytch.lock_blight(target)
end</script>
                <command></command>
                <keyCode>48</keyCode>
                <keyModifier>67108864</keyModifier>
            </Key>
            <Key isActive="yes" isFolder="no">
                <name>ctrl 9</name>
                <packageName></packageName>
                <script>if class == &quot;Summoner&quot; then
	local str = &quot;&quot;
	str = str..&quot;summon piridon&quot;..sp
	str = str..&quot;config mapview on&quot;..sp
	str = str..&quot;order doppleganger seek &quot;..target..sp
	str = str..&quot;order doppleganger channel fling lust at &quot;..target..sp
	str = str..&quot;config mapview off&quot;..sp
	str = str..&quot;queue eqbal fling empress at &quot;..target..sp
	send(str)
elseif class == &quot;Wytch&quot; then			wytch.swiftly(target)
end</script>
                <command></command>
                <keyCode>57</keyCode>
                <keyModifier>67108864</keyModifier>
            </Key>
            <Key isActive="yes" isFolder="no">
                <name>ctrl p</name>
                <packageName></packageName>
                <script>if class == &quot;Summoner&quot; then
	local str = &quot;&quot;
	str = str..&quot;summon piridon&quot;..sp
	str = str..&quot;config mapview on&quot;..sp
	str = str..&quot;order doppleganger seek &quot;..target..sp
	str = str..&quot;order doppleganger channel invoke warpaura &quot;..target..sp
	str = str..&quot;config mapview off&quot;..sp
	str = str..&quot;queue eqbal order doppleganger return&quot;
	send(str)
elseif class == &quot;Ranger&quot; then
	local str = &quot;&quot;
	str = str..&quot;unwield left&quot;..sp
	str = str..&quot;unwield right&quot;..sp
	str = str..&quot;wield bow&quot;..sp
	str = str..&quot;switch incendiary&quot;..sp
	str = str..&quot;sshot &quot;..target..sp
	send(str)
elseif class == &quot;Assassin&quot; then		assassin.devour(target)
elseif class == &quot;Diabolist&quot; then		diabolist.infirmity(target)
elseif class == &quot;Wytch&quot; then			wytch.blight(target)
end</script>
                <command></command>
                <keyCode>80</keyCode>
                <keyModifier>67108864</keyModifier>
            </Key>
            <Key isActive="yes" isFolder="no">
                <name>ctrl \</name>
                <packageName></packageName>
                <script>if class == &quot;Summoner&quot; then
	local str = &quot;&quot;
	str = str..&quot;summon piridon&quot;..sp
	str = str..&quot;order doppleganger seek &quot;..target..sp
	
	str = str..&quot;order doppleganger channel invoke cleanseaura &quot;..target..sp -- cleanseaura
	
	str = str..&quot;queue eqbal order doppleganger return&quot;
	send(str)
elseif class == &quot;Ranger&quot; then
	local str = &quot;&quot;
	str = str..&quot;unwield left&quot;..sp
	str = str..&quot;unwield right&quot;..sp
	str = str..&quot;wield &quot;.._l..sp
	str = str..&quot;wield &quot;.._r..sp
	str = str..&quot;bmp &quot;..target..sp
	send(str)
elseif class == &quot;Wytch&quot; then
	expandAlias(&quot;ac off&quot;)
	local str = &quot;&quot;
	str = str..&quot;brand &quot;..target..&quot; with marduk&quot;..sp
	str = str..&quot;activate mark on &quot;..target..sp
	send(str)
end</script>
                <command></command>
                <keyCode>92</keyCode>
                <keyModifier>67108864</keyModifier>
            </Key>
        </KeyGroup>
    </KeyPackage>
</MudletPackage>
